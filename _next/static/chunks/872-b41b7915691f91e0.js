(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{92981:function(a,b,c){"use strict";c.r(b),c.d(b,{CordovaIFrameNavigator:function(){return d.CordovaIFrameNavigator},CordovaPopupNavigator:function(){return d.CordovaPopupNavigator},InMemoryWebStorage:function(){return d.InMemoryWebStorage},Log:function(){return d.Log},OidcClient:function(){return d.OidcClient},SessionMonitor:function(){return d.SessionMonitor},User:function(){return d.User},UserManager:function(){return d.UserManager},Version:function(){return d.Version},WebStorageStateStore:function(){return d.WebStorageStateStore},clearOidcPersistentStorage:function(){return o},getBearerToken:function(){return j},getDpopToken:function(){return k},refresh:function(){return m},registerClient:function(){return f},removeOidcQueryParam:function(){return n}});var d=c(41478),e=c(80835);async function f(a,b){var c;if(!b.registrationEndpoint)throw Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(b.idTokenSigningAlgValuesSupported))throw Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");let d=(0,e.determineSigningAlg)(b.idTokenSigningAlgValuesSupported,e.PREFERRED_SIGNING_ALG),f={client_name:a.clientName,application_type:"web",redirect_uris:[null===(c=a.redirectUrl)|| void 0===c?void 0:c.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:d,grant_types:["authorization_code","refresh_token"]},g=await fetch(b.registrationEndpoint.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(g.ok){let h=await g.json();return!function(a,b){if(void 0===a.client_id)throw Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(a)}`);if(b.redirectUrl&&(void 0===a.redirect_uris||a.redirect_uris[0]!==b.redirectUrl.toString()))throw Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(a.redirect_uris)} don't match the provided ${JSON.stringify([b.redirectUrl.toString(),])}`)}(h,a),{clientId:h.client_id,clientSecret:h.client_secret,idTokenSignedResponseAlg:h.id_token_signed_response_alg,clientType:"dynamic"}}throw 400===g.status&&function(a,b){var c,d,e,f;if("invalid_redirect_uri"===a.error)throw Error(`Dynamic client registration failed: the provided redirect uri [${null===(c=b.redirectUrl)|| void 0===c?void 0:c.toString()}] is invalid - ${null!==(d=a.error_description)&& void 0!==d?d:""}`);if("invalid_client_metadata"===a.error)throw Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(b)} is invalid - ${null!==(e=a.error_description)&& void 0!==e?e:""}`);throw Error(`Dynamic client registration failed: ${a.error} - ${null!==(f=a.error_description)&& void 0!==f?f:""}`)}(await g.json(),a),Error(`Dynamic client registration failed: the server returned ${g.status} ${g.statusText} - ${await g.text()}`)}function g(a){return void 0!==a.error_description&&"string"==typeof a.error_description}function h(a,b){var c,d,f,h,i,j;if(void 0!==(c=a).error&&"string"==typeof c.error)throw new e.OidcProviderError(`Token endpoint returned error [${a.error}]${g(a)?`: ${a.error_description}`:""}${void 0!==(d=a).error_uri&&"string"==typeof d.error_uri?` (see ${a.error_uri})`:""}`,a.error,g(a)?a.error_description:void 0);if(void 0===(f=a).access_token||"string"!=typeof f.access_token)throw new e.InvalidResponseError(["access_token"]);if(void 0===(h=a).id_token||"string"!=typeof h.id_token)throw new e.InvalidResponseError(["id_token"]);if(void 0===(i=a).token_type||"string"!=typeof i.token_type)throw new e.InvalidResponseError(["token_type"]);if(void 0!==(j=a).expires_in&&"number"!=typeof j.expires_in)throw new e.InvalidResponseError(["expires_in"]);if(!b&&"bearer"!==a.token_type.toLowerCase())throw Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${a.token_type}].`);return a}async function i(a,b,c,d){var f;!function(a,b){if(b.grantType&&(!a.grantTypesSupported||!a.grantTypesSupported.includes(b.grantType)))throw Error(`The issuer [${a.issuer}] does not support the [${b.grantType}] grant`);if(!a.tokenEndpoint)throw Error(`This issuer [${a.issuer}] does not have a token endpoint`)}(a,c);let g={"content-type":"application/x-www-form-urlencoded"},i;d&&(i=await (0,e.generateDpopKeyPair)(),g.DPoP=await (0,e.createDpopHeader)(a.tokenEndpoint,"POST",i)),b.clientSecret&&(g.Authorization=`Basic ${btoa(`${b.clientId}:${b.clientSecret}`)}`);let j={grant_type:c.grantType,redirect_uri:c.redirectUrl,code:c.code,code_verifier:c.codeVerifier,client_id:b.clientId},k={method:"POST",headers:g,body:new URLSearchParams(j).toString()},l=await await fetch(a.tokenEndpoint,k),m=await l.json(),n=h(m,d),o=await (0,e.getWebidFromTokenPayload)(n.id_token,a.jwksUri,a.issuer,b.clientId);return{accessToken:n.access_token,idToken:n.id_token,refreshToken:void 0!==(f=n).refresh_token&&"string"==typeof f.refresh_token?n.refresh_token:void 0,webId:o,dpopKey:i,expiresIn:n.expires_in}}async function j(a){let b;try{let c=new d.OidcClient({response_mode:"query",loadUserInfo:!1});if(b=await c.processSigninResponse(a),void 0===c.settings.metadata)throw Error("Cannot retrieve issuer metadata from client information in storage.");if(void 0===c.settings.metadata.jwks_uri)throw Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");if(void 0===c.settings.metadata.issuer)throw Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");if(void 0===c.settings.client_id)throw Error("Missing some client information in storage: 'client_id' is undefined");let f=await (0,e.getWebidFromTokenPayload)(b.id_token,c.settings.metadata.jwks_uri,c.settings.metadata.issuer,c.settings.client_id);return{accessToken:b.access_token,idToken:b.id_token,webId:f,refreshToken:b.refresh_token}}catch(g){throw Error(`Problem handling Auth Code Grant (Flow) redirect - URL [${a}]: ${g}`)}}async function k(a,b,c){return i(a,b,c,!0)}let l=a=>{try{return new URL(a),!0}catch(b){return!1}};async function m(a,b,c,d){if(void 0===c.clientId)throw Error("No client ID available when trying to refresh the access token.");let f={grant_type:"refresh_token",refresh_token:a,scope:e.DEFAULT_SCOPES},g={};void 0!==d&&(g={DPoP:await (0,e.createDpopHeader)(b.tokenEndpoint,"POST",d)});let i={};void 0!==c.clientSecret?i={Authorization:`Basic ${btoa(`${c.clientId}:${c.clientSecret}`)}`}:l(c.clientId)&&(f.client_id=c.clientId);let j=await fetch(b.tokenEndpoint,{method:"POST",body:new URLSearchParams(f).toString(),headers:{...g,...i,"Content-Type":"application/x-www-form-urlencoded"}}),k;try{k=await j.json()}catch(m){throw Error(`The token endpoint of issuer ${b.issuer} returned a malformed response.`)}let n=h(k,void 0!==d),o=await (0,e.getWebidFromTokenPayload)(n.id_token,b.jwksUri,b.issuer,c.clientId);return{accessToken:n.access_token,idToken:n.id_token,refreshToken:"string"==typeof n.refresh_token?n.refresh_token:void 0,webId:o,dpopKey:d,expiresIn:n.expires_in}}function n(a){let b=new URL(a);return b.searchParams.delete("code"),b.searchParams.delete("state"),b.hash="",b.toString()}async function o(){let a=new d.OidcClient({response_mode:"query"});await a.clearStaleState(new d.WebStorageStateStore({}));let b=window.localStorage,c=[];for(let e=0;e<=b.length;e+=1){let f=b.key(e);f&&(f.match(/^oidc\..+$/)||f.match(/^solidClientAuthenticationUser:.+$/))&&c.push(f)}c.forEach(a=>b.removeItem(a))}},70143:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(80835),e=c(92981),f=(a,b)=>window.fetch(a,b);b.default=class{constructor(a,b,c,g,h){this.loginHandler=a,this.redirectHandler=b,this.logoutHandler=c,this.sessionInfoManager=g,this.issuerConfigFetcher=h,this.login=async(a,b)=>{var c,d;await this.sessionInfoManager.clear(a.sessionId);let f=(0,e.removeOidcQueryParam)(null!==(c=a.redirectUrl)&& void 0!==c?c:window.location.href);await this.loginHandler.handle({...a,redirectUrl:f,clientName:null!==(d=a.clientName)&& void 0!==d?d:a.clientId,eventEmitter:b})},this.fetch=f,this.logout=async a=>{await this.logoutHandler.handle(a),this.fetch=f},this.getSessionInfo=async a=>this.sessionInfoManager.get(a),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.validateCurrentSession=async a=>{let b=await this.sessionInfoManager.get(a);return void 0===b|| void 0===b.clientAppId|| void 0===b.issuer?null:b},this.handleIncomingRedirect=async(a,b)=>{try{let c=await this.redirectHandler.handle(a,b);return this.fetch=c.fetch.bind(window),this.cleanUrlAfterRedirect(a),{isLoggedIn:c.isLoggedIn,webId:c.webId,sessionId:c.sessionId,expirationDate:c.expirationDate}}catch(e){this.cleanUrlAfterRedirect(a),b.emit(d.EVENTS.ERROR,"redirect",e);return}}}cleanUrlAfterRedirect(a){let b=new URL(a);b.searchParams.delete("state"),b.searchParams.delete("code"),b.searchParams.delete("id_token"),b.searchParams.delete("access_token"),b.searchParams.delete("error"),b.searchParams.delete("error_description"),window.history.replaceState(null,"",b.toString())}}},83598:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Session=b.silentlyAuthenticate=void 0;let d=c(17187),e=c(80835),f=c(97466),g=c(93537),h=c(33783);async function i(a,b,c){var d;let e=await b.validateCurrentSession(a);return null!==e&&(window.localStorage.setItem(h.KEY_CURRENT_URL,window.location.href),await b.login({sessionId:a,prompt:"none",oidcIssuer:e.issuer,redirectUrl:e.redirectUrl,clientId:e.clientAppId,clientSecret:e.clientAppSecret,tokenType:null!==(d=e.tokenType)&& void 0!==d?d:"DPoP"},c),!0)}b.silentlyAuthenticate=i;class j extends d.EventEmitter{constructor(a={},b){super(),this.tokenRequestInProgress=!1,this.login=async a=>{var b;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...a,tokenType:null!==(b=a.tokenType)&& void 0!==b?b:"DPoP"},this),new Promise(()=>void 0)},this.fetch=async(a,b)=>this.clientAuthentication.fetch(a,b),this.internalLogout=async a=>{window.localStorage.removeItem(h.KEY_CURRENT_SESSION),await this.clientAuthentication.logout(this.info.sessionId),this.info.isLoggedIn=!1,a&&this.emit(e.EVENTS.LOGOUT)},this.logout=async()=>this.internalLogout(!0),this.handleIncomingRedirect=async(a={})=>{var b,c;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;let d="string"==typeof a?{url:a}:a,f=null!==(b=d.url)&& void 0!==b?b:window.location.href;this.tokenRequestInProgress=!0;let g=await this.clientAuthentication.handleIncomingRedirect(f,this);if(null==(c=g)?void 0:c.isLoggedIn){this.setSessionInfo(g);let j=window.localStorage.getItem(h.KEY_CURRENT_URL);null===j?this.emit(e.EVENTS.LOGIN):(window.localStorage.removeItem(h.KEY_CURRENT_URL),this.emit(e.EVENTS.SESSION_RESTORED,j))}else if(!0===d.restorePreviousSession){let k=window.localStorage.getItem(h.KEY_CURRENT_SESSION);if(null!==k){let l=await i(k,this.clientAuthentication,this);if(l)return new Promise(()=>{})}}return this.tokenRequestInProgress=!1,g},a.clientAuthentication?this.clientAuthentication=a.clientAuthentication:a.secureStorage&&a.insecureStorage?this.clientAuthentication=(0,g.getClientAuthenticationWithDependencies)({secureStorage:a.secureStorage,insecureStorage:a.insecureStorage}):this.clientAuthentication=(0,g.getClientAuthenticationWithDependencies)({}),a.sessionInfo?this.info={sessionId:a.sessionInfo.sessionId,isLoggedIn:!1,webId:a.sessionInfo.webId}:this.info={sessionId:null!=b?b:(0,f.v4)(),isLoggedIn:!1},this.on(e.EVENTS.LOGIN,()=>window.localStorage.setItem(h.KEY_CURRENT_SESSION,this.info.sessionId)),this.on(e.EVENTS.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.on(e.EVENTS.ERROR,()=>this.internalLogout(!1))}onLogin(a){this.on(e.EVENTS.LOGIN,a)}onLogout(a){this.on(e.EVENTS.LOGOUT,a)}onError(a){this.on(e.EVENTS.ERROR,a)}onSessionRestore(a){this.on(e.EVENTS.SESSION_RESTORED,a)}onSessionExpiration(a){this.on(e.EVENTS.SESSION_EXPIRED,a)}setSessionInfo(a){this.info.isLoggedIn=a.isLoggedIn,this.info.webId=a.webId,this.info.sessionId=a.sessionId,this.info.expirationDate=a.expirationDate,this.on(e.EVENTS.SESSION_EXTENDED,a=>{this.info.expirationDate=Date.now()+1e3*a})}}b.Session=j},33783:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.KEY_CURRENT_URL=b.KEY_CURRENT_SESSION=void 0;let d=c(80835);b.KEY_CURRENT_SESSION=`${d.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentSession`,b.KEY_CURRENT_URL=`${d.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentUrl`},37814:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.onSessionRestore=b.onLogout=b.onLogin=b.handleIncomingRedirect=b.logout=b.login=b.fetch=b.getDefaultSession=void 0;let d=c(83598),e;function f(){return void 0===e&&(e=new d.Session),e}b.getDefaultSession=f;let g=(...a)=>{let b=f();return b.fetch(...a)};b.fetch=g;let h=(...a)=>{let b=f();return b.login(...a)};b.login=h;let i=(...a)=>{let b=f();return b.logout(...a)};b.logout=i;let j=(...a)=>{let b=f();return b.handleIncomingRedirect(...a)};b.handleIncomingRedirect=j;let k=(...a)=>{let b=f();return b.onLogin(...a)};b.onLogin=k;let l=(...a)=>{let b=f();return b.onLogout(...a)};b.onLogout=l;let m=(...a)=>{let b=f();return b.onSessionRestore(...a)};b.onSessionRestore=m},93537:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.getClientAuthenticationWithDependencies=void 0;let e=c(80835),f=d(c(20437)),g=d(c(70143)),h=d(c(62018)),i=d(c(21590)),j=d(c(94377)),k=c(79582),l=d(c(72186)),m=c(63624),n=c(21272),o=d(c(2056)),p=d(c(55394)),q=d(c(62536)),r=d(c(27826)),s=c(97927),t=d(c(13144));b.getClientAuthenticationWithDependencies=function(a){let b=new e.InMemoryStorage,c=a.secureStorage||b,d=a.insecureStorage||new p.default,u=new f.default(c,d),v=new j.default(u),w=new r.default(u),x=new m.SessionInfoManager(u),y=new t.default(u,v,w),z=new h.default(u,new i.default(u,new q.default),v,w),A=new o.default([new s.ErrorOidcHandler,new n.AuthCodeRedirectHandler(u,x,v,w,y),new k.FallbackRedirectHandler,]);return new g.default(z,A,new l.default(x),x,v)}},94305:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.InMemoryStorage=b.ConfigurationError=b.NotImplementedError=b.getClientAuthenticationWithDependencies=b.Session=void 0;var f=c(83598);Object.defineProperty(b,"Session",{enumerable:!0,get:function(){return f.Session}});var g=c(93537);Object.defineProperty(b,"getClientAuthenticationWithDependencies",{enumerable:!0,get:function(){return g.getClientAuthenticationWithDependencies}}),e(c(37814),b);var h=c(80835);Object.defineProperty(b,"NotImplementedError",{enumerable:!0,get:function(){return h.NotImplementedError}}),Object.defineProperty(b,"ConfigurationError",{enumerable:!0,get:function(){return h.ConfigurationError}}),Object.defineProperty(b,"InMemoryStorage",{enumerable:!0,get:function(){return h.InMemoryStorage}})},2056:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(80835);class e extends d.AggregateHandler{constructor(a){super(a)}}b.default=e},27826:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(92981);b.default=class{constructor(a){this.storageUtility=a}async getClient(a,b){let[c,e,]=await Promise.all([this.storageUtility.getForUser(a.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(a.sessionId,"clientSecret",{secure:!1}),]);if(c)return{clientId:c,clientSecret:e,clientType:"dynamic"};try{let f=await (0,d.registerClient)(a,b),g={clientId:f.clientId};return f.clientSecret&&(g.clientSecret=f.clientSecret),f.idTokenSignedResponseAlg&&(g.idTokenSignedResponseAlg=f.idTokenSignedResponseAlg),await this.storageUtility.setForUser(a.sessionId,g,{secure:!1}),f}catch(h){throw Error(`Client registration failed: [${h}]`)}}}},94377:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WELL_KNOWN_OPENID_CONFIG=void 0;let d=c(80835),e=c(37226);b.WELL_KNOWN_OPENID_CONFIG=".well-known/openid-configuration";let f={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};class g{constructor(a){this.storageUtility=a}static getLocalStorageKey(a){return`issuerConfig:${a}`}async fetchConfig(a){let c,h=(0,e.appendToUrlPathname)(a,b.WELL_KNOWN_OPENID_CONFIG),i=await window.fetch(h);try{c=function(a){let b={};return Object.keys(a).forEach(c=>{f[c]&&(b[f[c].toKey]=a[c])}),Array.isArray(b.scopesSupported)||(b.scopesSupported=["openid"]),b}(await i.json())}catch(j){throw new d.ConfigurationError(`[${a.toString()}] has an invalid configuration: ${j.message}`)}return await this.storageUtility.set(g.getLocalStorageKey(a),JSON.stringify(c)),c}}b.default=g},62018:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(80835);function e(a){return"string"==typeof a.oidcIssuer}function f(a){return"string"==typeof a.redirectUrl}b.default=class{constructor(a,b,c,d){this.storageUtility=a,this.oidcHandler=b,this.issuerConfigFetcher=c,this.clientRegistrar=d}async canHandle(a){return e(a)&&f(a)}async handle(a){if(!e(a))throw new d.ConfigurationError(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(a)}`);if(!f(a))throw new d.ConfigurationError(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(a)}`);let b=await this.issuerConfigFetcher.fetchConfig(a.oidcIssuer),c=await (0,d.handleRegistration)(a,b,this.storageUtility,this.clientRegistrar),g={issuer:b.issuer,dpop:"dpop"===a.tokenType.toLowerCase(),...a,issuerConfiguration:b,client:c};return this.oidcHandler.handle(g)}}},62536:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=class{redirect(a,b){b&&b.handleRedirect?b.handleRedirect(a):b&&b.redirectByReplacingState?window.history.replaceState({},"",a):window.location.href=a}}},21272:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AuthCodeRedirectHandler=void 0;let d=c(80835),e=c(92981);b.AuthCodeRedirectHandler=class{constructor(a,b,c,d,e){this.storageUtility=a,this.sessionInfoManager=b,this.issuerConfigFetcher=c,this.clientRegistrar=d,this.tokerRefresher=e}async canHandle(a){try{let b=new URL(a);return null!==b.searchParams.get("code")&&null!==b.searchParams.get("state")}catch(c){throw Error(`[${a}] is not a valid URL, and cannot be used as a redirect URL: ${c}`)}}async handle(a,b){if(!await this.canHandle(a))throw Error(`AuthCodeRedirectHandler cannot handle [${a}]: it is missing one of [code, state].`);let c=new URL(a),f=c.searchParams.get("state"),g=await this.storageUtility.getForUser(f,"sessionId",{errorIfNull:!0}),{issuerConfig:h,codeVerifier:i,redirectUrl:j,dpop:k}=await (0,d.loadOidcContextFromStorage)(g,this.storageUtility,this.issuerConfigFetcher);if(void 0===i)throw Error(`The code verifier for session ${g} is missing from storage.`);if(void 0===j)throw Error(`The redirect URL for session ${g} is missing from storage.`);let l=await this.clientRegistrar.getClient({sessionId:g},h),m,n=Date.now();k?(m=await (0,e.getDpopToken)(h,l,{grantType:"authorization_code",code:c.searchParams.get("code"),codeVerifier:i,redirectUrl:j}),window.localStorage.removeItem(`oidc.${f}`)):m=await (0,e.getBearerToken)(c.toString());let o;void 0!==m.refreshToken&&(o={sessionId:g,refreshToken:m.refreshToken,tokenRefresher:this.tokerRefresher});let p=await (0,d.buildAuthenticatedFetch)(fetch,m.accessToken,{dpopKey:m.dpopKey,refreshOptions:o,eventEmitter:b,expiresIn:m.expiresIn});await this.storageUtility.setForUser(g,{webId:m.webId,isLoggedIn:"true"},{secure:!0}),c.searchParams.delete("code"),await this.storageUtility.setForUser(g,{redirectUrl:c.toString()},{secure:!1});let q=await this.sessionInfoManager.get(g);if(!q)throw Error(`Could not retrieve session: [${g}].`);return Object.assign(q,{fetch:p,expirationDate:"number"==typeof m.expiresIn?n+1e3*m.expiresIn:null})}}},97927:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ErrorOidcHandler=void 0;let d=c(80835),e=c(63624);b.ErrorOidcHandler=class{async canHandle(a){try{return new URL(a).searchParams.has("error")}catch(b){throw Error(`[${a}] is not a valid URL, and cannot be used as a redirect URL: ${b}`)}}async handle(a,b){if(void 0!==b){let c=new URL(a),f=c.searchParams.get("error"),g=c.searchParams.get("error_description");b.emit(d.EVENTS.ERROR,f,g)}return(0,e.getUnauthenticatedSession)()}}},79582:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FallbackRedirectHandler=void 0;let d=c(63624);b.FallbackRedirectHandler=class{async canHandle(a){try{return new URL(a),!0}catch(b){throw Error(`[${a}] is not a valid URL, and cannot be used as a redirect URL: ${b}`)}}async handle(a){return(0,d.getUnauthenticatedSession)()}}},21590:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(80835),e=c(92981);b.default=class{constructor(a,b){this.storageUtility=a,this.redirector=b}async canHandle(a){return!!(a.issuerConfiguration.grantTypesSupported&&a.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")> -1)}async handle(a){var b;let c={authority:a.issuer.toString(),client_id:a.client.clientId,client_secret:a.client.clientSecret,redirect_uri:a.redirectUrl.toString(),post_logout_redirect_uri:a.redirectUrl.toString(),response_type:"code",scope:d.DEFAULT_SCOPES,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:null!==(b=a.prompt)&& void 0!==b?b:"consent"},f=new e.OidcClient(c),{redirector:g}=this,h=this.storageUtility;try{let i=await f.createSigninRequest();await Promise.all([h.setForUser(i.state._id,{sessionId:a.sessionId}),h.setForUser(a.sessionId,{codeVerifier:i.state._code_verifier,issuer:a.issuer.toString(),redirectUrl:a.redirectUrl,dpop:a.dpop?"true":"false"}),]),g.redirect(i.url.toString(),{handleRedirect:a.handleRedirect})}catch(j){console.error(j)}}}},13144:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(80835),e=c(92981);b.default=class{constructor(a,b,c){this.storageUtility=a,this.issuerConfigFetcher=b,this.clientRegistrar=c}async refresh(a,b,c,f){let g=await (0,d.loadOidcContextFromStorage)(a,this.storageUtility,this.issuerConfigFetcher),h=await this.clientRegistrar.getClient({sessionId:a},g.issuerConfig);if(void 0===b)throw Error(`Session [${a}] has no refresh token to allow it to refresh its access token.`);if(g.dpop&& void 0===c)throw Error(`For session [${a}], the key bound to the DPoP access token must be provided to refresh said access token.`);let i=await (0,e.refresh)(b,g.issuerConfig,h,c);return void 0!==i.refreshToken&&(null==f||f.emit(d.EVENTS.NEW_REFRESH_TOKEN,i.refreshToken),await this.storageUtility.setForUser(a,{refreshToken:i.refreshToken})),i}}},72186:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=class{constructor(a){this.sessionInfoManager=a}async canHandle(){return!0}async handle(a){await this.sessionInfoManager.clear(a)}}},63624:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SessionInfoManager=b.clear=b.getUnauthenticatedSession=void 0;let d=c(80835),e=c(97466),f=c(92981);async function g(a,b){await Promise.all([b.deleteAllUserData(a,{secure:!1}),b.deleteAllUserData(a,{secure:!0}),b.delete("clientKey",{secure:!1}),]),await (0,f.clearOidcPersistentStorage)()}b.getUnauthenticatedSession=function(){return{isLoggedIn:!1,sessionId:(0,e.v4)(),fetch}},b.clear=g,b.SessionInfoManager=class{constructor(a){this.storageUtility=a}update(a,b){throw Error("Not Implemented")}async get(a){var b;let c=await this.storageUtility.getForUser(a,"isLoggedIn",{secure:!0}),e=await this.storageUtility.getForUser(a,"webId",{secure:!0}),f=await this.storageUtility.getForUser(a,"clientId",{secure:!1}),g=await this.storageUtility.getForUser(a,"clientSecret",{secure:!1}),h=await this.storageUtility.getForUser(a,"redirectUrl",{secure:!1}),i=await this.storageUtility.getForUser(a,"refreshToken",{secure:!0}),j=await this.storageUtility.getForUser(a,"issuer",{secure:!1}),k=null!==(b=await this.storageUtility.getForUser(a,"tokenType",{secure:!1}))&& void 0!==b?b:"DPoP";if(!(0,d.isSupportedTokenType)(k))throw Error(`Tokens of type [${k}] are not supported.`);if(void 0!==f|| void 0!==c|| void 0!==e|| void 0!==i)return{sessionId:a,webId:e,isLoggedIn:"true"===c,redirectUrl:h,refreshToken:i,issuer:j,clientAppId:f,clientAppSecret:g,tokenType:k}}async getAll(){throw Error("Not implemented")}async clear(a){return g(a,this.storageUtility)}async register(a){throw Error("Not implemented")}async getRegisteredSessionIdAll(){throw Error("Not implemented")}async clearAll(){throw Error("Not implemented")}}},55394:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=class{get storage(){return window.localStorage}async get(a){return this.storage.getItem(a)||void 0}async set(a,b){this.storage.setItem(a,b)}async delete(a){this.storage.removeItem(a)}}},20437:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(80835);class e extends d.StorageUtility{constructor(a,b){super(a,b)}}b.default=e},37226:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.appendToUrlPathname=void 0,b.appendToUrlPathname=function(a,b){let c=new URL(a),d=c.pathname;return c.pathname=`${d}${d.endsWith("/")?"":"/"}${b.startsWith("/")?b.substring(1):b}`,c.toString()}},82155:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.generateDpopKeyPair=b.createDpopHeader=void 0;let d=c(62136),e=c(97466),f=c(34672);async function g(a,b,c){return new d.SignJWT({htu:function(a){let b=new URL(a);return new URL(b.pathname,b.origin).toString()}(a),htm:b.toUpperCase(),jti:(0,e.v4)()}).setProtectedHeader({alg:f.PREFERRED_SIGNING_ALG[0],jwk:c.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(c.privateKey,{})}async function h(){let{privateKey:a,publicKey:b}=await (0,d.generateKeyPair)(f.PREFERRED_SIGNING_ALG[0]),c={privateKey:a,publicKey:await (0,d.exportJWK)(b)};return[c.publicKey.alg]=f.PREFERRED_SIGNING_ALG,c}b.createDpopHeader=g,b.generateDpopKeyPair=h},18687:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.buildAuthenticatedFetch=b.DEFAULT_EXPIRATION_TIME_SECONDS=void 0;let d=c(54098),e=c(34672),f=c(82155),g=c(46904),h=c(96583);async function i(a,b,c,e){var g;let h=new d.Headers(null==e?void 0:e.headers);return h.set("Authorization",`DPoP ${b}`),h.set("DPoP",await (0,f.createDpopHeader)(a,null!==(g=null==e?void 0:e.method)&& void 0!==g?g:"get",c)),{...e,headers:h}}async function j(a,b,c,e){if(void 0!==c)return i(a,b,c,e);let f=new d.Headers(null==e?void 0:e.headers);return f.set("Authorization",`Bearer ${b}`),{...e,headers:f}}async function k(a,b,c,d,e){return a(c,await j(c.toString(),b,e,d))}async function l(a,c,d){var f;let g=await a.tokenRefresher.refresh(a.sessionId,a.refreshToken,c);return null==d||d.emit(e.EVENTS.SESSION_EXTENDED,null!==(f=g.expiresIn)&& void 0!==f?f:b.DEFAULT_EXPIRATION_TIME_SECONDS),"string"==typeof g.refreshToken&&(null==d||d.emit(e.EVENTS.NEW_REFRESH_TOKEN,g.refreshToken)),{accessToken:g.accessToken,refreshToken:g.refreshToken,expiresIn:g.expiresIn}}b.DEFAULT_EXPIRATION_TIME_SECONDS=600;let m=a=>void 0!==a?a-e.REFRESH_BEFORE_EXPIRATION_SECONDS>0?a-e.REFRESH_BEFORE_EXPIRATION_SECONDS:a:b.DEFAULT_EXPIRATION_TIME_SECONDS;async function n(a,b,c){var d;let f=b,i,j=null==c?void 0:c.refreshOptions;if(void 0!==j){let n=async()=>{var a,b,d,k;try{let{accessToken:o,refreshToken:p,expiresIn:q}=await l(j,c.dpopKey,c.eventEmitter);f=o,void 0!==p&&(j.refreshToken=p),clearTimeout(i),i=setTimeout(n,1e3*m(q)),null===(a=c.eventEmitter)|| void 0===a||a.emit(e.EVENTS.TIMEOUT_SET,i)}catch(r){r instanceof g.OidcProviderError&&(null===(b=null==c?void 0:c.eventEmitter)|| void 0===b||b.emit(e.EVENTS.ERROR,r.error,r.errorDescription),null===(d=null==c?void 0:c.eventEmitter)|| void 0===d||d.emit(e.EVENTS.SESSION_EXPIRED)),r instanceof h.InvalidResponseError&&r.missingFields.includes("access_token")&&(null===(k=null==c?void 0:c.eventEmitter)|| void 0===k||k.emit(e.EVENTS.SESSION_EXPIRED))}};i=setTimeout(n,1e3*m(c.expiresIn)),null===(d=c.eventEmitter)|| void 0===d||d.emit(e.EVENTS.TIMEOUT_SET,i)}else if(void 0!==c&& void 0!==c.eventEmitter){let o=setTimeout(()=>{c.eventEmitter.emit(e.EVENTS.SESSION_EXPIRED)},1e3*m(c.expiresIn));c.eventEmitter.emit(e.EVENTS.TIMEOUT_SET,o)}return async(b,d)=>{var e;let g=await k(a,f,b,d,null==c?void 0:c.dpopKey),h=!g.ok&&![401,403].includes(e=g.status);if(g.ok||h)return g;let i=g.url!==b;return i&&(null==c?void 0:c.dpopKey)!==void 0&&(g=await k(a,f,g.url,d,c.dpopKey)),g}}b.buildAuthenticatedFetch=n},34672:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_SCOPES=b.REFRESH_BEFORE_EXPIRATION_SECONDS=b.EVENTS=b.PREFERRED_SIGNING_ALG=b.SOLID_CLIENT_AUTHN_KEY_PREFIX=void 0,b.SOLID_CLIENT_AUTHN_KEY_PREFIX="solidClientAuthn:",b.PREFERRED_SIGNING_ALG=["ES256","RS256"],b.EVENTS={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},b.REFRESH_BEFORE_EXPIRATION_SECONDS=5,b.DEFAULT_SCOPES="openid offline_access webid"},17117:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=class extends Error{constructor(a){super(a)}}},32029:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});class c extends Error{constructor(a,b,d=!0){super("string"==typeof a?c.substituteParams(a,b):c.appendErrorIri(c.lookupErrorIri(a,b),a,d))}httpResponse(a,b=!0){return this.message=c.appendHttpResponseDetails(this.message,a,b),this.httpErrorResponse=a,this}hasHttpResponse(){return void 0!==this.httpErrorResponse}getHttpResponse(){return this.httpErrorResponse}getHttpStatusCode(){if(void 0===this.httpErrorResponse)throw new c("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Code.");return this.httpErrorResponse.status}getHttpStatusText(){if(void 0===this.httpErrorResponse)throw new c("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Text!");return this.httpErrorResponse.statusText}static determineIfVocabTerm(a){return void 0!==a.strict}static lookupErrorIri(a,b){if(c.determineIfVocabTerm(a)){let d=void 0===b?a.message:a.messageParams(...b);return void 0===d?`Looked up error message IRI [${a.value}], but found no message value.`:d}return`Error message looked up at: [${a.value}]${void 0===b?"":`, with params [${b.toString()}]`}`}static appendHttpResponseDetails(a,b,c){return c&& void 0!==b?`${a} HTTP details: status code [${b.status}], status text [${b.statusText}].`:a}static appendErrorIri(a,b,c){return c?`${a} Error IRI: [${b.value}].`:a}static substituteParams(a,b){let c=a;if(void 0!==b){let d=a.split("{{").length-1;if(d!==b.length)throw Error(`Setting parameters on message [${a}], but it requires [${d}] params and we received [${b.length}].`);for(let e=0;e<b.length;e+=1){let f=`{{${e}}}`;c=c.replace(f,b[e])}}return c}}b.default=c},96583:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InvalidResponseError=void 0,b.InvalidResponseError=class extends Error{constructor(a){super(`Invalid response from OIDC provider: missing fields ${a}`),this.missingFields=a}}},47073:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=class extends Error{constructor(a){super(`[${a}] is not implemented`)}}},46904:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OidcProviderError=void 0,b.OidcProviderError=class extends Error{constructor(a,b,c){super(a),this.error=b,this.errorDescription=c}}},80835:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.StorageUtilityGetResponse=b.StorageUtilityMock=b.mockStorageUtility=b.mockStorage=b.buildAuthenticatedFetch=b.generateDpopKeyPair=b.createDpopHeader=b.OidcProviderError=b.InvalidResponseError=b.NotImplementedError=b.ConfigurationError=b.InMemoryStorage=b.getSessionIdFromOauthState=b.saveSessionInfoToStorage=b.loadOidcContextFromStorage=b.StorageUtility=b.determineSigningAlg=b.handleRegistration=b.USER_SESSION_PREFIX=b.isSupportedTokenType=b.fetchJwks=b.getWebidFromTokenPayload=b.AggregateHandler=void 0,e(c(34672),b);var g=c(95024);Object.defineProperty(b,"AggregateHandler",{enumerable:!0,get:function(){return f(g).default}});var h=c(11592);Object.defineProperty(b,"getWebidFromTokenPayload",{enumerable:!0,get:function(){return h.getWebidFromTokenPayload}}),Object.defineProperty(b,"fetchJwks",{enumerable:!0,get:function(){return h.fetchJwks}});var i=c(31168);Object.defineProperty(b,"isSupportedTokenType",{enumerable:!0,get:function(){return i.isSupportedTokenType}});var j=c(81645);Object.defineProperty(b,"USER_SESSION_PREFIX",{enumerable:!0,get:function(){return j.USER_SESSION_PREFIX}});var k=c(74725);Object.defineProperty(b,"handleRegistration",{enumerable:!0,get:function(){return k.handleRegistration}}),Object.defineProperty(b,"determineSigningAlg",{enumerable:!0,get:function(){return k.determineSigningAlg}});var l=c(4574);Object.defineProperty(b,"StorageUtility",{enumerable:!0,get:function(){return f(l).default}}),Object.defineProperty(b,"loadOidcContextFromStorage",{enumerable:!0,get:function(){return l.loadOidcContextFromStorage}}),Object.defineProperty(b,"saveSessionInfoToStorage",{enumerable:!0,get:function(){return l.saveSessionInfoToStorage}}),Object.defineProperty(b,"getSessionIdFromOauthState",{enumerable:!0,get:function(){return l.getSessionIdFromOauthState}});var m=c(12244);Object.defineProperty(b,"InMemoryStorage",{enumerable:!0,get:function(){return f(m).default}});var n=c(17117);Object.defineProperty(b,"ConfigurationError",{enumerable:!0,get:function(){return f(n).default}});var o=c(47073);Object.defineProperty(b,"NotImplementedError",{enumerable:!0,get:function(){return f(o).default}});var p=c(96583);Object.defineProperty(b,"InvalidResponseError",{enumerable:!0,get:function(){return p.InvalidResponseError}});var q=c(46904);Object.defineProperty(b,"OidcProviderError",{enumerable:!0,get:function(){return q.OidcProviderError}});var r=c(82155);Object.defineProperty(b,"createDpopHeader",{enumerable:!0,get:function(){return r.createDpopHeader}}),Object.defineProperty(b,"generateDpopKeyPair",{enumerable:!0,get:function(){return r.generateDpopKeyPair}});var s=c(18687);Object.defineProperty(b,"buildAuthenticatedFetch",{enumerable:!0,get:function(){return s.buildAuthenticatedFetch}});var t=c(77478);Object.defineProperty(b,"mockStorage",{enumerable:!0,get:function(){return t.mockStorage}}),Object.defineProperty(b,"mockStorageUtility",{enumerable:!0,get:function(){return t.mockStorageUtility}}),Object.defineProperty(b,"StorageUtilityMock",{enumerable:!0,get:function(){return t.StorageUtilityMock}}),Object.defineProperty(b,"StorageUtilityGetResponse",{enumerable:!0,get:function(){return t.StorageUtilityGetResponse}})},74725:function(a,b){"use strict";function c(a){try{return new URL(a),!0}catch(b){return!1}}async function d(a,b,d,e){var f,g;let h=(f=a,g=b,void 0===f.clientId||c(f.clientId)?g.scopesSupported.includes("webid")&& void 0!==f.clientId&&c(f.clientId)?"solid-oidc":"dynamic":"static");return"dynamic"===h?e.getClient({sessionId:a.sessionId,clientName:a.clientName,redirectUrl:a.redirectUrl},b):(await d.setForUser(a.sessionId,{clientId:a.clientId}),a.clientSecret&&await d.setForUser(a.sessionId,{clientSecret:a.clientSecret}),a.clientName&&await d.setForUser(a.sessionId,{clientName:a.clientName}),{clientId:a.clientId,clientSecret:a.clientSecret,clientName:a.clientName,clientType:h})}Object.defineProperty(b,"__esModule",{value:!0}),b.handleRegistration=b.determineSigningAlg=void 0,b.determineSigningAlg=function(a,b){var c;return null!==(c=b.find(b=>a.includes(b)))&& void 0!==c?c:null},b.handleRegistration=d},31168:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isSupportedTokenType=void 0,b.isSupportedTokenType=function(a){return"string"==typeof a&&["DPoP","Bearer"].includes(a)}},81645:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.USER_SESSION_PREFIX=void 0,b.USER_SESSION_PREFIX="solidClientAuthenticationUser"},12244:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=class{constructor(){this.map={}}async get(a){return this.map[a]||void 0}async set(a,b){this.map[a]=b}async delete(a){delete this.map[a]}}},4574:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.saveSessionInfoToStorage=b.loadOidcContextFromStorage=b.getSessionIdFromOauthState=void 0;let e=c(62136),f=d(c(32029));async function g(a,b){return a.getForUser(b,"sessionId")}async function h(a,b,c){try{let[d,e,f,g]=await Promise.all([b.getForUser(a,"issuer",{errorIfNull:!0}),b.getForUser(a,"codeVerifier"),b.getForUser(a,"redirectUrl"),b.getForUser(a,"dpop",{errorIfNull:!0}),]);await b.deleteForUser(a,"codeVerifier");let h=await c.fetchConfig(d);return{codeVerifier:e,redirectUrl:f,issuerConfig:h,dpop:"true"===g}}catch(i){throw Error(`Failed to retrieve OIDC context from storage associated with session [${a}]: ${i}`)}}async function i(a,b,c,d,f,g,h){void 0!==f&&await a.setForUser(b,{refreshToken:f},{secure:g}),void 0!==c&&await a.setForUser(b,{webId:c},{secure:g}),void 0!==d&&await a.setForUser(b,{isLoggedIn:d},{secure:g}),void 0!==h&&await a.setForUser(b,{publicKey:JSON.stringify(h.publicKey),privateKey:JSON.stringify(await (0,e.exportJWK)(h.privateKey))},{secure:g})}b.getSessionIdFromOauthState=g,b.loadOidcContextFromStorage=h,b.saveSessionInfoToStorage=i,b.default=class{constructor(a,b){this.secureStorage=a,this.insecureStorage=b}getKey(a){return`solidClientAuthenticationUser:${a}`}async getUserData(a,b){let c=await (b?this.secureStorage:this.insecureStorage).get(this.getKey(a));if(void 0===c)return{};try{return JSON.parse(c)}catch(d){throw new f.default(`Data for user [${a}] in [${b?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${c}`)}}async setUserData(a,b,c){await (c?this.secureStorage:this.insecureStorage).set(this.getKey(a),JSON.stringify(b))}async get(a,b){let c=await ((null==b?void 0:b.secure)?this.secureStorage:this.insecureStorage).get(a);if(void 0===c&&(null==b?void 0:b.errorIfNull))throw new f.default(`[${a}] is not stored`);return c}async set(a,b,c){return((null==c?void 0:c.secure)?this.secureStorage:this.insecureStorage).set(a,b)}async delete(a,b){return((null==b?void 0:b.secure)?this.secureStorage:this.insecureStorage).delete(a)}async getForUser(a,b,c){let d=await this.getUserData(a,null==c?void 0:c.secure),e;if(d&&d[b]||(e=void 0),void 0===(e=d[b])&&(null==c?void 0:c.errorIfNull))throw new f.default(`Field [${b}] for user [${a}] is not stored`);return e||void 0}async setForUser(a,b,c){let d;try{d=await this.getUserData(a,null==c?void 0:c.secure)}catch(e){d={}}await this.setUserData(a,{...d,...b},null==c?void 0:c.secure)}async deleteForUser(a,b,c){let d=await this.getUserData(a,null==c?void 0:c.secure);delete d[b],await this.setUserData(a,d,null==c?void 0:c.secure)}async deleteAllUserData(a,b){await ((null==b?void 0:b.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(a))}}},77478:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.mockStorageUtility=b.mockStorage=b.StorageUtilityMock=b.StorageUtilityGetResponse=void 0;let e=d(c(4574));b.StorageUtilityGetResponse="getResponse",b.StorageUtilityMock={get:async(a,c)=>b.StorageUtilityGetResponse,set:async(a,b)=>{},delete:async a=>{},getForUser:async(a,c,d)=>b.StorageUtilityGetResponse,setForUser:async(a,b,c)=>{},deleteForUser:async(a,b,c)=>{},deleteAllUserData:async(a,b)=>{}};let f=a=>{let b=a;return{get:async a=>void 0===b[a]?void 0:"string"==typeof b[a]?b[a]:JSON.stringify(b[a]),set:async(a,c)=>{b[a]=c},delete:async a=>{delete b[a]}}};b.mockStorage=f;let g=(a,c=!1)=>c?new e.default((0,b.mockStorage)(a),(0,b.mockStorage)({})):new e.default((0,b.mockStorage)({}),(0,b.mockStorage)(a));b.mockStorageUtility=g},95024:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(32029));b.default=class{constructor(a){this.handleables=a}async getProperHandler(a){let b=await Promise.all(this.handleables.map(b=>b.canHandle(...a)));for(let c=0;c<b.length;c+=1)if(b[c])return this.handleables[c];return null}async canHandle(...a){return await this.getProperHandler(a)!==null}async handle(...a){let b=await this.getProperHandler(a);if(b)return b.handle(...a);throw new e.default(`[${this.constructor.name}] cannot find a suitable handler for: ${a.map(a=>{try{return JSON.stringify(a)}catch(b){return a.toString()}}).join(", ")}`)}}},11592:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getWebidFromTokenPayload=b.fetchJwks=void 0;let d=c(54098),e=c(62136);async function f(a,b){let c=await (0,d.fetch)(a);if(200!==c.status)throw Error(`Could not fetch JWKS for [${b}] at [${a}]: ${c.status} ${c.statusText}`);let e;try{e=(await c.json()).keys[0]}catch(f){throw Error(`Malformed JWKS for [${b}] at [${a}]: ${f.message}`)}return e}async function g(a,b,c,d){let g=await f(b,c),h;try{let{payload:i}=await (0,e.jwtVerify)(a,await (0,e.importJWK)(g),{issuer:c,audience:d});h=i}catch(j){throw Error(`Token verification failed: ${j.stack}`)}if("string"==typeof h.webid)return h.webid;if("string"!=typeof h.sub)throw Error(`The token ${JSON.stringify(h)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(h.sub),h.sub}catch(k){throw Error(`The token has no 'webid' claim, and its 'sub' claim of [${h.sub}] is invalid as a URL - error [${k}].`)}}b.fetchJwks=f,b.getWebidFromTokenPayload=g},40478:function(a,b,c){!function(b,d){a.exports=d(c(67294),c(87461),c(94305),c(40821),c(79521))}(this,(a,b,c,d,e)=>(()=>{"use strict";var f={577:a=>{a.exports=b},606:a=>{a.exports=c},156:b=>{b.exports=a},767:a=>{a.exports=e},928:a=>{a.exports=d}},g={};function h(a){var b=g[a];if(void 0!==b)return b.exports;var c=g[a]={exports:{}};return f[a](c,c.exports,h),c.exports}h.n=a=>{var b=a&&a.__esModule?()=>a.default:()=>a;return h.d(b,{a:b}),b},h.d=(a,b)=>{for(var c in b)h.o(b,c)&&!h.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:b[c]})},h.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),h.r=a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var i={};return(()=>{h.r(i),h.d(i,{CombinedDataProvider:()=>Z,DatasetContext:()=>n,DatasetProvider:()=>o,FileUpload:()=>g,Image:()=>z,Link:()=>V,LoginButton:()=>W,LogoutButton:()=>X,SessionContext:()=>e,SessionProvider:()=>f,Table:()=>aa,TableColumn:()=>_,Text:()=>ac,ThingContext:()=>q,ThingProvider:()=>r,Value:()=>T,Video:()=>ae,useDataset:()=>l,useFile:()=>x,useSession:()=>af,useThing:()=>ag});var a=h(156),b=h.n(a),c=h(577),d=h(606);let e=(0,a.createContext)({login:d.login,logout:d.logout,fetch:d.fetch,session:(0,d.getDefaultSession)(),sessionRequestInProgress:!0,profile:void 0}),f=({sessionId:f,children:g,onError:h,sessionRequestInProgress:i,restorePreviousSession:j,onSessionRestore:k})=>{let l=j|| void 0!==k,[m,n]=(0,a.useState)((0,d.getDefaultSession)()),[o,p]=(0,a.useState)();(0,a.useEffect)(()=>{void 0!==k&&(0,d.onSessionRestore)(k)},[k]);let q=void 0===i?!m.info.isLoggedIn:i,[r,s]=(0,a.useState)(q),t;"undefined"!=typeof window&&(t=window.location),(0,a.useEffect)(()=>{(0,d.handleIncomingRedirect)({url:window.location.href,restorePreviousSession:l}).then(a=>(null==a?void 0:a.webId)!==void 0?(0,c.getProfileAll)(null==a?void 0:a.webId,{fetch:m.fetch}):void 0).then(a=>{void 0!==a&&p(a)}).catch(a=>{if(h)h(a);else throw a}).finally(()=>{s(!1)}),(0,d.getDefaultSession)().on("logout",()=>{n((0,d.getDefaultSession)())})},[m,f,h,t,l]);let u=async a=>{s(!0);try{await (0,d.login)(a)}catch(b){if(h)h(b);else throw b}finally{s(!1)}},v=async()=>{try{await (0,d.logout)(),p(void 0)}catch(a){if(h)h(a);else throw a}};return b().createElement(e.Provider,{value:{session:m,login:u,logout:v,sessionRequestInProgress:r,setSessionRequestInProgress:s,fetch:d.fetch,profile:o}},g)};function g({saveLocation:d,onError:f,onSave:g,inputProps:h,autosave:i}){let{fetch:j}=(0,a.useContext)(e),k=async a=>{let b=a.target;if(b.files&&i)try{let e=await (0,c.saveFileInContainer)(d,b.files[0],{slug:b.files[0].name?b.files[0].name:void 0,fetch:j});g&&g(e)}catch(h){f&&f(h)}};return b().createElement(b().Fragment,null,b().createElement("input",Object.assign({type:"file"},h,{onChange:a=>k(a),"data-testid":"form-input"})))}var j=h(928),k=h.n(j);function l(b,d){let{fetch:f}=(0,a.useContext)(e),{solidDataset:g}=(0,a.useContext)(n),{data:h,error:i}=k()(b?[b,d,f]:null,()=>{let a=Object.assign({fetch:f},d);return(0,c.getSolidDataset)(b,a)});return{dataset:b?h:g,error:i}}let m=(0,a.createContext)({solidDataset:void 0,setDataset:()=>{}}),n=m,o=({children:c,onError:d,solidDataset:e,datasetUrl:f,loading:g,loadingComponent:h})=>{let{dataset:i,error:j}=l(f);j&&d&&d(j);let k=null!=e?e:i,[n,o]=(0,a.useState)(k);(0,a.useEffect)(()=>{o(k)},[k]);let p=h&&b().createElement(h,null)||g||b().createElement("span",null,"Fetching data...");return null===h&&(p=null),b().createElement(m.Provider,{value:{solidDataset:n,setDataset:o}},n?c:p)},p=(0,a.createContext)({thing:null,setThing:()=>{}}),q=p,r=({children:d,thing:e,thingUrl:f})=>{let{solidDataset:g}=(0,a.useContext)(n),h=e;g&&f&&(h=(0,c.getThing)(g,f));let[i,j]=(0,a.useState)(h||null);return(0,a.useEffect)(()=>{g&&f?j((0,c.getThing)(g,f)):e&&j(e)},[g,f,e]),b().createElement(p.Provider,{value:{thing:i,setThing:j}},d)},s=async(a,b,d,e,f,g,h)=>{try{if(void 0!==f&&b.size>1024*f)return d.setCustomValidity(`The selected file must not be larger than ${f}kB`),d.reportValidity(),null;d.setCustomValidity(""),await (0,c.overwriteFile)(a,b,{fetch:e}),g&&g();let i=URL.createObjectURL(b);return i}catch(j){return h&&h(j),null}},t=async(a,b)=>{let d=await (0,c.getFile)(a,{fetch:b});return d};function u(a,b,d,e){switch(a){case"boolean":return(0,c.getBoolean)(b,d);case"datetime":return(0,c.getDatetime)(b,d);case"decimal":return(0,c.getDecimal)(b,d);case"integer":return(0,c.getInteger)(b,d);case"url":return(0,c.getUrl)(b,d);default:if(e)return(0,c.getStringWithLocale)(b,d,e);return(0,c.getStringNoLocale)(b,d)}}function v(b){var c,d,e,f,g;let{dataset:h,thing:i,properties:j,property:k,type:l,locale:m}=b,{solidDataset:o,setDataset:p=()=>{}}=(0,a.useContext)(n),{thing:r,setThing:s=()=>{}}=(0,a.useContext)(q),t=i||r||void 0,v;t||(v=Error("Thing not found as property or in context"));let w=t&&j?(c=u,d=l,e=t,f=j,g=m,f.find(a=>c(d,e,a,g))||f[0]||j[0]):k;if(!w)throw Error("No property provided");let x=t&&w?u(l,t,w,m):null;return{dataset:h||o,thing:t,property:w,error:v,value:x,setDataset:p,setThing:s}}async function w(a,b){let d=await (0,c.getSolidDataset)(a);b(d)}function x(b){let[c,d]=(0,a.useState)(),[f,g]=(0,a.useState)(!1),[h,i]=(0,a.useState)(),{fetch:j}=(0,a.useContext)(e);return(0,a.useEffect)(()=>{b&&(g(!0),t(b,j).then(a=>{i(a),g(!1)}).catch(a=>{d(a),g(!1)}))},[b,j]),{error:c,inProgress:f,data:h}}var y=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function z(d){var{thing:f,property:g,properties:h,edit:i,autosave:j,allowDelete:k,onSave:l,onError:m,maxSize:n,alt:o,inputProps:p,errorComponent:q,loadingComponent:r,deleteComponent:t,saveLocation:u,solidDataset:w}=d,z=y(d,["thing","property","properties","edit","autosave","allowDelete","onSave","onError","maxSize","alt","inputProps","errorComponent","loadingComponent","deleteComponent","saveLocation","solidDataset"]);let{fetch:A}=(0,a.useContext)(e),B=v({thing:f,property:g,properties:h,type:"url"}),{value:C,thing:D,error:E}=B,F;C||(F=Error("No value found for property."));let[G,H]=(0,a.useState)(null!=E?E:F);(0,a.useEffect)(()=>{G&&m&&m(G)},[G,m,q]);let[I,J]=(0,a.useState)(),{data:K,error:L,inProgress:M}=x(C);(0,a.useEffect)(()=>{if(M)return;if(L){H(L);return}let a=K&&URL.createObjectURL(K);a&&J(a)},[K,M,L]);let N=async()=>{if(f&&w&&g&&"string"==typeof C&&j)try{let a=(0,c.removeUrl)(f,g,C),b=(0,c.setThing)(w,a),d=(0,c.getSourceUrl)(w);if(!d)return;await (0,c.saveSolidDatasetAt)(d,b,{fetch:A})}catch(e){H(e)}},O=async a=>{let b=a.files;if(j&&b&&b.length>0){if(C){let d=await s(C,b[0],a,A,n,l,m);d&&J(d)}else if(!C&&u){let e=await (0,c.saveFileInContainer)(u,b[0],{fetch:A}),h=(0,c.getSourceUrl)(e);if(h&&f&&g&&w){J(h);try{let i=(0,c.addUrl)(f,g,h),k=(0,c.setThing)(w,i),o=(0,c.getSourceUrl)(w);if(!o)return;await (0,c.saveSolidDatasetAt)(o,k,{fetch:A})}catch(p){H(p)}}}}},P=null;if(!D&&!E||M){let Q=r&&b().createElement(r,null)||b().createElement("span",null,"fetching data in progress");return null===r&&(Q=null),Q}return G?P=q?b().createElement(q,{error:G}):b().createElement("span",null,G.toString()):C&&(P=b().createElement("img",Object.assign({src:I,alt:null!=o?o:""},z))),b().createElement(b().Fragment,null,P,i&&b().createElement("input",Object.assign({},p,{type:"file",accept:"image/*",onChange:a=>O(a.target)})),k&&(t?b().createElement(t,{onClick:N}):b().createElement("button",{type:"button",onClick:N},"Delete")))}var A=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};let B=d=>{var f;let{thing:g,solidDataset:h,property:i,properties:j,saveDatasetTo:k,onSave:l,onError:m,edit:n,autosave:o,inputProps:p}=d,q=A(d,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:r}=(0,a.useContext)(e),{value:s,thing:t,property:u,dataset:x,setDataset:y,error:z}=v({dataset:h,thing:g,type:"datetime",property:i,properties:j}),B=function(){let[b,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let a=document.createElement("input");a.type="datetime-local",c("text"!==a.type)},[]),b}();(0,a.useEffect)(()=>{z&&m&&m(z)},[z,m]);let C=s?s.toISOString().substring(0,s.toISOString().length-5):null,[D,E]=(0,a.useState)(C),F="";B||(F=null==D?void 0:D.split(/T(.+)/)[0].toString());let G="00:00";B||(G=null===(f=null==D?void 0:D.split(/T(.+)/)[1])|| void 0===f?void 0:f.toString());let[H,I]=(0,a.useState)(G),[J,K]=(0,a.useState)(F);(0,a.useEffect)(()=>{(H||J)&&!B&&E(`${null!=J?J:""}T${null!=H?H:"00:00"}`)},[H,J,B]);let L=async a=>{if(C!==D&&t&&x&&a.target.reportValidity()){let b=D,d=(0,c.setDatetime)(t,u,new Date(`${b}Z`));try{let e;k?(e=await (0,c.saveSolidDatasetAt)(k,(0,c.setThing)(x,d),{fetch:r}),await w(k,y)):(0,c.hasResourceInfo)(x)?(e=await (0,c.saveSolidDatasetAt)((0,c.getSourceUrl)(x),(0,c.setThing)(x,d),{fetch:r}),await w((0,c.getSourceUrl)(x),y)):m&&m(Error("Please provide saveDatasetTo location for new data")),!z&&l&&l(e,d)}catch(f){m&&m(f)}}},M;return M=B?"datetime-local":"datetime-workaround",b().createElement(b().Fragment,null,!n&&x&&t&&b().createElement("span",Object.assign({},q),`${D}`),n&&x&&t&&"datetime-local"===M&&b().createElement("input",Object.assign({type:M,"aria-label":"Date and Time",step:"any"},p,{onChange:a=>{E(a.target.value)},onBlur:a=>o&&L(a),value:D,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}",placeholder:"yyyy-mm-ddThh:mm"})),n&&x&&t&&"datetime-workaround"===M&&b().createElement(b().Fragment,null,b().createElement("input",Object.assign({type:"date","aria-label":"Date",step:"any"},p,{onChange:a=>{K(a.target.value)},onBlur:a=>o&&L(a),value:J,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",placeholder:"yyyy-mm-dd"})),b().createElement("input",{type:"time","aria-label":"Time",value:H,onChange:a=>I(a.target.value),onBlur:a=>o&&L(a),pattern:"[0-9]{2}:[0-9]{2}"})))};B.defaultProps={autosave:!1,edit:!1};let C=B;var D=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};let E=d=>{var f;let{thing:g,solidDataset:h,property:i,properties:j,saveDatasetTo:k,locale:l,onSave:m,onError:n,edit:o,autosave:p,inputProps:q}=d,r=D(d,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","edit","autosave","inputProps"]),{fetch:s}=(0,a.useContext)(e),{value:t,thing:u,property:x,dataset:y,setDataset:z,error:A}=v({dataset:h,thing:g,type:"string",property:i,properties:j,locale:l});(0,a.useEffect)(()=>{A&&n&&n(A)},[A,n]);let B=null!==(f=null==t?void 0:t.toString())&& void 0!==f?f:"",[C,E]=(0,a.useState)(B),F=async a=>{if(B!==C&&u&&y&&a.target.reportValidity()){let b;b=l?(0,c.setStringWithLocale)(u,x,C,l):(0,c.setStringNoLocale)(u,x,C);try{let d;k?(d=await (0,c.saveSolidDatasetAt)(k,(0,c.setThing)(y,b),{fetch:s}),await w(k,z)):(0,c.hasResourceInfo)(y)?(d=await (0,c.saveSolidDatasetAt)((0,c.getSourceUrl)(y),(0,c.setThing)(y,b),{fetch:s}),await w((0,c.getSourceUrl)(y),z)):n&&n(Error("Please provide saveDatasetTo location for new data")),!A&&m&&m(d,b)}catch(e){n&&n(e)}}};return b().createElement(b().Fragment,null,!o&&y&&u&&b().createElement("span",Object.assign({},r),C),o&&y&&u&&b().createElement("input",Object.assign({type:"text"},q,{onChange:a=>{E(a.target.value)},onBlur:a=>p&&F(a),value:C})))};E.defaultProps={autosave:!1,edit:!1};let F=E;var G=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};let H=d=>{var f;let{thing:g,solidDataset:h,property:i,properties:j,saveDatasetTo:k,onSave:l,onError:m,edit:n,autosave:o,inputProps:p}=d,q=G(d,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:r}=(0,a.useContext)(e),{value:s,thing:t,property:u,dataset:x,setDataset:y,error:z}=v({dataset:h,thing:g,type:"boolean",property:i,properties:j});(0,a.useEffect)(()=>{z&&m&&m(z)},[z,m]);let A=s,B=!1;A=(B=null!==(f=s)&& void 0!==f&&f).toString();let[C,D]=(0,a.useState)(A),[E,F]=(0,a.useState)(B);(0,a.useEffect)(()=>{D(E.toString())},[E]);let H=async a=>{if(A!==C&&t&&x&&a.target.reportValidity()){let b=(0,c.setBoolean)(t,u,E);try{let d;k?(d=await (0,c.saveSolidDatasetAt)(k,(0,c.setThing)(x,b),{fetch:r}),await w(k,y)):(0,c.hasResourceInfo)(x)?(d=await (0,c.saveSolidDatasetAt)((0,c.getSourceUrl)(x),(0,c.setThing)(x,b),{fetch:r}),await w((0,c.getSourceUrl)(x),y)):m&&m(Error("Please provide saveDatasetTo location for new data")),!z&&l&&l(d,b)}catch(e){m&&m(e)}}};return b().createElement(b().Fragment,null,!n&&x&&t&&b().createElement("span",Object.assign({},q),`${C}`),n&&x&&t&&b().createElement("input",Object.assign({type:"checkbox",checked:E},p,{onChange:a=>{F(a.target.checked)},onBlur:a=>o&&H(a),value:C})))};H.defaultProps={autosave:!1,edit:!1};let I=H;var J=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};let K=d=>{var f;let{thing:g,solidDataset:h,property:i,properties:j,saveDatasetTo:k,onSave:l,onError:m,edit:n,autosave:o,inputProps:p}=d,q=J(d,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:r}=(0,a.useContext)(e),{value:s,thing:t,property:u,dataset:x,setDataset:y,error:z}=v({dataset:h,thing:g,type:"url",property:i,properties:j});(0,a.useEffect)(()=>{z&&m&&m(z)},[z,m]);let A=null!==(f=null==s?void 0:s.toString())&& void 0!==f?f:"",[B,C]=(0,a.useState)(A),D=async a=>{if(A!==B&&t&&x&&a.target.reportValidity()){let b=(0,c.setUrl)(t,u,B);try{let d;k?(d=await (0,c.saveSolidDatasetAt)(k,(0,c.setThing)(x,b),{fetch:r}),await w(k,y)):(0,c.hasResourceInfo)(x)?(d=await (0,c.saveSolidDatasetAt)((0,c.getSourceUrl)(x),(0,c.setThing)(x,b),{fetch:r}),await w((0,c.getSourceUrl)(x),y)):m&&m(Error("Please provide saveDatasetTo location for new data")),!z&&l&&l(d,b)}catch(e){m&&m(e)}}};return b().createElement(b().Fragment,null,!n&&x&&t&&b().createElement("span",Object.assign({},q),`${B}`),n&&x&&t&&b().createElement("input",Object.assign({type:"url"},p,{onChange:a=>{C(a.target.value)},onBlur:a=>o&&D(a),value:B})))};K.defaultProps={autosave:!1,edit:!1};let L=K;var M=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};let N=d=>{var f;let{thing:g,solidDataset:h,property:i,properties:j,saveDatasetTo:k,onSave:l,onError:m,edit:n,autosave:o,inputProps:p}=d,q=M(d,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:r}=(0,a.useContext)(e),{value:s,thing:t,property:u,dataset:x,setDataset:y,error:z}=v({dataset:h,thing:g,type:"integer",property:i,properties:j});(0,a.useEffect)(()=>{z&&m&&m(z)},[z,m]);let A=null!==(f=null==s?void 0:s.toString())&& void 0!==f?f:"",[B,C]=(0,a.useState)(A),D=async a=>{if(A!==B&&t&&x&&a.target.reportValidity()){let b=(0,c.setInteger)(t,u,parseInt(B,10));try{let d;k?(d=await (0,c.saveSolidDatasetAt)(k,(0,c.setThing)(x,b),{fetch:r}),await w(k,y)):(0,c.hasResourceInfo)(x)?(d=await (0,c.saveSolidDatasetAt)((0,c.getSourceUrl)(x),(0,c.setThing)(x,b),{fetch:r}),await w((0,c.getSourceUrl)(x),y)):m&&m(Error("Please provide saveDatasetTo location for new data")),!z&&l&&l(d,b)}catch(e){m&&m(e)}}};return b().createElement(b().Fragment,null,!n&&x&&t&&b().createElement("span",Object.assign({},q),`${B}`),n&&x&&t&&b().createElement("input",Object.assign({type:"number",step:"any"},p,{onChange:a=>{C(a.target.value)},onBlur:a=>o&&D(a),value:B})))};N.defaultProps={autosave:!1,edit:!1};let O=N;var P=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};let Q=d=>{var f;let{thing:g,solidDataset:h,property:i,properties:j,saveDatasetTo:k,onSave:l,onError:m,edit:n,autosave:o,inputProps:p}=d,q=P(d,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:r}=(0,a.useContext)(e),{value:s,thing:t,property:u,dataset:x,setDataset:y,error:z}=v({dataset:h,thing:g,type:"decimal",property:i,properties:j});(0,a.useEffect)(()=>{z&&m&&m(z)},[z,m]);let A=null!==(f=null==s?void 0:s.toString())&& void 0!==f?f:"",[B,C]=(0,a.useState)(A),D=async a=>{if(A!==B&&t&&x&&a.target.reportValidity()){let b=(0,c.setDecimal)(t,u,parseFloat(B));try{let d;k?(d=await (0,c.saveSolidDatasetAt)(k,(0,c.setThing)(x,b),{fetch:r}),await w(k,y)):(0,c.hasResourceInfo)(x)?(d=await (0,c.saveSolidDatasetAt)((0,c.getSourceUrl)(x),(0,c.setThing)(x,b),{fetch:r}),await w((0,c.getSourceUrl)(x),y)):m&&m(Error("Please provide saveDatasetTo location for new data")),!z&&l&&l(d,b)}catch(e){m&&m(e)}}};return b().createElement(b().Fragment,null,!n&&x&&t&&b().createElement("span",Object.assign({},q),`${B}`),n&&x&&t&&b().createElement("input",Object.assign({type:"number",step:"any"},p,{onChange:a=>{C(a.target.value)},onBlur:a=>o&&D(a),value:B})))};Q.defaultProps={autosave:!1,edit:!1};let R=Q;var S=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function T(c){let d=c,{dataType:e}=d,f=S(d,["dataType"]),{thing:g,solidDataset:h,property:i,properties:j,edit:k,loadingComponent:l,errorComponent:m,locale:n}=f,{thing:o,value:p,error:q}=v({dataset:h,thing:g,property:i,properties:j,type:e,locale:n}),r;k||p||"boolean"===e||(r=Error("No value found for property."));let[s]=(0,a.useState)(null!=q?q:r);if(!o&&!q){let t=l&&b().createElement(l,null)||b().createElement("span",null,"fetching data in progress");return null===l&&(t=null),t}if(s)return m?b().createElement(m,{error:s}):b().createElement("span",null,s.toString());let u=F;switch(e){case"boolean":u=I;break;case"datetime":u=C;break;case"decimal":u=R;break;case"integer":u=O;break;case"url":u=L;break;default:u=F}return b().createElement(u,Object.assign({},f))}T.defaultProps={autosave:!1,edit:!1};var U=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function V(c){var{children:d,property:e,properties:f,thing:g,solidDataset:h,autosave:i,rel:j,target:k,edit:l,loadingComponent:m,errorComponent:n,onSave:o,onError:p}=c,q=U(c,["children","property","properties","thing","solidDataset","autosave","rel","target","edit","loadingComponent","errorComponent","onSave","onError"]);let{value:r,thing:s,property:t,dataset:u,error:w}=v({dataset:h,thing:g,property:e,properties:f,type:"url"}),x;l||r||(x=Error("URL not found for given property"));let[y]=(0,a.useState)(null!=w?w:x);if(!s&&!w){let z=m&&b().createElement(m,null)||b().createElement("span",null,"fetching data in progress");return null===m&&(z=null),z}return y?n?b().createElement(n,{error:y}):b().createElement("span",null,y.toString()):l?b().createElement(T,{dataType:"url",solidDataset:u,thing:s,property:t,autosave:i,onSave:o,onError:p,edit:!0}):b().createElement("a",Object.assign({href:r,rel:j||("_blank"===k?"noopener noreferrer":"nofollow"),target:k},q),null!=d?d:r)}let W=({oidcIssuer:c,redirectUrl:d,children:f,authOptions:g,onError:h})=>{let i=Object.assign({redirectUrl:d,oidcIssuer:c},g),{login:j,setSessionRequestInProgress:k}=(0,a.useContext)(e);async function l(){k(!0);try{await j(i),k(!1)}catch(a){k(!1),h&&h(a)}}function m(a){return a.preventDefault(),"Enter"===a.key?l():Promise.resolve()}return f?b().createElement("div",{role:"button",tabIndex:0,onClick:l,onKeyDown:m},f):b().createElement("button",{type:"button",onClick:l,onKeyDown:m},"Log In")},X=({children:c,onLogout:d,onError:f})=>{let{logout:g}=(0,a.useContext)(e);async function h(){try{await g(),d&&d()}catch(a){f&&f(a)}}function i(a){return a.preventDefault(),"Enter"===a.key?h():Promise.resolve()}return c?b().createElement("div",{role:"button",tabIndex:0,onClick:h,onKeyDown:i},c):b().createElement("button",{type:"button",onClick:h,onKeyDown:i},"Log Out")};var Y=h(767);let Z=function(a){let{children:c,solidDataset:d,datasetUrl:e,thing:f,thingUrl:g,onError:h,loadingComponent:i}=a;return b().createElement(o,{onError:h,solidDataset:d,datasetUrl:e,loadingComponent:i},b().createElement(r,{thing:f,thingUrl:g},c))};var $=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function _(a){throw Error("Can't use TableColumn outside a Table.")}function aa(d){var{children:e,emptyStateComponent:f,things:g,filter:h,ascIndicator:i,descIndicator:j,getRowProps:k}=d,l=$(d,["children","emptyStateComponent","things","filter","ascIndicator","descIndicator","getRowProps"]);let{columns:m,data:n}=(0,a.useMemo)(()=>{let b=[],d=g.map(()=>({}));return a.Children.forEach(e,(a,e)=>{if(a){let{property:f,header:h,body:i,dataType:j="string",locale:k,multiple:l=!1,sortable:m,sortFn:n,filterable:o}=a.props;if(b.push({Header:null!=h?h:`${f}`,accessor:`col${e}`,disableGlobalFilter:!o,disableSortBy:!m,Cell:null!=i?i:({value:a})=>null!=a?`${a}`:""}),n){let p=(a,b,c)=>{let d=a.values[c],e=b.values[c];return n(d,e)};b[e].sortType=p}else"string"===j&&(b[e].sortType=j),("integer"===j||"decimal"===j)&&(b[e].sortType="number");g.forEach((a,b)=>{d[b][`col${e}`]=l?function(a,b,d,e){switch(a){case"boolean":return(0,c.getBooleanAll)(b,d);case"datetime":return(0,c.getDatetimeAll)(b,d);case"decimal":return(0,c.getDecimalAll)(b,d);case"integer":return(0,c.getIntegerAll)(b,d);case"url":return(0,c.getUrlAll)(b,d);default:if(e)return(0,c.getStringWithLocaleAll)(b,d,e);return(0,c.getStringNoLocaleAll)(b,d)}}(j,a.thing,f,k):u(j,a.thing,f,k)})}}),{columns:b,data:d}},[e,g]),o=(0,Y.useTable)({columns:m,data:n,initialState:{globalFilter:h||void 0}},Y.useGlobalFilter,Y.useSortBy),{getTableProps:p,getTableBodyProps:q,headerGroups:r,rows:s,prepareRow:t}=o;return s.length?b().createElement("table",Object.assign({},p(),l),b().createElement("thead",null,r.map(a=>b().createElement("tr",Object.assign({},a.getHeaderGroupProps()),a.headers.map(a=>b().createElement("th",Object.assign({},a.getHeaderProps(a.getSortByToggleProps())),a.render("Header"),a.isSorted&&(a.isSortedDesc?j:i)))))),b().createElement("tbody",Object.assign({},q()),s.map(a=>{t(a);let c=g[a.index].dataset,d=g[a.index].thing;return b().createElement("tr",Object.assign({},a.getRowProps(k(a,d,c))),b().createElement(Z,{solidDataset:c,thing:d},a.cells.map(a=>b().createElement("td",Object.assign({},a.getCellProps()),a.render("Cell")))))}))):f?b().createElement(f,null):null}aa.defaultProps={filter:void 0,ascIndicator:b().createElement("span",{role:"img","aria-label":"Sorted in ascending order"}," ","\uD83D\uDD3C"),descIndicator:b().createElement("span",{role:"img","aria-label":"Sorted in descending order"}," ","\uD83D\uDD3D"),getRowProps:()=>({})};var ab=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function ac(d){var{thing:f,solidDataset:g,property:h,properties:i,saveDatasetTo:j,locale:k,onSave:l,onError:m,inputProps:n,errorComponent:o,loadingComponent:p,edit:q=!1,autosave:r=!1}=d,s=ab(d,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","inputProps","errorComponent","loadingComponent","edit","autosave"]);let{fetch:t}=(0,a.useContext)(e),{error:u,value:x,thing:y,property:z,dataset:A,setDataset:B}=v({dataset:g,thing:f,property:h,properties:i,type:"string",locale:k}),C;q||x||(C=Error("No value found for property."));let[D]=(0,a.useState)(null!=u?u:C);(0,a.useEffect)(()=>{D&&m&&m(D)},[D,m]);let[E,F]=(0,a.useState)(x),[,G]=(0,a.useState)(),[H,I]=(0,a.useState)(x),J=async a=>{if(H!==a.target.value&&y&&A){let b=a.target.value,d;d=k?(0,c.setStringWithLocale)(y,z,b,k):(0,c.setStringNoLocale)(y,z,b);try{let e;j?(e=await (0,c.saveSolidDatasetAt)(j,(0,c.setThing)(A,d),{fetch:t}),await w(j,B)):(0,c.hasResourceInfo)(A)?(e=await (0,c.saveSolidDatasetAt)((0,c.getSourceUrl)(A),(0,c.setThing)(A,d),{fetch:t}),await w((0,c.getSourceUrl)(A),B)):G(()=>{throw Error("Please provide saveDatasetTo location for new data")}),l&&l(e,d)}catch(f){m&&m(f)}}};if(!y&&!u){let K=p&&b().createElement(p,null)||b().createElement("span",null,"fetching data in progress");return null===p&&(K=null),K}return D?o?b().createElement(o,{error:D}):b().createElement("span",null,D.toString()):b().createElement(b().Fragment,null,!q&&A&&y&&b().createElement("span",Object.assign({},s),E),q&&A&&y&&b().createElement("input",Object.assign({type:n&&n.type?n.type:"text"},n,{onFocus:a=>I(a.target.value),onChange:a=>F(a.target.value),onBlur:a=>r&&J(a),value:E||""})))}var ad=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function ae(c){var{property:d,properties:f,thing:g,edit:h,autosave:i,onSave:j,onError:k,maxSize:l,inputProps:m,errorComponent:n,loadingComponent:o}=c,p=ad(c,["property","properties","thing","edit","autosave","onSave","onError","maxSize","inputProps","errorComponent","loadingComponent"]);let{fetch:q}=(0,a.useContext)(e),r=v({thing:g,property:d,properties:f,type:"url"}),{value:t,thing:u,error:w}=r,y;h||t||(y=Error("No value found for property."));let[z,A]=(0,a.useState)(null!=w?w:y);(0,a.useEffect)(()=>{z&&k&&k(z)},[z,k,n]);let[B,C]=(0,a.useState)(""),{data:D,error:E,inProgress:F}=x(t);(0,a.useEffect)(()=>{if(F)return;if(E){A(E);return}let a=D&&URL.createObjectURL(D);a&&C(a)},[D,F,E]);let G=async a=>{let b=a.files;if(i&&b&&b.length>0&&t){let c=await s(t,b[0],a,q,l,j,k);c&&C(c)}},H=null;if(!u&&!w||F){let I=o&&b().createElement(o,null)||b().createElement("span",null,"fetching data in progress");return null===o&&(I=null),I}return z?H=n?b().createElement(n,{error:z}):b().createElement("span",null,z.toString()):t&&(H=b().createElement("video",Object.assign({src:B||t,controls:!0},p))),b().createElement(b().Fragment,null,H,h&&b().createElement("input",Object.assign({},m,{type:"file",accept:"video/*",onChange:a=>G(a.target)})))}function af(){let{session:b,sessionRequestInProgress:c,fetch:d,login:f,logout:g}=(0,a.useContext)(e);return{session:b,sessionRequestInProgress:c,fetch:d,login:f,logout:g}}function ag(b,d,e){let{dataset:f,error:g}=l(b,e),{thing:h}=(0,a.useContext)(q);if(!d)return{thing:h||void 0,error:g};if(!f)return{thing:null,error:g};let i=(0,c.getThing)(f,d);return{thing:i,error:g}}})(),i})())},68825:function(a,b,c){let d=c(98295);a.exports=d},22225:function(a){class b{constructor(a){this.value=a||"b"+ ++b.nextId}equals(a){return!!a&&a.termType===this.termType&&a.value===this.value}}b.prototype.termType="BlankNode",b.nextId=0,a.exports=b},98295:function(a,b,c){let d=c(22225),e=c(65805),f=c(82542),g=c(11694),h=c(31358),i=c(28790),j=c(95895),k={namedNode:function(a){return new h(a)},blankNode:function(a){return new d(a)},literal:function(a,b){return"string"==typeof b?-1===b.indexOf(":")?new g(a,b):new g(a,null,k.namedNode(b)):new g(a,null,b)},variable:function(a){return new j(a)},defaultGraph:function(){return k.defaultGraphInstance},triple:function(a,b,c){return k.quad(a,b,c)},quad:function(a,b,c,d){return new i(a,b,c,d||k.defaultGraphInstance)},fromTerm:function(a){return f.call(k,a)},fromQuad:function(a){return f.call(k,a)},defaultGraphInstance:new e};a.exports=k},65805:function(a){class b{equals(a){return!!a&&a.termType===this.termType}}b.prototype.termType="DefaultGraph",b.prototype.value="",a.exports=b},11694:function(a,b,c){let d=c(31358);class e{constructor(a,b,c){this.value=a,this.datatype=e.stringDatatype,this.language="",b?(this.language=b,this.datatype=e.langStringDatatype):c&&(this.datatype=c)}equals(a){return!!a&&a.termType===this.termType&&a.value===this.value&&a.language===this.language&&a.datatype.equals(this.datatype)}}e.prototype.termType="Literal",e.langStringDatatype=new d("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.stringDatatype=new d("http://www.w3.org/2001/XMLSchema#string"),a.exports=e},31358:function(a){class b{constructor(a){this.value=a}equals(a){return!!a&&a.termType===this.termType&&a.value===this.value}}b.prototype.termType="NamedNode",a.exports=b},28790:function(a,b,c){let d=c(65805);class e{constructor(a,b,c,e){this.subject=a,this.predicate=b,this.object=c,e?this.graph=e:this.graph=new d}equals(a){return!!a&&("Quad"===a.termType||!a.termType)&&a.subject.equals(this.subject)&&a.predicate.equals(this.predicate)&&a.object.equals(this.object)&&a.graph.equals(this.graph)}}e.prototype.termType="Quad",e.prototype.value="",a.exports=e},95895:function(a){class b{constructor(a){this.value=a}equals(a){return!!a&&a.termType===this.termType&&a.value===this.value}}b.prototype.termType="Variable",a.exports=b},82542:function(a){a.exports=function(a){if(!a)return null;if("BlankNode"===a.termType)return this.blankNode(a.value);if("DefaultGraph"===a.termType)return this.defaultGraph();if("Literal"===a.termType)return this.literal(a.value,a.language||this.namedNode(a.datatype.value));if("NamedNode"===a.termType)return this.namedNode(a.value);if("Quad"===a.termType){let b=this.fromTerm(a.subject),c=this.fromTerm(a.predicate),d=this.fromTerm(a.object),e=this.fromTerm(a.graph);return this.quad(b,c,d,e)}if("Variable"===a.termType)return this.variable(a.value);throw Error(`unknown termType ${a.termType}`)}},31963:function(a){function b(a){return"string"==typeof a||a instanceof String}function c(a){if("string"==typeof a)return a;if(!a)return"";if(void 0!==a.id&&"Quad"!==a.termType)return a.id;let b,d,f,g;switch(a.termType){case"NamedNode":return a.value;case"BlankNode":return`_:${a.value}`;case"Variable":return`?${a.value}`;case"DefaultGraph":return"";case"Literal":if(a.language)return`"${a.value}"@${a.language}`;return`"${a.value}"${a.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==a.datatype.value?`^^${a.datatype.value}`:""}`;case"Quad":return b=e(c(a.subject)),d=e(c(a.predicate)),f=e(c(a.object)),g="DefaultGraph"===a.graph.termType?"":` ${c(a.graph)}`,`<<${b} ${d} ${f}${g}>>`;default:throw Error(`Unexpected termType: ${a.termType}`)}}let d=/^"(.*".*)(?="[^"]*$)/;function e(a){return a.replace(d,(a,b)=>`"${b.replace(/"/g,'""')}`)}class f{constructor(a){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,a)for(let b of a)this.add(b)}get size(){let a=this._size;if(null!==a)return a;a=0;let b=this._graphs,c,d;for(let e in b)for(let f in c=b[e].subjects)for(let g in d=c[f])a+=Object.keys(d[g]).length;return this._size=a,this._size}add(a){let b=c(a.subject),d=c(a.predicate),e=c(a.object),f=c(a.graph),g=this._graphs[f];g||Object.freeze(g=this._graphs[f]={subjects:{},predicates:{},objects:{}});let h=this._ids,i=this._entities;return b=h[b]||(h[i[++this._id]=b]=this._id),d=h[d]||(h[i[++this._id]=d]=this._id),e=h[e]||(h[i[++this._id]=e]=this._id),this._addToIndex(g.subjects,b,d,e),this._addToIndex(g.predicates,d,e,b),this._addToIndex(g.objects,e,b,d),this._setQuad(b,d,e,f,a),this._size=null,this}delete(a){let b=c(a.subject),d=c(a.predicate),e=c(a.object),f=c(a.graph),g=this._ids,h=this._graphs,i,j,k;if(!(b=g[b])||!(d=g[d])||!(e=g[e])||!(i=h[f])||!(j=i.subjects[b])||!(k=j[d])||!(e in k))return this;for(b in this._removeFromIndex(i.subjects,b,d,e),this._removeFromIndex(i.predicates,d,e,b),this._removeFromIndex(i.objects,e,b,d),null!==this._size&&this._size--,this._deleteQuad(b,d,e,f),i.subjects)return this;return delete h[f],this}has(a){let d=c(a.subject),e=c(a.predicate),f=c(a.object),g=c(a.graph),h=this._graphs[g];if(!h)return!1;let i=this._ids,j,k,l;return!(b(d)&&!(j=i[d])||b(e)&&!(k=i[e])||b(f)&&!(l=i[f]))&&1===this._countInIndex(h.objects,l,j,k)}match(a,b,c,d){return this._createDataset(this._match(a,b,c,d))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(a,b,c,d){let e=a[b]||(a[b]={}),f=e[c]||(e[c]={}),g=d in f;return g||(f[d]=null),!g}_removeFromIndex(a,b,c,d){let e=a[b],f=e[c];for(let g in delete f[d],f)return;for(let h in delete e[c],e)return;delete a[b]}_findInIndex(a,b,c,d,e,f,g,h,i,j){let k,l,m;for(let n in b&&((k=a,a={})[b]=k[b]),a)if(l=a[n]){for(let o in c&&((k=l,l={})[c]=k[c]),l)if(m=l[o]){let p=d?d in m?[d]:[]:Object.keys(m);for(let q=0;q<p.length;q++){let r={[e]:n,[f]:o,[g]:p[q]},s=this._getQuad(r.subject,r.predicate,r.object,h);if(j)j.push(s);else if(i(s))return!0}}}return j}_countInIndex(a,b,c,d){let e=0,f,g,h;for(let i in b&&((f=a,a={})[b]=f[b]),a)if(g=a[i])for(let j in c&&((f=g,g={})[c]=f[c]),g)(h=g[j])&&(d?d in h&&e++:e+=Object.keys(h).length);return e}_getGraphs(a){return b(a)?{[a]:this._graphs[a]}:this._graphs}_match(a,d,e,f){a=a&&c(a),d=d&&c(d),e=e&&c(e),f=f&&c(f);let g=[],h=this._getGraphs(f),i=this._ids,j,k,l,m;if(b(a)&&!(k=i[a])||b(d)&&!(l=i[d])||b(e)&&!(m=i[e]))return g;for(let n in h)(j=h[n])&&(k?m?this._findInIndex(j.objects,m,k,l,"object","subject","predicate",n,null,g):this._findInIndex(j.subjects,k,l,null,"subject","predicate","object",n,null,g):l?this._findInIndex(j.predicates,l,m,null,"predicate","object","subject",n,null,g):m?this._findInIndex(j.objects,m,null,null,"object","subject","predicate",n,null,g):this._findInIndex(j.subjects,null,null,null,"subject","predicate","object",n,null,g));return g}_getQuad(a,b,c,d){return this._quads.get(this._toId(a,b,c,d))}_setQuad(a,b,c,d,e){this._quads.set(this._toId(a,b,c,d),e)}_deleteQuad(a,b,c,d){this._quads.delete(this._toId(a,b,c,d))}_createDataset(a){return new this.constructor(a)}_toId(a,b,c,d){return`${a}:${b}:${c}:${d}`}}a.exports=f},66521:function(a,b,c){let d=c(68825),e=c(31963);a.exports=Object.assign({dataset:function(a){return new e(a)}},d)},79361:function(a,b){"use strict";b.Z=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}},79742:function(a,b){"use strict";b.byteLength=function(a){var b=i(a),c=b[0],d=b[1];return(c+d)*3/4-d},b.toByteArray=function(a){var b,c,f,g,h,j=i(a),k=j[0],l=j[1],m=new e((g=k,(g+(h=l))*3/4-h)),n=0,o=l>0?k-4:k;for(c=0;c<o;c+=4)b=d[a.charCodeAt(c)]<<18|d[a.charCodeAt(c+1)]<<12|d[a.charCodeAt(c+2)]<<6|d[a.charCodeAt(c+3)],m[n++]=b>>16&255,m[n++]=b>>8&255,m[n++]=255&b;return 2===l&&(b=d[a.charCodeAt(c)]<<2|d[a.charCodeAt(c+1)]>>4,m[n++]=255&b),1===l&&(b=d[a.charCodeAt(c)]<<10|d[a.charCodeAt(c+1)]<<4|d[a.charCodeAt(c+2)]>>2,m[n++]=b>>8&255,m[n++]=255&b),m},b.fromByteArray=function(a){for(var b,d=a.length,e=d%3,f=[],g=0,h=d-e;g<h;g+=16383)f.push(k(a,g,g+16383>h?h:g+16383));return 1===e?f.push(c[(b=a[d-1])>>2]+c[b<<4&63]+"=="):2===e&&f.push(c[(b=(a[d-2]<<8)+a[d-1])>>10]+c[b>>4&63]+c[b<<2&63]+"="),f.join("")};for(var c=[],d=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,h=f.length;g<h;++g)c[g]=f[g],d[f.charCodeAt(g)]=g;function i(a){var b=a.length;if(b%4>0)throw Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");-1===c&&(c=b);var d=c===b?0:4-c%4;return[c,d]}function j(a){return c[a>>18&63]+c[a>>12&63]+c[a>>6&63]+c[63&a]}function k(a,b,c){for(var d,e=[],f=b;f<c;f+=3)e.push(j(d=(a[f]<<16&16711680)+(a[f+1]<<8&65280)+(255&a[f+2])));return e.join("")}d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},48764:function(a,b,c){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */ /* eslint-disable no-proto */ let d=c(79742),e=c(80645),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function g(a){if(a>2147483647)throw RangeError('The value "'+a+'" is invalid for option "size"');let b=new Uint8Array(a);return Object.setPrototypeOf(b,h.prototype),b}function h(a,b,c){if("number"==typeof a){if("string"==typeof b)throw TypeError('The "string" argument must be of type string. Received type number');return k(a)}return i(a,b,c)}function i(a,b,c){if("string"==typeof a)return l(a,b);if(ArrayBuffer.isView(a))return n(a);if(null==a)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(_(a,ArrayBuffer)||a&&_(a.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(_(a,SharedArrayBuffer)||a&&_(a.buffer,SharedArrayBuffer)))return o(a,b,c);if("number"==typeof a)throw TypeError('The "value" argument must not be of type number. Received type number');let d=a.valueOf&&a.valueOf();if(null!=d&&d!==a)return h.from(d,b,c);let e=p(a);if(e)return e;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof a[Symbol.toPrimitive])return h.from(a[Symbol.toPrimitive]("string"),b,c);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}function j(a){if("number"!=typeof a)throw TypeError('"size" argument must be of type number');if(a<0)throw RangeError('The value "'+a+'" is invalid for option "size"')}function k(a){return j(a),g(a<0?0:0|q(a))}function l(a,b){if(("string"!=typeof b||""===b)&&(b="utf8"),!h.isEncoding(b))throw TypeError("Unknown encoding: "+b);let c=0|r(a,b),d=g(c),e=d.write(a,b);return e!==c&&(d=d.slice(0,e)),d}function m(a){let b=a.length<0?0:0|q(a.length),c=g(b);for(let d=0;d<b;d+=1)c[d]=255&a[d];return c}function n(a){if(_(a,Uint8Array)){let b=new Uint8Array(a);return o(b.buffer,b.byteOffset,b.byteLength)}return m(a)}function o(a,b,c){if(b<0||a.byteLength<b)throw RangeError('"offset" is outside of buffer bounds');if(a.byteLength<b+(c||0))throw RangeError('"length" is outside of buffer bounds');let d;return Object.setPrototypeOf(d=void 0===b&& void 0===c?new Uint8Array(a):void 0===c?new Uint8Array(a,b):new Uint8Array(a,b,c),h.prototype),d}function p(a){if(h.isBuffer(a)){let b=0|q(a.length),c=g(b);return 0===c.length||a.copy(c,0,0,b),c}if(void 0!==a.length){var d;return"number"!=typeof a.length||(d=a.length,d!=d)?g(0):m(a)}if("Buffer"===a.type&&Array.isArray(a.data))return m(a.data)}function q(a){if(a>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|a}function r(a,b){if(h.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||_(a,ArrayBuffer))return a.byteLength;if("string"!=typeof a)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);let c=a.length,d=arguments.length>2&& !0===arguments[2];if(!d&&0===c)return 0;let e=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return W(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return Z(a).length;default:if(e)return d?-1:W(a).length;b=(""+b).toLowerCase(),e=!0}}function s(a,b,c){let d=!1;if((void 0===b||b<0)&&(b=0),b>this.length||((void 0===c||c>this.length)&&(c=this.length),c<=0||(c>>>=0)<=(b>>>=0)))return"";for(a||(a="utf8");;)switch(a){case"hex":return G(this,b,c);case"utf8":case"utf-8":return C(this,b,c);case"ascii":return E(this,b,c);case"latin1":case"binary":return F(this,b,c);case"base64":return B(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,b,c);default:if(d)throw TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function t(a,b,c){let d=a[b];a[b]=a[c],a[c]=d}function u(a,b,c,d,e){var f;if(0===a.length)return -1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c< -2147483648&&(c=-2147483648),f=c=+c,f!=f&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return -1;c=a.length-1}else if(c<0){if(!e)return -1;c=0}if("string"==typeof b&&(b=h.from(b,d)),h.isBuffer(b))return 0===b.length?-1:v(a,b,c,d,e);if("number"==typeof b)return(b&=255,"function"==typeof Uint8Array.prototype.indexOf)?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):v(a,[b],c,d,e);throw TypeError("val must be string, number or Buffer")}function v(a,b,c,d,e){let f=1,g=a.length,h=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return -1;f=2,g/=2,h/=2,c/=2}function i(a,b){return 1===f?a[b]:a.readUInt16BE(b*f)}let j;if(e){let k=-1;for(j=c;j<g;j++)if(i(a,j)===i(b,-1===k?0:j-k)){if(-1===k&&(k=j),j-k+1===h)return k*f}else -1!==k&&(j-=j-k),k=-1}else for(c+h>g&&(c=g-h),j=c;j>=0;j--){let l=!0;for(let m=0;m<h;m++)if(i(a,j+m)!==i(b,m)){l=!1;break}if(l)return j}return -1}function w(a,b,c,d){c=Number(c)||0;let e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;let f=b.length;d>f/2&&(d=f/2);let g;for(g=0;g<d;++g){var h;let i=parseInt(b.substr(2*g,2),16);if(h=i,h!=h)break;a[c+g]=i}return g}function x(a,b,c,d){return $(W(b,a.length-c),a,c,d)}function y(a,b,c,d){return $(X(b),a,c,d)}function z(a,b,c,d){return $(Z(b),a,c,d)}function A(a,b,c,d){return $(Y(b,a.length-c),a,c,d)}function B(a,b,c){return 0===b&&c===a.length?d.fromByteArray(a):d.fromByteArray(a.slice(b,c))}function C(a,b,c){c=Math.min(a.length,c);let d=[],e=b;for(;e<c;){let f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){let i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:(192&(i=a[e+1]))==128&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],(192&i)==128&&(192&j)==128&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],(192&i)==128&&(192&j)==128&&(192&k)==128&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return D(d)}function D(a){let b=a.length;if(b<=4096)return String.fromCharCode.apply(String,a);let c="",d=0;for(;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=4096));return c}function E(a,b,c){let d="";c=Math.min(a.length,c);for(let e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function F(a,b,c){let d="";c=Math.min(a.length,c);for(let e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function G(a,b,c){let d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);let e="";for(let f=b;f<c;++f)e+=aa[a[f]];return e}function H(a,b,c){let d=a.slice(b,c),e="";for(let f=0;f<d.length-1;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function I(a,b,c){if(a%1!=0||a<0)throw RangeError("offset is not uint");if(a+b>c)throw RangeError("Trying to access beyond buffer length")}function J(a,b,c,d,e,f){if(!h.isBuffer(a))throw TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw RangeError('"value" argument is out of bounds');if(c+d>a.length)throw RangeError("Index out of range")}function K(a,b,c,d,e){S(b,d,e,a,c,7);let f=Number(b&BigInt(4294967295));a[c++]=f,f>>=8,a[c++]=f,f>>=8,a[c++]=f,f>>=8,a[c++]=f;let g=Number(b>>BigInt(32)&BigInt(4294967295));return a[c++]=g,g>>=8,a[c++]=g,g>>=8,a[c++]=g,g>>=8,a[c++]=g,c}function L(a,b,c,d,e){S(b,d,e,a,c,7);let f=Number(b&BigInt(4294967295));a[c+7]=f,f>>=8,a[c+6]=f,f>>=8,a[c+5]=f,f>>=8,a[c+4]=f;let g=Number(b>>BigInt(32)&BigInt(4294967295));return a[c+3]=g,g>>=8,a[c+2]=g,g>>=8,a[c+1]=g,g>>=8,a[c]=g,c+8}function M(a,b,c,d,e,f){if(c+d>a.length||c<0)throw RangeError("Index out of range")}function N(a,b,c,d,f){return b=+b,c>>>=0,f||M(a,b,c,4,34028234663852886e22,-34028234663852886e22),e.write(a,b,c,d,23,4),c+4}function O(a,b,c,d,f){return b=+b,c>>>=0,f||M(a,b,c,8,17976931348623157e292,-17976931348623157e292),e.write(a,b,c,d,52,8),c+8}b.Buffer=h,b.SlowBuffer=function(a){return+a!=a&&(a=0),h.alloc(+a)},b.INSPECT_MAX_BYTES=50,b.kMaxLength=2147483647,h.TYPED_ARRAY_SUPPORT=function(){try{let a=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(a,b),42===a.foo()}catch(c){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(a,b,c){return i(a,b,c)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(a,b,c){var d,e,f;return d=a,e=b,f=c,(j(d),d<=0)?g(d):void 0!==e?"string"==typeof f?g(d).fill(e,f):g(d).fill(e):g(d)},h.allocUnsafe=function(a){return k(a)},h.allocUnsafeSlow=function(a){return k(a)},h.isBuffer=function(a){return null!=a&& !0===a._isBuffer&&a!==h.prototype},h.compare=function(a,b){if(_(a,Uint8Array)&&(a=h.from(a,a.offset,a.byteLength)),_(b,Uint8Array)&&(b=h.from(b,b.offset,b.byteLength)),!h.isBuffer(a)||!h.isBuffer(b))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;let c=a.length,d=b.length;for(let e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},h.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(a,b){if(!Array.isArray(a))throw TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return h.alloc(0);let c;if(void 0===b)for(c=0,b=0;c<a.length;++c)b+=a[c].length;let d=h.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){let f=a[c];if(_(f,Uint8Array))e+f.length>d.length?(h.isBuffer(f)||(f=h.from(f)),f.copy(d,e)):Uint8Array.prototype.set.call(d,f,e);else if(h.isBuffer(f))f.copy(d,e);else throw TypeError('"list" argument must be an Array of Buffers');e+=f.length}return d},h.byteLength=r,h.prototype._isBuffer=!0,h.prototype.swap16=function(){let a=this.length;if(a%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<a;b+=2)t(this,b,b+1);return this},h.prototype.swap32=function(){let a=this.length;if(a%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<a;b+=4)t(this,b,b+3),t(this,b+1,b+2);return this},h.prototype.swap64=function(){let a=this.length;if(a%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<a;b+=8)t(this,b,b+7),t(this,b+1,b+6),t(this,b+2,b+5),t(this,b+3,b+4);return this},h.prototype.toString=function(){let a=this.length;return 0===a?"":0===arguments.length?C(this,0,a):s.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(a){if(!h.isBuffer(a))throw TypeError("Argument must be a Buffer");return this===a||0===h.compare(this,a)},h.prototype.inspect=function(){let a="",c=b.INSPECT_MAX_BYTES;return a=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(a+=" ... "),"<Buffer "+a+">"},f&&(h.prototype[f]=h.prototype.inspect),h.prototype.compare=function(a,b,c,d,e){if(_(a,Uint8Array)&&(a=h.from(a,a.offset,a.byteLength)),!h.isBuffer(a))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return -1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;let f=e-d,g=c-b,i=Math.min(f,g),j=this.slice(d,e),k=a.slice(b,c);for(let l=0;l<i;++l)if(j[l]!==k[l]){f=j[l],g=k[l];break}return f<g?-1:g<f?1:0},h.prototype.includes=function(a,b,c){return -1!==this.indexOf(a,b,c)},h.prototype.indexOf=function(a,b,c){return u(this,a,b,c,!0)},h.prototype.lastIndexOf=function(a,b,c){return u(this,a,b,c,!1)},h.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b>>>=0,isFinite(c)?(c>>>=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let f=!1;for(;;)switch(d){case"hex":return w(this,a,b,c);case"utf8":case"utf-8":return x(this,a,b,c);case"ascii":case"latin1":case"binary":return y(this,a,b,c);case"base64":return z(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,a,b,c);default:if(f)throw TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.slice=function(a,b){let c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);let d=this.subarray(a,b);return Object.setPrototypeOf(d,h.prototype),d},h.prototype.readUintLE=h.prototype.readUIntLE=function(a,b,c){a>>>=0,b>>>=0,c||I(a,b,this.length);let d=this[a],e=1,f=0;for(;++f<b&&(e*=256);)d+=this[a+f]*e;return d},h.prototype.readUintBE=h.prototype.readUIntBE=function(a,b,c){a>>>=0,b>>>=0,c||I(a,b,this.length);let d=this[a+ --b],e=1;for(;b>0&&(e*=256);)d+=this[a+ --b]*e;return d},h.prototype.readUint8=h.prototype.readUInt8=function(a,b){return a>>>=0,b||I(a,1,this.length),this[a]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(a,b){return a>>>=0,b||I(a,2,this.length),this[a]|this[a+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(a,b){return a>>>=0,b||I(a,2,this.length),this[a]<<8|this[a+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(a,b){return a>>>=0,b||I(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(a,b){return a>>>=0,b||I(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},h.prototype.readBigUInt64LE=ab(function(a){T(a>>>=0,"offset");let b=this[a],c=this[a+7];(void 0===b|| void 0===c)&&U(a,this.length-8);let d=b+256*this[++a]+65536*this[++a]+16777216*this[++a],e=this[++a]+256*this[++a]+65536*this[++a]+16777216*c;return BigInt(d)+(BigInt(e)<<BigInt(32))}),h.prototype.readBigUInt64BE=ab(function(a){T(a>>>=0,"offset");let b=this[a],c=this[a+7];(void 0===b|| void 0===c)&&U(a,this.length-8);let d=16777216*b+65536*this[++a]+256*this[++a]+this[++a],e=16777216*this[++a]+65536*this[++a]+256*this[++a]+c;return(BigInt(d)<<BigInt(32))+BigInt(e)}),h.prototype.readIntLE=function(a,b,c){a>>>=0,b>>>=0,c||I(a,b,this.length);let d=this[a],e=1,f=0;for(;++f<b&&(e*=256);)d+=this[a+f]*e;return d>=(e*=128)&&(d-=Math.pow(2,8*b)),d},h.prototype.readIntBE=function(a,b,c){a>>>=0,b>>>=0,c||I(a,b,this.length);let d=b,e=1,f=this[a+ --d];for(;d>0&&(e*=256);)f+=this[a+ --d]*e;return f>=(e*=128)&&(f-=Math.pow(2,8*b)),f},h.prototype.readInt8=function(a,b){return(a>>>=0,b||I(a,1,this.length),128&this[a])?-((255-this[a]+1)*1):this[a]},h.prototype.readInt16LE=function(a,b){a>>>=0,b||I(a,2,this.length);let c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},h.prototype.readInt16BE=function(a,b){a>>>=0,b||I(a,2,this.length);let c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},h.prototype.readInt32LE=function(a,b){return a>>>=0,b||I(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},h.prototype.readInt32BE=function(a,b){return a>>>=0,b||I(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},h.prototype.readBigInt64LE=ab(function(a){T(a>>>=0,"offset");let b=this[a],c=this[a+7];(void 0===b|| void 0===c)&&U(a,this.length-8);let d=this[a+4]+256*this[a+5]+65536*this[a+6]+(c<<24);return(BigInt(d)<<BigInt(32))+BigInt(b+256*this[++a]+65536*this[++a]+16777216*this[++a])}),h.prototype.readBigInt64BE=ab(function(a){T(a>>>=0,"offset");let b=this[a],c=this[a+7];(void 0===b|| void 0===c)&&U(a,this.length-8);let d=(b<<24)+65536*this[++a]+256*this[++a]+this[++a];return(BigInt(d)<<BigInt(32))+BigInt(16777216*this[++a]+65536*this[++a]+256*this[++a]+c)}),h.prototype.readFloatLE=function(a,b){return a>>>=0,b||I(a,4,this.length),e.read(this,a,!0,23,4)},h.prototype.readFloatBE=function(a,b){return a>>>=0,b||I(a,4,this.length),e.read(this,a,!1,23,4)},h.prototype.readDoubleLE=function(a,b){return a>>>=0,b||I(a,8,this.length),e.read(this,a,!0,52,8)},h.prototype.readDoubleBE=function(a,b){return a>>>=0,b||I(a,8,this.length),e.read(this,a,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b>>>=0,c>>>=0,!d){let e=Math.pow(2,8*c)-1;J(this,a,b,c,e,0)}let f=1,g=0;for(this[b]=255&a;++g<c&&(f*=256);)this[b+g]=a/f&255;return b+c},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b>>>=0,c>>>=0,!d){let e=Math.pow(2,8*c)-1;J(this,a,b,c,e,0)}let f=c-1,g=1;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=a/g&255;return b+c},h.prototype.writeUint8=h.prototype.writeUInt8=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,1,255,0),this[b]=255&a,b+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,2,65535,0),this[b]=255&a,this[b+1]=a>>>8,b+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,2,65535,0),this[b]=a>>>8,this[b+1]=255&a,b+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,4,4294967295,0),this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a,b+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,4,4294967295,0),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},h.prototype.writeBigUInt64LE=ab(function(a,b=0){return K(this,a,b,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=ab(function(a,b=0){return L(this,a,b,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b>>>=0,!d){let e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}let f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},h.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b>>>=0,!d){let e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}let f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},h.prototype.writeInt8=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,1,127,-128),a<0&&(a=255+a+1),this[b]=255&a,b+1},h.prototype.writeInt16LE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,2,32767,-32768),this[b]=255&a,this[b+1]=a>>>8,b+2},h.prototype.writeInt16BE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,2,32767,-32768),this[b]=a>>>8,this[b+1]=255&a,b+2},h.prototype.writeInt32LE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,4,2147483647,-2147483648),this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24,b+4},h.prototype.writeInt32BE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},h.prototype.writeBigInt64LE=ab(function(a,b=0){return K(this,a,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=ab(function(a,b=0){return L(this,a,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(a,b,c){return N(this,a,b,!0,c)},h.prototype.writeFloatBE=function(a,b,c){return N(this,a,b,!1,c)},h.prototype.writeDoubleLE=function(a,b,c){return O(this,a,b,!0,c)},h.prototype.writeDoubleBE=function(a,b,c){return O(this,a,b,!1,c)},h.prototype.copy=function(a,b,c,d){if(!h.isBuffer(a))throw TypeError("argument should be a Buffer");if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c||0===a.length||0===this.length)return 0;if(b<0)throw RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw RangeError("Index out of range");if(d<0)throw RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);let e=d-c;return this===a&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(b,c,d):Uint8Array.prototype.set.call(a,this.subarray(c,d),b),e},h.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),void 0!==d&&"string"!=typeof d)throw TypeError("encoding must be a string");if("string"==typeof d&&!h.isEncoding(d))throw TypeError("Unknown encoding: "+d);if(1===a.length){let e=a.charCodeAt(0);("utf8"===d&&e<128||"latin1"===d)&&(a=e)}}else"number"==typeof a?a&=255:"boolean"==typeof a&&(a=Number(a));if(b<0||this.length<b||this.length<c)throw RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);let f;if("number"==typeof a)for(f=b;f<c;++f)this[f]=a;else{let g=h.isBuffer(a)?a:h.from(a,d),i=g.length;if(0===i)throw TypeError('The value "'+a+'" is invalid for argument "value"');for(f=0;f<c-b;++f)this[f+b]=g[f%i]}return this};let P={};function Q(a,b,c){P[a]=class extends c{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}function R(a){let b="",c=a.length,d="-"===a[0]?1:0;for(;c>=d+4;c-=3)b=`_${a.slice(c-3,c)}${b}`;return`${a.slice(0,c)}${b}`}function S(a,b,c,d,e,f){var g,h,i;if(a>c||a<b){let j="bigint"==typeof b?"n":"",k;throw k=f>3?0===b||b===BigInt(0)?`>= 0${j} and < 2${j} ** ${(f+1)*8}${j}`:`>= -(2${j} ** ${(f+1)*8-1}${j}) and < 2 ** ${(f+1)*8-1}${j}`:`>= ${b}${j} and <= ${c}${j}`,new P.ERR_OUT_OF_RANGE("value",k,a)}g=d,h=e,i=f,T(h,"offset"),(void 0===g[h]|| void 0===g[h+i])&&U(h,g.length-(i+1))}function T(a,b){if("number"!=typeof a)throw new P.ERR_INVALID_ARG_TYPE(b,"number",a)}function U(a,b,c){if(Math.floor(a)!==a)throw T(a,c),new P.ERR_OUT_OF_RANGE(c||"offset","an integer",a);if(b<0)throw new P.ERR_BUFFER_OUT_OF_BOUNDS;throw new P.ERR_OUT_OF_RANGE(c||"offset",`>= ${c?1:0} and <= ${b}`,a)}Q("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(a,b){return`The "${a}" argument must be of type number. Received type ${typeof b}`},TypeError),Q("ERR_OUT_OF_RANGE",function(a,b,c){let d=`The value of "${a}" is out of range.`,e=c;return Number.isInteger(c)&&Math.abs(c)>4294967296?e=R(String(c)):"bigint"==typeof c&&(e=String(c),(c>BigInt(2)**BigInt(32)||c< -(BigInt(2)**BigInt(32)))&&(e=R(e)),e+="n"),d+=` It must be ${b}. Received ${e}`},RangeError);let V=/[^+/0-9A-Za-z-_]/g;function W(a,b){b=b||1/0;let c,d=a.length,e=null,f=[];for(let g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319||g+1===d){(b-=3)> -1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)> -1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)> -1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else if(c<1114112){if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}else throw Error("Invalid code point")}return f}function X(a){let b=[];for(let c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function Y(a,b){let c,d,e,f=[];for(let g=0;g<a.length&&!((b-=2)<0);++g)d=(c=a.charCodeAt(g))>>8,e=c%256,f.push(e),f.push(d);return f}function Z(a){return d.toByteArray(function(a){if((a=(a=a.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;a.length%4!=0;)a+="=";return a}(a))}function $(a,b,c,d){let e;for(e=0;e<d&&!(e+c>=b.length)&&!(e>=a.length);++e)b[e+c]=a[e];return e}function _(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&a.constructor.name===b.name}let aa=function(){let a="0123456789abcdef",b=Array(256);for(let c=0;c<16;++c){let d=16*c;for(let e=0;e<16;++e)b[d+e]=a[c]+a[e]}return b}();function ab(a){return"undefined"==typeof BigInt?ac:a}function ac(){throw Error("BigInt not supported")}},95456:function(a){"use strict";a.exports=function a(b){return null===b||"object"!=typeof b||null!=b.toJSON?JSON.stringify(b):Array.isArray(b)?"["+b.reduce((b,c,d)=>{let e=0===d?"":",",f=void 0===c||"symbol"==typeof c?null:c;return b+e+a(f)},"")+"]":"{"+Object.keys(b).sort().reduce((c,d,e)=>{if(void 0===b[d]||"symbol"==typeof b[d])return c;let f=0===c.length?"":",";return c+f+a(d)+":"+a(b[d])},"")+"}"}},54098:function(a,b){var c="undefined"!=typeof self?self:this,d=function(){function a(){this.fetch=!1,this.DOMException=c.DOMException}return a.prototype=c,new a}();!function(a){(function(b){var c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],e=ArrayBuffer.isView||function(a){return a&&d.indexOf(Object.prototype.toString.call(a))> -1};function f(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw TypeError("Invalid character in header field name");return a.toLowerCase()}function g(a){return"string"!=typeof a&&(a=String(a)),a}function h(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return c.iterable&&(b[Symbol.iterator]=function(){return b}),b}function i(a){this.map={},a instanceof i?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function j(a){if(a.bodyUsed)return Promise.reject(TypeError("Already read"));a.bodyUsed=!0}function k(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function l(a){var b=new FileReader,c=k(b);return b.readAsArrayBuffer(a),c}function m(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function n(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a){if("string"==typeof a)this._bodyText=a;else if(c.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(c.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(c.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else{var b;c.arrayBuffer&&c.blob&&(b=a)&&DataView.prototype.isPrototypeOf(b)?(this._bodyArrayBuffer=m(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||e(a))?this._bodyArrayBuffer=m(a):this._bodyText=a=Object.prototype.toString.call(a)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var a=j(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var a,b,c,d=j(this);if(d)return d;if(this._bodyBlob)return a=this._bodyBlob,b=new FileReader,c=k(b),b.readAsText(a),c;if(this._bodyArrayBuffer)return Promise.resolve(function(a){for(var b=new Uint8Array(a),c=Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},c.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}i.prototype.append=function(a,b){a=f(a),b=g(b);var c=this.map[a];this.map[a]=c?c+", "+b:b},i.prototype.delete=function(a){delete this.map[f(a)]},i.prototype.get=function(a){return a=f(a),this.has(a)?this.map[a]:null},i.prototype.has=function(a){return this.map.hasOwnProperty(f(a))},i.prototype.set=function(a,b){this.map[f(a)]=g(b)},i.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},i.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),h(a)},i.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),h(a)},i.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),h(a)},c.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(a,b){var c,d,e=(b=b||{}).body;if(a instanceof p){if(a.bodyUsed)throw TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new i(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,e||null==a._bodyInit||(e=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"same-origin",(b.headers||!this.headers)&&(this.headers=new i(b.headers)),this.method=(d=(c=b.method||this.method||"GET").toUpperCase(),o.indexOf(d)> -1?d:c),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(e)}function q(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function r(a,b){b||(b={}),this.type="default",this.status=void 0===b.status?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new i(b.headers),this.url=b.url||"",this._initBody(a)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},n.call(p.prototype),n.call(r.prototype),r.prototype.clone=function(){return new r(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},r.error=function(){var a=new r(null,{status:0,statusText:""});return a.type="error",a};var s=[301,302,303,307,308];r.redirect=function(a,b){if(-1===s.indexOf(b))throw RangeError("Invalid status code");return new r(null,{status:b,headers:{location:a}})},b.DOMException=a.DOMException;try{new b.DOMException}catch(t){b.DOMException=function(a,b){this.message=a,this.name=b;var c=Error(a);this.stack=c.stack},b.DOMException.prototype=Object.create(Error.prototype),b.DOMException.prototype.constructor=b.DOMException}function u(a,d){return new Promise(function(e,f){var g=new p(a,d);if(g.signal&&g.signal.aborted)return f(new b.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function j(){h.abort()}h.onload=function(){var a,b,c={status:h.status,statusText:h.statusText,headers:(a=h.getAllResponseHeaders()||"",b=new i,a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b)};c.url="responseURL"in h?h.responseURL:c.headers.get("X-Request-URL");var d="response"in h?h.response:h.responseText;e(new r(d,c))},h.onerror=function(){f(TypeError("Network request failed"))},h.ontimeout=function(){f(TypeError("Network request failed"))},h.onabort=function(){f(new b.DOMException("Aborted","AbortError"))},h.open(g.method,g.url,!0),"include"===g.credentials?h.withCredentials=!0:"omit"===g.credentials&&(h.withCredentials=!1),"responseType"in h&&c.blob&&(h.responseType="blob"),g.headers.forEach(function(a,b){h.setRequestHeader(b,a)}),g.signal&&(g.signal.addEventListener("abort",j),h.onreadystatechange=function(){4===h.readyState&&g.signal.removeEventListener("abort",j)}),h.send(void 0===g._bodyInit?null:g._bodyInit)})}u.polyfill=!0,a.fetch||(a.fetch=u,a.Headers=i,a.Request=p,a.Response=r),b.Headers=i,b.Request=p,b.Response=r,b.fetch=u,Object.defineProperty(b,"__esModule",{value:!0})})({})}(d),d.fetch.ponyfill=!0,delete d.fetch.polyfill;var e=d;(b=e.fetch).default=e.fetch,b.fetch=e.fetch,b.Headers=e.Headers,b.Request=e.Request,b.Response=e.Response,a.exports=b},17187:function(a){"use strict";var b,c="object"==typeof Reflect?Reflect:null,d=c&&"function"==typeof c.apply?c.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c)};b=c&&"function"==typeof c.ownKeys?c.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var e=Number.isNaN||function(a){return a!=a};function f(){f.init.call(this)}a.exports=f,a.exports.once=function(a,b){return new Promise(function(c,d){function e(c){a.removeListener(b,f),d(c)}function f(){"function"==typeof a.removeListener&&a.removeListener("error",e),c([].slice.call(arguments))}r(a,b,f,{once:!0}),"error"!==b&&q(a,e,{once:!0})})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var g=10;function h(a){if("function"!=typeof a)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function i(a){return void 0===a._maxListeners?f.defaultMaxListeners:a._maxListeners}function j(a,b,c,d){if(h(c),void 0===(f=a._events)?(f=a._events=Object.create(null),a._eventsCount=0):(void 0!==f.newListener&&(a.emit("newListener",b,c.listener?c.listener:c),f=a._events),g=f[b]),void 0===g)g=f[b]=c,++a._eventsCount;else if("function"==typeof g?g=f[b]=d?[c,g]:[g,c]:d?g.unshift(c):g.push(c),(e=i(a))>0&&g.length>e&&!g.warned){g.warned=!0;var e,f,g,j,k=Error("Possible EventEmitter memory leak detected. "+g.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=a,k.type=b,k.count=g.length,j=k,console&&console.warn&&console.warn(j)}return a}function k(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(a,b,c){var d={fired:!1,wrapFn:void 0,target:a,type:b,listener:c},e=k.bind(d);return e.listener=c,d.wrapFn=e,e}function m(a,b,c){var d=a._events;if(void 0===d)return[];var e=d[b];return void 0===e?[]:"function"==typeof e?c?[e.listener||e]:[e]:c?p(e):o(e,e.length)}function n(a){var b=this._events;if(void 0!==b){var c=b[a];if("function"==typeof c)return 1;if(void 0!==c)return c.length}return 0}function o(a,b){for(var c=Array(b),d=0;d<b;++d)c[d]=a[d];return c}function p(a){for(var b=Array(a.length),c=0;c<b.length;++c)b[c]=a[c].listener||a[c];return b}function q(a,b,c){"function"==typeof a.on&&r(a,"error",b,c)}function r(a,b,c,d){if("function"==typeof a.on)d.once?a.once(b,c):a.on(b,c);else if("function"==typeof a.addEventListener)a.addEventListener(b,function e(f){d.once&&a.removeEventListener(b,e),c(f)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(a){if("number"!=typeof a||a<0||e(a))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");g=a}}),f.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(a){if("number"!=typeof a||a<0||e(a))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},f.prototype.getMaxListeners=function(){return i(this)},f.prototype.emit=function(a){for(var b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);var e="error"===a,f=this._events;if(void 0!==f)e=e&& void 0===f.error;else if(!e)return!1;if(e){if(b.length>0&&(g=b[0]),g instanceof Error)throw g;var g,h=Error("Unhandled error."+(g?" ("+g.message+")":""));throw h.context=g,h}var i=f[a];if(void 0===i)return!1;if("function"==typeof i)d(i,this,b);else for(var j=i.length,k=o(i,j),c=0;c<j;++c)d(k[c],this,b);return!0},f.prototype.addListener=function(a,b){return j(this,a,b,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(a,b){return j(this,a,b,!0)},f.prototype.once=function(a,b){return h(b),this.on(a,l(this,a,b)),this},f.prototype.prependOnceListener=function(a,b){return h(b),this.prependListener(a,l(this,a,b)),this},f.prototype.removeListener=function(a,b){var c,d,e,f,g;if(h(b),void 0===(d=this._events)|| void 0===(c=d[a]))return this;if(c===b||c.listener===b)0== --this._eventsCount?this._events=Object.create(null):(delete d[a],d.removeListener&&this.emit("removeListener",a,c.listener||b));else if("function"!=typeof c){for(e=-1,f=c.length-1;f>=0;f--)if(c[f]===b||c[f].listener===b){g=c[f].listener,e=f;break}if(e<0)return this;0===e?c.shift():function a(b,c){for(;c+1<b.length;c++)b[c]=b[c+1];b.pop()}(c,e),1===c.length&&(d[a]=c[0]),void 0!==d.removeListener&&this.emit("removeListener",a,g||b)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(a){var b,c,d;if(void 0===(c=this._events))return this;if(void 0===c.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==c[a]&&(0== --this._eventsCount?this._events=Object.create(null):delete c[a]),this;if(0===arguments.length){var e,f=Object.keys(c);for(d=0;d<f.length;++d)"removeListener"!==(e=f[d])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(b=c[a]))this.removeListener(a,b);else if(void 0!==b)for(d=b.length-1;d>=0;d--)this.removeListener(a,b[d]);return this},f.prototype.listeners=function(a){return m(this,a,!0)},f.prototype.rawListeners=function(a){return m(this,a,!1)},f.listenerCount=function(a,b){return"function"==typeof a.listenerCount?a.listenerCount(b):n.call(a,b)},f.prototype.listenerCount=n,f.prototype.eventNames=function(){return this._eventsCount>0?b(this._events):[]}},12475:function(a,b,c){"use strict";var d=c(48764).Buffer,e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g=/\s|\uFEFF|\xA0/,h=/\r?\n[\x20\x09]+/g,i=/[;,"]/,j=/[;,"]|\s/,k=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,l={IDLE:1,URI:2,ATTR:4};function m(a){return a.replace(f,"")}function n(a){return g.test(a)}function o(a,b){for(;n(a[b]);)b++;return b}function p(a){return j.test(a)||!k.test(a)}class q{constructor(a){this.refs=[],a&&this.parse(a)}rel(a){for(var b=[],c=a.toLowerCase(),d=0;d<this.refs.length;d++)this.refs[d].rel.toLowerCase()===c&&b.push(this.refs[d]);return b}get(a,b){a=a.toLowerCase();for(var c=[],d=0;d<this.refs.length;d++)this.refs[d][a]===b&&c.push(this.refs[d]);return c}set(a){return this.refs.push(a),this}has(a,b){a=a.toLowerCase();for(var c=0;c<this.refs.length;c++)if(this.refs[c][a]===b)return!0;return!1}parse(a,b){a=(b=b||0)?a.slice(b):a,a=m(a).replace(h,"");for(var c=l.IDLE,d=a.length,b=0,e=null;b<d;)if(c===l.IDLE){if(n(a[b])){b++;continue}if("<"===a[b]){null!=e&&(null!=e.rel?this.refs.push(...q.expandRelations(e)):this.refs.push(e));var f=a.indexOf(">",b);if(-1===f)throw Error("Expected end of URI delimiter at offset "+b);e={uri:a.slice(b+1,f)},b=f,c=l.URI}else throw Error('Unexpected character "'+a[b]+'" at offset '+b);b++}else if(c===l.URI){if(n(a[b])){b++;continue}if(";"===a[b])c=l.ATTR,b++;else if(","===a[b])c=l.IDLE,b++;else throw Error('Unexpected character "'+a[b]+'" at offset '+b)}else if(c===l.ATTR){if(";"===a[b]||n(a[b])){b++;continue}var f=a.indexOf("=",b);if(-1===f)throw Error("Expected attribute delimiter at offset "+b);var g=m(a.slice(b,f)).toLowerCase(),j="";if(b=o(a,b=f+1),'"'===a[b])for(b++;b<d;){if('"'===a[b]){b++;break}"\\"===a[b]&&b++,j+=a[b],b++}else{for(var f=b+1;!i.test(a[f])&&f<d;)f++;j=a.slice(b,f),b=f}switch(e[g]&&q.isSingleOccurenceAttr(g)||("*"===g[g.length-1]?e[g]=q.parseExtendedValue(j):(j="type"===g?j.toLowerCase():j,null!=e[g]?Array.isArray(e[g])?e[g].push(j):e[g]=[e[g],j]:e[g]=j)),a[b]){case",":c=l.IDLE;break;case";":c=l.ATTR}b++}else throw Error('Unknown parser state "'+c+'"');return null!=e&&(null!=e.rel?this.refs.push(...q.expandRelations(e)):this.refs.push(e)),e=null,this}toString(){for(var a=[],b="",c=null,d=0;d<this.refs.length;d++)c=this.refs[d],a.push(b=Object.keys(this.refs[d]).reduce(function(a,b){return"uri"===b?a:a+"; "+q.formatAttribute(b,c[b])},"<"+c.uri+">"));return a.join(", ")}}q.isCompatibleEncoding=function(a){return e.test(a)},q.parse=function(a,b){return new q().parse(a,b)},q.isSingleOccurenceAttr=function(a){return"rel"===a||"type"===a||"media"===a||"title"===a||"title*"===a},q.isTokenAttr=function(a){return"rel"===a||"type"===a||"anchor"===a},q.escapeQuotes=function(a){return a.replace(/"/g,'\\"')},q.expandRelations=function(a){return a.rel.split(" ").map(function(b){var c=Object.assign({},a);return c.rel=b,c})},q.parseExtendedValue=function(a){var b=/([^']+)?(?:'([^']*)')?(.+)/.exec(a);return{language:b[2].toLowerCase(),encoding:q.isCompatibleEncoding(b[1])?null:b[1].toLowerCase(),value:q.isCompatibleEncoding(b[1])?decodeURIComponent(b[3]):b[3]}},q.formatExtendedAttribute=function(a,b){var c=(b.encoding||"utf-8").toUpperCase(),e=b.language||"en",f="";return f=d.isBuffer(b.value)&&q.isCompatibleEncoding(c)?b.value.toString(c):d.isBuffer(b.value)?b.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(b.value),a+"="+c+"'"+e+"'"+f},q.formatAttribute=function(a,b){return Array.isArray(b)?b.map(b=>q.formatAttribute(a,b)).join("; "):"*"===a[a.length-1]||"string"!=typeof b?q.formatExtendedAttribute(a,b):(q.isTokenAttr(a)?b=p(b)?'"'+q.escapeQuotes(b)+'"':q.escapeQuotes(b):p(b)&&(b='"'+(b=(b=encodeURIComponent(b)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),a+"="+b)},a.exports=q},80645:function(a,b){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ b.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<< -k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<< -k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?5960464477539062e-23:0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(isNaN(b=Math.abs(b))||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),g+l>=1?b+=m/i:b+=m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},35717:function(a){"function"==typeof Object.create?a.exports=function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(a,b){if(b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}},68058:function(a,b,c){"use strict";let{isArray:d,isObject:e,isString:f}=c(30832),{asArray:g}=c(51055),{prependBase:h}=c(82278),i=c(54093),j=c(26767);function k(a){throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:a})}function l({context:a,base:b}){if(!a)return;let c=a["@context"];if(f(c)){a["@context"]=h(b,c);return}if(d(c)){for(let g=0;g<c.length;++g){let i=c[g];if(f(i)){c[g]=h(b,i);continue}e(i)&&l({context:{"@context":i},base:b})}return}if(e(c))for(let j in c)l({context:c[j],base:b})}a.exports=class{constructor({sharedCache:a}){this.perOpCache=new Map,this.sharedCache=a}async resolve({activeCtx:a,context:b,documentLoader:c,base:h,cycles:i=new Set}){b&&e(b)&&b["@context"]&&(b=b["@context"]),b=g(b);let l=[];for(let m of b){if(f(m)){let n=this._get(m);n||(n=await this._resolveRemoteContext({activeCtx:a,url:m,documentLoader:c,base:h,cycles:i})),d(n)?l.push(...n):l.push(n);continue}if(null===m){l.push(new j({document:null}));continue}e(m)||k(b);let o=JSON.stringify(m),p=this._get(o);p||(p=new j({document:m}),this._cacheResolvedContext({key:o,resolved:p,tag:"static"})),l.push(p)}return l}_get(a){let b=this.perOpCache.get(a);if(!b){let c=this.sharedCache.get(a);c&&(b=c.get("static"))&&this.perOpCache.set(a,b)}return b}_cacheResolvedContext({key:a,resolved:b,tag:c}){if(this.perOpCache.set(a,b),void 0!==c){let d=this.sharedCache.get(a);d||(d=new Map,this.sharedCache.set(a,d)),d.set(c,b)}return b}async _resolveRemoteContext({activeCtx:a,url:b,documentLoader:c,base:d,cycles:e}){b=h(d,b);let{context:f,remoteDoc:g}=await this._fetchContext({activeCtx:a,url:b,documentLoader:c,cycles:e});d=g.documentUrl||b,l({context:f,base:d});let i=await this.resolve({activeCtx:a,context:f,documentLoader:c,base:d,cycles:e});return this._cacheResolvedContext({key:b,resolved:i,tag:g.tag}),i}async _fetchContext({activeCtx:a,url:b,documentLoader:c,cycles:g}){if(g.size>10)throw new i("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===a.processingMode?"loading remote context failed":"context overflow",max:10});if(g.has(b))throw new i("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===a.processingMode?"recursive context inclusion":"context overflow",url:b});g.add(b);let h,j;try{h=(j=await c(b)).document||null,f(h)&&(h=JSON.parse(h))}catch(k){throw new i("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:b,cause:k})}if(!e(h))throw new i("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:b});return h="@context"in h?{"@context":h["@context"]}:{"@context":{}},j.contextUrl&&(d(h["@context"])||(h["@context"]=[h["@context"]]),h["@context"].push(j.contextUrl)),{context:h,remoteDoc:j}}}},54093:function(a){"use strict";a.exports=class extends Error{constructor(a="An unspecified JSON-LD error occurred.",b="jsonld.Error",c={}){super(a),this.name=b,this.message=a,this.details=c}}},60731:function(a){"use strict";a.exports=a=>{class b{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(b,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(b.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:b}),b.compact=function(b,c){return arguments.length<2?Promise.reject(TypeError("Could not compact, too few arguments.")):a.compact(b,c)},b.expand=function(b){return arguments.length<1?Promise.reject(TypeError("Could not expand, too few arguments.")):a.expand(b)},b.flatten=function(b){return arguments.length<1?Promise.reject(TypeError("Could not flatten, too few arguments.")):a.flatten(b)},b}},69048:function(a,b,c){"use strict";a.exports=c(47055).NQuads},40533:function(a){"use strict";a.exports=class{constructor(){this._requests={}}wrapLoader(a){let b=this;return b._loader=a,function(){return b.add.apply(b,arguments)}}async add(a){let b=this._requests[a];if(b)return Promise.resolve(b);b=this._requests[a]=this._loader(a);try{return await b}finally{delete this._requests[a]}}}},26767:function(a,b,c){"use strict";let d=c(39593);a.exports=class{constructor({document:a}){this.document=a,this.cache=new d({max:10})}getProcessed(a){return this.cache.get(a)}setProcessed(a,b){this.cache.set(a,b)}}},83251:function(a,b,c){"use strict";let d=c(54093),{isArray:e,isObject:f,isString:g,isUndefined:h}=c(30832),{isList:i,isValue:j,isGraph:k,isSimpleGraph:l,isSubjectReference:m}=c(18463),{expandIri:n,getContextValue:o,isKeyword:p,process:q,processingMode:r}=c(54131),{removeBase:s,prependBase:t}=c(82278),{addValue:u,asArray:v,compareShortestLeast:w}=c(51055),x={};function y(a,b,c,d,e,g){null===g&&(g="@null");let h=[];if(("@id"===g||"@reverse"===g)&&f(c)&&"@id"in c){"@reverse"===g&&h.push("@reverse");let i=x.compactIri({activeCtx:a,iri:c["@id"],relativeTo:{vocab:!0}});a.mappings.has(i)&&a.mappings.get(i)&&a.mappings.get(i)["@id"]===c["@id"]?h.push.apply(h,["@vocab","@id"]):h.push.apply(h,["@id","@vocab"])}else{h.push(g);let j=h.find(a=>a.includes("_"));j&&h.push(j.replace(/^[^_]+_/,"_"))}h.push("@none");let k=a.inverse[b];for(let l of d){if(!(l in k))continue;let m=k[l][e];for(let n of h)if(n in m)return m[n]}return null}function z(a,b,c){if("@nest"!==n(a,b,{vocab:!0},c))throw new d("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}a.exports=x,x.compact=async({activeCtx:a,activeProperty:b=null,element:c,options:n={},compactionMap:s=()=>void 0})=>{if(e(c)){let t=[];for(let w=0;w<c.length;++w){let y=await x.compact({activeCtx:a,activeProperty:b,element:c[w],options:n,compactionMap:s});(null!==y|| void 0!==(y=await s({unmappedValue:c[w],activeCtx:a,activeProperty:b,parent:c,index:w,options:n})))&&t.push(y)}if(n.compactArrays&&1===t.length){let A=o(a,b,"@container")||[];0===A.length&&(t=t[0])}return t}let B=o(a,b,"@context");if(h(B)||(a=await q({activeCtx:a,localCtx:B,propagate:!0,overrideProtected:!0,options:n})),f(c)){if(n.link&&"@id"in c&&n.link.hasOwnProperty(c["@id"])){let C=n.link[c["@id"]];for(let D=0;D<C.length;++D)if(C[D].expanded===c)return C[D].compacted}if(j(c)||m(c)){let E=x.compactValue({activeCtx:a,activeProperty:b,value:c,options:n});return n.link&&m(c)&&(n.link.hasOwnProperty(c["@id"])||(n.link[c["@id"]]=[]),n.link[c["@id"]].push({expanded:c,compacted:E})),E}if(i(c)){let F=o(a,b,"@container")||[];if(F.includes("@list"))return x.compact({activeCtx:a,activeProperty:b,element:c["@list"],options:n,compactionMap:s})}let G="@reverse"===b,H={},I=a;j(c)||m(c)||(a=a.revertToPreviousContext());let J=o(I,b,"@context");h(J)||(a=await q({activeCtx:a,localCtx:J,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in c&&(n.link.hasOwnProperty(c["@id"])||(n.link[c["@id"]]=[]),n.link[c["@id"]].push({expanded:c,compacted:H}));let K=c["@type"]||[];K.length>1&&(K=Array.from(K).sort());let L=a;for(let M of K){let N=x.compactIri({activeCtx:L,iri:M,relativeTo:{vocab:!0}}),O=o(I,N,"@context");h(O)||(a=await q({activeCtx:a,localCtx:O,options:n,propagate:!1}))}let P=Object.keys(c).sort();for(let Q of P){let R=c[Q];if("@id"===Q){let S=v(R).map(b=>x.compactIri({activeCtx:a,iri:b,relativeTo:{vocab:!1},base:n.base}));1===S.length&&(S=S[0]);let T=x.compactIri({activeCtx:a,iri:"@id",relativeTo:{vocab:!0}});H[T]=S;continue}if("@type"===Q){let U=v(R).map(a=>x.compactIri({activeCtx:I,iri:a,relativeTo:{vocab:!0}}));1===U.length&&(U=U[0]);let V=x.compactIri({activeCtx:a,iri:"@type",relativeTo:{vocab:!0}}),W=o(a,V,"@container")||[],X=W.includes("@set")&&r(a,1.1),Y=X||e(U)&&0===R.length;u(H,V,U,{propertyIsArray:Y});continue}if("@reverse"===Q){let Z=await x.compact({activeCtx:a,activeProperty:"@reverse",element:R,options:n,compactionMap:s});for(let $ in Z)if(a.mappings.has($)&&a.mappings.get($).reverse){let _=Z[$],aa=o(a,$,"@container")||[],ab=aa.includes("@set")||!n.compactArrays;u(H,$,_,{propertyIsArray:ab}),delete Z[$]}if(Object.keys(Z).length>0){let ac=x.compactIri({activeCtx:a,iri:Q,relativeTo:{vocab:!0}});u(H,ac,Z)}continue}if("@preserve"===Q){let ad=await x.compact({activeCtx:a,activeProperty:b,element:R,options:n,compactionMap:s});e(ad)&&0===ad.length||u(H,Q,ad);continue}if("@index"===Q){let ae=o(a,b,"@container")||[];if(ae.includes("@index"))continue;let af=x.compactIri({activeCtx:a,iri:Q,relativeTo:{vocab:!0}});u(H,af,R);continue}if("@graph"!==Q&&"@list"!==Q&&"@included"!==Q&&p(Q)){let ag=x.compactIri({activeCtx:a,iri:Q,relativeTo:{vocab:!0}});u(H,ag,R);continue}if(!e(R))throw new d("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===R.length){let ah=x.compactIri({activeCtx:a,iri:Q,value:R,relativeTo:{vocab:!0},reverse:G}),ai=a.mappings.has(ah)?a.mappings.get(ah)["@nest"]:null,aj=H;ai&&(z(a,ai,n),f(H[ai])||(H[ai]={}),aj=H[ai]),u(aj,ah,R,{propertyIsArray:!0})}for(let ak of R){let al=x.compactIri({activeCtx:a,iri:Q,value:ak,relativeTo:{vocab:!0},reverse:G}),am=a.mappings.has(al)?a.mappings.get(al)["@nest"]:null,an=H;am&&(z(a,am,n),f(H[am])||(H[am]={}),an=H[am]);let ao=o(a,al,"@container")||[],ap=k(ak),aq=i(ak),ar;aq?ar=ak["@list"]:ap&&(ar=ak["@graph"]);let as=await x.compact({activeCtx:a,activeProperty:al,element:aq||ap?ar:ak,options:n,compactionMap:s});if(aq){if(e(as)||(as=[as]),ao.includes("@list")){u(an,al,as,{valueIsArray:!0,allowDuplicate:!0});continue}as={[x.compactIri({activeCtx:a,iri:"@list",relativeTo:{vocab:!0}})]:as},"@index"in ak&&(as[x.compactIri({activeCtx:a,iri:"@index",relativeTo:{vocab:!0}})]=ak["@index"])}if(ap){if(ao.includes("@graph")&&(ao.includes("@id")||ao.includes("@index")&&l(ak))){let at;an.hasOwnProperty(al)?at=an[al]:an[al]=at={};let au=(ao.includes("@id")?ak["@id"]:ak["@index"])||x.compactIri({activeCtx:a,iri:"@none",relativeTo:{vocab:!0}});u(at,au,as,{propertyIsArray:!n.compactArrays||ao.includes("@set")})}else ao.includes("@graph")&&l(ak)?(e(as)&&as.length>1&&(as={"@included":as}),u(an,al,as,{propertyIsArray:!n.compactArrays||ao.includes("@set")})):(e(as)&&1===as.length&&n.compactArrays&&(as=as[0]),as={[x.compactIri({activeCtx:a,iri:"@graph",relativeTo:{vocab:!0}})]:as},"@id"in ak&&(as[x.compactIri({activeCtx:a,iri:"@id",relativeTo:{vocab:!0}})]=ak["@id"]),"@index"in ak&&(as[x.compactIri({activeCtx:a,iri:"@index",relativeTo:{vocab:!0}})]=ak["@index"]),u(an,al,as,{propertyIsArray:!n.compactArrays||ao.includes("@set")}))}else if(ao.includes("@language")||ao.includes("@index")||ao.includes("@id")||ao.includes("@type")){let av;an.hasOwnProperty(al)?av=an[al]:an[al]=av={};let aw;if(ao.includes("@language"))j(as)&&(as=as["@value"]),aw=ak["@language"];else if(ao.includes("@index")){let ax=o(a,al,"@index")||"@index",ay=x.compactIri({activeCtx:a,iri:ax,relativeTo:{vocab:!0}});if("@index"===ax)aw=ak["@index"],delete as[ay];else{let az;if([aw,...az]=v(as[ax]||[]),g(aw))switch(az.length){case 0:delete as[ax];break;case 1:as[ax]=az[0];break;default:as[ax]=az}else aw=null}}else if(ao.includes("@id")){let aA=x.compactIri({activeCtx:a,iri:"@id",relativeTo:{vocab:!0}});aw=as[aA],delete as[aA]}else if(ao.includes("@type")){let aB=x.compactIri({activeCtx:a,iri:"@type",relativeTo:{vocab:!0}}),aC;switch([aw,...aC]=v(as[aB]||[]),aC.length){case 0:delete as[aB];break;case 1:as[aB]=aC[0];break;default:as[aB]=aC}1===Object.keys(as).length&&"@id"in ak&&(as=await x.compact({activeCtx:a,activeProperty:al,element:{"@id":ak["@id"]},options:n,compactionMap:s}))}aw||(aw=x.compactIri({activeCtx:a,iri:"@none",relativeTo:{vocab:!0}})),u(av,aw,as,{propertyIsArray:ao.includes("@set")})}else{let aD=!n.compactArrays||ao.includes("@set")||ao.includes("@list")||e(as)&&0===as.length||"@list"===Q||"@graph"===Q;u(an,al,as,{propertyIsArray:aD})}}}return H}return c},x.compactIri=({activeCtx:a,iri:b,value:c=null,relativeTo:e={vocab:!1},reverse:g=!1,base:h=null})=>{if(null===b)return b;a.isPropertyTermScoped&&a.previousContext&&(a=a.previousContext);let l=a.getInverse();if(p(b)&&b in l&&"@none"in l[b]&&"@type"in l[b]["@none"]&&"@none"in l[b]["@none"]["@type"])return l[b]["@none"]["@type"]["@none"];if(e.vocab&&b in l){let m=a["@language"]||"@none",n=[];f(c)&&"@index"in c&&!("@graph"in c)&&n.push("@index","@index@set"),f(c)&&"@preserve"in c&&(c=c["@preserve"][0]),k(c)?("@index"in c&&n.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in c&&n.push("@graph@id","@graph@id@set"),n.push("@graph","@graph@set","@set"),"@index"in c||n.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in c||n.push("@graph@id","@graph@id@set")):f(c)&&!j(c)&&n.push("@id","@id@set","@type","@set@type");let o="@language",q="@null";if(g)o="@type",q="@reverse",n.push("@set");else if(i(c)){"@index"in c||n.push("@list");let r=c["@list"];if(0===r.length)o="@any",q="@none";else{let u=0===r.length?m:null,v=null;for(let x=0;x<r.length;++x){let z=r[x],A="@none",B="@none";if(j(z)){if("@direction"in z){let C=(z["@language"]||"").toLowerCase(),D=z["@direction"];A=`${C}_${D}`}else"@language"in z?A=z["@language"].toLowerCase():"@type"in z?B=z["@type"]:A="@null"}else B="@id";if(null===u?u=A:A!==u&&j(z)&&(u="@none"),null===v?v=B:B!==v&&(v="@none"),"@none"===u&&"@none"===v)break}u=u||"@none","@none"!==(v=v||"@none")?(o="@type",q=v):q=u}}else{if(j(c)){if("@language"in c&&!("@index"in c)){n.push("@language","@language@set"),q=c["@language"];let E=c["@direction"];E&&(q=`${q}_${E}`)}else"@direction"in c&&!("@index"in c)?q=`_${c["@direction"]}`:"@type"in c&&(o="@type",q=c["@type"])}else o="@type",q="@id";n.push("@set")}n.push("@none"),!f(c)||"@index"in c||n.push("@index","@index@set"),j(c)&&1===Object.keys(c).length&&n.push("@language","@language@set");let F=y(a,b,c,n,o,q);if(null!==F)return F}if(e.vocab&&"@vocab"in a){let G=a["@vocab"];if(0===b.indexOf(G)&&b!==G){let H=b.substr(G.length);if(!a.mappings.has(H))return H}}let I=null,J=[],K=a.fastCurieMap,L=b.length-1;for(let M=0;M<L&&(b[M]in K);++M)""in(K=K[b[M]])&&J.push(K[""][0]);for(let N=J.length-1;N>=0;--N){let O=J[N],P=O.terms;for(let Q of P){let R=Q+":"+b.substr(O.iri.length),S=a.mappings.get(Q)._prefix&&(!a.mappings.has(R)||null===c&&a.mappings.get(R)["@id"]===b);S&&(null===I||0>w(R,I))&&(I=R)}}if(null!==I)return I;for(let[T,U]of a.mappings)if(U&&U._prefix&&b.startsWith(T+":"))throw new d(`Absolute IRI "${b}" confused with prefix "${T}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:a});if(!e.vocab){if(!("@base"in a))return s(h,b);if(a["@base"])return s(t(h,a["@base"]),b)}return b},x.compactValue=({activeCtx:a,activeProperty:b,value:c,options:d})=>{if(j(c)){let e=o(a,b,"@type"),f=o(a,b,"@language"),h=o(a,b,"@direction"),i=o(a,b,"@container")||[],k="@index"in c&&!i.includes("@index");if(!k&&"@none"!==e&&(c["@type"]===e||"@language"in c&&c["@language"]===f&&"@direction"in c&&c["@direction"]===h||"@language"in c&&c["@language"]===f||"@direction"in c&&c["@direction"]===h))return c["@value"];let l=Object.keys(c).length,m=1===l||2===l&&"@index"in c&&!k,p="@language"in a,q=g(c["@value"]),r=a.mappings.has(b)&&null===a.mappings.get(b)["@language"];if(m&&"@none"!==e&&(!p||!q||r))return c["@value"];let s={};return k&&(s[x.compactIri({activeCtx:a,iri:"@index",relativeTo:{vocab:!0}})]=c["@index"]),"@type"in c?s[x.compactIri({activeCtx:a,iri:"@type",relativeTo:{vocab:!0}})]=x.compactIri({activeCtx:a,iri:c["@type"],relativeTo:{vocab:!0}}):"@language"in c&&(s[x.compactIri({activeCtx:a,iri:"@language",relativeTo:{vocab:!0}})]=c["@language"]),"@direction"in c&&(s[x.compactIri({activeCtx:a,iri:"@direction",relativeTo:{vocab:!0}})]=c["@direction"]),s[x.compactIri({activeCtx:a,iri:"@value",relativeTo:{vocab:!0}})]=c["@value"],s}let t=n(a,b,{vocab:!0},d),u=o(a,b,"@type"),v=x.compactIri({activeCtx:a,iri:c["@id"],relativeTo:{vocab:"@vocab"===u},base:d.base});return"@id"===u||"@vocab"===u||"@graph"===t?v:{[x.compactIri({activeCtx:a,iri:"@id",relativeTo:{vocab:!0}})]:v}}},93770:function(a){"use strict";let b="http://www.w3.org/1999/02/22-rdf-syntax-ns#",c="http://www.w3.org/2001/XMLSchema#";a.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:b,RDF_LIST:b+"List",RDF_FIRST:b+"first",RDF_REST:b+"rest",RDF_NIL:b+"nil",RDF_TYPE:b+"type",RDF_PLAIN_LITERAL:b+"PlainLiteral",RDF_XML_LITERAL:b+"XMLLiteral",RDF_JSON_LITERAL:b+"JSON",RDF_OBJECT:b+"object",RDF_LANGSTRING:b+"langString",XSD:c,XSD_BOOLEAN:c+"boolean",XSD_DOUBLE:c+"double",XSD_INTEGER:c+"integer",XSD_STRING:c+"string"}},54131:function(a,b,c){"use strict";let d=c(51055),e=c(54093),{isArray:f,isObject:g,isString:h,isUndefined:i}=c(30832),{isAbsolute:j,isRelative:k,prependBase:l}=c(82278),{asArray:m,compareShortestLeast:n}=c(51055),o=new Map,p=/^@[a-zA-Z]+$/,q={};function r(a,b,c,d,e,f){if(null===b||!h(b)||q.isKeyword(b))return b;if(b.match(p))return null;if(d&&d.hasOwnProperty(b)&& !0!==e.get(b)&&q.createTermDefinition({activeCtx:a,localCtx:d,term:b,defined:e,options:f}),(c=c||{}).vocab){let i=a.mappings.get(b);if(null===i)return null;if(g(i)&&"@id"in i)return i["@id"]}let k=b.indexOf(":");if(k>0){let m=b.substr(0,k),n=b.substr(k+1);if("_"===m||0===n.indexOf("//"))return b;d&&d.hasOwnProperty(m)&&q.createTermDefinition({activeCtx:a,localCtx:d,term:m,defined:e,options:f});let o=a.mappings.get(m);if(o&&o._prefix)return o["@id"]+n;if(j(b))return b}if(c.vocab&&"@vocab"in a)return a["@vocab"]+b;if(c.base&&"@base"in a){if(a["@base"])return l(l(f.base,a["@base"]),b)}else if(c.base)return l(f.base,b);return b}function s(a,b){if(!(a&&"object"==typeof a)||!(b&&"object"==typeof b))return a===b;let c=Array.isArray(a);if(c!==Array.isArray(b))return!1;if(c){if(a.length!==b.length)return!1;for(let d=0;d<a.length;++d)if(!s(a[d],b[d]))return!1;return!0}let e=Object.keys(a),f=Object.keys(b);if(e.length!==f.length)return!1;for(let g in a){let h=a[g],i=b[g];if("@container"===g&&Array.isArray(h)&&Array.isArray(i)&&(h=h.slice().sort(),i=i.slice().sort()),!s(h,i))return!1}return!0}a.exports=q,q.process=async({activeCtx:a,localCtx:b,options:c,propagate:i=!0,overrideProtected:n=!1,cycles:o=new Set})=>{g(b)&&"@context"in b&&f(b["@context"])&&(b=b["@context"]);let p=m(b);if(0===p.length)return a;let s=await c.contextResolver.resolve({activeCtx:a,context:b,documentLoader:c.documentLoader,base:c.base});g(s[0].document)&&"boolean"==typeof s[0].document["@propagate"]&&(i=s[0].document["@propagate"]);let t=a;for(let u of(i||t.previousContext||((t=t.clone()).previousContext=a),s)){let{document:v}=u;if(a=t,null===v){if(!n&&0!==Object.keys(a.protected).length){let w=c&&c.protectedMode||"error";if("error"===w)throw new e("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===w){console.warn("WARNING: invalid context nullification");let x=u.getProcessed(a);if(x){t=a=x;continue}let y=a;for(let[z,A]of(t=a=q.getInitialContext(c).clone(),Object.entries(y.protected)))A&&(a.mappings[z]=d.clone(y.mappings[z]));a.protected=d.clone(y.protected),u.setProcessed(y,t);continue}throw new e("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:b,protectedMode:w})}t=a=q.getInitialContext(c).clone();continue}let B=u.getProcessed(a);if(B){t=a=B;continue}if(g(v)&&"@context"in v&&(v=v["@context"]),!g(v))throw new e("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:v});t=t.clone();let C=new Map;if("@version"in v){if(1.1!==v["@version"])throw new e("Unsupported JSON-LD version: "+v["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:v});if(a.processingMode&&"json-ld-1.0"===a.processingMode)throw new e("@version: "+v["@version"]+" not compatible with "+a.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:v});t.processingMode="json-ld-1.1",t["@version"]=v["@version"],C.set("@version",!0)}if(t.processingMode=t.processingMode||a.processingMode,"@base"in v){let D=v["@base"];if(null===D||j(D));else if(k(D))D=l(t["@base"],D);else throw new e('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:v});t["@base"]=D,C.set("@base",!0)}if("@vocab"in v){let E=v["@vocab"];if(null===E)delete t["@vocab"];else if(h(E)){if(!j(E)&&q.processingMode(t,1))throw new e('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:v});t["@vocab"]=r(t,E,{vocab:!0,base:!0},void 0,void 0,c)}else throw new e('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:v});C.set("@vocab",!0)}if("@language"in v){let F=v["@language"];if(null===F)delete t["@language"];else if(h(F))t["@language"]=F.toLowerCase();else throw new e('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:v});C.set("@language",!0)}if("@direction"in v){let G=v["@direction"];if("json-ld-1.0"===a.processingMode)throw new e("Invalid JSON-LD syntax; @direction not compatible with "+a.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:v});if(null===G)delete t["@direction"];else if("ltr"!==G&&"rtl"!==G)throw new e('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:v});else t["@direction"]=G;C.set("@direction",!0)}if("@propagate"in v){let H=v["@propagate"];if("json-ld-1.0"===a.processingMode)throw new e("Invalid JSON-LD syntax; @propagate not compatible with "+a.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:v});if("boolean"!=typeof H)throw new e("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:b});C.set("@propagate",!0)}if("@import"in v){let I=v["@import"];if("json-ld-1.0"===a.processingMode)throw new e("Invalid JSON-LD syntax; @import not compatible with "+a.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:v});if(!h(I))throw new e("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:b});let J=await c.contextResolver.resolve({activeCtx:a,context:I,documentLoader:c.documentLoader,base:c.base});if(1!==J.length)throw new e("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:b});let K=J[0].getProcessed(a);if(K)v=K;else{let L=J[0].document;if("@import"in L)throw new e("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:b});for(let M in L)v.hasOwnProperty(M)||(v[M]=L[M]);J[0].setProcessed(a,v)}C.set("@import",!0)}for(let N in C.set("@protected",v["@protected"]||!1),v)if(q.createTermDefinition({activeCtx:t,localCtx:v,term:N,defined:C,options:c,overrideProtected:n}),g(v[N])&&"@context"in v[N]){let O=v[N]["@context"],P=!0;if(h(O)){let Q=l(c.base,O);o.has(Q)?P=!1:o.add(Q)}if(P)try{await q.process({activeCtx:t.clone(),localCtx:v[N]["@context"],overrideProtected:!0,options:c,cycles:o})}catch(R){throw new e("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:v[N]["@context"],term:N})}}u.setProcessed(a,t)}return t},q.createTermDefinition=({activeCtx:a,localCtx:b,term:c,defined:d,options:i,overrideProtected:k=!1})=>{if(d.has(c)){if(d.get(c))return;throw new e("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:b,term:c})}d.set(c,!1);let l;if(b.hasOwnProperty(c)&&(l=b[c]),"@type"===c&&g(l)&&"@set"===(l["@container"]||"@set")&&q.processingMode(a,1.1)){let m=["@container","@id","@protected"],n=Object.keys(l);if(0===n.length||n.some(a=>!m.includes(a)))throw new e("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:b,term:c})}else if(q.isKeyword(c))throw new e("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:b,term:c});else if(c.match(p)){console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:c});return}else if(""===c)throw new e("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:b});let o=a.mappings.get(c);a.mappings.has(c)&&a.mappings.delete(c);let t=!1;if((h(l)||null===l)&&(t=!0,l={"@id":l}),!g(l))throw new e("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:b});let u={};a.mappings.set(c,u),u.reverse=!1;let v=["@container","@id","@language","@reverse","@type"];for(let w in q.processingMode(a,1.1)&&v.push("@context","@direction","@index","@nest","@prefix","@protected"),l)if(!v.includes(w))throw new e("Invalid JSON-LD syntax; a term definition must not contain "+w,"jsonld.SyntaxError",{code:"invalid term definition",context:b});let x=c.indexOf(":");if(u._termHasColon=x>0,"@reverse"in l){if("@id"in l)throw new e("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});if("@nest"in l)throw new e("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});let y=l["@reverse"];if(!h(y))throw new e("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});if(!q.isKeyword(y)&&y.match(p)){console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:y}),o?a.mappings.set(c,o):a.mappings.delete(c);return}let z=r(a,y,{vocab:!0,base:!1},b,d,i);if(!j(z))throw new e("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});u["@id"]=z,u.reverse=!0}else if("@id"in l){let A=l["@id"];if(A&&!h(A))throw new e("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});if(null===A)u["@id"]=null;else if(!q.isKeyword(A)&&A.match(p)){console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:A}),o?a.mappings.set(c,o):a.mappings.delete(c);return}else if(A!==c){if(A=r(a,A,{vocab:!0,base:!1},b,d,i),!j(A)&&!q.isKeyword(A))throw new e("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});if(c.match(/(?::[^:])|\//)){let B=new Map(d).set(c,!0),C=r(a,c,{vocab:!0,base:!1},b,B,i);if(C!==A)throw new e("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b})}u["@id"]=A,u._prefix=t&&!u._termHasColon&&A.match(/[:\/\?#\[\]@]$/)}}if(!("@id"in u)){if(u._termHasColon){let D=c.substr(0,x);if(b.hasOwnProperty(D)&&q.createTermDefinition({activeCtx:a,localCtx:b,term:D,defined:d,options:i}),a.mappings.has(D)){let E=c.substr(x+1);u["@id"]=a.mappings.get(D)["@id"]+E}else u["@id"]=c}else if("@type"===c)u["@id"]=c;else{if(!("@vocab"in a))throw new e("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b,term:c});u["@id"]=a["@vocab"]+c}}if((!0===l["@protected"]|| !0===d.get("@protected")&& !1!==l["@protected"])&&(a.protected[c]=!0,u.protected=!0),d.set(c,!0),"@type"in l){let F=l["@type"];if(!h(F))throw new e("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if("@json"===F||"@none"===F){if(q.processingMode(a,1))throw new e(`Invalid JSON-LD syntax; an @context @type value must not be "${F}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:b})}else if("@id"!==F&&"@vocab"!==F){if(F=r(a,F,{vocab:!0,base:!1},b,d,i),!j(F))throw new e("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if(0===F.indexOf("_:"))throw new e("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:b})}u["@type"]=F}if("@container"in l){let G=h(l["@container"])?[l["@container"]]:l["@container"]||[],H=["@list","@set","@index","@language"],I=!0,J=G.includes("@set");if(q.processingMode(a,1.1)){if(H.push("@graph","@id","@type"),G.includes("@list")){if(1!==G.length)throw new e("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:b})}else if(G.includes("@graph")){if(G.some(a=>"@graph"!==a&&"@id"!==a&&"@index"!==a&&"@set"!==a))throw new e("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:b})}else I&=G.length<=(J?2:1);if(G.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new e("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:b})}else I&=!f(l["@container"]),I&=G.length<=1;if(I&=G.every(a=>H.includes(a)),!(I&=!(J&&G.includes("@list"))))throw new e("Invalid JSON-LD syntax; @context @container value must be one of the following: "+H.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:b});if(u.reverse&&!G.every(a=>["@index","@set"].includes(a)))throw new e("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});u["@container"]=G}if("@index"in l){if(!("@container"in l)||!u["@container"].includes("@index"))throw new e(`Invalid JSON-LD syntax; @index without @index in @container: "${l["@index"]}" on term "${c}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:b});if(!h(l["@index"])||0===l["@index"].indexOf("@"))throw new e(`Invalid JSON-LD syntax; @index must expand to an IRI: "${l["@index"]}" on term "${c}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:b});u["@index"]=l["@index"]}if("@context"in l&&(u["@context"]=l["@context"]),"@language"in l&&!("@type"in l)){let K=l["@language"];if(null!==K&&!h(K))throw new e("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:b});null!==K&&(K=K.toLowerCase()),u["@language"]=K}if("@prefix"in l){if(c.match(/:|\//))throw new e("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:b});if(q.isKeyword(u["@id"]))throw new e("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:b});if("boolean"==typeof l["@prefix"])u._prefix=!0===l["@prefix"];else throw new e("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:b})}if("@direction"in l){let L=l["@direction"];if(null!==L&&"ltr"!==L&&"rtl"!==L)throw new e('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:b});u["@direction"]=L}if("@nest"in l){let M=l["@nest"];if(!h(M)||"@nest"!==M&&0===M.indexOf("@"))throw new e("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:b});u["@nest"]=M}let N=u["@id"];if("@context"===N||"@preserve"===N)throw new e("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:b});if(o&&o.protected&&!k&&(a.protected[c]=!0,u.protected=!0,!s(o,u))){let O=i&&i.protectedMode||"error";if("error"===O)throw new e(`Invalid JSON-LD syntax; tried to redefine "${c}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:b,term:c});if("warn"===O){console.warn("WARNING: protected term redefinition",{term:c});return}throw new e("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:b,term:c,protectedMode:O})}},q.expandIri=(a,b,c,d)=>r(a,b,c,void 0,void 0,d),q.getInitialContext=a=>{let b=JSON.stringify({processingMode:a.processingMode}),c=o.get(b);if(c)return c;let e={processingMode:a.processingMode,mappings:new Map,inverse:null,getInverse:function(){let a=this;if(a.inverse)return a.inverse;let b=a.inverse={},c=a.fastCurieMap={},d={},e=(a["@language"]||"@none").toLowerCase(),h=a["@direction"],i=a.mappings,j=[...i.keys()].sort(n);for(let k of j){let l=i.get(k);if(null===l)continue;let o=l["@container"]||"@none";if(o=[].concat(o).sort().join(""),null===l["@id"])continue;let p=m(l["@id"]);for(let r of p){let s=b[r],t=q.isKeyword(r);if(s)t||l._termHasColon||d[r].push(k);else if(b[r]=s={},!t&&!l._termHasColon){d[r]=[k];let u={iri:r,terms:d[r]};r[0]in c?c[r[0]].push(u):c[r[0]]=[u]}if(s[o]||(s[o]={"@language":{},"@type":{},"@any":{}}),g(k,(s=s[o])["@any"],"@none"),l.reverse)g(k,s["@type"],"@reverse");else if("@none"===l["@type"])g(k,s["@any"],"@none"),g(k,s["@language"],"@none"),g(k,s["@type"],"@none");else if("@type"in l)g(k,s["@type"],l["@type"]);else if("@language"in l&&"@direction"in l){let v=l["@language"],w=l["@direction"];v&&w?g(k,s["@language"],`${v}_${w}`.toLowerCase()):v?g(k,s["@language"],v.toLowerCase()):w?g(k,s["@language"],`_${w}`):g(k,s["@language"],"@null")}else"@language"in l?g(k,s["@language"],(l["@language"]||"@null").toLowerCase()):"@direction"in l?l["@direction"]?g(k,s["@language"],`_${l["@direction"]}`):g(k,s["@language"],"@none"):h?(g(k,s["@language"],`_${h}`),g(k,s["@language"],"@none"),g(k,s["@type"],"@none")):(g(k,s["@language"],e),g(k,s["@language"],"@none"),g(k,s["@type"],"@none"))}}for(let x in c)f(c,x,1);return b},clone:function(){let a={};return a.mappings=d.clone(this.mappings),a.clone=this.clone,a.inverse=null,a.getInverse=this.getInverse,a.protected=d.clone(this.protected),this.previousContext&&(a.previousContext=this.previousContext.clone()),a.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(a["@base"]=this["@base"]),"@language"in this&&(a["@language"]=this["@language"]),"@vocab"in this&&(a["@vocab"]=this["@vocab"]),a},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===o.size&&o.clear(),o.set(b,e),e;function f(a,b,c){let d=a[b],e=a[b]={},g,h;for(let i of d)(h=c>=(g=i.iri).length?"":g[c])in e?e[h].push(i):e[h]=[i];for(let j in e)""!==j&&f(e,j,c+1)}function g(a,b,c){b.hasOwnProperty(c)||(b[c]=a)}},q.getContextValue=(a,b,c)=>{if(null===b){if("@context"===c)return;return null}if(a.mappings.has(b)){let d=a.mappings.get(b);if(i(c))return d;if(d.hasOwnProperty(c))return d[c]}return"@language"===c&&c in a||"@direction"===c&&c in a?a[c]:"@context"!==c?null:void 0},q.processingMode=(a,b)=>b.toString()>="1.1"?!a.processingMode||a.processingMode>="json-ld-"+b.toString():"json-ld-1.0"===a.processingMode,q.isKeyword=a=>{if(!h(a)||"@"!==a[0])return!1;switch(a){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},8831:function(a,b,c){"use strict";let{parseLinkHeader:d,buildHeaders:e}=c(51055),{LINK_HEADER_CONTEXT:f}=c(93770),g=c(54093),h=c(40533),{prependBase:i}=c(82278),j=/(^|(\r\n))link:/i;a.exports=({secure:a,headers:b={},xhr:c}={headers:{}})=>{b=e(b);let k=new h;return k.wrapLoader(l);async function l(e){if(0!==e.indexOf("http:")&&0!==e.indexOf("https:"))throw new g('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:e});if(a&&0!==e.indexOf("https"))throw new g('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:e});let h;try{h=await function a(b,c,d){b=b||XMLHttpRequest;let e=new b;return new Promise((a,b)=>{for(let f in e.onload=()=>a(e),e.onerror=a=>b(a),e.open("GET",c,!0),d)e.setRequestHeader(f,d[f]);e.send()})}(c,e,b)}catch(k){throw new g("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:e,cause:k})}if(h.status>=400)throw new g("URL could not be dereferenced: "+h.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:e,httpStatusCode:h.status});let m={contextUrl:null,documentUrl:e,document:h.response},n=null,o=h.getResponseHeader("Content-Type"),p;if(j.test(h.getAllResponseHeaders())&&(p=h.getResponseHeader("Link")),p&&"application/ld+json"!==o){let q=d(p),r=q[f];if(Array.isArray(r))throw new g("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:e});r&&(m.contextUrl=r.target),(n=q.alternate)&&"application/ld+json"==n.type&&!(o||"").match(/^application\/(\w*\+)?json$/)&&(m=await l(i(e,n.target)))}return m}}},62759:function(a,b,c){"use strict";let d=c(54093),{isArray:e,isObject:f,isEmptyObject:g,isString:h,isUndefined:i}=c(30832),{isList:j,isValue:k,isGraph:l,isSubject:m}=c(18463),{expandIri:n,getContextValue:o,isKeyword:p,process:q,processingMode:r}=c(54131),{isAbsolute:s}=c(82278),{addValue:t,asArray:u,getValues:v,validateTypeValue:w}=c(51055),x={};a.exports=x;let y=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function z({activeCtx:a,activeProperty:b,expandedActiveProperty:c,element:l,expandedParent:v,options:A={},insideList:D,typeKey:E,typeScopedContext:F,expansionMap:G}){let H=Object.keys(l).sort(),I=[],J,K=l[E]&&"@json"===n(a,e(l[E])?l[E][0]:l[E],{vocab:!0},A);for(let L of H){let M=l[L],N;if("@context"===L)continue;let O=n(a,L,{vocab:!0},A);if((null===O||!(s(O)||p(O)))&& void 0===(O=G({unmappedProperty:L,activeCtx:a,activeProperty:b,parent:l,options:A,insideList:D,value:M,expandedParent:v})))continue;if(p(O)){if("@reverse"===c)throw new d("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:M});if(O in v&&"@included"!==O&&"@type"!==O)throw new d("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:O})}if("@id"===O){if(!h(M)){if(!A.isFrame)throw new d('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:M});if(f(M)){if(!g(M))throw new d('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:M})}else if(e(M)){if(!M.every(a=>h(a)))throw new d('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:M})}else throw new d('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:M})}t(v,"@id",u(M).map(b=>h(b)?n(a,b,{base:!0},A):b),{propertyIsArray:A.isFrame});continue}if("@type"===O){f(M)&&(M=Object.fromEntries(Object.entries(M).map(([a,b])=>[n(F,a,{vocab:!0}),u(b).map(a=>n(F,a,{base:!0,vocab:!0}))]))),w(M,A.isFrame),t(v,"@type",u(M).map(a=>h(a)?n(F,a,{base:!0,vocab:!0},A):a),{propertyIsArray:A.isFrame});continue}if("@included"===O&&r(a,1.1)){let P=u(await x.expand({activeCtx:a,activeProperty:b,element:M,options:A,expansionMap:G}));if(!P.every(a=>m(a)))throw new d("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:M});t(v,"@included",P,{propertyIsArray:!0});continue}if("@graph"===O&&!(f(M)||e(M)))throw new d('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:M});if("@value"===O){J=M,K&&r(a,1.1)?v["@value"]=M:t(v,"@value",M,{propertyIsArray:A.isFrame});continue}if("@language"===O){if(null===M)continue;if(!h(M)&&!A.isFrame)throw new d('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:M});for(let Q of M=u(M).map(a=>h(a)?a.toLowerCase():a))h(Q)&&!Q.match(y)&&console.warn(`@language must be valid BCP47: ${Q}`);t(v,"@language",M,{propertyIsArray:A.isFrame});continue}if("@direction"===O){if(!h(M)&&!A.isFrame)throw new d('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:M});for(let R of M=u(M))if(h(R)&&"ltr"!==R&&"rtl"!==R)throw new d('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:M});t(v,"@direction",M,{propertyIsArray:A.isFrame});continue}if("@index"===O){if(!h(M))throw new d('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:M});t(v,"@index",M);continue}if("@reverse"===O){if(!f(M))throw new d('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:M});if("@reverse"in(N=await x.expand({activeCtx:a,activeProperty:"@reverse",element:M,options:A,expansionMap:G})))for(let S in N["@reverse"])t(v,S,N["@reverse"][S],{propertyIsArray:!0});let T=v["@reverse"]||null;for(let U in N){if("@reverse"===U)continue;null===T&&(T=v["@reverse"]={}),t(T,U,[],{propertyIsArray:!0});let V=N[U];for(let W=0;W<V.length;++W){let X=V[W];if(k(X)||j(X))throw new d('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:N});t(T,U,X,{propertyIsArray:!0})}}continue}if("@nest"===O){I.push(L);continue}let Y=a,Z=o(a,L,"@context");i(Z)||(Y=await q({activeCtx:a,localCtx:Z,propagate:!0,overrideProtected:!0,options:A}));let $=o(Y,L,"@container")||[];if($.includes("@language")&&f(M)){let _=o(Y,L,"@direction");N=B(Y,M,_,A)}else if($.includes("@index")&&f(M)){let aa=$.includes("@graph"),ab=o(Y,L,"@index")||"@index",ac="@index"!==ab&&n(a,ab,{vocab:!0},A);N=await C({activeCtx:Y,options:A,activeProperty:L,value:M,expansionMap:G,asGraph:aa,indexKey:ab,propertyIndex:ac})}else if($.includes("@id")&&f(M)){let ad=$.includes("@graph");N=await C({activeCtx:Y,options:A,activeProperty:L,value:M,expansionMap:G,asGraph:ad,indexKey:"@id"})}else if($.includes("@type")&&f(M))N=await C({activeCtx:Y.revertToPreviousContext(),options:A,activeProperty:L,value:M,expansionMap:G,asGraph:!1,indexKey:"@type"});else{let ae="@list"===O;if(ae||"@set"===O){let af=b;ae&&"@graph"===c&&(af=null),N=await x.expand({activeCtx:Y,activeProperty:af,element:M,options:A,insideList:ae,expansionMap:G})}else N="@json"===o(a,L,"@type")?{"@type":"@json","@value":M}:await x.expand({activeCtx:Y,activeProperty:L,element:M,options:A,insideList:!1,expansionMap:G})}if(null!==N||"@value"===O|| void 0!==(N=G({unmappedValue:M,expandedProperty:O,activeCtx:Y,activeProperty:b,parent:l,options:A,insideList:D,key:L,expandedParent:v}))){if("@list"!==O&&!j(N)&&$.includes("@list")&&(N={"@list":u(N)}),$.includes("@graph")&&!$.some(a=>"@id"===a||"@index"===a)&&(N=u(N).map(a=>({"@graph":u(a)}))),Y.mappings.has(L)&&Y.mappings.get(L).reverse){let ag=v["@reverse"]=v["@reverse"]||{};N=u(N);for(let ah=0;ah<N.length;++ah){let ai=N[ah];if(k(ai)||j(ai))throw new d('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:N});t(ag,O,ai,{propertyIsArray:!0})}continue}t(v,O,N,{propertyIsArray:!0})}}if("@value"in v){if("@json"===v["@type"]&&r(a,1.1));else if((f(J)||e(J))&&!A.isFrame)throw new d('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:J})}for(let aj of I){let ak=e(l[aj])?l[aj]:[l[aj]];for(let al of ak){if(!f(al)||Object.keys(al).some(b=>"@value"===n(a,b,{vocab:!0},A)))throw new d("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:al});await z({activeCtx:a,activeProperty:b,expandedActiveProperty:c,element:al,expandedParent:v,options:A,insideList:D,typeScopedContext:F,typeKey:E,expansionMap:G})}}}function A({activeCtx:a,activeProperty:b,value:c,options:d}){if(null==c)return null;let e=n(a,b,{vocab:!0},d);if("@id"===e)return n(a,c,{base:!0},d);if("@type"===e)return n(a,c,{vocab:!0,base:!0},d);let f=o(a,b,"@type");if(("@id"===f||"@graph"===e)&&h(c))return{"@id":n(a,c,{base:!0},d)};if("@vocab"===f&&h(c))return{"@id":n(a,c,{vocab:!0,base:!0},d)};if(p(e))return c;let g={};if(f&&!["@id","@vocab","@none"].includes(f))g["@type"]=f;else if(h(c)){let i=o(a,b,"@language");null!==i&&(g["@language"]=i);let j=o(a,b,"@direction");null!==j&&(g["@direction"]=j)}return["boolean","number","string"].includes(typeof c)||(c=c.toString()),g["@value"]=c,g}function B(a,b,c,f){let g=[],i=Object.keys(b).sort();for(let j of i){let k=n(a,j,{vocab:!0},f),l=b[j];for(let m of(e(l)||(l=[l]),l)){if(null===m)continue;if(!h(m))throw new d("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:b});let o={"@value":m};"@none"!==k&&(o["@language"]=j.toLowerCase()),c&&(o["@direction"]=c),g.push(o)}}return g}async function C({activeCtx:a,options:b,activeProperty:c,value:f,expansionMap:g,asGraph:h,indexKey:j,propertyIndex:m}){let p=[],r=Object.keys(f).sort(),s="@type"===j;for(let u of r){if(s){let v=o(a,u,"@context");i(v)||(a=await q({activeCtx:a,localCtx:v,propagate:!1,options:b}))}let w=f[u];e(w)||(w=[w]),w=await x.expand({activeCtx:a,activeProperty:c,element:w,options:b,insideList:!1,insideIndex:!0,expansionMap:g});let y;for(let z of(y=m?"@none"===u?"@none":A({activeCtx:a,activeProperty:j,value:u,options:b}):n(a,u,{vocab:!0},b),"@id"===j?u=n(a,u,{base:!0},b):s&&(u=y),w)){if(h&&!l(z)&&(z={"@graph":[z]}),"@type"===j)"@none"===y||(z["@type"]?z["@type"]=[u].concat(z["@type"]):z["@type"]=[u]);else if(k(z)&&!["@language","@type","@index"].includes(j))throw new d(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${j}".`,"jsonld.SyntaxError",{code:"invalid value object",value:z});else m?"@none"!==y&&t(z,m,y,{propertyIsArray:!0,prependValue:!0}):"@none"===y||j in z||(z[j]=u);p.push(z)}}return p}x.expand=async({activeCtx:a,activeProperty:b=null,element:c,options:j={},insideList:k=!1,insideIndex:l=!1,typeScopedContext:m=null,expansionMap:p=()=>void 0})=>{if(null==c)return null;if("@default"===b&&(j=Object.assign({},j,{isFrame:!1})),!e(c)&&!f(c)){if(!k&&(null===b||"@graph"===n(a,b,{vocab:!0},j))){let t=await p({unmappedValue:c,activeCtx:a,activeProperty:b,options:j,insideList:k});return void 0===t?null:t}return A({activeCtx:a,activeProperty:b,value:c,options:j})}if(e(c)){let w=[],y=o(a,b,"@container")||[];k=k||y.includes("@list");for(let B=0;B<c.length;++B){let C=await x.expand({activeCtx:a,activeProperty:b,element:c[B],options:j,expansionMap:p,insideIndex:l,typeScopedContext:m});k&&e(C)&&(C={"@list":C}),(null!==C|| void 0!==(C=await p({unmappedValue:c[B],activeCtx:a,activeProperty:b,parent:c,index:B,options:j,expandedParent:w,insideList:k})))&&(e(C)?w=w.concat(C):w.push(C))}return w}let D=n(a,b,{vocab:!0},j),E=o(a,b,"@context");m=m||(a.previousContext?a:null);let F=Object.keys(c).sort(),G=!l;if(G&&m&&F.length<=2&&!F.includes("@context"))for(let H of F){let I=n(m,H,{vocab:!0},j);if("@value"===I){G=!1,a=m;break}if("@id"===I&&1===F.length){G=!1;break}}G&&(a=a.revertToPreviousContext()),i(E)||(a=await q({activeCtx:a,localCtx:E,propagate:!0,overrideProtected:!0,options:j})),"@context"in c&&(a=await q({activeCtx:a,localCtx:c["@context"],options:j})),m=a;let J=null;for(let K of F){let L=n(a,K,{vocab:!0},j);if("@type"===L){J=J||K;let M=c[K],N=Array.isArray(M)?M.length>1?M.slice().sort():M:[M];for(let O of N){let P=o(m,O,"@context");i(P)||(a=await q({activeCtx:a,localCtx:P,options:j,propagate:!1}))}}}let Q={};await z({activeCtx:a,activeProperty:b,expandedActiveProperty:D,element:c,expandedParent:Q,options:j,insideList:k,typeKey:J,typeScopedContext:m,expansionMap:p});let R=(F=Object.keys(Q)).length;if("@value"in Q){if("@type"in Q&&("@language"in Q||"@direction"in Q))throw new d('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:Q});let S=R-1;if("@type"in Q&&(S-=1),"@index"in Q&&(S-=1),"@language"in Q&&(S-=1),"@direction"in Q&&(S-=1),0!==S)throw new d('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:Q});let T=null===Q["@value"]?[]:u(Q["@value"]),U=v(Q,"@type");if(r(a,1.1)&&U.includes("@json")&&1===U.length);else if(0===T.length){let V=await p({unmappedValue:Q,activeCtx:a,activeProperty:b,element:c,options:j,insideList:k});Q=void 0!==V?V:null}else if(!T.every(a=>h(a)||g(a))&&"@language"in Q)throw new d("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:Q});else if(!U.every(a=>s(a)&&!(h(a)&&0===a.indexOf("_:"))||g(a)))throw new d('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:Q})}else if("@type"in Q&&!e(Q["@type"]))Q["@type"]=[Q["@type"]];else if("@set"in Q||"@list"in Q){if(R>1&&!(2===R&&"@index"in Q))throw new d('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:Q});"@set"in Q&&(R=(F=Object.keys(Q=Q["@set"])).length)}else if(1===R&&"@language"in Q){let W=await p(Q,{unmappedValue:Q,activeCtx:a,activeProperty:b,element:c,options:j,insideList:k});Q=void 0!==W?W:null}if(f(Q)&&!j.keepFreeFloatingNodes&&!k&&(null===b||"@graph"===D)&&(0===R||"@value"in Q||"@list"in Q||1===R&&"@id"in Q)){let X=await p({unmappedValue:Q,activeCtx:a,activeProperty:b,element:c,options:j,insideList:k});Q=void 0!==X?X:null}return Q}},41565:function(a,b,c){"use strict";let{isSubjectReference:d}=c(18463),{createMergedNodeMap:e}=c(32664),f={};a.exports=f,f.flatten=a=>{let b=e(a),c=[],f=Object.keys(b).sort();for(let g=0;g<f.length;++g){let h=b[f[g]];d(h)||c.push(h)}return c}},63859:function(a,b,c){"use strict";let{isKeyword:d}=c(54131),e=c(18463),f=c(30832),g=c(51055),h=c(82278),i=c(54093),{createNodeMap:j,mergeNodeMapGraphs:k}=c(32664),l={};function m(a){let b={};for(let c in a)void 0!==a[c]&&(b["@"+c]=[a[c]]);return[b]}function n(a,b,c){for(let d=c.length-1;d>=0;--d){let e=c[d];if(e.graph===b&&e.subject["@id"]===a["@id"])return!0}return!1}function o(a,b,c){let d="@"+c,e=d in a?a[d][0]:b[c];if("embed"===c){if(!0===e)e="@once";else if(!1===e)e="@never";else if("@always"!==e&&"@never"!==e&&"@link"!==e&&"@first"!==e&&"@last"!==e&&"@once"!==e)throw new i("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:a})}return e}function p(a){if(!f.isArray(a)||1!==a.length||!f.isObject(a[0]))throw new i("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:a});if("@id"in a[0]){for(let b of g.asArray(a[0]["@id"]))if(!(f.isObject(b)||h.isAbsolute(b))||f.isString(b)&&0===b.indexOf("_:"))throw new i("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:a})}if("@type"in a[0]){for(let c of g.asArray(a[0]["@type"]))if(!(f.isObject(c)||h.isAbsolute(c))||f.isString(c)&&0===c.indexOf("_:"))throw new i("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:a})}}function q(a,b,c,h){let i=!0,j=!1;for(let k in c){let l=!1,m=g.getValues(b,k),n=0===g.getValues(c,k).length;if("@id"===k){if(f.isEmptyObject(c["@id"][0]||{})?l=!0:c["@id"].length>=0&&(l=c["@id"].includes(m[0])),!h.requireAll)return l}else if("@type"===k){if(i=!1,n){if(m.length>0)return!1;l=!0}else if(1===c["@type"].length&&f.isEmptyObject(c["@type"][0]))l=m.length>0;else for(let o of c["@type"])l=!!f.isObject(o)&&"@default"in o||l||m.some(a=>a===o);if(!h.requireAll)return l}else{if(d(k))continue;let q=g.getValues(c,k)[0],r=!1;if(q&&(p([q]),r="@default"in q),i=!1,0===m.length&&r)continue;if(m.length>0&&n)return!1;if(void 0===q){if(m.length>0)return!1;l=!0}else if(e.isList(q)){let s=q["@list"][0];if(e.isList(m[0])){let t=m[0]["@list"];e.isValue(s)?l=t.some(a=>v(s,a)):(e.isSubject(s)||e.isSubjectReference(s))&&(l=t.some(b=>u(a,s,b,h)))}}else l=e.isValue(q)?m.some(a=>v(q,a)):e.isSubjectReference(q)?m.some(b=>u(a,q,b,h)):!!f.isObject(q)&&m.length>0}if(!l&&h.requireAll)return!1;j=j||l}return i||j}function r(a,b){let c=a.uniqueEmbeds[a.graph],d=c[b],e=d.parent,h=d.property,i={"@id":b};if(f.isArray(e)){for(let j=0;j<e.length;++j)if(g.compareValues(e[j],i)){e[j]=i;break}}else{let k=f.isArray(e[h]);g.removeValue(e,h,i,{propertyIsArray:k}),g.addValue(e,h,i,{propertyIsArray:k})}let l=a=>{let b=Object.keys(c);for(let d of b)d in c&&f.isObject(c[d].parent)&&c[d].parent["@id"]===a&&(delete c[d],l(d))};l(b)}function s(a,b){if(f.isArray(a))return a.map(a=>s(a,b));if(f.isObject(a)){if("@preserve"in a)return a["@preserve"][0];if(e.isValue(a))return a;if(e.isList(a))return a["@list"]=s(a["@list"],b),a;if("@id"in a){let c=a["@id"];if(b.link.hasOwnProperty(c)){let d=b.link[c].indexOf(a);if(-1!==d)return b.link[c][d];b.link[c].push(a)}else b.link[c]=[a]}for(let g in a){if("@id"===g&&b.bnodesToClear.includes(a[g])){delete a["@id"];continue}a[g]=s(a[g],b)}}return a}function t(a,b,c){f.isObject(a)?g.addValue(a,b,c,{propertyIsArray:!0}):a.push(c)}function u(a,b,c,d){if(!("@id"in c))return!1;let e=a.subjects[c["@id"]];return e&&q(a,e,b,d)}function v(a,b){let c=b["@value"],d=b["@type"],e=b["@language"],g=a["@value"]?f.isArray(a["@value"])?a["@value"]:[a["@value"]]:[],h=a["@type"]?f.isArray(a["@type"])?a["@type"]:[a["@type"]]:[],i=a["@language"]?f.isArray(a["@language"])?a["@language"]:[a["@language"]]:[];return 0===g.length&&0===h.length&&0===i.length||!!((g.includes(c)||f.isEmptyObject(g[0]))&&(!d&&0===h.length||h.includes(d)||d&&f.isEmptyObject(h[0]))&&(!e&&0===i.length||i.includes(e)||e&&f.isEmptyObject(i[0])))}a.exports=l,l.frameMergedOrDefault=(a,b,c)=>{let d={options:c,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},e=new g.IdentifierIssuer("_:b");j(a,d.graphMap,"@default",e),c.merged&&(d.graphMap["@merged"]=k(d.graphMap),d.graph="@merged"),d.subjects=d.graphMap[d.graph];let f=[];return l.frame(d,Object.keys(d.subjects).sort(),b,f),c.pruneBlankNodeIdentifiers&&(c.bnodesToClear=Object.keys(d.bnodeMap).filter(a=>1===d.bnodeMap[a].length)),c.link={},s(f,c)},l.frame=(a,b,c,h,j=null)=>{p(c),c=c[0];let k=a.options,s={embed:o(c,k,"embed"),explicit:o(c,k,"explicit"),requireAll:o(c,k,"requireAll")};a.link.hasOwnProperty(a.graph)||(a.link[a.graph]={});let u=a.link[a.graph],w=function a(b,c,d,e){let f={};for(let g of c){let h=b.graphMap[b.graph][g];q(b,h,d,e)&&(f[g]=h)}return f}(a,b,c,s),x=Object.keys(w).sort();for(let y of x){let z=w[y];if(null===j?a.uniqueEmbeds={[a.graph]:{}}:a.uniqueEmbeds[a.graph]=a.uniqueEmbeds[a.graph]||{},"@link"===s.embed&&y in u){t(h,j,u[y]);continue}let A={"@id":y};if(0===y.indexOf("_:")&&g.addValue(a.bnodeMap,y,A,{propertyIsArray:!0}),u[y]=A,("@first"===s.embed||"@last"===s.embed)&&a.is11)throw new i("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:c});if(!(!a.embedded&&a.uniqueEmbeds[a.graph].hasOwnProperty(y))){if(a.embedded&&("@never"===s.embed||n(z,a.graph,a.subjectStack))||a.embedded&&("@first"==s.embed||"@once"==s.embed)&&a.uniqueEmbeds[a.graph].hasOwnProperty(y)){t(h,j,A);continue}if("@last"===s.embed&&y in a.uniqueEmbeds[a.graph]&&r(a,y),a.uniqueEmbeds[a.graph][y]={parent:h,property:j},a.subjectStack.push({subject:z,graph:a.graph}),y in a.graphMap){let B=!1,C=null;"@graph"in c?(C=c["@graph"][0],B=!("@merged"===y||"@default"===y),f.isObject(C)||(C={})):(B="@merged"!==a.graph,C={}),B&&l.frame({...a,graph:y,embedded:!1},Object.keys(a.graphMap[y]).sort(),[C],A,"@graph")}for(let D of("@included"in c&&l.frame({...a,embedded:!1},b,c["@included"],A,"@included"),Object.keys(z).sort())){if(d(D)){if(A[D]=g.clone(z[D]),"@type"===D)for(let E of z["@type"])0===E.indexOf("_:")&&g.addValue(a.bnodeMap,E,A,{propertyIsArray:!0});continue}if(!s.explicit||D in c)for(let F of z[D]){let G=D in c?c[D]:m(s);if(e.isList(F)){let H=c[D]&&c[D][0]&&c[D][0]["@list"]?c[D][0]["@list"]:m(s),I={"@list":[]};t(A,D,I);let J=F["@list"];for(let K of J)e.isSubjectReference(K)?l.frame({...a,embedded:!0},[K["@id"]],H,I,"@list"):t(I,"@list",g.clone(K))}else e.isSubjectReference(F)?l.frame({...a,embedded:!0},[F["@id"]],G,A,D):v(G[0],F)&&t(A,D,g.clone(F))}}for(let L of Object.keys(c).sort()){if("@type"===L){if(!f.isObject(c[L][0])||!("@default"in c[L][0]))continue}else if(d(L))continue;let M=c[L][0]||{},N=o(M,k,"omitDefault");if(!N&&!(L in A)){let O="@null";"@default"in M&&(O=g.clone(M["@default"])),f.isArray(O)||(O=[O]),A[L]=[{"@preserve":O}]}}for(let P of Object.keys(c["@reverse"]||{}).sort()){let Q=c["@reverse"][P];for(let R of Object.keys(a.subjects)){let S=g.getValues(a.subjects[R],P);S.some(a=>a["@id"]===y)&&(A["@reverse"]=A["@reverse"]||{},g.addValue(A["@reverse"],P,[],{propertyIsArray:!0}),l.frame({...a,embedded:!0},[R],Q,A["@reverse"][P],j))}}t(h,j,A),a.subjectStack.pop()}}},l.cleanupNull=(a,b)=>{if(f.isArray(a)){let c=a.map(a=>l.cleanupNull(a,b));return c.filter(a=>a)}if("@null"===a)return null;if(f.isObject(a)){if("@id"in a){let d=a["@id"];if(b.link.hasOwnProperty(d)){let e=b.link[d].indexOf(a);if(-1!==e)return b.link[d][e];b.link[d].push(a)}else b.link[d]=[a]}for(let g in a)a[g]=l.cleanupNull(a[g],b)}return a}},25076:function(a,b,c){"use strict";let d=c(54093),e=c(18463),f=c(30832),g=c(51055),{RDF_LIST:h,RDF_FIRST:i,RDF_REST:j,RDF_NIL:k,RDF_TYPE:l,RDF_JSON_LITERAL:m,XSD_BOOLEAN:n,XSD_DOUBLE:o,XSD_INTEGER:p,XSD_STRING:q}=c(93770),r=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,s={};function t(a,b,c){if(a.termType.endsWith("Node"))return{"@id":a.value};let e={"@value":a.value};if(a.language)e["@language"]=a.language;else{let g=a.datatype.value;if(g||(g=q),g===m){g="@json";try{e["@value"]=JSON.parse(e["@value"])}catch(h){throw new d("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:e["@value"],cause:h})}}if(b){if(g===n)"true"===e["@value"]?e["@value"]=!0:"false"===e["@value"]&&(e["@value"]=!1);else if(f.isNumeric(e["@value"])){if(g===p){let i=parseInt(e["@value"],10);i.toFixed(0)===e["@value"]&&(e["@value"]=i)}else g===o&&(e["@value"]=parseFloat(e["@value"]))}[n,p,o,q].includes(g)||(e["@type"]=g)}else if("i18n-datatype"===c&&g.startsWith("https://www.w3.org/ns/i18n#")){let[,j,k]=g.split(/[#_]/);j.length>0&&(e["@language"]=j,j.match(r)||console.warn(`@language must be valid BCP47: ${j}`)),e["@direction"]=k}else g!==q&&(e["@type"]=g)}return e}a.exports=s,s.fromRDF=async(a,{useRdfType:b=!1,useNativeTypes:c=!1,rdfDirection:d=null})=>{let m={},n={"@default":m},o={};for(let p of a){let q="DefaultGraph"===p.graph.termType?"@default":p.graph.value;q in n||(n[q]={}),"@default"===q||q in m||(m[q]={"@id":q});let r=n[q],s=p.subject.value,u=p.predicate.value,v=p.object;s in r||(r[s]={"@id":s});let w=r[s],x=v.termType.endsWith("Node");if(!x||v.value in r||(r[v.value]={"@id":v.value}),u===l&&!b&&x){g.addValue(w,"@type",v.value,{propertyIsArray:!0});continue}let y=t(v,c,d);if(g.addValue(w,u,y,{propertyIsArray:!0}),x){if(v.value===k){let z=r[v.value];"usages"in z||(z.usages=[]),z.usages.push({node:w,property:u,value:y})}else v.value in o?o[v.value]=!1:o[v.value]={node:w,property:u,value:y}}}for(let A in n){let B=n[A];if(!(k in B))continue;let C=B[k];if(C.usages){for(let D of C.usages){let E=D.node,F=D.property,G=D.value,H=[],I=[],J=Object.keys(E).length;for(;F===j&&f.isObject(o[E["@id"]])&&f.isArray(E[i])&&1===E[i].length&&f.isArray(E[j])&&1===E[j].length&&(3===J||4===J&&f.isArray(E["@type"])&&1===E["@type"].length&&E["@type"][0]===h)&&(H.push(E[i][0]),I.push(E["@id"]),E=(D=o[E["@id"]]).node,F=D.property,G=D.value,J=Object.keys(E).length,e.isBlankNode(E)););for(let K of(delete G["@id"],G["@list"]=H.reverse(),I))delete B[K]}delete C.usages}}let L=[],M=Object.keys(m).sort();for(let N of M){let O=m[N];if(N in n){let P=O["@graph"]=[],Q=n[N],R=Object.keys(Q).sort();for(let S of R){let T=Q[S];e.isSubjectReference(T)||P.push(T)}}e.isSubjectReference(O)||L.push(O)}return L}},18463:function(a,b,c){"use strict";let d=c(30832),e={};a.exports=e,e.isSubject=a=>{if(d.isObject(a)&&!("@value"in a||"@set"in a||"@list"in a)){let b=Object.keys(a).length;return b>1||!("@id"in a)}return!1},e.isSubjectReference=a=>d.isObject(a)&&1===Object.keys(a).length&&"@id"in a,e.isValue=a=>d.isObject(a)&&"@value"in a,e.isList=a=>d.isObject(a)&&"@list"in a,e.isGraph=a=>d.isObject(a)&&"@graph"in a&&1===Object.keys(a).filter(a=>"@id"!==a&&"@index"!==a).length,e.isSimpleGraph=a=>e.isGraph(a)&&!("@id"in a),e.isBlankNode=a=>!!d.isObject(a)&&("@id"in a?0===a["@id"].indexOf("_:"):0===Object.keys(a).length||!("@value"in a||"@set"in a||"@list"in a))},36805:function(a,b,c){/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */ let d=c(47055),e=c(67222),f=c(51055),g=c(68058),h=f.IdentifierIssuer,i=c(54093),j=c(39593),k=c(69048),{expand:l}=c(62759),{flatten:m}=c(41565),{fromRDF:n}=c(25076),{toRDF:o}=c(19382),{frameMergedOrDefault:p,cleanupNull:q}=c(63859),{isArray:r,isObject:s,isString:t}=c(30832),{isSubjectReference:u}=c(18463),{expandIri:v,getInitialContext:w,process:x,processingMode:y}=c(54131),{compact:z,compactIri:A}=c(83251),{createNodeMap:B,createMergedNodeMap:C,mergeNodeMaps:D}=c(32664),E=function(a){let b={},E=new j({max:100});function F(b,{documentLoader:c=a.documentLoader,...d}){return Object.assign({},{documentLoader:c},d,b)}return a.compact=async function(b,c,d){if(arguments.length<2)throw TypeError("Could not compact, too few arguments.");if(null===c)throw new i("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===b)return null;(d=F(d,{base:t(b)?b:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new h("_:b"),contextResolver:new g({sharedCache:E})})).link&&(d.skipExpansion=!0),d.compactToRelative||delete d.base;let e;e=d.skipExpansion?b:await a.expand(b,d);let j=await a.processContext(w(d),c,d),k=await z({activeCtx:j,element:e,options:d,compactionMap:d.compactionMap});d.compactArrays&&!d.graph&&r(k)?1===k.length?k=k[0]:0===k.length&&(k={}):d.graph&&s(k)&&(k=[k]),s(c)&&"@context"in c&&(c=c["@context"]),c=f.clone(c),r(c)||(c=[c]);let l=c;c=[];for(let m=0;m<l.length;++m)(!s(l[m])||Object.keys(l[m]).length>0)&&c.push(l[m]);let n=c.length>0;if(1===c.length&&(c=c[0]),r(k)){let o=A({activeCtx:j,iri:"@graph",relativeTo:{vocab:!0}}),p=k;k={},n&&(k["@context"]=c),k[o]=p}else if(s(k)&&n){let q=k;for(let u in k={"@context":c},q)k[u]=q[u]}return k},a.expand=async function(b,c){if(arguments.length<1)throw TypeError("Could not expand, too few arguments.");!1===(c=F(c,{keepFreeFloatingNodes:!1,contextResolver:new g({sharedCache:E})})).expansionMap&&(c.expansionMap=void 0);let d={},e=[];if("expandContext"in c){let h=f.clone(c.expandContext);s(h)&&"@context"in h?d.expandContext=h:d.expandContext={"@context":h},e.push(d.expandContext)}let i;if(t(b)){let j=await a.get(b,c);i=j.documentUrl,d.input=j.document,j.contextUrl&&(d.remoteContext={"@context":j.contextUrl},e.push(d.remoteContext))}else d.input=f.clone(b);"base"in c||(c.base=i||"");let k=w(c);for(let m of e)k=await x({activeCtx:k,localCtx:m,options:c});let n=await l({activeCtx:k,element:d.input,options:c,expansionMap:c.expansionMap});return s(n)&&"@graph"in n&&1===Object.keys(n).length?n=n["@graph"]:null===n&&(n=[]),r(n)||(n=[n]),n},a.flatten=async function(b,c,d){if(arguments.length<1)return TypeError("Could not flatten, too few arguments.");c="function"==typeof c?null:c||null,d=F(d,{base:t(b)?b:"",contextResolver:new g({sharedCache:E})});let e=await a.expand(b,d),f=m(e);if(null===c)return f;d.graph=!0,d.skipExpansion=!0;let h=await a.compact(f,c,d);return h},a.frame=async function(b,c,d){if(arguments.length<2)throw TypeError("Could not frame, too few arguments.");if(d=F(d,{base:t(b)?b:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new g({sharedCache:E})}),t(c)){let e=await a.get(c,d);if(c=e.document,e.contextUrl){let f=c["@context"];f?r(f)?f.push(e.contextUrl):f=[f,e.contextUrl]:f=e.contextUrl,c["@context"]=f}}let h=c&&c["@context"]||{},i=await a.processContext(w(d),h,d);d.hasOwnProperty("omitGraph")||(d.omitGraph=y(i,1.1)),d.hasOwnProperty("pruneBlankNodeIdentifiers")||(d.pruneBlankNodeIdentifiers=y(i,1.1));let j=await a.expand(b,d),k={...d};k.isFrame=!0,k.keepFreeFloatingNodes=!0;let l=await a.expand(c,k),m=Object.keys(c).map(a=>v(i,a,{vocab:!0}));k.merged=!m.includes("@graph"),k.is11=y(i,1.1);let n=p(j,l,k);k.graph=!d.omitGraph,k.skipExpansion=!0,k.link={},k.framing=!0;let o=await a.compact(n,h,k);return k.link={},o=q(o,k)},a.link=async function(b,c,d){let e={};return c&&(e["@context"]=c),e["@embed"]="@link",a.frame(b,e,d)},a.normalize=a.canonize=async function(b,c){if(arguments.length<1)throw TypeError("Could not canonize, too few arguments.");if("inputFormat"in(c=F(c,{base:t(b)?b:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new g({sharedCache:E})}))){if("application/n-quads"!==c.inputFormat&&"application/nquads"!==c.inputFormat)throw new i("Unknown canonicalization input format.","jsonld.CanonizeError");let e=k.parse(b);return d.canonize(e,c)}let f={...c};delete f.format,f.produceGeneralizedRdf=!1;let h=await a.toRDF(b,f);return d.canonize(h,c)},a.fromRDF=async function(a,c){if(arguments.length<1)throw TypeError("Could not convert from RDF, too few arguments.");c=F(c,{format:t(a)?"application/n-quads":void 0});let{format:d}=c,{rdfParser:e}=c;if(d){if(!(e=e||b[d]))throw new i("Unknown input format.","jsonld.UnknownFormat",{format:d})}else e=()=>a;let f=await e(a);return n(f,c)},a.toRDF=async function(b,c){if(arguments.length<1)throw TypeError("Could not convert to RDF, too few arguments.");let d;d=(c=F(c,{base:t(b)?b:"",skipExpansion:!1,contextResolver:new g({sharedCache:E})})).skipExpansion?b:await a.expand(b,c);let e=o(d,c);if(c.format){if("application/n-quads"===c.format||"application/nquads"===c.format)return k.serialize(e);throw new i("Unknown output format.","jsonld.UnknownFormat",{format:c.format})}return e},a.createNodeMap=async function(b,c){if(arguments.length<1)throw TypeError("Could not create node map, too few arguments.");c=F(c,{base:t(b)?b:"",contextResolver:new g({sharedCache:E})});let d=await a.expand(b,c);return C(d,c)},a.merge=async function(b,c,d){if(arguments.length<1)throw TypeError("Could not merge, too few arguments.");if(!r(b))throw TypeError('Could not merge, "docs" must be an array.');c="function"==typeof c?null:c||null,d=F(d,{contextResolver:new g({sharedCache:E})});let e=await Promise.all(b.map(b=>{let c={...d};return a.expand(b,c)})),i=!0;"mergeNodes"in d&&(i=d.mergeNodes);let j=d.issuer||new h("_:b"),k={"@default":{}};for(let l=0;l<e.length;++l){let m=f.relabelBlankNodes(e[l],{issuer:new h("_:b"+l+"-")}),n=i||0===l?k:{"@default":{}};if(B(m,n,"@default",j),n!==k)for(let o in n){let p=n[o];if(!(o in k)){k[o]=p;continue}let q=k[o];for(let s in p)s in q||(q[s]=p[s])}}let t=D(k),v=[],w=Object.keys(t).sort();for(let x=0;x<w.length;++x){let y=t[w[x]];u(y)||v.push(y)}if(null===c)return v;d.graph=!0,d.skipExpansion=!0;let z=await a.compact(v,c,d);return z},Object.defineProperty(a,"documentLoader",{get:()=>a._documentLoader,set:b=>a._documentLoader=b}),a.documentLoader=async a=>{throw new i("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:a})},a.get=async function(b,c){let d;d="function"==typeof c.documentLoader?c.documentLoader:a.documentLoader;let e=await d(b);try{if(!e.document)throw new i("No remote document found at the given URL.","jsonld.NullRemoteDocument");t(e.document)&&(e.document=JSON.parse(e.document))}catch(f){throw new i("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:f,remoteDoc:e})}return e},a.processContext=async function(a,b,c){return(c=F(c,{base:"",contextResolver:new g({sharedCache:E})}),null===b)?w(c):(s(b=f.clone(b))&&"@context"in b||(b={"@context":b}),x({activeCtx:a,localCtx:b,options:c}))},a.getContextValue=c(54131).getContextValue,a.documentLoaders={},a.useDocumentLoader=function(b){if(!(b in a.documentLoaders))throw new i('Unknown document loader type: "'+b+'"',"jsonld.UnknownDocumentLoader",{type:b});a.documentLoader=a.documentLoaders[b].apply(a,Array.prototype.slice.call(arguments,1))},a.registerRDFParser=function(a,c){b[a]=c},a.unregisterRDFParser=function(a){delete b[a]},a.registerRDFParser("application/n-quads",k.parse),a.registerRDFParser("application/nquads",k.parse),a.url=c(82278),a.util=f,Object.assign(a,f),a.promises=a,a.RequestQueue=c(40533),a.JsonLdProcessor=c(60731)(a),e.setupGlobals(a),e.setupDocumentLoaders(a),a},F=function(){return E(function(){return F()})};E(F),a.exports=F},32664:function(a,b,c){"use strict";let{isKeyword:d}=c(54131),e=c(18463),f=c(30832),g=c(51055),h=c(54093),i={};a.exports=i,i.createMergedNodeMap=(a,b)=>{b=b||{};let c=b.issuer||new g.IdentifierIssuer("_:b"),d={"@default":{}};return i.createNodeMap(a,d,"@default",c),i.mergeNodeMaps(d)},i.createNodeMap=(a,b,c,j,k,l)=>{if(f.isArray(a)){for(let m of a)i.createNodeMap(m,b,c,j,void 0,l);return}if(!f.isObject(a)){l&&l.push(a);return}if(e.isValue(a)){if("@type"in a){let n=a["@type"];0===n.indexOf("_:")&&(a["@type"]=n=j.getId(n))}l&&l.push(a);return}if(l&&e.isList(a)){let o=[];i.createNodeMap(a["@list"],b,c,j,k,o),l.push({"@list":o});return}if("@type"in a){let p=a["@type"];for(let q of p)0===q.indexOf("_:")&&j.getId(q)}f.isUndefined(k)&&(k=e.isBlankNode(a)?j.getId(a["@id"]):a["@id"]),l&&l.push({"@id":k});let r=b[c],s=r[k]=r[k]||{};s["@id"]=k;let t=Object.keys(a).sort();for(let u of t){if("@id"===u)continue;if("@reverse"===u){let v={"@id":k},w=a["@reverse"];for(let x in w){let y=w[x];for(let z of y){let A=z["@id"];e.isBlankNode(z)&&(A=j.getId(A)),i.createNodeMap(z,b,c,j,A),g.addValue(r[A],x,v,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===u){k in b||(b[k]={}),i.createNodeMap(a[u],b,k,j);continue}if("@included"===u){i.createNodeMap(a[u],b,c,j);continue}if("@type"!==u&&d(u)){if("@index"===u&&u in s&&(a[u]!==s[u]||a[u]["@id"]!==s[u]["@id"]))throw new h("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:s});s[u]=a[u];continue}let B=a[u];if(0===u.indexOf("_:")&&(u=j.getId(u)),0===B.length){g.addValue(s,u,[],{propertyIsArray:!0});continue}for(let C of B)if("@type"===u&&(C=0===C.indexOf("_:")?j.getId(C):C),e.isSubject(C)||e.isSubjectReference(C)){if("@id"in C&&!C["@id"])continue;let D=e.isBlankNode(C)?j.getId(C["@id"]):C["@id"];g.addValue(s,u,{"@id":D},{propertyIsArray:!0,allowDuplicate:!1}),i.createNodeMap(C,b,c,j,D)}else if(e.isValue(C))g.addValue(s,u,C,{propertyIsArray:!0,allowDuplicate:!1});else if(e.isList(C)){let E=[];i.createNodeMap(C["@list"],b,c,j,k,E),C={"@list":E},g.addValue(s,u,C,{propertyIsArray:!0,allowDuplicate:!1})}else i.createNodeMap(C,b,c,j,k),g.addValue(s,u,C,{propertyIsArray:!0,allowDuplicate:!1})}},i.mergeNodeMapGraphs=a=>{let b={};for(let c of Object.keys(a).sort())for(let e of Object.keys(a[c]).sort()){let f=a[c][e];e in b||(b[e]={"@id":e});let h=b[e];for(let i of Object.keys(f).sort())if(d(i)&&"@type"!==i)h[i]=g.clone(f[i]);else for(let j of f[i])g.addValue(h,i,g.clone(j),{propertyIsArray:!0,allowDuplicate:!1})}return b},i.mergeNodeMaps=a=>{let b=a["@default"],c=Object.keys(a).sort();for(let d of c){if("@default"===d)continue;let f=a[d],g=b[d];g?"@graph"in g||(g["@graph"]=[]):b[d]=g={"@id":d,"@graph":[]};let h=g["@graph"];for(let i of Object.keys(f).sort()){let j=f[i];e.isSubjectReference(j)||h.push(j)}}return b}},67222:function(a,b,c){"use strict";let d=c(8831),e={};a.exports=e,e.setupDocumentLoaders=function(a){"undefined"!=typeof XMLHttpRequest&&(a.documentLoaders.xhr=d,a.useDocumentLoader("xhr"))},e.setupGlobals=function(a){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:a.JsonLdProcessor})}},19382:function(a,b,c){"use strict";let{createNodeMap:d}=c(32664),{isKeyword:e}=c(54131),f=c(18463),g=c(95456),h=c(30832),i=c(51055),{RDF_FIRST:j,RDF_REST:k,RDF_NIL:l,RDF_TYPE:m,RDF_JSON_LITERAL:n,RDF_LANGSTRING:o,XSD_BOOLEAN:p,XSD_DOUBLE:q,XSD_INTEGER:r,XSD_STRING:s}=c(93770),{isAbsolute:t}=c(82278),u={};function v(a,b,c,d,f){let g=Object.keys(b).sort();for(let h of g){let i=b[h],j=Object.keys(i).sort();for(let k of j){let l=i[k];if("@type"===k)k=m;else if(e(k))continue;for(let n of l){let o={termType:h.startsWith("_:")?"BlankNode":"NamedNode",value:h};if(!t(h))continue;let p={termType:k.startsWith("_:")?"BlankNode":"NamedNode",value:k};if(!t(k)||"BlankNode"===p.termType&&!f.produceGeneralizedRdf)continue;let q=w(n,d,a,c,f.rdfDirection);q&&a.push({subject:o,predicate:p,object:q,graph:c})}}}}function w(a,b,c,d,e){let i={};if(f.isValue(a)){i.termType="Literal",i.value=void 0,i.datatype={termType:"NamedNode"};let m=a["@value"],u=a["@type"]||null;if("@json"===u)i.value=g(m),i.datatype.value=n;else if(h.isBoolean(m))i.value=m.toString(),i.datatype.value=u||p;else if(h.isDouble(m)||u===q)h.isDouble(m)||(m=parseFloat(m)),i.value=m.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),i.datatype.value=u||q;else if(h.isNumber(m))i.value=m.toFixed(0),i.datatype.value=u||r;else if("i18n-datatype"===e&&"@direction"in a){let v="https://www.w3.org/ns/i18n#"+(a["@language"]||"")+`_${a["@direction"]}`;i.datatype.value=v,i.value=m}else"@language"in a?(i.value=m,i.datatype.value=u||o,i.language=a["@language"]):(i.value=m,i.datatype.value=u||s)}else if(f.isList(a)){let x=function(a,b,c,d,e){let f={termType:"NamedNode",value:j},g={termType:"NamedNode",value:k},h={termType:"NamedNode",value:l},i=a.pop(),m=i?{termType:"BlankNode",value:b.getId()}:h,n=m;for(let o of a){let p=w(o,b,c,d,e),q={termType:"BlankNode",value:b.getId()};c.push({subject:n,predicate:f,object:p,graph:d}),c.push({subject:n,predicate:g,object:q,graph:d}),n=q}if(i){let r=w(i,b,c,d,e);c.push({subject:n,predicate:f,object:r,graph:d}),c.push({subject:n,predicate:g,object:h,graph:d})}return m}(a["@list"],b,c,d,e);i.termType=x.termType,i.value=x.value}else{let y=h.isObject(a)?a["@id"]:a;i.termType=y.startsWith("_:")?"BlankNode":"NamedNode",i.value=y}return"NamedNode"!==i.termType||t(i.value)?i:null}a.exports=u,u.toRDF=(a,b)=>{let c=new i.IdentifierIssuer("_:b"),e={"@default":{}};d(a,e,"@default",c);let f=[],g=Object.keys(e).sort();for(let h of g){let j;if("@default"===h)j={termType:"DefaultGraph",value:""};else{if(!t(h))continue;(j=h.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=h}v(f,e[h],j,c,b)}return f}},30832:function(a){"use strict";let b={};a.exports=b,b.isArray=Array.isArray,b.isBoolean=a=>"boolean"==typeof a||"[object Boolean]"===Object.prototype.toString.call(a),b.isDouble=a=>b.isNumber(a)&&(-1!==String(a).indexOf(".")||Math.abs(a)>=1e21),b.isEmptyObject=a=>b.isObject(a)&&0===Object.keys(a).length,b.isNumber=a=>"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a),b.isNumeric=a=>!isNaN(parseFloat(a))&&isFinite(a),b.isObject=a=>"[object Object]"===Object.prototype.toString.call(a),b.isString=a=>"string"==typeof a||"[object String]"===Object.prototype.toString.call(a),b.isUndefined=a=>void 0===a},82278:function(a,b,c){"use strict";let d=c(30832),e={};a.exports=e,e.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.parse=(a,b)=>{let c={},d=e.parsers[b||"full"],f=d.regex.exec(a),g=d.keys.length;for(;g--;)c[d.keys[g]]=void 0===f[g]?null:f[g];return("https"===c.scheme&&"443"===c.port||"http"===c.scheme&&"80"===c.port)&&(c.href=c.href.replace(":"+c.port,""),c.authority=c.authority.replace(":"+c.port,""),c.port=null),c.normalizedPath=e.removeDotSegments(c.path),c},e.prependBase=(a,b)=>{if(null===a||e.isAbsolute(b))return b;(!a||d.isString(a))&&(a=e.parse(a||""));let c=e.parse(b),f={protocol:a.protocol||""};if(null!==c.authority)f.authority=c.authority,f.path=c.path,f.query=c.query;else if(f.authority=a.authority,""===c.path)f.path=a.path,null!==c.query?f.query=c.query:f.query=a.query;else{if(0===c.path.indexOf("/"))f.path=c.path;else{let g=a.path;((g=g.substr(0,g.lastIndexOf("/")+1)).length>0||a.authority)&&"/"!==g.substr(-1)&&(g+="/"),g+=c.path,f.path=g}f.query=c.query}""!==c.path&&(f.path=e.removeDotSegments(f.path));let h=f.protocol;return null!==f.authority&&(h+="//"+f.authority),h+=f.path,null!==f.query&&(h+="?"+f.query),null!==c.fragment&&(h+="#"+c.fragment),""===h&&(h="./"),h},e.removeBase=(a,b)=>{if(null===a)return b;(!a||d.isString(a))&&(a=e.parse(a||""));let c="";if(""!==a.href?c+=(a.protocol||"")+"//"+(a.authority||""):b.indexOf("//")&&(c+="//"),0!==b.indexOf(c))return b;let f=e.parse(b.substr(c.length)),g=a.normalizedPath.split("/"),h=f.normalizedPath.split("/"),i=f.fragment||f.query?0:1;for(;g.length>0&&h.length>i&&g[0]===h[0];)g.shift(),h.shift();let j="";if(g.length>0){g.pop();for(let k=0;k<g.length;++k)j+="../"}return j+=h.join("/"),null!==f.query&&(j+="?"+f.query),null!==f.fragment&&(j+="#"+f.fragment),""===j&&(j="./"),j},e.removeDotSegments=a=>{if(0===a.length)return"";let b=a.split("/"),c=[];for(;b.length>0;){let d=b.shift(),e=0===b.length;if("."===d){e&&c.push("");continue}if(".."===d){c.pop(),e&&c.push("");continue}c.push(d)}return("/"===a[0]&&c.length>0&&""!==c[0]&&c.unshift(""),1===c.length&&""===c[0])?"/":c.join("/")};let f=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;e.isAbsolute=a=>d.isString(a)&&f.test(a),e.isRelative=a=>d.isString(a)},51055:function(a,b,c){"use strict";let d=c(18463),e=c(30832),f=c(47055).IdentifierIssuer,g=c(54093),h=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,i=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,j=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,k={headers:{accept:"application/ld+json, application/json"}},l={};function m(a,b){if(e.isArray(b))for(let c=0;c<b.length;++c)b[c]=m(a,b[c]);else if(d.isList(b))b["@list"]=m(a,b["@list"]);else if(e.isObject(b)){d.isBlankNode(b)&&(b["@id"]=a.getId(b["@id"]));let f=Object.keys(b).sort();for(let g=0;g<f.length;++g){let h=f[g];"@id"!==h&&(b[h]=m(a,b[h]))}}return b}a.exports=l,l.IdentifierIssuer=f,l.clone=function(a){if(a&&"object"==typeof a){let b;if(e.isArray(a)){b=[];for(let c=0;c<a.length;++c)b[c]=l.clone(a[c])}else if(a instanceof Map)for(let[d,f]of(b=new Map,a))b.set(d,l.clone(f));else if(a instanceof Set)for(let g of(b=new Set,a))b.add(l.clone(g));else if(e.isObject(a))for(let h in b={},a)b[h]=l.clone(a[h]);else b=a.toString();return b}return a},l.asArray=function(a){return Array.isArray(a)?a:[a]},l.buildHeaders=(a={})=>{let b=Object.keys(a).some(a=>"accept"===a.toLowerCase());if(b)throw RangeError('Accept header may not be specified; only "'+k.headers.accept+'" is supported.');return Object.assign({Accept:k.headers.accept},a)},l.parseLinkHeader=a=>{let b={},c=a.match(h);for(let d=0;d<c.length;++d){let e=c[d].match(i);if(!e)continue;let f={target:e[1]},g=e[2];for(;e=j.exec(g);)f[e[1]]=void 0===e[2]?e[3]:e[2];let k=f.rel||"";Array.isArray(b[k])?b[k].push(f):b.hasOwnProperty(k)?b[k]=[b[k],f]:b[k]=f}return b},l.validateTypeValue=(a,b)=>{if(!(e.isString(a)||e.isArray(a)&&a.every(a=>e.isString(a)))){if(b&&e.isObject(a))switch(Object.keys(a).length){case 0:return;case 1:if("@default"in a&&l.asArray(a["@default"]).every(a=>e.isString(a)))return}throw new g('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:a})}},l.hasProperty=(a,b)=>{if(a.hasOwnProperty(b)){let c=a[b];return!e.isArray(c)||c.length>0}return!1},l.hasValue=(a,b,c)=>{if(l.hasProperty(a,b)){let f=a[b],g=d.isList(f);if(e.isArray(f)||g){g&&(f=f["@list"]);for(let h=0;h<f.length;++h)if(l.compareValues(c,f[h]))return!0}else if(!e.isArray(c))return l.compareValues(c,f)}return!1},l.addValue=(a,b,c,d)=>{if("propertyIsArray"in(d=d||{})||(d.propertyIsArray=!1),"valueIsArray"in d||(d.valueIsArray=!1),"allowDuplicate"in d||(d.allowDuplicate=!0),"prependValue"in d||(d.prependValue=!1),d.valueIsArray)a[b]=c;else if(e.isArray(c)){0===c.length&&d.propertyIsArray&&!a.hasOwnProperty(b)&&(a[b]=[]),d.prependValue&&(c=c.concat(a[b]),a[b]=[]);for(let f=0;f<c.length;++f)l.addValue(a,b,c[f],d)}else if(a.hasOwnProperty(b)){let g=!d.allowDuplicate&&l.hasValue(a,b,c);e.isArray(a[b])||g&&!d.propertyIsArray||(a[b]=[a[b]]),g||(d.prependValue?a[b].unshift(c):a[b].push(c))}else a[b]=d.propertyIsArray?[c]:c},l.getValues=(a,b)=>[].concat(a[b]||[]),l.removeProperty=(a,b)=>{delete a[b]},l.removeValue=(a,b,c,d)=>{"propertyIsArray"in(d=d||{})||(d.propertyIsArray=!1);let e=l.getValues(a,b).filter(a=>!l.compareValues(a,c));0===e.length?l.removeProperty(a,b):1!==e.length||d.propertyIsArray?a[b]=e:a[b]=e[0]},l.relabelBlankNodes=(a,b)=>{b=b||{};let c=b.issuer||new f("_:b");return m(c,a)},l.compareValues=(a,b)=>!!(a===b||d.isValue(a)&&d.isValue(b)&&a["@value"]===b["@value"]&&a["@type"]===b["@type"]&&a["@language"]===b["@language"]&&a["@index"]===b["@index"])|| !!(e.isObject(a)&&"@id"in a&&e.isObject(b))&&"@id"in b&&a["@id"]===b["@id"],l.compareShortestLeast=(a,b)=>a.length<b.length?-1:b.length<a.length?1:a===b?0:a<b?-1:1},39593:function(a,b,c){"use strict";let d=c(34411),e=Symbol("max"),f=Symbol("length"),g=Symbol("lengthCalculator"),h=Symbol("allowStale"),i=Symbol("maxAge"),j=Symbol("dispose"),k=Symbol("noDisposeOnSet"),l=Symbol("lruList"),m=Symbol("cache"),n=Symbol("updateAgeOnGet"),o=()=>1,p=(a,b,c)=>{let d=a[m].get(b);if(d){let e=d.value;if(q(a,e)){if(s(a,d),!a[h])return}else c&&(a[n]&&(d.value.now=Date.now()),a[l].unshiftNode(d));return e.value}},q=(a,b)=>{if(!b|| !b.maxAge&&!a[i])return!1;let c=Date.now()-b.now;return b.maxAge?c>b.maxAge:a[i]&&c>a[i]},r=a=>{if(a[f]>a[e])for(let b=a[l].tail;a[f]>a[e]&&null!==b;){let c=b.prev;s(a,b),b=c}},s=(a,b)=>{if(b){let c=b.value;a[j]&&a[j](c.key,c.value),a[f]-=c.length,a[m].delete(c.key),a[l].removeNode(b)}};class t{constructor(a,b,c,d,e){this.key=a,this.value=b,this.length=c,this.now=d,this.maxAge=e||0}}let u=(a,b,c,d)=>{let e=c.value;q(a,e)&&(s(a,c),a[h]||(e=void 0)),e&&b.call(d,e.value,e.key,a)};a.exports=class{constructor(a){if("number"==typeof a&&(a={max:a}),a||(a={}),a.max&&("number"!=typeof a.max||a.max<0))throw TypeError("max must be a non-negative number");this[e]=a.max||1/0;let b=a.length||o;if(this[g]="function"!=typeof b?o:b,this[h]=a.stale||!1,a.maxAge&&"number"!=typeof a.maxAge)throw TypeError("maxAge must be a number");this[i]=a.maxAge||0,this[j]=a.dispose,this[k]=a.noDisposeOnSet||!1,this[n]=a.updateAgeOnGet||!1,this.reset()}set max(a){if("number"!=typeof a||a<0)throw TypeError("max must be a non-negative number");this[e]=a||1/0,r(this)}get max(){return this[e]}set allowStale(a){this[h]=!!a}get allowStale(){return this[h]}set maxAge(a){if("number"!=typeof a)throw TypeError("maxAge must be a non-negative number");this[i]=a,r(this)}get maxAge(){return this[i]}set lengthCalculator(a){"function"!=typeof a&&(a=o),a!==this[g]&&(this[g]=a,this[f]=0,this[l].forEach(a=>{a.length=this[g](a.value,a.key),this[f]+=a.length})),r(this)}get lengthCalculator(){return this[g]}get length(){return this[f]}get itemCount(){return this[l].length}rforEach(a,b){b=b||this;for(let c=this[l].tail;null!==c;){let d=c.prev;u(this,a,c,b),c=d}}forEach(a,b){b=b||this;for(let c=this[l].head;null!==c;){let d=c.next;u(this,a,c,b),c=d}}keys(){return this[l].toArray().map(a=>a.key)}values(){return this[l].toArray().map(a=>a.value)}reset(){this[j]&&this[l]&&this[l].length&&this[l].forEach(a=>this[j](a.key,a.value)),this[m]=new Map,this[l]=new d,this[f]=0}dump(){return this[l].map(a=>!q(this,a)&&{k:a.key,v:a.value,e:a.now+(a.maxAge||0)}).toArray().filter(a=>a)}dumpLru(){return this[l]}set(a,b,c){if((c=c||this[i])&&"number"!=typeof c)throw TypeError("maxAge must be a number");let d=c?Date.now():0,h=this[g](b,a);if(this[m].has(a)){if(h>this[e])return s(this,this[m].get(a)),!1;let n=this[m].get(a),o=n.value;return this[j]&&!this[k]&&this[j](a,o.value),o.now=d,o.maxAge=c,o.value=b,this[f]+=h-o.length,o.length=h,this.get(a),r(this),!0}let p=new t(a,b,h,d,c);return p.length>this[e]?(this[j]&&this[j](a,b),!1):(this[f]+=p.length,this[l].unshift(p),this[m].set(a,this[l].head),r(this),!0)}has(a){if(!this[m].has(a))return!1;let b=this[m].get(a).value;return!q(this,b)}get(a){return p(this,a,!0)}peek(a){return p(this,a,!1)}pop(){let a=this[l].tail;return a?(s(this,a),a.value):null}del(a){s(this,this[m].get(a))}load(a){this.reset();let b=Date.now();for(let c=a.length-1;c>=0;c--){let d=a[c],e=d.e||0;if(0===e)this.set(d.k,d.v);else{let f=e-b;f>0&&this.set(d.k,d.v,f)}}}prune(){this[m].forEach((a,b)=>p(this,b,!1))}}},46773:function(a){"use strict";var b={};function c(a,c,d){d||(d=Error);var e=function(a){var b,d;function e(b,d,e){var f,g,h;return a.call(this,(f=b,g=d,h=e,"string"==typeof c?c:c(f,g,h)))||this}return b=e,d=a,b.prototype=Object.create(d.prototype),b.prototype.constructor=b,b.__proto__=d,e}(d);e.prototype.name=d.name,e.prototype.code=a,b[a]=e}function d(a,b){if(!Array.isArray(a))return"of ".concat(b," ").concat(String(a));var c=a.length;return(a=a.map(function(a){return String(a)}),c>2)?"one of ".concat(b," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:2===c?"one of ".concat(b," ").concat(a[0]," or ").concat(a[1]):"of ".concat(b," ").concat(a[0])}c("ERR_INVALID_OPT_VALUE",function(a,b){return'The value "'+b+'" is invalid for option "'+a+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(a,b,c){if("string"==typeof b&&(f="not ",(e=b).substr(!g||g<0?0:+g,f.length)===f)?(n="must not be",b=b.replace(/^not /,"")):n="must be",h=a,i=" argument",(void 0===j||j>h.length)&&(j=h.length),h.substring(j-i.length,j)===i)o="The ".concat(a," ").concat(n," ").concat(d(b,"type"));else{var e,f,g,h,i,j,k,l,m,n,o,p=(k=a,"number"!=typeof m&&(m=0),m+(l=".").length>k.length|| -1===k.indexOf(l,m))?"argument":"property";o='The "'.concat(a,'" ').concat(p," ").concat(n," ").concat(d(b,"type"))}return o+". Received type ".concat(typeof c)},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.q=b},24617:function(a,b,c){"use strict";var d=c(34155),e=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};a.exports=k;var f=c(62920),g=c(65979);c(35717)(k,f);for(var h=e(g.prototype),i=0;i<h.length;i++){var j=h[i];k.prototype[j]||(k.prototype[j]=g.prototype[j])}function k(a){if(!(this instanceof k))return new k(a);f.call(this,a),g.call(this,a),this.allowHalfOpen=!0,a&&(!1===a.readable&&(this.readable=!1),!1===a.writable&&(this.writable=!1),!1===a.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||d.nextTick(m,this)}function m(a){a.end()}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&& void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&& void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}})},68576:function(a,b,c){"use strict";a.exports=e;var d=c(40529);function e(a){if(!(this instanceof e))return new e(a);d.call(this,a)}c(35717)(e,d),e.prototype._transform=function(a,b,c){c(null,a)}},62920:function(a,b,c){"use strict";var d,e,f,g,h,i=c(34155);a.exports=z,z.ReadableState=y,c(17187).EventEmitter;var j=function(a,b){return a.listeners(b).length},k=c(31411),l=c(48764).Buffer,m=c.g.Uint8Array||function(){},n=c(34971);e=n&&n.debuglog?n.debuglog("stream"):function(){};var o=c(73454),p=c(45651),q=c(19221).getHighWaterMark,r=c(46773).q,s=r.ERR_INVALID_ARG_TYPE,t=r.ERR_STREAM_PUSH_AFTER_EOF,u=r.ERR_METHOD_NOT_IMPLEMENTED,v=r.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;c(35717)(z,k);var w=p.errorOrDestroy,x=["error","close","destroy","pause","resume"];function y(a,b,e){d=d||c(24617),a=a||{},"boolean"!=typeof e&&(e=b instanceof d),this.objectMode=!!a.objectMode,e&&(this.objectMode=this.objectMode||!!a.readableObjectMode),this.highWaterMark=q(this,a,"readableHighWaterMark",e),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==a.emitClose,this.autoDestroy=!!a.autoDestroy,this.destroyed=!1,this.defaultEncoding=a.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,a.encoding&&(f||(f=c(32553).StringDecoder),this.decoder=new f(a.encoding),this.encoding=a.encoding)}function z(a){if(d=d||c(24617),!(this instanceof z))return new z(a);var b=this instanceof d;this._readableState=new y(a,this,b),this.readable=!0,a&&("function"==typeof a.read&&(this._read=a.read),"function"==typeof a.destroy&&(this._destroy=a.destroy)),k.call(this)}function A(a,b,c,d,f){e("readableAddChunk",b);var g,h,i=a._readableState;if(null===b)i.reading=!1,E(a,i);else if(f||(h=C(i,b)),h)w(a,h);else if(i.objectMode||b&&b.length>0){if("string"!=typeof b&&!i.objectMode&&Object.getPrototypeOf(b)!==l.prototype&&(b=(g=b,l.from(g))),d)i.endEmitted?w(a,new v):B(a,i,b,!0);else if(i.ended)w(a,new t);else{if(i.destroyed)return!1;i.reading=!1,i.decoder&&!c?(b=i.decoder.write(b),i.objectMode||0!==b.length?B(a,i,b,!1):H(a,i)):B(a,i,b,!1)}}else d||(i.reading=!1,H(a,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function B(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(b.awaitDrain=0,a.emit("data",c)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&F(a)),H(a,b)}function C(a,b){var c,d;return d=b,!l.isBuffer(d)&&!(d instanceof m)&&"string"!=typeof b&& void 0!==b&&!a.objectMode&&(c=new s("chunk",["string","Buffer","Uint8Array"],b)),c}function D(a,b){if(a<=0||0===b.length&&b.ended)return 0;if(b.objectMode)return 1;if(a!=a)return b.flowing&&b.length?b.buffer.head.data.length:b.length;if(a>b.highWaterMark){var c;b.highWaterMark=((c=a)>=1073741824?c=1073741824:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++),c)}return a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0)}function E(a,b){if(e("onEofChunk"),!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,b.sync?F(a):(b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,G(a)))}}function F(a){var b=a._readableState;e("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(e("emitReadable",b.flowing),b.emittedReadable=!0,i.nextTick(G,a))}function G(a){var b=a._readableState;e("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&(b.length||b.ended)&&(a.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,M(a)}function H(a,b){b.readingMore||(b.readingMore=!0,i.nextTick(I,a,b))}function I(a,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&0===b.length);){var c=b.length;if(e("maybeReadMore read 0"),a.read(0),c===b.length)break}b.readingMore=!1}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),z.prototype.destroy=p.destroy,z.prototype._undestroy=p.undestroy,z.prototype._destroy=function(a,b){b(a)},z.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&((b=b||d.defaultEncoding)!==d.encoding&&(a=l.from(a,b),b=""),c=!0),A(this,a,b,!1,c)},z.prototype.unshift=function(a){return A(this,a,null,!0,!1)},z.prototype.isPaused=function(){return!1===this._readableState.flowing},z.prototype.setEncoding=function(a){f||(f=c(32553).StringDecoder);var b=new f(a);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;for(var d=this._readableState.buffer.head,e="";null!==d;)e+=b.write(d.data),d=d.next;return this._readableState.buffer.clear(),""!==e&&this._readableState.buffer.push(e),this._readableState.length=e.length,this};function J(a){var b=a._readableState;b.readableListening=a.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:a.listenerCount("data")>0&&a.resume()}function K(a){e("readable nexttick read 0"),a.read(0)}function L(a,b){e("resume",b.reading),b.reading||a.read(0),b.resumeScheduled=!1,a.emit("resume"),M(a),b.flowing&&!b.reading&&a.read(0)}function M(a){var b=a._readableState;for(e("flow",b.flowing);b.flowing&&null!==a.read(););}function N(a,b){var c;return 0===b.length?null:(b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.first():b.buffer.concat(b.length),b.buffer.clear()):c=b.buffer.consume(a,b.decoder),c)}function O(a){var b=a._readableState;e("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,i.nextTick(P,b,a))}function P(a,b){if(e("endReadableNT",a.endEmitted,a.length),!a.endEmitted&&0===a.length&&(a.endEmitted=!0,b.readable=!1,b.emit("end"),a.autoDestroy)){var c=b._writableState;(!c||c.autoDestroy&&c.finished)&&b.destroy()}}function Q(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return -1}z.prototype.read=function(a){e("read",a),a=parseInt(a,10);var b,c=this._readableState,d=a;if(0!==a&&(c.emittedReadable=!1),0===a&&c.needReadable&&((0!==c.highWaterMark?c.length>=c.highWaterMark:c.length>0)||c.ended))return e("read: emitReadable",c.length,c.ended),0===c.length&&c.ended?O(this):F(this),null;if(0===(a=D(a,c))&&c.ended)return 0===c.length&&O(this),null;var f=c.needReadable;return e("need readable",f),(0===c.length||c.length-a<c.highWaterMark)&&e("length less than watermark",f=!0),c.ended||c.reading?e("reading or ended",f=!1):f&&(e("do read"),c.reading=!0,c.sync=!0,0===c.length&&(c.needReadable=!0),this._read(c.highWaterMark),c.sync=!1,c.reading||(a=D(d,c))),null===(b=a>0?N(a,c):null)?(c.needReadable=c.length<=c.highWaterMark,a=0):(c.length-=a,c.awaitDrain=0),0===c.length&&(c.ended||(c.needReadable=!0),d!==a&&c.ended&&O(this)),null!==b&&this.emit("data",b),b},z.prototype._read=function(a){w(this,new u("_read()"))},z.prototype.pipe=function(a,b){var c,d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=a;break;case 1:f.pipes=[f.pipes,a];break;default:f.pipes.push(a)}f.pipesCount+=1,e("pipe count=%d opts=%j",f.pipesCount,b);var g=b&& !1===b.end||a===i.stdout||a===i.stderr?s:k;function h(a,b){e("onunpipe"),a===d&&b&& !1===b.hasUnpiped&&(b.hasUnpiped=!0,n())}function k(){e("onend"),a.end()}f.endEmitted?i.nextTick(g):d.once("end",g),a.on("unpipe",h);var l=(c=d,function(){var a=c._readableState;e("pipeOnDrain",a.awaitDrain),a.awaitDrain&&a.awaitDrain--,0===a.awaitDrain&&j(c,"data")&&(a.flowing=!0,M(c))});a.on("drain",l);var m=!1;function n(){e("cleanup"),a.removeListener("close",q),a.removeListener("finish",r),a.removeListener("drain",l),a.removeListener("error",p),a.removeListener("unpipe",h),d.removeListener("end",k),d.removeListener("end",s),d.removeListener("data",o),m=!0,f.awaitDrain&&(!a._writableState||a._writableState.needDrain)&&l()}function o(b){e("ondata");var c=a.write(b);e("dest.write",c),!1===c&&((1===f.pipesCount&&f.pipes===a||f.pipesCount>1&& -1!==Q(f.pipes,a))&&!m&&(e("false write response, pause",f.awaitDrain),f.awaitDrain++),d.pause())}function p(b){e("onerror",b),s(),a.removeListener("error",p),0===j(a,"error")&&w(a,b)}function q(){a.removeListener("finish",r),s()}function r(){e("onfinish"),a.removeListener("close",q),s()}function s(){e("unpipe"),d.unpipe(a)}return d.on("data",o),function(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?Array.isArray(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}(a,"error",p),a.once("close",q),a.once("finish",r),a.emit("pipe",d),f.flowing||(e("pipe resume"),d.resume()),a},z.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes||(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c)),this;if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,{hasUnpiped:!1});return this}var g=Q(b.pipes,a);return -1===g||(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c)),this},z.prototype.on=function(a,b){var c=k.prototype.on.call(this,a,b),d=this._readableState;return"data"===a?(d.readableListening=this.listenerCount("readable")>0,!1!==d.flowing&&this.resume()):"readable"!==a||d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.flowing=!1,d.emittedReadable=!1,e("on readable",d.length,d.reading),d.length?F(this):d.reading||i.nextTick(K,this)),c},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(a,b){var c=k.prototype.removeListener.call(this,a,b);return"readable"===a&&i.nextTick(J,this),c},z.prototype.removeAllListeners=function(a){var b=k.prototype.removeAllListeners.apply(this,arguments);return("readable"===a|| void 0===a)&&i.nextTick(J,this),b},z.prototype.resume=function(){var a,b,c=this._readableState;return c.flowing||(e("resume"),c.flowing=!c.readableListening,a=this,(b=c).resumeScheduled||(b.resumeScheduled=!0,i.nextTick(L,a,b))),c.paused=!1,this},z.prototype.pause=function(){return e("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(e("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},z.prototype.wrap=function(a){var b=this,c=this._readableState,d=!1;for(var f in a.on("end",function(){if(e("wrapped end"),c.decoder&&!c.ended){var a=c.decoder.end();a&&a.length&&b.push(a)}b.push(null)}),a.on("data",function(f){if(e("wrapped data"),c.decoder&&(f=c.decoder.write(f)),!c.objectMode||null!=f)(c.objectMode||f&&f.length)&&(b.push(f)||(d=!0,a.pause()))}),a)void 0===this[f]&&"function"==typeof a[f]&&(this[f]=function(b){return function(){return a[b].apply(a,arguments)}}(f));for(var g=0;g<x.length;g++)a.on(x[g],this.emit.bind(this,x[g]));return this._read=function(b){e("wrapped _read",b),d&&(d=!1,a.resume())},this},"function"==typeof Symbol&&(z.prototype[Symbol.asyncIterator]=function(){return void 0===g&&(g=c(98661)),g(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(a){this._readableState&&(this._readableState.flowing=a)}}),z._fromList=N,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(z.from=function(a,b){return void 0===h&&(h=c(78308)),h(z,a,b)})},40529:function(a,b,c){"use strict";a.exports=k;var d=c(46773).q,e=d.ERR_METHOD_NOT_IMPLEMENTED,f=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=d.ERR_TRANSFORM_WITH_LENGTH_0,i=c(24617);function j(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(null===d)return this.emit("error",new f);c.writechunk=null,c.writecb=null,null!=b&&this.push(b),d(a);var e=this._readableState;e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}function k(a){if(!(this instanceof k))return new k(a);i.call(this,a),this._transformState={afterTransform:j.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",l)}function l(){var a=this;"function"!=typeof this._flush||this._readableState.destroyed?m(this,null,null):this._flush(function(b,c){m(a,b,c)})}function m(a,b,c){if(b)return a.emit("error",b);if(null!=c&&a.push(c),a._writableState.length)throw new h;if(a._transformState.transforming)throw new g;return a.push(null)}c(35717)(k,i),k.prototype.push=function(a,b){return this._transformState.needTransform=!1,i.prototype.push.call(this,a,b)},k.prototype._transform=function(a,b,c){c(new e("_transform()"))},k.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},k.prototype._read=function(a){var b=this._transformState;null===b.writechunk||b.transforming?b.needTransform=!0:(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform))},k.prototype._destroy=function(a,b){i.prototype._destroy.call(this,a,function(a){b(a)})}},65979:function(a,b,c){"use strict";var d,e,f=c(34155);function g(a){var b=this;this.next=null,this.entry=null,this.finish=function(){K(b,a)}}a.exports=z,z.WritableState=y;var h={deprecate:c(94927)},i=c(31411),j=c(48764).Buffer,k=c.g.Uint8Array||function(){},l=c(45651),m=c(19221).getHighWaterMark,n=c(46773).q,o=n.ERR_INVALID_ARG_TYPE,p=n.ERR_METHOD_NOT_IMPLEMENTED,q=n.ERR_MULTIPLE_CALLBACK,r=n.ERR_STREAM_CANNOT_PIPE,s=n.ERR_STREAM_DESTROYED,t=n.ERR_STREAM_NULL_VALUES,u=n.ERR_STREAM_WRITE_AFTER_END,v=n.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function x(){}function y(a,b,e){d=d||c(24617),a=a||{},"boolean"!=typeof e&&(e=b instanceof d),this.objectMode=!!a.objectMode,e&&(this.objectMode=this.objectMode||!!a.writableObjectMode),this.highWaterMark=m(this,a,"writableHighWaterMark",e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===a.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){C(b,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==a.emitClose,this.autoDestroy=!!a.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new g(this)}function z(a){var b=this instanceof(d=d||c(24617));if(!b&&!e.call(z,this))return new z(a);this._writableState=new y(a,this,b),this.writable=!0,a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.final&&(this._final=a.final)),i.call(this)}function A(a,b,c,d,e,f){if(!c){var g,h,i,k=(g=b,h=d,i=e,g.objectMode|| !1===g.decodeStrings||"string"!=typeof h||(h=j.from(h,i)),h);d!==k&&(c=!0,e="buffer",d=k)}var l=b.objectMode?1:d.length;b.length+=l;var m=b.length<b.highWaterMark;if(m||(b.needDrain=!0),b.writing||b.corked){var n=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},n?n.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else B(a,b,!1,l,d,e,f);return m}function B(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,b.destroyed?b.onwrite(new s("write")):c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function C(a,b){var c,d,e,g,h,i,j=a._writableState,k=j.sync,l=j.writecb;if("function"!=typeof l)throw new q;if((c=j).writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0,b)d=a,e=j,g=k,h=b,i=l,--e.pendingcb,g?(f.nextTick(i,h),f.nextTick(I,d,e),d._writableState.errorEmitted=!0,w(d,h)):(i(h),d._writableState.errorEmitted=!0,w(d,h),I(d,e));else{var m=G(j)||a.destroyed;m||j.corked||j.bufferProcessing||!j.bufferedRequest||F(a,j),k?f.nextTick(D,a,j,m,l):D(a,j,m,l)}}function D(a,b,c,d){c||E(a,b),b.pendingcb--,d(),I(a,b)}function E(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function F(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=Array(b.bufferedRequestCount),e=b.corkedRequestsFree;e.entry=c;for(var f=0,h=!0;c;)d[f]=c,c.isBuf||(h=!1),c=c.next,f+=1;d.allBuffers=h,B(a,b,!0,b.length,d,"",e.finish),b.pendingcb++,b.lastBufferedRequest=null,e.next?(b.corkedRequestsFree=e.next,e.next=null):b.corkedRequestsFree=new g(b),b.bufferedRequestCount=0}else{for(;c;){var i=c.chunk,j=c.encoding,k=c.callback,l=b.objectMode?1:i.length;if(B(a,b,!1,l,i,j,k),c=c.next,b.bufferedRequestCount--,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequest=c,b.bufferProcessing=!1}function G(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function H(a,b){a._final(function(c){b.pendingcb--,c&&w(a,c),b.prefinished=!0,a.emit("prefinish"),I(a,b)})}function I(a,b){var c,d,e=G(b);if(e&&(c=a,(d=b).prefinished||d.finalCalled||("function"!=typeof c._final||d.destroyed?(d.prefinished=!0,c.emit("prefinish")):(d.pendingcb++,d.finalCalled=!0,f.nextTick(H,c,d))),0===b.pendingcb&&(b.finished=!0,a.emit("finish"),b.autoDestroy))){var g=a._readableState;(!g||g.autoDestroy&&g.endEmitted)&&a.destroy()}return e}function J(a,b,c){b.ending=!0,I(a,b),c&&(b.finished?f.nextTick(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function K(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree.next=a}c(35717)(z,i),y.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(y.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(e=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(a){return!!e.call(this,a)||this===z&&a&&a._writableState instanceof y}})):e=function(a){return a instanceof this},z.prototype.pipe=function(){w(this,new r)},z.prototype.write=function(a,b,c){var d,e,g,h,i,l,m,n,p,q,r=this._writableState,s=!1,v=!r.objectMode&&(q=a,j.isBuffer(q)||q instanceof k);return v&&!j.isBuffer(a)&&(a=(d=a,j.from(d))),("function"==typeof b&&(c=b,b=null),v?b="buffer":b||(b=r.defaultEncoding),"function"!=typeof c&&(c=x),r.ending)?(e=this,g=c,h=new u,w(e,h),f.nextTick(g,h)):(v||(i=this,l=r,m=a,n=c,null===m?p=new t:"string"==typeof m||l.objectMode||(p=new o("chunk",["string","Buffer"],m)),!p||(w(i,p),f.nextTick(n,p),0)))&&(r.pendingcb++,s=A(this,r,v,a,b,c)),s},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var a=this._writableState;!a.corked||(a.corked--,a.writing||a.corked||a.bufferProcessing||!a.bufferedRequest||F(this,a))},z.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())> -1))throw new v(a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),z.prototype._write=function(a,b,c){c(new p("_write()"))},z.prototype._writev=null,z.prototype.end=function(a,b,c){var d=this._writableState;return"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!=a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||J(this,d,c),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),z.prototype.destroy=l.destroy,z.prototype._undestroy=l.undestroy,z.prototype._destroy=function(a,b){b(a)}},98661:function(a,b,c){"use strict";var d,e=c(34155);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var g=c(72553),h=Symbol("lastResolve"),i=Symbol("lastReject"),j=Symbol("error"),k=Symbol("ended"),l=Symbol("lastPromise"),m=Symbol("handlePromise"),n=Symbol("stream");function o(a,b){return{value:a,done:b}}function p(a){var b=a[h];if(null!==b){var c=a[n].read();null!==c&&(a[l]=null,a[h]=null,a[i]=null,b(o(c,!1)))}}function q(a){e.nextTick(p,a)}var r=Object.getPrototypeOf(function(){}),s=Object.setPrototypeOf((d={get stream(){return this[n]},next:function(){var a,b,c,d=this,f=this[j];if(null!==f)return Promise.reject(f);if(this[k])return Promise.resolve(o(void 0,!0));if(this[n].destroyed)return new Promise(function(a,b){e.nextTick(function(){d[j]?b(d[j]):a(o(void 0,!0))})});var g=this[l];if(g)c=new Promise((a=g,b=this,function(c,d){a.then(function(){if(b[k]){c(o(void 0,!0));return}b[m](c,d)},d)}));else{var h=this[n].read();if(null!==h)return Promise.resolve(o(h,!1));c=new Promise(this[m])}return this[l]=c,c}},f(d,Symbol.asyncIterator,function(){return this}),f(d,"return",function(){var a=this;return new Promise(function(b,c){a[n].destroy(null,function(a){if(a){c(a);return}b(o(void 0,!0))})})}),d),r),t=function(a){var b,c=Object.create(s,(f(b={},n,{value:a,writable:!0}),f(b,h,{value:null,writable:!0}),f(b,i,{value:null,writable:!0}),f(b,j,{value:null,writable:!0}),f(b,k,{value:a._readableState.endEmitted,writable:!0}),f(b,m,{value:function(a,b){var d=c[n].read();d?(c[l]=null,c[h]=null,c[i]=null,a(o(d,!1))):(c[h]=a,c[i]=b)},writable:!0}),b));return c[l]=null,g(a,function(a){if(a&&"ERR_STREAM_PREMATURE_CLOSE"!==a.code){var b=c[i];null!==b&&(c[l]=null,c[h]=null,c[i]=null,b(a)),c[j]=a;return}var d=c[h];null!==d&&(c[l]=null,c[h]=null,c[i]=null,d(o(void 0,!0))),c[k]=!0}),a.on("readable",q.bind(null,c)),c};a.exports=t},73454:function(a,b,c){"use strict";function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var g=c(48764).Buffer,h=c(61139).inspect,i=h&&h.custom||"inspect";function j(a,b,c){g.prototype.copy.call(a,b,c)}a.exports=function(){var a,b,c;function k(){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,k),this.head=null,this.tail=null,this.length=0}return a=k,b=[{key:"push",value:function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c}},{key:"concat",value:function(a){if(0===this.length)return g.alloc(0);for(var b=g.allocUnsafe(a>>>0),c=this.head,d=0;c;)j(c.data,b,d),d+=c.data.length,c=c.next;return b}},{key:"consume",value:function(a,b){var c;return a<this.head.data.length?(c=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):c=a===this.head.data.length?this.shift():b?this._getString(a):this._getBuffer(a),c}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var b=this.head,c=1,d=b.data;for(a-=d.length;b=b.next;){var e=b.data,f=a>e.length?e.length:a;if(f===e.length?d+=e:d+=e.slice(0,a),0==(a-=f)){f===e.length?(++c,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=e.slice(f));break}++c}return this.length-=c,d}},{key:"_getBuffer",value:function(a){var b=g.allocUnsafe(a),c=this.head,d=1;for(c.data.copy(b),a-=c.data.length;c=c.next;){var e=c.data,f=a>e.length?e.length:a;if(e.copy(b,b.length-a,0,f),0==(a-=f)){f===e.length?(++d,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=e.slice(f));break}++d}return this.length-=d,b}},{key:i,value:function(a,b){return h(this,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d(Object(c),!0).forEach(function(b){e(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},b,{depth:0,customInspect:!1}))}}],f(a.prototype,b),c&&f(a,c),k}()},45651:function(a,b,c){"use strict";var d=c(34155);function e(a,b){g(a,b),f(a)}function f(a){(!a._writableState||a._writableState.emitClose)&&(!a._readableState||a._readableState.emitClose)&&a.emit("close")}function g(a,b){a.emit("error",b)}a.exports={destroy:function(a,b){var c=this,h=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return h||i?(b?b(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(g,this,a)):d.nextTick(g,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?c._writableState?c._writableState.errorEmitted?d.nextTick(f,c):(c._writableState.errorEmitted=!0,d.nextTick(e,c,a)):d.nextTick(e,c,a):b?(d.nextTick(f,c),b(a)):d.nextTick(f,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,b){var c=a._readableState,d=a._writableState;c&&c.autoDestroy||d&&d.autoDestroy?a.destroy(b):a.emit("error",b)}}},72553:function(a,b,c){"use strict";var d=c(46773).q.ERR_STREAM_PREMATURE_CLOSE;function e(){}function f(a,b,c){if("function"==typeof b)return f(a,null,b);b||(b={}),c=(g=c||e,h=!1,function(){if(!h){h=!0;for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];g.apply(this,b)}});var g,h,i,j=b.readable|| !1!==b.readable&&a.readable,k=b.writable|| !1!==b.writable&&a.writable,l=function(){a.writable||n()},m=a._writableState&&a._writableState.finished,n=function(){k=!1,m=!0,j||c.call(a)},o=a._readableState&&a._readableState.endEmitted,p=function(){j=!1,o=!0,k||c.call(a)},q=function(b){c.call(a,b)},r=function(){var b;return j&&!o?(a._readableState&&a._readableState.ended||(b=new d),c.call(a,b)):k&&!m?(a._writableState&&a._writableState.ended||(b=new d),c.call(a,b)):void 0},s=function(){a.req.on("finish",n)};return(i=a).setHeader&&"function"==typeof i.abort?(a.on("complete",n),a.on("abort",r),a.req?s():a.on("request",s)):k&&!a._writableState&&(a.on("end",l),a.on("close",l)),a.on("end",p),a.on("finish",n),!1!==b.error&&a.on("error",q),a.on("close",r),function(){a.removeListener("complete",n),a.removeListener("abort",r),a.removeListener("request",s),a.req&&a.req.removeListener("finish",n),a.removeListener("end",l),a.removeListener("close",l),a.removeListener("finish",n),a.removeListener("end",p),a.removeListener("error",q),a.removeListener("close",r)}}a.exports=f},78308:function(a){a.exports=function(){throw Error("Readable.from is not available in the browser")}},1782:function(a,b,c){"use strict";var d,e=c(46773).q,f=e.ERR_MISSING_ARGS,g=e.ERR_STREAM_DESTROYED;function h(a){if(a)throw a}function i(a){a()}function j(a,b){return a.pipe(b)}a.exports=function(){for(var a,b=arguments.length,e=Array(b),k=0;k<b;k++)e[k]=arguments[k];var l,m=(l=e).length&&"function"==typeof l[l.length-1]?l.pop():h;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new f("streams");var n=e.map(function(b,f){var h=f<e.length-1;return function(a,b,e,f){f=(h=f,i=!1,function(){i||(i=!0,h.apply(void 0,arguments))});var h,i,j=!1;a.on("close",function(){j=!0}),void 0===d&&(d=c(72553)),d(a,{readable:b,writable:e},function(a){if(a)return f(a);j=!0,f()});var k=!1;return function(b){if(!j&&!k){var c;if(k=!0,(c=a).setHeader&&"function"==typeof c.abort)return a.abort();if("function"==typeof a.destroy)return a.destroy();f(b||new g("pipe"))}}}(b,h,f>0,function(b){a||(a=b),b&&n.forEach(i),h||(n.forEach(i),m(a))})});return e.reduce(j)}},19221:function(a,b,c){"use strict";var d=c(46773).q.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(a,b,c,e){var f,g,h,i=(f=b,g=e,h=c,null!=f.highWaterMark?f.highWaterMark:g?f[h]:null);if(null!=i){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var j=e?c:"highWaterMark";throw new d(j,i)}return Math.floor(i)}return a.objectMode?16:16384}}},31411:function(a,b,c){a.exports=c(17187).EventEmitter},89600:function(a,b,c){(b=a.exports=c(62920)).Stream=b,b.Readable=b,b.Writable=c(65979),b.Duplex=c(24617),b.Transform=c(40529),b.PassThrough=c(68576),b.finished=c(72553),b.pipeline=c(1782)},77686:function(a,b,c){"use strict";c.r(b),c.d(b,{BlankNode:function(){return L},DataFactory:function(){return H},DefaultGraph:function(){return N},Lexer:function(){return r},Literal:function(){return K},NamedNode:function(){return J},Parser:function(){return W},Quad:function(){return Q},Store:function(){return ai},StreamParser:function(){return al},StreamWriter:function(){return am},Term:function(){return I},Triple:function(){return Q},Util:function(){return d},Variable:function(){return M},Writer:function(){return ae},default:function(){return an},termFromId:function(){return O},termToId:function(){return P}});var d={};c.r(d),c.d(d,{inDefaultGraph:function(){return x},isBlankNode:function(){return t},isDefaultGraph:function(){return w},isLiteral:function(){return u},isNamedNode:function(){return s},isVariable:function(){return v},prefix:function(){return y},prefixes:function(){return z}});let e="http://www.w3.org/1999/02/22-rdf-syntax-ns#",f="http://www.w3.org/2001/XMLSchema#",g="http://www.w3.org/2000/10/swap/";var h={xsd:{decimal:`${f}decimal`,boolean:`${f}boolean`,double:`${f}double`,integer:`${f}integer`,string:`${f}string`},rdf:{type:`${e}type`,nil:`${e}nil`,first:`${e}first`,rest:`${e}rest`,langString:`${e}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${g}reify#forSome`,forAll:`${g}reify#forAll`},log:{implies:`${g}log#implies`}},i=c(54375),j=c.n(i),k=c(48764).Buffer;let{xsd:l}=h,m=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,n={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"	",f:"\f",b:"\b","_":"_","~":"~",".":".","-":"-","!":"!","$":"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},o=/[\x00-\x20<>\\"\{\}\|\^\`]/,p={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},q=/$0^/;class r{constructor(a){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,a=a||{},this._lineMode=!!a.lineMode)for(let b in this._n3Mode=!1,this)!(b in p)&&this[b]instanceof RegExp&&(this[b]=q);else this._n3Mode=!1!==a.n3;this._comments=!!a.comments,this._literalClosingPos=0}_tokenizeToEnd(a,b){let c=this._input,d=c.length;for(;;){let e,f;for(;e=this._newline.exec(c);)this._comments&&(f=this._comment.exec(e[0]))&&s("comment",f[1],"",this._line,e[0].length),d=(c=c.substr(e[0].length,c.length)).length,this._line++;if(!e&&(e=this._whitespace.exec(c))&&(c=c.substr(e[0].length,c.length)),this._endOfFile.test(c))return b&&(this._comments&&(f=this._comment.exec(c))&&s("comment",f[1],"",this._line,c.length),c=null,s("eof","","",this._line,0)),this._input=c;let g=this._line,h=c[0],i="",j="",k="",m=null,n=0,p=!1;switch(h){case"^":if(c.length<3)break;if("^"===c[1]){if(this._previousMarker="^^","<"!==(c=c.substr(2))[0]){p=!0;break}}else{this._n3Mode&&(n=1,i="^");break}case"<":if(m=this._unescapedIri.exec(c))i="IRI",j=m[1];else if(m=this._iri.exec(c)){if(null===(j=this._unescape(m[1]))||o.test(j))return t(this);i="IRI"}else c.length>1&&"<"===c[1]?(i="<<",n=2):this._n3Mode&&c.length>1&&"="===c[1]&&(i="inverse",n=2,j=">");break;case">":c.length>1&&">"===c[1]&&(i=">>",n=2);break;case"_":((m=this._blank.exec(c))||b&&(m=this._blank.exec(`${c} `)))&&(i="blank",k="_",j=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(c))j=m[1];else if({value:j,matchLength:n}=this._parseLiteral(c),null===j)return t(this);(null!==m||0!==n)&&(i="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(c))j=m[1];else if({value:j,matchLength:n}=this._parseLiteral(c),null===j)return t(this);(null!==m||0!==n)&&(i="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(c))&&(i="var",j=m[0]);break;case"@":"literal"===this._previousMarker&&(m=this._langcode.exec(c))?(i="langcode",j=m[1]):(m=this._keyword.exec(c))&&(i=m[0]);break;case".":if(1===c.length?b:c[1]<"0"||c[1]>"9"){i=".",n=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(c)||b&&(m=this._number.exec(`${c} `)))&&(i="literal",j=m[0],k="string"==typeof m[1]?l.double:"string"==typeof m[2]?l.decimal:l.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(c))?i=m[0].toUpperCase():p=!0;break;case"f":case"t":(m=this._boolean.exec(c))?(i="literal",j=m[0],k=l.boolean):p=!0;break;case"a":(m=this._shortPredicates.exec(c))?(i="abbreviation",j="a"):p=!0;break;case"=":this._n3Mode&&c.length>1&&(i="abbreviation",">"!==c[1]?(n=1,j="="):(n=2,j=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(n=1,i=h);break;default:p=!0}if(p&&(("@prefix"===this._previousMarker||"PREFIX"===this._previousMarker)&&(m=this._prefix.exec(c))?(i="prefix",j=m[1]||""):((m=this._prefixed.exec(c))||b&&(m=this._prefixed.exec(`${c} `)))&&(i="prefixed",k=m[1]||"",j=this._unescape(m[2]))),"^^"===this._previousMarker)switch(i){case"prefixed":i="type";break;case"IRI":i="typeIRI";break;default:i=""}if(!i){if(b|| !/^'''|^"""/.test(c)&&/\n|\r/.test(c))return t(this);return this._input=c}let q=n||m[0].length,r=s(i,j,k,g,q);this.previousToken=r,this._previousMarker=i,c=c.substr(q,c.length)}function s(b,e,f,g,h){let i=c?d-c.length:d,j={type:b,value:e,prefix:f,line:g,start:i,end:i+h};return a(null,j),j}function t(b){a(b._syntaxError(/^\S*/.exec(c)[0]))}}_unescape(a){let b=!1,c=a.replace(m,(a,c,d,e)=>{if("string"==typeof c)return String.fromCharCode(Number.parseInt(c,16));if("string"==typeof d){let f=Number.parseInt(d,16);return f<=65535?String.fromCharCode(Number.parseInt(d,16)):String.fromCharCode(55296+((f-=65536)>>10),56320+(1023&f))}return e in n?n[e]:(b=!0,"")});return b?null:c}_parseLiteral(a){if(a.length>=3){let b=a.match(/^(?:"""|"|'''|'|)/)[0],c=b.length,d=Math.max(this._literalClosingPos,c);for(;(d=a.indexOf(b,d))>0;){let e=0;for(;"\\"===a[d-e-1];)e++;if(e%2==0){let f=a.substring(c,d),g=f.split(/\r\n|\r|\n/).length-1,h=d+c;if(1===c&&0!==g||3===c&&this._lineMode)break;return this._line+=g,{value:this._unescape(f),matchLength:h}}d++}this._literalClosingPos=a.length-c+1}return{value:"",matchLength:0}}_syntaxError(a){this._input=null;let b=Error(`Unexpected "${a}" on line ${this._line}.`);return b.context={token:void 0,line:this._line,previousToken:this.previousToken},b}_readStartingBom(a){return a.startsWith("\uFEFF")?a.substr(1):a}tokenize(a,b){if(this._line=1,"string"==typeof a){if(this._input=this._readStartingBom(a),"function"==typeof b)j()(()=>this._tokenizeToEnd(b,!0));else{let c=[],d;if(this._tokenizeToEnd((a,b)=>a?d=a:c.push(b),!0),d)throw d;return c}}else this._pendingBuffer=null,"function"==typeof a.setEncoding&&a.setEncoding("utf8"),a.on("data",a=>{null!==this._input&&0!==a.length&&(this._pendingBuffer&&(a=k.concat([this._pendingBuffer,a]),this._pendingBuffer=null),128&a[a.length-1]?this._pendingBuffer=a:(void 0===this._input?this._input=this._readStartingBom("string"==typeof a?a:a.toString()):this._input+=a,this._tokenizeToEnd(b,!1)))}),a.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(b,!0)}),a.on("error",b)}}function s(a){return!!a&&"NamedNode"===a.termType}function t(a){return!!a&&"BlankNode"===a.termType}function u(a){return!!a&&"Literal"===a.termType}function v(a){return!!a&&"Variable"===a.termType}function w(a){return!!a&&"DefaultGraph"===a.termType}function x(a){return w(a.graph)}function y(a,b){return z({"":a.value||a},b)("")}function z(a,b){let c=Object.create(null);for(let d in a)e(d,a[d]);function e(a,d){if("string"==typeof d){let e=Object.create(null);c[a]=a=>e[a]||(e[a]=b.namedNode(d+a))}else if(!(a in c))throw Error(`Unknown prefix: ${a}`);return c[a]}return b=b||H,e}let{rdf:A,xsd:B}=h,C,D=0,E=/^"(.*".*)(?="[^"]*$)/,F=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,G={namedNode:function(a){return new J(a)},blankNode:function(a){return new L(a||`n3-${D++}`)},variable:function(a){return new M(a)},literal:function(a,b){if("string"==typeof b)return new K(`"${a}"@${b.toLowerCase()}`);let c=b?b.value:"";return""!==c||("boolean"==typeof a?c=B.boolean:"number"!=typeof a||(Number.isFinite(a)?c=Number.isInteger(a)?B.integer:B.double:(c=B.double,Number.isNaN(a)||(a=a>0?"INF":"-INF")))),new K(""===c||c===B.string?`"${a}"`:`"${a}"^^${c}`)},defaultGraph:T,quad:U,triple:U};var H=G;class I{constructor(a){this.id=a}get value(){return this.id}equals(a){return a instanceof I?this.id===a.id:!!a&&this.termType===a.termType&&this.value===a.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class J extends I{get termType(){return"NamedNode"}}class K extends I{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){let a=this.id,b=a.lastIndexOf('"')+1;return b<a.length&&"@"===a[b++]?a.substr(b).toLowerCase():""}get datatype(){return new J(this.datatypeString)}get datatypeString(){let a=this.id,b=a.lastIndexOf('"')+1,c=b<a.length?a[b]:"";return"^"===c?a.substr(b+2):"@"!==c?B.string:A.langString}equals(a){return a instanceof K?this.id===a.id:!!a&&!!a.datatype&&this.termType===a.termType&&this.value===a.value&&this.language===a.language&&this.datatype.value===a.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class L extends I{constructor(a){super(`_:${a}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class M extends I{constructor(a){super(`?${a}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class N extends I{constructor(){return super(""),C||this}get termType(){return"DefaultGraph"}equals(a){return this===a|| !!a&&this.termType===a.termType}}function O(a,b){if(b=b||G,!a)return b.defaultGraph();switch(a[0]){case"?":return b.variable(a.substr(1));case"_":return b.blankNode(a.substr(2));case'"':if(b===G)return new K(a);if('"'===a[a.length-1])return b.literal(a.substr(1,a.length-2));let c=a.lastIndexOf('"',a.length-1);return b.literal(a.substr(1,c-1),"@"===a[c+1]?a.substr(c+2):b.namedNode(a.substr(c+3)));case"<":let d=F.exec(a);return b.quad(O(S(d[1]),b),O(S(d[2]),b),O(S(d[3]),b),d[4]&&O(S(d[4]),b));default:return b.namedNode(a)}}function P(a){if("string"==typeof a)return a;if(a instanceof I&&"Quad"!==a.termType)return a.id;if(!a)return C.id;switch(a.termType){case"NamedNode":return a.value;case"BlankNode":return`_:${a.value}`;case"Variable":return`?${a.value}`;case"DefaultGraph":return"";case"Literal":return`"${a.value}"${a.language?`@${a.language}`:a.datatype&&a.datatype.value!==B.string?`^^${a.datatype.value}`:""}`;case"Quad":return`<<${R(P(a.subject))} ${R(P(a.predicate))} ${R(P(a.object))}${w(a.graph)?"":` ${P(a.graph)}`}>>`;default:throw Error(`Unexpected termType: ${a.termType}`)}}C=new N;class Q extends I{constructor(a,b,c,d){super(""),this._subject=a,this._predicate=b,this._object=c,this._graph=d||C}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(a){return!!a&&this._subject.equals(a.subject)&&this._predicate.equals(a.predicate)&&this._object.equals(a.object)&&this._graph.equals(a.graph)}}function R(a){return a.replace(E,(a,b)=>`"${b.replace(/"/g,'""')}`)}function S(a){return a.replace(E,(a,b)=>`"${b.replace(/""/g,'"')}`)}function T(){return C}function U(a,b,c,d){return new Q(a,b,c,d)}let V=0;class W{constructor(a){this._contextStack=[],this._graph=null,a=a||{},this._setBase(a.baseIRI),a.factory&&Y(this,a.factory);let b="string"==typeof a.format?a.format.match(/\w*$/)[0].toLowerCase():"",c=/turtle/.test(b),d=/trig/.test(b),e=/triple/.test(b),f=/quad/.test(b),g=this._n3Mode=/n3/.test(b),h=e||f;(this._supportsNamedGraphs=!(c||g))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(c||d||e||g),this._supportsRDFStar=""===b||/star|\*$/.test(b),h&&(this._resolveRelativeIRI=a=>null),this._blankNodePrefix="string"!=typeof a.blankNodePrefix?"":a.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=a.lexer||new r({lineMode:h,n3:g}),this._explicitQuantifiers=!!a.explicitQuantifiers}static _resetBlankNodePrefix(){V=0}_setBase(a){if(a){let b=a.indexOf("#");b>=0&&(a=a.substr(0,b)),this._base=a,this._basePath=0>a.indexOf("/")?a:a.replace(/[^\/?]*(?:\?.*)?$/,""),a=a.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=a[0],this._baseScheme=a[1]}else this._base="",this._basePath=""}_saveContext(a,b,c,d,e){let f=this._n3Mode;this._contextStack.push({type:a,subject:c,predicate:d,object:e,graph:b,inverse:!!f&&this._inversePredicate,blankPrefix:f?this._prefixes._:"",quantified:f?this._quantified:null}),f&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.id.substr(2)}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(a,b){let c=this._contextStack.pop();if(!c||c.type!==a)return this._error(`Unexpected ${b.type}`,b);this._subject=c.subject,this._predicate=c.predicate,this._object=c.object,this._graph=c.graph,this._n3Mode&&(this._inversePredicate=c.inverse,this._prefixes._=c.blankPrefix,this._quantified=c.quantified)}_readInTopContext(a){switch(a.type){case"eof":if(null!==this._graph)return this._error("Unclosed graph",a);return delete this._prefixes._,this._callback(null,null,this._prefixes);case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(a)}}_readEntity(a,b){let c;switch(a.type){case"IRI":case"typeIRI":let d=this._resolveIRI(a.value);if(null===d)return this._error("Invalid IRI",a);c=this._namedNode(d);break;case"type":case"prefixed":let e=this._prefixes[a.prefix];if(void 0===e)return this._error(`Undefined prefix "${a.prefix}:"`,a);c=this._namedNode(e+a.value);break;case"blank":c=this._blankNode(this._prefixes[a.prefix]+a.value);break;case"var":c=this._variable(a.value.substr(1));break;default:return this._error(`Expected entity but got ${a.type}`,a)}return!b&&this._n3Mode&&c.id in this._quantified&&(c=this._quantified[c.id]),c}_readSubject(a){switch(this._predicate=null,a.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":if(!this._n3Mode)return this._error("Unexpected graph",a);return this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject;case"}":return this._readPunctuation(a);case"@forSome":if(!this._n3Mode)return this._error('Unexpected "@forSome"',a);return this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList;case"@forAll":if(!this._n3Mode)return this._error('Unexpected "@forAll"',a);return this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList;case"literal":if(!this._n3Mode)return this._error("Unexpected literal",a);if(0===a.prefix.length)return this._literalValue=a.value,this._completeSubjectLiteral;this._subject=this._literal(a.value,this._namedNode(a.prefix));break;case"<<":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",a);return this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject;default:if(void 0===(this._subject=this._readEntity(a)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(a){let b=a.type;switch(b){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[a.value];break;case".":case"]":case"}":if(null===this._predicate)return this._error(`Unexpected ${b}`,a);return this._subject=null,"]"===b?this._readBlankNodeTail(a):this._readPunctuation(a);case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",a);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",a);default:if(void 0===(this._predicate=this._readEntity(a)))return}return this._readObject}_readObject(a){switch(a.type){case"literal":if(0===a.prefix.length)return this._literalValue=a.value,this._readDataTypeOrLang;this._object=this._literal(a.value,this._namedNode(a.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":if(!this._n3Mode)return this._error("Unexpected graph",a);return this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject;case"<<":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",a);return this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject;default:if(void 0===(this._object=this._readEntity(a)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(a){return"{"===a.type?this._readGraph(a):this._readPredicate(a)}_readGraph(a){return"{"!==a.type?this._error(`Expected graph but got ${a.type}`,a):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(a){return"]"===a.type?(this._subject=null,this._readBlankNodeTail(a)):(this._predicate=null,this._readPredicate(a))}_readBlankNodeTail(a){if("]"!==a.type)return this._readBlankNodePunctuation(a);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);let b=null===this._predicate;return(this._restoreContext("blank",a),null!==this._object)?this._getContextEndReader():null!==this._predicate?this._readObject:b?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(a){switch(a.type){case".":case"}":return this._subject=null,this._readPunctuation(a);default:return this._readPredicate(a)}}_readListItem(a){let b=null,c=null,d=this._readListItem,e=this._subject,f=this._contextStack,g=f[f.length-1];switch(a.type){case"[":this._saveContext("blank",this._graph,c=this._blankNode(),this.RDF_FIRST,this._subject=b=this._blankNode()),d=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,c=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",a),0!==f.length&&"list"===f[f.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(d=this._readPredicate,this._subject===this.RDF_NIL)return d}else if(d=this._getContextEndReader(),this._object===this.RDF_NIL)return d;c=this.RDF_NIL;break;case"literal":0===a.prefix.length?(this._literalValue=a.value,d=this._readListItemDataTypeOrLang):(b=this._literal(a.value,this._namedNode(a.prefix)),d=this._getContextEndReader());break;case"{":if(!this._n3Mode)return this._error("Unexpected graph",a);return this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject;default:if(void 0===(b=this._readEntity(a)))return}if(null===c&&(this._subject=c=this._blankNode()),null===e?null===g.predicate?g.subject=c:g.object=c:this._emit(e,this.RDF_REST,c,this._graph),null!==b){if(this._n3Mode&&("IRI"===a.type||"prefixed"===a.type))return this._saveContext("item",this._graph,c,this.RDF_FIRST,b),this._subject=b,this._predicate=null,this._getPathReader(this._readListItem);this._emit(c,this.RDF_FIRST,b,this._graph)}return d}_readDataTypeOrLang(a){return this._completeObjectLiteral(a,!1)}_readListItemDataTypeOrLang(a){return this._completeObjectLiteral(a,!0)}_completeLiteral(a){let b=this._literal(this._literalValue);switch(a.type){case"type":case"typeIRI":let c=this._readEntity(a);if(void 0===c)return;b=this._literal(this._literalValue,c),a=null;break;case"langcode":b=this._literal(this._literalValue,a.value),a=null}return{token:a,literal:b}}_completeSubjectLiteral(a){return this._subject=this._completeLiteral(a).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(a,b){let c=this._completeLiteral(a);if(c)return(this._object=c.literal,b&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===c.token)?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(c.token))}_readFormulaTail(a){return"}"!==a.type?this._readPunctuation(a):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",a),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(a){let b,c=this._graph,d=this._subject,e=this._inversePredicate;switch(a.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",a);if(this._n3Mode)return this._readFormulaTail(a);this._graph=null;case".":this._subject=null,b=this._contextStack.length?this._readSubject:this._readInTopContext,e&&(this._inversePredicate=!1);break;case";":b=this._readPredicate;break;case",":b=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&& void 0!==(c=this._readEntity(a))){b=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,a)}if(null!==d){let f=this._predicate,g=this._object;e?this._emit(g,f,d,c):this._emit(d,f,g,c)}return b}_readBlankNodePunctuation(a){let b;switch(a.type){case";":b=this._readPredicate;break;case",":b=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,a)}return this._emit(this._subject,this._predicate,this._object,this._graph),b}_readQuadPunctuation(a){return"."!==a.type?this._error("Expected dot to follow quad",a):this._readInTopContext}_readPrefix(a){return"prefix"!==a.type?this._error("Expected prefix to follow @prefix",a):(this._prefix=a.value,this._readPrefixIRI)}_readPrefixIRI(a){if("IRI"!==a.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,a);let b=this._readEntity(a);return this._prefixes[this._prefix]=b.value,this._prefixCallback(this._prefix,b),this._readDeclarationPunctuation}_readBaseIRI(a){let b="IRI"===a.type&&this._resolveIRI(a.value);return b?(this._setBase(b),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",a)}_readNamedGraphLabel(a){switch(a.type){case"IRI":case"blank":case"prefixed":return this._readSubject(a),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",a)}}_readNamedGraphBlankLabel(a){return"]"!==a.type?this._error("Invalid graph label",a):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(a){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(a)):"."!==a.type?this._error("Expected declaration to end with a dot",a):this._readInTopContext}_readQuantifierList(a){let b;switch(a.type){case"IRI":case"prefixed":if(void 0!==(b=this._readEntity(a,!0)))break;default:return this._error(`Unexpected ${a.type}`,a)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,b,this.QUANTIFIERS_GRAPH)):this._quantified[b.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(a){return","===a.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(a))}_getPathReader(a){return this._afterPath=a,this._readPath}_readPath(a){switch(a.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:let b=this._contextStack,c=b.length&&b[b.length-1];if(c&&"item"===c.type){let d=this._subject;this._restoreContext("item",a),this._emit(this._subject,this.RDF_FIRST,d,this._graph)}return this._afterPath(a)}}_readForwardPath(a){let b,c,d=this._blankNode();if(void 0!==(c=this._readEntity(a)))return null===this._predicate?(b=this._subject,this._subject=d):(b=this._object,this._object=d),this._emit(b,c,d,this._graph),this._readPath}_readBackwardPath(a){let b=this._blankNode(),c,d;if(void 0!==(c=this._readEntity(a)))return null===this._predicate?(d=this._subject,this._subject=b):(d=this._object,this._object=b),this._emit(b,c,d,this._graph),this._readPath}_readRDFStarTailOrGraph(a){return">>"!==a.type?this._supportsQuads&&null===this._graph&& void 0!==(this._graph=this._readEntity(a))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,a):this._readRDFStarTail(a)}_readRDFStarTail(a){if(">>"!==a.type)return this._error(`Expected >> but got ${a.type}`,a);let b=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return(this._restoreContext("<<",a),null===this._subject)?(this._subject=b,this._readPredicate):(this._object=b,this._getContextEndReader())}_getContextEndReader(){let a=this._contextStack;if(!a.length)return this._readPunctuation;switch(a[a.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(a,b,c,d){this._callback(null,this._quad(a,b,c,d||this.DEFAULTGRAPH))}_error(a,b){let c=Error(`${a} on line ${b.line}.`);c.context={token:b,line:b.line,previousToken:this._lexer.previousToken},this._callback(c),this._callback=X}_resolveIRI(a){return/^[a-z][a-z0-9+.-]*:/i.test(a)?a:this._resolveRelativeIRI(a)}_resolveRelativeIRI(a){if(!a.length)return this._base;switch(a[0]){case"#":return this._base+a;case"?":return this._base.replace(/(?:\?.*)?$/,a);case"/":return("/"===a[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(a);default:return/^[^/:]*:/.test(a)?null:this._removeDotSegments(this._basePath+a)}}_removeDotSegments(a){if(!/(^|\/)\.\.?($|[/#?])/.test(a))return a;let b=a.length,c="",d=-1,e=-1,f=0,g="/";for(;d<b;){switch(g){case":":if(e<0&&"/"===a[++d]&&"/"===a[++d])for(;(e=d+1)<b&&"/"!==a[e];)d=e;break;case"?":case"#":d=b;break;case"/":if("."===a[d+1])switch(g=a[++d+1]){case"/":c+=a.substring(f,d-1),f=d+1;break;case void 0:case"?":case"#":return c+a.substring(f,d)+a.substr(d+1);case".":if(void 0===(g=a[++d+1])||"/"===g||"?"===g||"#"===g){if(c+=a.substring(f,d-2),(f=c.lastIndexOf("/"))>=e&&(c=c.substr(0,f)),"/"!==g)return`${c}/${a.substr(d+1)}`;f=d+1}}}g=a[++d]}return c+a.substring(f)}parse(a,b,c){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${V++}_`,this._prefixCallback=c||X,this._inversePredicate=!1,this._quantified=Object.create(null),!b){let d=[],e;if(this._callback=(a,b)=>{a?e=a:b&&d.push(b)},this._lexer.tokenize(a).every(a=>this._readCallback=this._readCallback(a)),e)throw e;return d}this._callback=b,this._lexer.tokenize(a,(a,b)=>{null!==a?(this._callback(a),this._callback=X):this._readCallback&&(this._readCallback=this._readCallback(b))})}}function X(){}function Y(a,b){let c=b.namedNode;a._namedNode=c,a._blankNode=b.blankNode,a._literal=b.literal,a._variable=b.variable,a._quad=b.quad,a.DEFAULTGRAPH=b.defaultGraph(),a.RDF_FIRST=c(h.rdf.first),a.RDF_REST=c(h.rdf.rest),a.RDF_NIL=c(h.rdf.nil),a.N3_FORALL=c(h.r.forAll),a.N3_FORSOME=c(h.r.forSome),a.ABBREVIATIONS={a:c(h.rdf.type),"=":c(h.owl.sameAs),">":c(h.log.implies)},a.QUANTIFIERS_GRAPH=c("urn:n3:quantifiers")}Y(W.prototype,H);let Z=H.defaultGraph(),{rdf:$,xsd:_}=h,aa=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,ab=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,ac={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class ad extends I{equals(){return!1}}class ae{constructor(a,b){if(this._prefixRegex=/$0^/,a&&"function"!=typeof a.write&&(b=a,a=null),b=b||{},this._lists=b.lists,a)this._outputStream=a,this._endStream=void 0===b.end||!!b.end;else{let c="";this._outputStream={write(a,b,d){c+=a,d&&d()},end:a=>{a&&a(null,c)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(b.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Z,this._prefixIRIs=Object.create(null),b.prefixes&&this.addPrefixes(b.prefixes),b.baseIRI&&(this._baseMatcher=RegExp(`^${ag(b.baseIRI)}${b.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=b.baseIRI.length))}get _inDefaultGraph(){return Z.equals(this._graph)}_write(a,b){this._outputStream.write(a,"utf8",b)}_writeQuad(a,b,c,d,e){try{d.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(Z.equals(d)?"":`${this._encodeIriOrBlank(d)} {
`)),this._graph=d,this._subject=null),a.equals(this._subject)?b.equals(this._predicate)?this._write(`, ${this._encodeObject(c)}`,e):this._write(`;
    ${this._encodePredicate(this._predicate=b)} ${this._encodeObject(c)}`,e):this._write(`${(null===this._subject?"":".\n")+this._encodeSubject(this._subject=a)} ${this._encodePredicate(this._predicate=b)} ${this._encodeObject(c)}`,e)}catch(f){e&&e(f)}}_writeQuadLine(a,b,c,d,e){delete this._prefixMatch,this._write(this.quadToString(a,b,c,d),e)}quadToString(a,b,c,d){return`${this._encodeSubject(a)} ${this._encodeIriOrBlank(b)} ${this._encodeObject(c)}${d&&d.value?` ${this._encodeIriOrBlank(d)} .
`:" .\n"}`}quadsToString(a){return a.map(a=>this.quadToString(a.subject,a.predicate,a.object,a.graph)).join("")}_encodeSubject(a){return"Quad"===a.termType?this._encodeQuad(a):this._encodeIriOrBlank(a)}_encodeIriOrBlank(a){if("NamedNode"!==a.termType)return this._lists&&a.value in this._lists&&(a=this.list(this._lists[a.value])),"id"in a?a.id:`_:${a.value}`;let b=a.value;this._baseMatcher&&this._baseMatcher.test(b)&&(b=b.substr(this._baseLength)),aa.test(b)&&(b=b.replace(ab,af));let c=this._prefixRegex.exec(b);return c?c[1]?this._prefixIRIs[c[1]]+c[2]:b:`<${b}>`}_encodeLiteral(a){let b=a.value;if(aa.test(b)&&(b=b.replace(ab,af)),a.language)return`"${b}"@${a.language}`;if(this._lineMode){if(a.datatype.value===_.string)return`"${b}"`}else switch(a.datatype.value){case _.string:return`"${b}"`;case _.boolean:if("true"===b||"false"===b)return b;break;case _.integer:if(/^[+-]?\d+$/.test(b))return b;break;case _.decimal:if(/^[+-]?\d*\.\d+$/.test(b))return b;break;case _.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(b))return b}return`"${b}"^^${this._encodeIriOrBlank(a.datatype)}`}_encodePredicate(a){return a.value===$.type?"a":this._encodeIriOrBlank(a)}_encodeObject(a){switch(a.termType){case"Quad":return this._encodeQuad(a);case"Literal":return this._encodeLiteral(a);default:return this._encodeIriOrBlank(a)}}_encodeQuad({subject:a,predicate:b,object:c,graph:d}){return`<<${this._encodeSubject(a)} ${this._encodePredicate(b)} ${this._encodeObject(c)}${w(d)?"":` ${this._encodeIriOrBlank(d)}`}>>`}_blockedWrite(){throw Error("Cannot write because the writer has been closed.")}addQuad(a,b,c,d,e){void 0===c?this._writeQuad(a.subject,a.predicate,a.object,a.graph,b):"function"==typeof d?this._writeQuad(a,b,c,Z,d):this._writeQuad(a,b,c,d||Z,e)}addQuads(a){for(let b=0;b<a.length;b++)this.addQuad(a[b])}addPrefix(a,b,c){let d={};d[a]=b,this.addPrefixes(d,c)}addPrefixes(a,b){if(!this._prefixIRIs)return b&&b();let c=!1;for(let d in a){let e=a[d];"string"!=typeof e&&(e=e.value),c=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[e]=d+=":",this._write(`@prefix ${d} <${e}>.
`)}if(c){let f="",g="";for(let h in this._prefixIRIs)f+=f?`|${h}`:h,g+=(g?"|":"")+this._prefixIRIs[h];f=ag(f,/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=RegExp(`^(?:${g})[^/]*$|^(${f})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(c?"\n":"",b)}blank(a,b){let c=a,d,e;switch(void 0===a?c=[]:a.termType?c=[{predicate:a,object:b}]:"length"in a||(c=[a]),e=c.length){case 0:return new ad("[]");case 1:if(!((d=c[0]).object instanceof ad))return new ad(`[ ${this._encodePredicate(d.predicate)} ${this._encodeObject(d.object)} ]`);default:let f="[";for(let g=0;g<e;g++)(d=c[g]).predicate.equals(a)?f+=`, ${this._encodeObject(d.object)}`:(f+=`${(g?";\n  ":"\n  ")+this._encodePredicate(d.predicate)} ${this._encodeObject(d.object)}`,a=d.predicate);return new ad(`${f}
]`)}}list(a){let b=a&&a.length||0,c=Array(b);for(let d=0;d<b;d++)c[d]=this._encodeObject(a[d]);return new ad(`(${c.join(" ")})`)}end(a){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let b=a&&((c,d)=>{b=null,a(c,d)});if(this._endStream)try{return this._outputStream.end(b)}catch(c){}b&&b()}}function af(a){let b=ac[a];return void 0===b&&(1===a.length?(b=a.charCodeAt(0).toString(16),b="\\u0000".substr(0,6-b.length)+b):(b=((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)+9216).toString(16),b="\\U00000000".substr(0,10-b.length)+b)),b}function ag(a){return a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var ah=c(89600);class ai{constructor(a,b){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,b||!a||a[0]||(b=a,a=null),b=b||{},this._factory=b.factory||H,a&&this.addQuads(a)}get size(){let a=this._size;if(null!==a)return a;a=0;let b=this._graphs,c,d;for(let e in b)for(let f in c=b[e].subjects)for(let g in d=c[f])a+=Object.keys(d[g]).length;return this._size=a}_addToIndex(a,b,c,d){let e=a[b]||(a[b]={}),f=e[c]||(e[c]={}),g=d in f;return g||(f[d]=null),!g}_removeFromIndex(a,b,c,d){let e=a[b],f=e[c];for(let g in delete f[d],f)return;for(let h in delete e[c],e)return;delete a[b]}*_findInIndex(a,b,c,d,e,f,g,h){let i,j,k,l=this._entities,m=O(h,this._factory),n={subject:null,predicate:null,object:null};for(let o in b&&((i=a,a={})[b]=i[b]),a)if(j=a[o]){for(let p in n[e]=O(l[o],this._factory),c&&((i=j,j={})[c]=i[c]),j)if(k=j[p]){n[f]=O(l[p],this._factory);let q=d?d in k?[d]:[]:Object.keys(k);for(let r=0;r<q.length;r++)n[g]=O(l[q[r]],this._factory),yield this._factory.quad(n.subject,n.predicate,n.object,m)}}}_loop(a,b){for(let c in a)b(c)}_loopByKey0(a,b,c){let d,e;if(d=a[b])for(e in d)c(e)}_loopByKey1(a,b,c){let d,e;for(d in a)a[d][b]&&c(d)}_loopBy2Keys(a,b,c,d){let e,f,g;if((e=a[b])&&(f=e[c]))for(g in f)d(g)}_countInIndex(a,b,c,d){let e=0,f,g,h;for(let i in b&&((f=a,a={})[b]=f[b]),a)if(g=a[i])for(let j in c&&((f=g,g={})[c]=f[c]),g)(h=g[j])&&(d?d in h&&e++:e+=Object.keys(h).length);return e}_getGraphs(a){if(!aj(a))return this._graphs;let b={};return b[a]=this._graphs[a],b}_uniqueEntities(a){let b=Object.create(null);return c=>{c in b||(b[c]=!0,a(O(this._entities[c],this._factory)))}}add(a){return this.addQuad(a),this}addQuad(a,b,c,d){b||(d=a.graph,c=a.object,b=a.predicate,a=a.subject),a=P(a),b=P(b),c=P(c),d=P(d);let e=this._graphs[d];e||Object.freeze(e=this._graphs[d]={subjects:{},predicates:{},objects:{}});let f=this._ids,g=this._entities;a=f[a]||(f[g[++this._id]=a]=this._id),b=f[b]||(f[g[++this._id]=b]=this._id),c=f[c]||(f[g[++this._id]=c]=this._id);let h=this._addToIndex(e.subjects,a,b,c);return this._addToIndex(e.predicates,b,c,a),this._addToIndex(e.objects,c,a,b),this._size=null,h}addQuads(a){for(let b=0;b<a.length;b++)this.addQuad(a[b])}delete(a){return this.removeQuad(a),this}has(a,b,c,d){return a&&a.subject&&({subject:a,predicate:b,object:c,graph:d}=a),!this.readQuads(a,b,c,d).next().done}import(a){return a.on("data",a=>{this.addQuad(a)}),a}removeQuad(a,b,c,d){b||(d=a.graph,c=a.object,b=a.predicate,a=a.subject),a=P(a),b=P(b),c=P(c),d=P(d);let e=this._ids,f=this._graphs,g,h,i;if(!(a=e[a])||!(b=e[b])||!(c=e[c])||!(g=f[d])||!(h=g.subjects[a])||!(i=h[b])||!(c in i))return!1;for(a in this._removeFromIndex(g.subjects,a,b,c),this._removeFromIndex(g.predicates,b,c,a),this._removeFromIndex(g.objects,c,a,b),null!==this._size&&this._size--,g.subjects)return!0;return delete f[d],!0}removeQuads(a){for(let b=0;b<a.length;b++)this.removeQuad(a[b])}remove(a){return a.on("data",a=>{this.removeQuad(a)}),a}removeMatches(a,b,c,d){let e=new ah.Readable({objectMode:!0});return e._read=()=>{for(let f of this.readQuads(a,b,c,d))e.push(f);e.push(null)},this.remove(e)}deleteGraph(a){return this.removeMatches(null,null,null,a)}getQuads(a,b,c,d){return[...this.readQuads(a,b,c,d)]}*readQuads(a,b,c,d){a=a&&P(a),b=b&&P(b),c=c&&P(c),d=d&&P(d);let e=this._getGraphs(d),f=this._ids,g,h,i,j;if(!(aj(a)&&!(h=f[a])||aj(b)&&!(i=f[b])||aj(c)&&!(j=f[c])))for(let k in e)(g=e[k])&&(h?j?yield*this._findInIndex(g.objects,j,h,i,"object","subject","predicate",k):yield*this._findInIndex(g.subjects,h,i,null,"subject","predicate","object",k):i?yield*this._findInIndex(g.predicates,i,j,null,"predicate","object","subject",k):j?yield*this._findInIndex(g.objects,j,null,null,"object","subject","predicate",k):yield*this._findInIndex(g.subjects,null,null,null,"subject","predicate","object",k))}match(a,b,c,d){return new ak(this,a,b,c,d)}countQuads(a,b,c,d){a=a&&P(a),b=b&&P(b),c=c&&P(c),d=d&&P(d);let e=this._getGraphs(d),f=this._ids,g=0,h,i,j,k;if(aj(a)&&!(i=f[a])||aj(b)&&!(j=f[b])||aj(c)&&!(k=f[c]))return 0;for(let l in e)(h=e[l])&&(a?c?g+=this._countInIndex(h.objects,k,i,j):g+=this._countInIndex(h.subjects,i,j,k):b?g+=this._countInIndex(h.predicates,j,k,i):g+=this._countInIndex(h.objects,k,i,j));return g}forEach(a,b,c,d,e){this.some(b=>(a(b),!1),b,c,d,e)}every(a,b,c,d,e){let f=!1,g=!this.some(b=>(f=!0,!a(b)),b,c,d,e);return f&&g}some(a,b,c,d,e){for(let f of this.readQuads(b,c,d,e))if(a(f))return!0;return!1}getSubjects(a,b,c){let d=[];return this.forSubjects(a=>{d.push(a)},a,b,c),d}forSubjects(a,b,c,d){b=b&&P(b),c=c&&P(c),d=d&&P(d);let e=this._ids,f=this._getGraphs(d),g,h,i;if(a=this._uniqueEntities(a),!(aj(b)&&!(h=e[b])||aj(c)&&!(i=e[c])))for(d in f)(g=f[d])&&(h?i?this._loopBy2Keys(g.predicates,h,i,a):this._loopByKey1(g.subjects,h,a):i?this._loopByKey0(g.objects,i,a):this._loop(g.subjects,a))}getPredicates(a,b,c){let d=[];return this.forPredicates(a=>{d.push(a)},a,b,c),d}forPredicates(a,b,c,d){b=b&&P(b),c=c&&P(c),d=d&&P(d);let e=this._ids,f=this._getGraphs(d),g,h,i;if(a=this._uniqueEntities(a),!(aj(b)&&!(h=e[b])||aj(c)&&!(i=e[c])))for(d in f)(g=f[d])&&(h?i?this._loopBy2Keys(g.objects,i,h,a):this._loopByKey0(g.subjects,h,a):i?this._loopByKey1(g.predicates,i,a):this._loop(g.predicates,a))}getObjects(a,b,c){let d=[];return this.forObjects(a=>{d.push(a)},a,b,c),d}forObjects(a,b,c,d){b=b&&P(b),c=c&&P(c),d=d&&P(d);let e=this._ids,f=this._getGraphs(d),g,h,i;if(a=this._uniqueEntities(a),!(aj(b)&&!(h=e[b])||aj(c)&&!(i=e[c])))for(d in f)(g=f[d])&&(h?i?this._loopBy2Keys(g.subjects,h,i,a):this._loopByKey1(g.objects,h,a):i?this._loopByKey0(g.predicates,i,a):this._loop(g.objects,a))}getGraphs(a,b,c){let d=[];return this.forGraphs(a=>{d.push(a)},a,b,c),d}forGraphs(a,b,c,d){for(let e in this._graphs)this.some(b=>(a(b.graph),!0),b,c,d,e)}createBlankNode(a){let b,c;if(a)for(b=a=`_:${a}`,c=1;this._ids[b];)b=a+c++;else do b=`_:b${this._blankNodeIndex++}`;while(this._ids[b]);return this._ids[b]=++this._id,this._entities[this._id]=b,this._factory.blankNode(b.substr(2))}extractLists({remove:a=!1,ignoreErrors:b=!1}={}){let c={},d=b?()=>!0:(a,b)=>{throw Error(`${a.value} ${b}`)},e=this.getQuads(null,h.rdf.rest,h.rdf.nil,null),f=a?[...e]:[];return e.forEach(b=>{let e=[],g=!1,i,j,k=b.graph,l=b.subject;for(;l&&!g;){let m=this.getQuads(null,null,l,null),n=this.getQuads(l,null,null,null),o,p=null,q=null,r=null;for(let s=0;s<n.length&&!g;s++)(o=n[s]).graph.equals(k)?i?g=d(l,"has non-list arcs out"):o.predicate.value===h.rdf.first?p?g=d(l,"has multiple rdf:first arcs"):f.push(p=o):o.predicate.value===h.rdf.rest?q?g=d(l,"has multiple rdf:rest arcs"):f.push(q=o):m.length?g=d(l,"can't be subject and object"):(i=o,j="subject"):g=d(l,"not confined to single graph");for(let t=0;t<m.length&&!g;++t)o=m[t],i?g=d(l,"can't have coreferences"):o.predicate.value===h.rdf.rest?r?g=d(l,"has incoming rdf:rest arcs"):r=o:(i=o,j="object");p?e.unshift(p.object):g=d(l,"has no list head"),l=r&&r.subject}g?a=!1:i&&(c[i[j].value]=e)}),a&&this.removeQuads(f),c}*[Symbol.iterator](){yield*this.readQuads()}}function aj(a){return"string"==typeof a||a instanceof String}class ak extends ah.Readable{constructor(a,b,c,d,e){super({objectMode:!0}),Object.assign(this,{n3Store:a,subject:b,predicate:c,object:d,graph:e})}get filtered(){if(!this._filtered){let{n3Store:a,graph:b,object:c,predicate:d,subject:e}=this,f=this._filtered=new ai({factory:a._factory});for(let g of a.readQuads(e,d,c,b))f.addQuad(g)}return this._filtered}get size(){return this.filtered.size}_read(){for(let a of this)this.push(a);this.push(null)}add(a){return this.filtered.add(a)}delete(a){return this.filtered.delete(a)}has(a){return this.filtered.has(a)}match(a,b,c,d){return new ak(this.filtered,a,b,c,d)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class al extends ah.Transform{constructor(a){super({decodeStrings:!0}),this._readableState.objectMode=!0;let b=new W(a),c,d;b.parse({on:(a,b)=>{switch(a){case"data":c=b;break;case"end":d=b}}},(a,b)=>{a&&this.emit("error",a)||b&&this.push(b)},(a,b)=>{this.emit("prefix",a,b)}),this._transform=(a,b,d)=>{c(a),d()},this._flush=a=>{d(),a()}}import(a){return a.on("data",a=>{this.write(a)}),a.on("end",()=>{this.end()}),a.on("error",a=>{this.emit("error",a)}),this}}class am extends ah.Transform{constructor(a){super({encoding:"utf8",writableObjectMode:!0});let b=this._writer=new ae({write:(a,b,c)=>{this.push(a),c&&c()},end:a=>{this.push(null),a&&a()}},a);this._transform=(a,c,d)=>{b.addQuad(a,d)},this._flush=a=>{b.end(a)}}import(a){return a.on("data",a=>{this.write(a)}),a.on("end",()=>{this.end()}),a.on("error",a=>{this.emit("error",a)}),a.on("prefix",(a,b)=>{this._writer.addPrefix(a,b)}),this}}var an={Lexer:r,Parser:W,Writer:ae,Store:ai,StreamParser:al,StreamWriter:am,Util:d,DataFactory:H,Term:I,NamedNode:J,Literal:K,BlankNode:L,Variable:M,DefaultGraph:N,Quad:Q,Triple:Q,termFromId:O,termToId:P}},71210:function(a,b){"use strict";function c(a,b,c,d){return!1}Object.defineProperty(b,"__esModule",{value:!0}),b.getDomainLocale=c,("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&& void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},28045:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(79361).Z,e=c(94941).Z,f=c(53929).Z;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){var b,c,h=a.src,i=a.sizes,p=a.unoptimized,q=void 0!==p&&p,v=a.priority,B=void 0!==v&&v,D=a.loading,E=a.lazyRoot,F=void 0===E?null:E,G=a.lazyBoundary,H=a.className,I=a.quality,J=a.width,K=a.height,L=a.style,M=a.objectFit,N=a.objectPosition,O=a.onLoadingComplete,P=a.placeholder,Q=void 0===P?"empty":P,R=a.blurDataURL,S=j(a,["src","sizes","unoptimized","priority","loading","lazyRoot","lazyBoundary","className","quality","width","height","style","objectFit","objectPosition","onLoadingComplete","placeholder","blurDataURL"]),T=k.useContext(o.ImageConfigContext),U=k.useMemo(function(){var a=s||T||m.imageConfigDefault,b=f(a.deviceSizes).concat(f(a.imageSizes)).sort(function(a,b){return a-b}),c=a.deviceSizes.sort(function(a,b){return a-b});return g({},a,{allSizes:b,deviceSizes:c})},[T]),V=S,W=i?"responsive":"intrinsic";"layout"in V&&(V.layout&&(W=V.layout),delete V.layout);var X=A;if("loader"in V){if(V.loader){var Y,Z=V.loader;X=function(a){a.config;var b=j(a,["config"]);return Z(b)}}delete V.loader}var $="";if(x(h)){var _=w(h)?h.default:h;if(!_.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(_)));if(R=R||_.blurDataURL,$=_.src,(!W||"fill"!==W)&&(K=K||_.height,J=J||_.width,!_.height||!_.width))throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(_)))}h="string"==typeof h?h:$;var aa=!B&&("lazy"===D|| void 0===D);(h.startsWith("data:")||h.startsWith("blob:"))&&(q=!0,aa=!1),t.has(h)&&(aa=!1),r&&(q=!0);var ab=e(k.useState(!1),2),ac=ab[0],ad=ab[1],ae=e(n.useIntersection({rootRef:F,rootMargin:G||"200px",disabled:!aa}),3),af=ae[0],ag=ae[1],ah=ae[2],ai=!aa||ag,aj={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},ak={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},al=!1,am=z(J),an=z(K),ao=z(I),ap=Object.assign({},L,{position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:M,objectPosition:N}),aq="blur"!==Q||ac?{}:{backgroundSize:M||"cover",backgroundPosition:N||"0% 0%",filter:"blur(20px)",backgroundImage:'url("'.concat(R,'")')};if("fill"===W)aj.display="block",aj.position="absolute",aj.top=0,aj.left=0,aj.bottom=0,aj.right=0;else if(void 0!==am&& void 0!==an){var ar=an/am,as=isNaN(ar)?"100%":"".concat(100*ar,"%");"responsive"===W?(aj.display="block",aj.position="relative",al=!0,ak.paddingTop=as):"intrinsic"===W?(aj.display="inline-block",aj.position="relative",aj.maxWidth="100%",al=!0,ak.maxWidth="100%",b="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27".concat(am,"%27%20height=%27").concat(an,"%27/%3e")):"fixed"===W&&(aj.display="inline-block",aj.position="relative",aj.width=am,aj.height=an)}var at={src:u,srcSet:void 0,sizes:void 0};ai&&(at=y({config:U,src:h,unoptimized:q,layout:W,width:am,quality:ao,sizes:i,loader:X}));var au=h,av="imagesrcset",aw="imagesizes";aw="imageSizes";var ax=(d(c={},"imageSrcSet",at.srcSet),d(c,aw,at.sizes),c),ay=k.default.useLayoutEffect,az=k.useRef(O),aA=k.useRef(h);k.useEffect(function(){az.current=O},[O]),ay(function(){aA.current!==h&&(ah(),aA.current=h)},[ah,h]);var aB=g({isLazy:aa,imgAttributes:at,heightInt:an,widthInt:am,qualityInt:ao,layout:W,className:H,imgStyle:ap,blurStyle:aq,loading:D,config:U,unoptimized:q,placeholder:Q,loader:X,srcString:au,onLoadingCompleteRef:az,setBlurComplete:ad,setIntersection:af,isVisible:ai,noscriptSizes:i},V);return k.default.createElement(k.default.Fragment,null,k.default.createElement("span",{style:aj},al?k.default.createElement("span",{style:ak},b?k.default.createElement("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:b}):null):null,k.default.createElement(C,Object.assign({},aB))),B?k.default.createElement(l.default,null,k.default.createElement("link",Object.assign({key:"__nimg-"+at.src+at.srcSet+at.sizes,rel:"preload",as:"image",href:at.srcSet?void 0:at.src},ax))):null)};var g=c(6495).Z,h=c(92648).Z,i=c(91598).Z,j=c(17273).Z,k=i(c(67294)),l=h(c(5443)),m=c(99309),n=c(57190),o=c(59977);c(63794);var p=c(82392),q={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"custom",dangerouslyAllowSVG:!1},r=(q.experimentalRemotePatterns,q.experimentalUnoptimized),s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"custom",dangerouslyAllowSVG:!1},t=new Set,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",v=new Map([["default",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality;return c.endsWith(".svg")&&!b.dangerouslyAllowSVG?c:"".concat(p.normalizePathTrailingSlash(b.path),"?url=").concat(encodeURIComponent(c),"&w=").concat(d,"&q=").concat(e||75)}],["imgix",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality,f=new URL("".concat(b.path).concat(D(c))),g=f.searchParams;return g.set("auto",g.getAll("auto").join(",")||"format"),g.set("fit",g.get("fit")||"max"),g.set("w",g.get("w")||d.toString()),e&&g.set("q",e.toString()),f.href}],["cloudinary",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality,f=["f_auto","c_limit","w_"+d,"q_"+(e||"auto")].join(",")+"/";return"".concat(b.path).concat(f).concat(D(c))}],["akamai",function(a){var b=a.config,c=a.src,d=a.width;return"".concat(b.path).concat(D(c),"?imwidth=").concat(d)}],["custom",function(a){var b=a.src;throw Error('Image with src "'.concat(b,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}],]);function w(a){return void 0!==a.default}function x(a){var b;return"object"==typeof a&&(w(a)|| void 0!==(b=a).src)}function y(a){var b=a.config,c=a.src,d=a.unoptimized,e=a.layout,g=a.width,h=a.quality,i=a.sizes,j=a.loader;if(d)return{src:c,srcSet:void 0,sizes:void 0};var k=function(a,b,c,d){var e=a.deviceSizes,g=a.allSizes;if(d&&("fill"===c||"responsive"===c)){for(var h=/(^|\s)(1?\d?\d)vw/g,i=[];j=h.exec(d);j)i.push(parseInt(j[2]));if(i.length){var j,k,l=.01*(k=Math).min.apply(k,f(i));return{widths:g.filter(function(a){return a>=e[0]*l}),kind:"w"}}return{widths:g,kind:"w"}}return"number"!=typeof b||"fill"===c||"responsive"===c?{widths:e,kind:"w"}:{widths:f(new Set([b,2*b].map(function(a){return g.find(function(b){return b>=a})||g[g.length-1]}))),kind:"x"}}(b,g,e,i),l=k.widths,m=k.kind,n=l.length-1;return{sizes:i||"w"!==m?i:"100vw",srcSet:l.map(function(a,d){return"".concat(j({config:b,src:c,quality:h,width:a})," ").concat("w"===m?a:d+1).concat(m)}).join(", "),src:j({config:b,src:c,quality:h,width:l[n]})}}function z(a){return"number"==typeof a?a:"string"==typeof a?parseInt(a,10):void 0}function A(a){var b,c=(null==(b=a.config)?void 0:b.loader)||"default",d=v.get(c);if(d)return d(a);throw Error('Unknown "loader" found in "next.config.js". Expected: '.concat(m.VALID_LOADERS.join(", "),". Received: ").concat(c))}function B(a,b,c,d,e,f){a&&a.src!==u&&a["data-loaded-src"]!==b&&(a["data-loaded-src"]=b,("decode"in a?a.decode():Promise.resolve()).catch(function(){}).then(function(){if(a.parentNode&&(t.add(b),"blur"===d&&f(!0),null==e?void 0:e.current)){var c=a.naturalWidth,g=a.naturalHeight;e.current({naturalWidth:c,naturalHeight:g})}}))}var C=function(a){var b=a.imgAttributes,c=(a.heightInt,a.widthInt),d=a.qualityInt,e=a.layout,f=a.className,h=a.imgStyle,i=a.blurStyle,l=a.isLazy,m=a.placeholder,n=a.loading,o=a.srcString,p=a.config,q=a.unoptimized,r=a.loader,s=a.onLoadingCompleteRef,t=a.setBlurComplete,u=a.setIntersection,v=a.onLoad,w=a.onError,x=(a.isVisible,a.noscriptSizes),z=j(a,["imgAttributes","heightInt","widthInt","qualityInt","layout","className","imgStyle","blurStyle","isLazy","placeholder","loading","srcString","config","unoptimized","loader","onLoadingCompleteRef","setBlurComplete","setIntersection","onLoad","onError","isVisible","noscriptSizes"]);return n=l?"lazy":n,k.default.createElement(k.default.Fragment,null,k.default.createElement("img",Object.assign({},z,b,{decoding:"async","data-nimg":e,className:f,style:g({},h,i),ref:k.useCallback(function(a){u(a),(null==a?void 0:a.complete)&&B(a,o,e,m,s,t)},[u,o,e,m,s,t,]),onLoad:function(a){B(a.currentTarget,o,e,m,s,t),v&&v(a)},onError:function(a){"blur"===m&&t(!0),w&&w(a)}})),(l||"blur"===m)&&k.default.createElement("noscript",null,k.default.createElement("img",Object.assign({},z,y({config:p,src:o,unoptimized:q,layout:e,width:c,quality:d,sizes:x,loader:r}),{decoding:"async","data-nimg":e,style:h,className:f,loading:n}))))};function D(a){return"/"===a[0]?a.slice(1):a}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&& void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},48418:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(94941).Z;c(45753).default,Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var e=c(92648).Z,f=c(17273).Z,g=e(c(67294)),h=c(76273),i=c(22725),j=c(63462),k=c(21018),l=c(57190),m=c(71210),n=c(98684),o=void 0!==g.default.useTransition,p={};function q(a,b,c,d){if(a&&h.isLocalURL(b)){a.prefetch(b,c,d).catch(function(a){});var e=d&& void 0!==d.locale?d.locale:a&&a.locale;p[b+"%"+c+(e?"%"+e:"")]=!0}}var r=g.default.forwardRef(function(a,b){var c,e,r=a.href,s=a.as,t=a.children,u=a.prefetch,v=a.passHref,w=a.replace,x=a.soft,y=a.shallow,z=a.scroll,A=a.locale,B=a.onClick,C=a.onMouseEnter,D=a.onTouchStart,E=a.legacyBehavior,F=void 0===E?!0!==Boolean(!1):E,G=f(a,["href","as","children","prefetch","passHref","replace","soft","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);c=t,F&&("string"==typeof c||"number"==typeof c)&&(c=g.default.createElement("a",null,c));var H=!1!==u,I=d(o?g.default.useTransition():[],2),J=I[1],K=g.default.useContext(j.RouterContext),L=g.default.useContext(k.AppRouterContext);L&&(K=L);var M=g.default.useMemo(function(){var a=d(h.resolveHref(K,r,!0),2),b=a[0],c=a[1];return{href:b,as:s?h.resolveHref(K,s):c||b}},[K,r,s]),N=M.href,O=M.as,P=g.default.useRef(N),Q=g.default.useRef(O);F&&(e=g.default.Children.only(c));var R=F?e&&"object"==typeof e&&e.ref:b,S=d(l.useIntersection({rootMargin:"200px"}),3),T=S[0],U=S[1],V=S[2],W=g.default.useCallback(function(a){(Q.current!==O||P.current!==N)&&(V(),Q.current=O,P.current=N),T(a),R&&("function"==typeof R?R(a):"object"==typeof R&&(R.current=a))},[O,R,N,V,T]);g.default.useEffect(function(){var a=U&&H&&h.isLocalURL(N),b=void 0!==A?A:K&&K.locale,c=p[N+"%"+O+(b?"%"+b:"")];a&&!c&&q(K,N,O,{locale:b})},[O,N,U,A,H,K]);var X={ref:W,onClick:function(a){F||"function"!=typeof B||B(a),F&&e.props&&"function"==typeof e.props.onClick&&e.props.onClick(a),a.defaultPrevented||function(a,b,c,d,e,f,g,i,j,k){if("A"!==a.currentTarget.nodeName.toUpperCase()||(!(m=(l=a).currentTarget.target)||"_self"===m)&&!l.metaKey&&!l.ctrlKey&&!l.shiftKey&&!l.altKey&&(!l.nativeEvent||2!==l.nativeEvent.which)&&h.isLocalURL(c)){a.preventDefault();var l,m,n=function(){"softPush"in b&&"softReplace"in b?b[f?e?"softReplace":"softPush":e?"replace":"push"](c):b[e?"replace":"push"](c,d,{shallow:g,locale:j,scroll:i})};k?k(n):n()}}(a,K,N,O,w,x,y,z,A,L?J:void 0)},onMouseEnter:function(a){F||"function"!=typeof C||C(a),F&&e.props&&"function"==typeof e.props.onMouseEnter&&e.props.onMouseEnter(a),h.isLocalURL(N)&&q(K,N,O,{priority:!0})},onTouchStart:function(a){F||"function"!=typeof D||D(a),F&&e.props&&"function"==typeof e.props.onTouchStart&&e.props.onTouchStart(a),h.isLocalURL(N)&&q(K,N,O,{priority:!0})}};if(!F||v||"a"===e.type&&!("href"in e.props)){var Y=void 0!==A?A:K&&K.locale,Z=K&&K.isLocaleDomain&&m.getDomainLocale(O,Y,K.locales,K.domainLocales);X.href=Z||n.addBasePath(i.addLocale(O,Y,K&&K.defaultLocale))}return F?g.default.cloneElement(e,X):g.default.createElement("a",Object.assign({},G,X),c)});b.default=r,("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&& void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},57190:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(94941).Z;Object.defineProperty(b,"__esModule",{value:!0}),b.useIntersection=function(a){var b=a.rootRef,c=a.rootMargin,h=a.disabled||!g,i=e.useRef(),k=d(e.useState(!1),2),l=k[0],m=k[1],n=d(e.useState(null),2),o=n[0],p=n[1];e.useEffect(function(){if(g){if(i.current&&(i.current(),i.current=void 0),!h&&!l)return o&&o.tagName&&(i.current=j(o,function(a){return a&&m(a)},{root:null==b?void 0:b.current,rootMargin:c})),function(){null==i.current||i.current(),i.current=void 0}}else if(!l){var a=f.requestIdleCallback(function(){return m(!0)});return function(){return f.cancelIdleCallback(a)}}},[o,h,c,b,l]);var q=e.useCallback(function(){m(!1)},[]);return[p,l,q]};var e=c(67294),f=c(9311),g="function"==typeof IntersectionObserver,h=new Map,i=[];function j(a,b,c){var d=k(c),e=d.id,f=d.observer,g=d.elements;return g.set(a,b),f.observe(a),function(){if(g.delete(a),f.unobserve(a),0===g.size){f.disconnect(),h.delete(e);var b=i.findIndex(function(a){return a.root===e.root&&a.margin===e.margin});b> -1&&i.splice(b,1)}}}function k(a){var b,c={root:a.root||null,margin:a.rootMargin||""},d=i.find(function(a){return a.root===c.root&&a.margin===c.margin});if(d&&(b=h.get(d)))return b;var e=new Map,f=new IntersectionObserver(function(a){a.forEach(function(a){var b=e.get(a.target),c=a.isIntersecting||a.intersectionRatio>0;b&&c&&b(c)})},a);return b={id:c,observer:f,elements:e},i.push(c),h.set(c,b),b}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&& void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},21018:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GlobalLayoutRouterContext=b.LayoutRouterContext=b.AppRouterContext=void 0;var d=(0,c(92648).Z)(c(67294)),e=d.default.createContext(null);b.AppRouterContext=e;var f=d.default.createContext(null);b.LayoutRouterContext=f;var g=d.default.createContext(null);b.GlobalLayoutRouterContext=g},99647:function(a,b,c){var d=c(34155);"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//"),({66:function(){!function(a,b){"use strict";if(!a.setImmediate){var c,e,f,g,h,i=1,j={},k=!1,l=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);(m=m&&m.setTimeout?m:a,"[object process]"===({}).toString.call(a.process))?h=function(a){d.nextTick(function(){o(a)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}()?(c="setImmediate$"+Math.random()+"$",e=function(b){b.source===a&&"string"==typeof b.data&&0===b.data.indexOf(c)&&o(+b.data.slice(c.length))},a.addEventListener?a.addEventListener("message",e,!1):a.attachEvent("onmessage",e),h=function(b){a.postMessage(c+b,"*")}):a.MessageChannel?((f=new MessageChannel).port1.onmessage=function(a){o(a.data)},h=function(a){f.port2.postMessage(a)}):l&&"onreadystatechange"in l.createElement("script")?(g=l.documentElement,h=function(a){var b=l.createElement("script");b.onreadystatechange=function(){o(a),b.onreadystatechange=null,g.removeChild(b),b=null},g.appendChild(b)}):h=function(a){setTimeout(o,0,a)},m.setImmediate=function(a){"function"!=typeof a&&(a=Function(""+a));for(var b=Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return j[i]=d,h(i),i++},m.clearImmediate=n}function n(a){delete j[a]}function o(a){if(k)setTimeout(o,0,a);else{var b=j[a];if(b){k=!0;try{!function(a){var b=a.callback,c=a.args;switch(c.length){case 0:b();break;case 1:b(c[0]);break;case 2:b(c[0],c[1]);break;case 3:b(c[0],c[1],c[2]);break;default:b.apply(void 0,c)}}(b)}finally{n(a),k=!1}}}}}("undefined"==typeof self?void 0===c.g?this:c.g:self)}})[66](),a.exports={}},9008:function(a,b,c){a.exports=c(5443)},25675:function(a,b,c){a.exports=c(28045)},41664:function(a,b,c){a.exports=c(48418)},34155:function(a){var b,c,d,e=a.exports={};function f(){throw Error("setTimeout has not been defined")}function g(){throw Error("clearTimeout has not been defined")}function h(a){if(b===setTimeout)return setTimeout(a,0);if((b===f||!b)&&setTimeout)return b=setTimeout,setTimeout(a,0);try{return b(a,0)}catch(c){try{return b.call(null,a,0)}catch(d){return b.call(this,a,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:f}catch(a){b=f}try{c="function"==typeof clearTimeout?clearTimeout:g}catch(d){c=g}}();var i=[],j=!1,k=-1;function l(){j&&d&&(j=!1,d.length?i=d.concat(i):k=-1,i.length&&m())}function m(){if(!j){var a=h(l);j=!0;for(var b=i.length;b;){for(d=i,i=[];++k<b;)d&&d[k].run();k=-1,b=i.length}d=null,j=!1,function(a){if(c===clearTimeout)return clearTimeout(a);if((c===g||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(a);try{c(a)}catch(b){try{return c.call(null,a)}catch(d){return c.call(this,a)}}}(a)}}function n(a,b){this.fun=a,this.array=b}function o(){}e.nextTick=function(a){var b=Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new n(a,b)),1!==i.length||j||h(m)},n.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=o,e.addListener=o,e.once=o,e.off=o,e.removeListener=o,e.removeAllListeners=o,e.emit=o,e.prependListener=o,e.prependOnceListener=o,e.listeners=function(a){return[]},e.binding=function(a){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw Error("process.chdir is not supported")},e.umask=function(){return 0}},54375:function(a,b,c){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */ let d;a.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:c.g):a=>(d||(d=Promise.resolve())).then(a).catch(a=>setTimeout(()=>{throw a},0))},47055:function(a,b,c){a.exports=c(29344)},12401:function(a){"use strict";a.exports=class a{constructor(a,b=new Map,c=0){this.prefix=a,this._existing=b,this.counter=c}clone(){let{prefix:b,_existing:c,counter:d}=this;return new a(b,new Map(c),d)}getId(a){let b=a&&this._existing.get(a);if(b)return b;let c=this.prefix+this.counter;return this.counter++,a&&this._existing.set(a,c),c}hasId(a){return this._existing.has(a)}getOldIds(){return[...this._existing.keys()]}}},75947:function(a,b,c){"use strict";c(99647);let d=self.crypto||self.msCrypto;a.exports=class{constructor(a){if(!(d&&d.subtle))throw Error("crypto.subtle not found.");if("sha256"===a)this.algorithm={name:"SHA-256"};else if("sha1"===a)this.algorithm={name:"SHA-1"};else throw Error(`Unsupported algorithm "${a}".`);this._content=""}update(a){this._content+=a}async digest(){let a=new TextEncoder().encode(this._content),b=new Uint8Array(await d.subtle.digest(this.algorithm,a)),c="";for(let e=0;e<b.length;++e)c+=b[e].toString(16).padStart(2,"0");return c}}},69980:function(a){"use strict";let b="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",c="http://www.w3.org/2001/XMLSchema#string",d="NamedNode",e="BlankNode",f="Literal",g="DefaultGraph",h={};function i(a,b){return a.subject.termType===b.subject.termType&&a.object.termType===b.object.termType&&a.subject.value===b.subject.value&&a.predicate.value===b.predicate.value&&a.object.value===b.object.value&&(a.object.termType!==f||a.object.datatype.termType===b.object.datatype.termType&&a.object.language===b.object.language&&a.object.datatype.value===b.object.datatype.value)}(()=>{let a="(?:<([^:]+:[^>]*)>)",b="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_",c=b+"0-9-\xb7̀-ͯ‿-⁀",d="(_:(?:["+b+"0-9])(?:(?:["+c+".])*(?:["+c+"]))?)",e="[ \\t]+",f="[ \\t]*";h.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,h.empty=RegExp("^"+f+"$"),h.quad=RegExp("^"+f+("(?:"+a+"|"+d)+")"+e+(a+e)+("(?:"+a+"|"+d+"|"+('(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+a)+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))")+")?))"+f+("(?:\\.|(?:(?:"+a+"|"+d+")")+f+"\\.))"+f+"$")})(),a.exports=class a{static parse(a){let j=[],k={},l=a.split(h.eoln),n=0;for(let o of l){if(n++,h.empty.test(o))continue;let p=o.match(h.quad);if(null===p)throw Error("N-Quads parse error on line "+n+".");let q={subject:null,predicate:null,object:null,graph:null};if(void 0!==p[1]?q.subject={termType:d,value:p[1]}:q.subject={termType:e,value:p[2]},q.predicate={termType:d,value:p[3]},void 0!==p[4]?q.object={termType:d,value:p[4]}:void 0!==p[5]?q.object={termType:e,value:p[5]}:(q.object={termType:f,value:void 0,datatype:{termType:d}},void 0!==p[7]?q.object.datatype.value=p[7]:void 0!==p[8]?(q.object.datatype.value=b,q.object.language=p[8]):q.object.datatype.value=c,q.object.value=m(p[6])),void 0!==p[9]?q.graph={termType:d,value:p[9]}:void 0!==p[10]?q.graph={termType:e,value:p[10]}:q.graph={termType:g,value:""},q.graph.value in k){let r=!0,s=k[q.graph.value];for(let t of s)if(i(t,q)){r=!1;break}r&&(s.push(q),j.push(q))}else k[q.graph.value]=[q],j.push(q)}return j}static serialize(b){Array.isArray(b)||(b=a.legacyDatasetToQuads(b));let c=[];for(let d of b)c.push(a.serializeQuad(d));return c.sort().join("")}static serializeQuadComponents(a,f,g,h){let i="";return a.termType===d?i+=`<${a.value}>`:i+=`${a.value}`,i+=` <${f.value}> `,g.termType===d?i+=`<${g.value}>`:g.termType===e?i+=g.value:(i+=`"${k(g.value)}"`,g.datatype.value===b?g.language&&(i+=`@${g.language}`):g.datatype.value!==c&&(i+=`^^<${g.datatype.value}>`)),h.termType===d?i+=` <${h.value}>`:h.termType===e&&(i+=` ${h.value}`),i+=" .\n"}static serializeQuad(b){return a.serializeQuadComponents(b.subject,b.predicate,b.object,b.graph)}static legacyDatasetToQuads(a){let h=[],i={"blank node":e,IRI:d,literal:f};for(let j in a){let k=a[j];k.forEach(a=>{let k={};for(let l in a){let m=a[l],n={termType:i[m.type],value:m.value};n.termType!==f||(n.datatype={termType:d},"datatype"in m&&(n.datatype.value=m.datatype),"language"in m?("datatype"in m||(n.datatype.value=b),n.language=m.language):"datatype"in m||(n.datatype.value=c)),k[l]=n}"@default"===j?k.graph={termType:g,value:""}:k.graph={termType:j.startsWith("_:")?e:d,value:j},h.push(k)})}return h}};let j=/["\\\n\r]/g;function k(a){return a.replace(j,function(a){switch(a){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}let l=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function m(a){return a.replace(l,function(a,b,c,d){if(b)switch(b){case"t":return"	";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(c)return String.fromCharCode(parseInt(c,16));if(d)throw Error("Unsupported U escape")})}},68326:function(a){"use strict";a.exports=class{constructor(a){this.current=a.sort(),this.done=!1,this.dir=new Map;for(let b=0;b<a.length;++b)this.dir.set(a[b],!0)}hasNext(){return!this.done}next(){let{current:a,dir:b}=this,c=a.slice(),d=null,e=0,f=a.length;for(let g=0;g<f;++g){let h=a[g],i=b.get(h);(null===d||h>d)&&(i&&g>0&&h>a[g-1]|| !i&&g<f-1&&h>a[g+1])&&(d=h,e=g)}if(null===d)this.done=!0;else{let j=b.get(d)?e-1:e+1;for(let k of(a[e]=a[j],a[j]=d,a))k>d&&b.set(k,!b.get(k))}return c}}},23445:function(a,b,c){"use strict";let d=c(12401),e=c(75947),f=c(68326),g=c(69980);function h(a,b){return a.hash<b.hash?-1:a.hash>b.hash?1:0}a.exports=class{constructor({maxDeepIterations:a=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new d("_:c14n"),this.hashAlgorithm="sha256",this.maxDeepIterations=a,this.quads=null,this.deepIterations=null}async main(a){for(let b of(this.deepIterations=new Map,this.quads=a,a))this._addBlankNodeQuadInfo({quad:b,component:b.subject}),this._addBlankNodeQuadInfo({quad:b,component:b.object}),this._addBlankNodeQuadInfo({quad:b,component:b.graph});let c=new Map,e=[...this.blankNodeInfo.keys()],f=0;for(let i of e)++f%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:i,hashToBlankNodes:c});let j=[...c.keys()].sort(),k=[];for(let l of j){let m=c.get(l);if(m.length>1){k.push(m);continue}let n=m[0];this.canonicalIssuer.getId(n)}for(let o of k){let p=[];for(let q of o){if(this.canonicalIssuer.hasId(q))continue;let r=new d("_:b");r.getId(q);let s=await this.hashNDegreeQuads(q,r);p.push(s)}for(let t of(p.sort(h),p)){let u=t.issuer.getOldIds();for(let v of u)this.canonicalIssuer.getId(v)}}let w=[];for(let x of this.quads){let y=g.serializeQuadComponents(this._componentWithCanonicalId(x.subject),x.predicate,this._componentWithCanonicalId(x.object),this._componentWithCanonicalId(x.graph));w.push(y)}return w.sort(),w.join("")}async hashFirstDegreeQuads(a){let b=[],c=this.blankNodeInfo.get(a),d=c.quads;for(let f of d){let h={subject:null,predicate:f.predicate,object:null,graph:null};h.subject=this.modifyFirstDegreeComponent(a,f.subject,"subject"),h.object=this.modifyFirstDegreeComponent(a,f.object,"object"),h.graph=this.modifyFirstDegreeComponent(a,f.graph,"graph"),b.push(g.serializeQuad(h))}b.sort();let i=new e(this.hashAlgorithm);for(let j of b)i.update(j);return c.hash=await i.digest(),c.hash}async hashRelatedBlankNode(a,b,c,d){let f;f=this.canonicalIssuer.hasId(a)?this.canonicalIssuer.getId(a):c.hasId(a)?c.getId(a):this.blankNodeInfo.get(a).hash;let g=new e(this.hashAlgorithm);return g.update(d),"g"!==d&&g.update(this.getRelatedPredicate(b)),g.update(f),g.digest()}async hashNDegreeQuads(a,b){let c=this.deepIterations.get(a)||0;if(c>this.maxDeepIterations)throw Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(a,c+1);let d=new e(this.hashAlgorithm),g=await this.createHashToRelated(a,b),h=[...g.keys()].sort();for(let i of h){d.update(i);let j="",k,l=new f(g.get(i)),m=0;for(;l.hasNext();){let n=l.next();++m%3==0&&await this._yield();let o=b.clone(),p="",q=[],r=!1;for(let s of n)if(this.canonicalIssuer.hasId(s)?p+=this.canonicalIssuer.getId(s):(o.hasId(s)||q.push(s),p+=o.getId(s)),0!==j.length&&p>j){r=!0;break}if(!r){for(let t of q){let u=await this.hashNDegreeQuads(t,o);if(p+=o.getId(t),p+=`<${u.hash}>`,o=u.issuer,0!==j.length&&p>j){r=!0;break}}!r&&(0===j.length||p<j)&&(j=p,k=o)}}d.update(j),b=k}return{hash:await d.digest(),issuer:b}}modifyFirstDegreeComponent(a,b){return"BlankNode"!==b.termType?b:{termType:"BlankNode",value:b.value===a?"_:a":"_:z"}}getRelatedPredicate(a){return`<${a.predicate.value}>`}async createHashToRelated(a,b){let c=new Map,d=this.blankNodeInfo.get(a).quads,e=0;for(let f of d)++e%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:f,component:f.subject,position:"s",id:a,issuer:b,hashToRelated:c}),this._addRelatedBlankNodeHash({quad:f,component:f.object,position:"o",id:a,issuer:b,hashToRelated:c}),this._addRelatedBlankNodeHash({quad:f,component:f.graph,position:"g",id:a,issuer:b,hashToRelated:c})]);return c}async _hashAndTrackBlankNode({id:a,hashToBlankNodes:b}){let c=await this.hashFirstDegreeQuads(a),d=b.get(c);d?d.push(a):b.set(c,[a])}_addBlankNodeQuadInfo({quad:a,component:b}){if("BlankNode"!==b.termType)return;let c=b.value,d=this.blankNodeInfo.get(c);d?d.quads.add(a):this.blankNodeInfo.set(c,{quads:new Set([a]),hash:null})}async _addRelatedBlankNodeHash({quad:a,component:b,position:c,id:d,issuer:e,hashToRelated:f}){if(!("BlankNode"===b.termType&&b.value!==d))return;let g=b.value,h=await this.hashRelatedBlankNode(g,a,e,c),i=f.get(h);i?i.push(g):f.set(h,[g])}_componentWithCanonicalId(a){return"BlankNode"!==a.termType||a.value.startsWith(this.canonicalIssuer.prefix)?a:{termType:"BlankNode",value:this.canonicalIssuer.getId(a.value)}}async _yield(){return new Promise(a=>setImmediate(a))}}},5643:function(a,b,c){"use strict";let d=c(12401),e=c(75947),f=c(68326),g=c(69980);function h(a,b){return a.hash<b.hash?-1:a.hash>b.hash?1:0}a.exports=class{constructor({maxDeepIterations:a=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new d("_:c14n"),this.hashAlgorithm="sha256",this.maxDeepIterations=a,this.quads=null,this.deepIterations=null}main(a){for(let b of(this.deepIterations=new Map,this.quads=a,a))this._addBlankNodeQuadInfo({quad:b,component:b.subject}),this._addBlankNodeQuadInfo({quad:b,component:b.object}),this._addBlankNodeQuadInfo({quad:b,component:b.graph});let c=new Map,e=[...this.blankNodeInfo.keys()];for(let f of e)this._hashAndTrackBlankNode({id:f,hashToBlankNodes:c});let i=[...c.keys()].sort(),j=[];for(let k of i){let l=c.get(k);if(l.length>1){j.push(l);continue}let m=l[0];this.canonicalIssuer.getId(m)}for(let n of j){let o=[];for(let p of n){if(this.canonicalIssuer.hasId(p))continue;let q=new d("_:b");q.getId(p);let r=this.hashNDegreeQuads(p,q);o.push(r)}for(let s of(o.sort(h),o)){let t=s.issuer.getOldIds();for(let u of t)this.canonicalIssuer.getId(u)}}let v=[];for(let w of this.quads){let x=g.serializeQuadComponents(this._componentWithCanonicalId({component:w.subject}),w.predicate,this._componentWithCanonicalId({component:w.object}),this._componentWithCanonicalId({component:w.graph}));v.push(x)}return v.sort(),v.join("")}hashFirstDegreeQuads(a){let b=[],c=this.blankNodeInfo.get(a),d=c.quads;for(let f of d){let h={subject:null,predicate:f.predicate,object:null,graph:null};h.subject=this.modifyFirstDegreeComponent(a,f.subject,"subject"),h.object=this.modifyFirstDegreeComponent(a,f.object,"object"),h.graph=this.modifyFirstDegreeComponent(a,f.graph,"graph"),b.push(g.serializeQuad(h))}b.sort();let i=new e(this.hashAlgorithm);for(let j of b)i.update(j);return c.hash=i.digest(),c.hash}hashRelatedBlankNode(a,b,c,d){let f;f=this.canonicalIssuer.hasId(a)?this.canonicalIssuer.getId(a):c.hasId(a)?c.getId(a):this.blankNodeInfo.get(a).hash;let g=new e(this.hashAlgorithm);return g.update(d),"g"!==d&&g.update(this.getRelatedPredicate(b)),g.update(f),g.digest()}hashNDegreeQuads(a,b){let c=this.deepIterations.get(a)||0;if(c>this.maxDeepIterations)throw Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(a,c+1);let d=new e(this.hashAlgorithm),g=this.createHashToRelated(a,b),h=[...g.keys()].sort();for(let i of h){d.update(i);let j="",k,l=new f(g.get(i));for(;l.hasNext();){let m=l.next(),n=b.clone(),o="",p=[],q=!1;for(let r of m)if(this.canonicalIssuer.hasId(r)?o+=this.canonicalIssuer.getId(r):(n.hasId(r)||p.push(r),o+=n.getId(r)),0!==j.length&&o>j){q=!0;break}if(!q){for(let s of p){let t=this.hashNDegreeQuads(s,n);if(o+=n.getId(s),o+=`<${t.hash}>`,n=t.issuer,0!==j.length&&o>j){q=!0;break}}!q&&(0===j.length||o<j)&&(j=o,k=n)}}d.update(j),b=k}return{hash:d.digest(),issuer:b}}modifyFirstDegreeComponent(a,b){return"BlankNode"!==b.termType?b:{termType:"BlankNode",value:b.value===a?"_:a":"_:z"}}getRelatedPredicate(a){return`<${a.predicate.value}>`}createHashToRelated(a,b){let c=new Map,d=this.blankNodeInfo.get(a).quads;for(let e of d)this._addRelatedBlankNodeHash({quad:e,component:e.subject,position:"s",id:a,issuer:b,hashToRelated:c}),this._addRelatedBlankNodeHash({quad:e,component:e.object,position:"o",id:a,issuer:b,hashToRelated:c}),this._addRelatedBlankNodeHash({quad:e,component:e.graph,position:"g",id:a,issuer:b,hashToRelated:c});return c}_hashAndTrackBlankNode({id:a,hashToBlankNodes:b}){let c=this.hashFirstDegreeQuads(a),d=b.get(c);d?d.push(a):b.set(c,[a])}_addBlankNodeQuadInfo({quad:a,component:b}){if("BlankNode"!==b.termType)return;let c=b.value,d=this.blankNodeInfo.get(c);d?d.quads.add(a):this.blankNodeInfo.set(c,{quads:new Set([a]),hash:null})}_addRelatedBlankNodeHash({quad:a,component:b,position:c,id:d,issuer:e,hashToRelated:f}){if(!("BlankNode"===b.termType&&b.value!==d))return;let g=b.value,h=this.hashRelatedBlankNode(g,a,e,c),i=f.get(h);i?i.push(g):f.set(h,[g])}_componentWithCanonicalId({component:a}){return"BlankNode"!==a.termType||a.value.startsWith(this.canonicalIssuer.prefix)?a:{termType:"BlankNode",value:this.canonicalIssuer.getId(a.value)}}}},89201:function(a,b,c){"use strict";let d=c(23445);a.exports=class extends d{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(a,b,c){return"BlankNode"!==b.termType?b:"graph"===c?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:b.value===a?"_:a":"_:z"}}getRelatedPredicate(a){return a.predicate.value}async createHashToRelated(a,b){let c=new Map,d=this.blankNodeInfo.get(a).quads,e=0;for(let f of d){let g,h;if("BlankNode"===f.subject.termType&&f.subject.value!==a)h=f.subject.value,g="p";else{if("BlankNode"!==f.object.termType||f.object.value===a)continue;h=f.object.value,g="r"}++e%100==0&&await this._yield();let i=await this.hashRelatedBlankNode(h,f,b,g),j=c.get(i);j?j.push(h):c.set(i,[h])}return c}}},17702:function(a,b,c){"use strict";let d=c(5643);a.exports=class extends d{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(a,b,c){return"BlankNode"!==b.termType?b:"graph"===c?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:b.value===a?"_:a":"_:z"}}getRelatedPredicate(a){return a.predicate.value}createHashToRelated(a,b){let c=new Map,d=this.blankNodeInfo.get(a).quads;for(let e of d){let f,g;if("BlankNode"===e.subject.termType&&e.subject.value!==a)g=e.subject.value,f="p";else{if("BlankNode"!==e.object.termType||e.object.value===a)continue;g=e.object.value,f="r"}let h=this.hashRelatedBlankNode(g,e,b,f),i=c.get(h);i?i.push(g):c.set(h,[g])}return c}}},29344:function(a,b,c){"use strict";let d=c(23445),e=c(89201),f=c(5643),g=c(17702),h;try{h=c(97670)}catch(i){}let j={};a.exports=j,j.NQuads=c(69980),j.IdentifierIssuer=c(12401),j._rdfCanonizeNative=function(a){return a&&(h=a),h},j.canonize=async function(a,b){if(Array.isArray(a)||(a=j.NQuads.legacyDatasetToQuads(a)),b.useNative){if(!h)throw Error("rdf-canonize-native not available");return new Promise((c,d)=>h.canonize(a,b,(a,b)=>a?d(a):c(b)))}if("URDNA2015"===b.algorithm)return new d(b).main(a);if("URGNA2012"===b.algorithm)return new e(b).main(a);if(!("algorithm"in b))throw Error("No RDF Dataset Canonicalization algorithm specified.");throw Error("Invalid RDF Dataset Canonicalization algorithm: "+b.algorithm)},j._canonizeSync=function(a,b){if(Array.isArray(a)||(a=j.NQuads.legacyDatasetToQuads(a)),b.useNative){if(h)return h.canonizeSync(a,b);throw Error("rdf-canonize-native not available")}if("URDNA2015"===b.algorithm)return new f(b).main(a);if("URGNA2012"===b.algorithm)return new g(b).main(a);if(!("algorithm"in b))throw Error("No RDF Dataset Canonicalization algorithm specified.");throw Error("Invalid RDF Dataset Canonicalization algorithm: "+b.algorithm)}},40217:function(a,b,c){!function(a,d){d(b,c(67294))}(this,function(a,b){"use strict";function c(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){return void c(j)}h.done?b(i):Promise.resolve(i).then(d,e)}function d(a){return function(){var b=this,d=arguments;return new Promise(function(e,f){var g=a.apply(b,d);function h(a){c(g,e,f,h,i,"next",a)}function i(a){c(g,e,f,h,i,"throw",a)}h(void 0)})}}function e(){return(e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function f(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function g(a){var b=function(a,b){if("object"!=typeof a||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:String(b)}b=b&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b;var h={init:"init"},i=function(a){var b=a.value;return void 0===b?"":b},j=function(){return b.createElement(b.Fragment,null,"\xa0")},k={Cell:i,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function l(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduce(function(a,b){var c=b.style,d=b.className;return a=e({},a,{},f(b,["style","className"])),c&&(a.style=a.style?e({},a.style||{},{},c||{}):c),d&&(a.className=a.className?a.className+" "+d:d),""===a.className&&delete a.className,a},{})}var m=function(a,b){return void 0===b&&(b={}),function(c){return void 0===c&&(c={}),[].concat(a,[c]).reduce(function(a,d){return function a(b,c,d){return"function"==typeof c?a({},c(b,d)):Array.isArray(c)?l.apply(void 0,[b].concat(c)):l(b,c)}(a,d,e({},b,{userProps:c}))},{})}},n=function(a,b,c,d){return void 0===c&&(c={}),a.reduce(function(a,b){return b(a,c)},b)},o=function(a,b,c){return void 0===c&&(c={}),a.forEach(function(a){a(b,c)})};function p(a,b,c,d){a.findIndex(function(a){return a.pluginName===c}),b.forEach(function(b){a.findIndex(function(a){return a.pluginName===b})})}function q(a,b){return"function"==typeof a?a(b):a}function r(a){var c=b.useRef();return c.current=a,b.useCallback(function(){return c.current},[])}var s="undefined"!=typeof document?b.useLayoutEffect:b.useEffect;function t(a,c){var d=b.useRef(!1);s(function(){d.current&&a(),d.current=!0},c)}function u(a,b,c){return void 0===c&&(c={}),function(d,f){void 0===f&&(f={});var g="string"==typeof d?b[d]:d;if(void 0===g)throw console.info(b),Error("Renderer Error ☝️");return v(g,e({},a,{column:b},c,{},f))}}function v(a,c){var d,e,f,g;return"function"==typeof(e=d=a)&&(f=Object.getPrototypeOf(e)).prototype&&f.prototype.isReactComponent||"function"==typeof d||"object"==typeof(g=d)&&"symbol"==typeof g.$$typeof&&["react.memo","react.forward_ref"].includes(g.$$typeof.description)?b.createElement(a,c):a}function w(a,b,c){return void 0===c&&(c=0),a.map(function(a){return y(a=e({},a,{parent:b,depth:c})),a.columns&&(a.columns=w(a.columns,a,c+1)),a})}function x(a){return D(a,"columns")}function y(a){var b=a.id,c=a.accessor,d=a.Header;if("string"==typeof c){b=b||c;var e=c.split(".");c=function(a){return function(a,b,c){if(!b)return a;var d,e,f,g="function"==typeof b?b:JSON.stringify(b),h=A.get(g)||(e=(function a(b,c){if(void 0===c&&(c=[]),Array.isArray(b))for(var d=0;d<b.length;d+=1)a(b[d],c);else c.push(b);return c})(d=b).map(function(a){return String(a).replace(".","_")}).join(".").replace(J,".").replace(K,"").split("."),A.set(g,e),e);try{f=h.reduce(function(a,b){return a[b]},a)}catch(i){}return void 0!==f?f:void 0}(a,e)}}if(!b&&"string"==typeof d&&d&&(b=d),!b&&a.columns)throw console.error(a),Error('A column ID (or unique "Header" value) is required!');if(!b)throw console.error(a),Error("A column ID (or string accessor) is required!");return Object.assign(a,{id:b,accessor:c}),a}function z(a,b){if(!b)throw Error();return Object.assign(a,e({Header:j,Footer:j},k,{},b,{},a)),Object.assign(a,{originalWidth:a.width}),a}var A=new Map;function B(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d+=1)if(void 0!==b[d])return b[d]}function C(a){if("function"==typeof a)return a}function D(a,b){var c=[];return function a(d){d.forEach(function(d){d[b]?a(d[b]):c.push(d)})}(a),c}function E(a,b){var c=b.manualExpandedKey,d=b.expanded,e=b.expandSubRows,f=void 0===e||e,g=[];return a.forEach(function(a){return function a(b,e){void 0===e&&(e=!0),b.isExpanded=b.original&&b.original[c]||d[b.id],b.canExpand=b.subRows&&!!b.subRows.length,e&&g.push(b),b.subRows&&b.subRows.length&&b.isExpanded&&b.subRows.forEach(function(b){return a(b,f)})}(a)}),g}function F(a,b,c){return C(a)||b[a]||c[a]||c.text}function G(a,b,c){return a?a(b,c):void 0===b}function H(){throw Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var I=null,J=/\[/g,K=/\]/g,L=function(a){return e({role:"table"},a)},M=function(a){return e({role:"rowgroup"},a)},N=function(a,b){var c=b.column;return e({key:"header_"+c.id,colSpan:c.totalVisibleHeaderCount,role:"columnheader"},a)},O=function(a,b){var c=b.column;return e({key:"footer_"+c.id,colSpan:c.totalVisibleHeaderCount},a)},P=function(a,b){return e({key:"headerGroup_"+b.index,role:"row"},a)},Q=function(a,b){return e({key:"footerGroup_"+b.index},a)},R=function(a,b){return e({key:"row_"+b.row.id,role:"row"},a)},S=function(a,b){var c=b.cell;return e({key:"cell_"+c.row.id+"_"+c.column.id,role:"cell"},a)};h.resetHiddenColumns="resetHiddenColumns",h.toggleHideColumn="toggleHideColumn",h.setHiddenColumns="setHiddenColumns",h.toggleHideAllColumns="toggleHideAllColumns";var T=function(a){a.getToggleHiddenProps=[U],a.getToggleHideAllColumnsProps=[V],a.stateReducers.push(W),a.useInstanceBeforeDimensions.push(X),a.headerGroupsDeps.push(function(a,b){return[].concat(a,[b.instance.state.hiddenColumns])}),a.useInstance.push(Y)};T.pluginName="useColumnVisibility";var U=function(a,b){var c=b.column;return[a,{onChange:function(a){c.toggleHidden(!a.target.checked)},style:{cursor:"pointer"},checked:c.isVisible,title:"Toggle Column Visible"}]},V=function(a,b){var c=b.instance;return[a,{onChange:function(a){c.toggleHideAllColumns(!a.target.checked)},style:{cursor:"pointer"},checked:!c.allColumnsHidden&&!c.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!c.allColumnsHidden&&c.state.hiddenColumns.length}]};function W(a,b,c,d){if(b.type===h.init)return e({hiddenColumns:[]},a);if(b.type===h.resetHiddenColumns)return e({},a,{hiddenColumns:d.initialState.hiddenColumns||[]});if(b.type===h.toggleHideColumn){var f=(void 0!==b.value?b.value:!a.hiddenColumns.includes(b.columnId))?[].concat(a.hiddenColumns,[b.columnId]):a.hiddenColumns.filter(function(a){return a!==b.columnId});return e({},a,{hiddenColumns:f})}return b.type===h.setHiddenColumns?e({},a,{hiddenColumns:q(b.value,a.hiddenColumns)}):b.type===h.toggleHideAllColumns?e({},a,{hiddenColumns:(void 0!==b.value?b.value:!a.hiddenColumns.length)?d.allColumns.map(function(a){return a.id}):[]}):void 0}function X(a){var c=a.headers,d=a.state.hiddenColumns;b.useRef(!1).current;var e=0;c.forEach(function(a){return e+=function a(b,c){b.isVisible=c&&!d.includes(b.id);var e=0;return b.headers&&b.headers.length?b.headers.forEach(function(c){return e+=a(c,b.isVisible)}):e=b.isVisible?1:0,b.totalVisibleHeaderCount=e,e}(a,!0)})}function Y(a){var c=a.columns,d=a.flatHeaders,e=a.dispatch,f=a.allColumns,g=a.getHooks,i=a.state.hiddenColumns,j=a.autoResetHiddenColumns,k=r(a),l=f.length===i.length,n=b.useCallback(function(a,b){return e({type:h.toggleHideColumn,columnId:a,value:b})},[e]),o=b.useCallback(function(a){return e({type:h.setHiddenColumns,value:a})},[e]),p=b.useCallback(function(a){return e({type:h.toggleHideAllColumns,value:a})},[e]),q=m(g().getToggleHideAllColumnsProps,{instance:k()});d.forEach(function(a){a.toggleHidden=function(b){e({type:h.toggleHideColumn,columnId:a.id,value:b})},a.getToggleHiddenProps=m(g().getToggleHiddenProps,{instance:k(),column:a})});var s=r(void 0===j||j);t(function(){s()&&e({type:h.resetHiddenColumns})},[e,c]),Object.assign(a,{allColumnsHidden:l,toggleHideColumn:n,setHiddenColumns:o,toggleHideAllColumns:p,getToggleHideAllColumnsProps:q})}var Z={},$={},_=function(a,b,c){return a},aa=function(a,b){return a.subRows||[]},ab=function(a,b,c){return""+(c?[c.id,b].join("."):b)},ac=function(a){return a};function ad(a){var b=a.initialState,c=a.defaultColumn,d=a.getSubRows,g=a.getRowId,h=a.stateReducer,i=a.useControlledState;return e({},f(a,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:void 0===b?Z:b,defaultColumn:void 0===c?$:c,getSubRows:void 0===d?aa:d,getRowId:void 0===g?ab:g,stateReducer:void 0===h?_:h,useControlledState:void 0===i?ac:i})}function ae(a,b){void 0===b&&(b=0);var c=0,d=0,e=0,f=0;return a.forEach(function(a){var g=a.headers;if(a.totalLeft=b,g&&g.length){var h=ae(g,b),i=h[0],j=h[1],k=h[2],l=h[3];a.totalMinWidth=i,a.totalWidth=j,a.totalMaxWidth=k,a.totalFlexWidth=l}else a.totalMinWidth=a.minWidth,a.totalWidth=Math.min(Math.max(a.minWidth,a.width),a.maxWidth),a.totalMaxWidth=a.maxWidth,a.totalFlexWidth=a.canResize?a.totalWidth:0;a.isVisible&&(b+=a.totalWidth,c+=a.totalMinWidth,d+=a.totalWidth,e+=a.totalMaxWidth,f+=a.totalFlexWidth)}),[c,d,e,f]}function af(a){var b=a.data,c=a.rows,d=a.flatRows,e=a.rowsById,f=a.column,g=a.getRowId,h=a.getSubRows,i=a.accessValueHooks,j=a.getInstance;b.forEach(function(a,k){return function a(c,k,l,m,o){void 0===l&&(l=0);var p=c,q=g(c,k,m),r=e[q];if(r)r.subRows&&r.originalSubRows.forEach(function(b,c){return a(b,c,l+1,r)});else if((r={id:q,original:p,index:k,depth:l,cells:[{}]}).cells.map=H,r.cells.filter=H,r.cells.forEach=H,r.cells[0].getCellProps=H,r.values={},o.push(r),d.push(r),e[q]=r,r.originalSubRows=h(c,k),r.originalSubRows){var s=[];r.originalSubRows.forEach(function(b,c){return a(b,c,l+1,r,s)}),r.subRows=s}f.accessor&&(r.values[f.id]=f.accessor(c,k,r,o,b)),r.values[f.id]=n(i,r.values[f.id],{row:r,column:f,instance:j()})}(a,k,0,void 0,c)})}h.resetExpanded="resetExpanded",h.toggleRowExpanded="toggleRowExpanded",h.toggleAllRowsExpanded="toggleAllRowsExpanded";var ag=function(a){a.getToggleAllRowsExpandedProps=[ah],a.getToggleRowExpandedProps=[ai],a.stateReducers.push(aj),a.useInstance.push(ak),a.prepareRow.push(al)};ag.pluginName="useExpanded";var ah=function(a,b){var c=b.instance;return[a,{onClick:function(a){c.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},ai=function(a,b){var c=b.row;return[a,{onClick:function(){c.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function aj(a,b,c,d){if(b.type===h.init)return e({expanded:{}},a);if(b.type===h.resetExpanded)return e({},a,{expanded:d.initialState.expanded||{}});if(b.type===h.toggleAllRowsExpanded){var i=b.value,j=d.rowsById,k=Object.keys(j).length===Object.keys(a.expanded).length;if(void 0!==i?i:!k){var l={};return Object.keys(j).forEach(function(a){l[a]=!0}),e({},a,{expanded:l})}return e({},a,{expanded:{}})}if(b.type===h.toggleRowExpanded){var m,n=b.id,o=b.value,p=a.expanded[n],q=void 0!==o?o:!p;if(!p&&q)return e({},a,{expanded:e({},a.expanded,((m={})[n]=!0,m))});if(p&&!q){var r=a.expanded;return r[n],e({},a,{expanded:f(r,[n].map(g))})}return a}}function ak(a){var c=a.data,d=a.rows,e=a.rowsById,f=a.manualExpandedKey,g=void 0===f?"expanded":f,i=a.paginateExpandedRows,j=void 0===i||i,k=a.expandSubRows,l=void 0===k||k,n=a.autoResetExpanded,o=void 0===n||n,q=a.getHooks,s=a.plugins,u=a.state.expanded,v=a.dispatch;p(s,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var w=r(o),x=Boolean(Object.keys(e).length&&Object.keys(u).length);x&&Object.keys(e).some(function(a){return!u[a]})&&(x=!1),t(function(){w()&&v({type:h.resetExpanded})},[v,c]);var y=b.useCallback(function(a,b){v({type:h.toggleRowExpanded,id:a,value:b})},[v]),z=b.useCallback(function(a){return v({type:h.toggleAllRowsExpanded,value:a})},[v]),A=b.useMemo(function(){return j?E(d,{manualExpandedKey:g,expanded:u,expandSubRows:l}):d},[j,d,g,u,l]),B=b.useMemo(function(){var a,b;return b=0,Object.keys(a=u).forEach(function(a){b=Math.max(b,a.split(".").length)}),b},[u]),C=r(a),D=m(q().getToggleAllRowsExpandedProps,{instance:C()});Object.assign(a,{preExpandedRows:d,expandedRows:A,rows:A,expandedDepth:B,isAllRowsExpanded:x,toggleRowExpanded:y,toggleAllRowsExpanded:z,getToggleAllRowsExpandedProps:D})}function al(a,b){var c=b.instance.getHooks,d=b.instance;a.toggleRowExpanded=function(b){return d.toggleRowExpanded(a.id,b)},a.getToggleRowExpandedProps=m(c().getToggleRowExpandedProps,{instance:d,row:a})}var am=function(a,b,c){return a=a.filter(function(a){return b.some(function(b){return String(a.values[b]).toLowerCase().includes(String(c).toLowerCase())})})};am.autoRemove=function(a){return!a};var an=function(a,b,c){return a.filter(function(a){return b.some(function(b){var d=a.values[b];return void 0===d||String(d).toLowerCase()===String(c).toLowerCase()})})};an.autoRemove=function(a){return!a};var ao=function(a,b,c){return a.filter(function(a){return b.some(function(b){var d=a.values[b];return void 0===d||String(d)===String(c)})})};ao.autoRemove=function(a){return!a};var ap=function(a,b,c){return a.filter(function(a){return b.some(function(b){return a.values[b].includes(c)})})};ap.autoRemove=function(a){return!a||!a.length};var aq=function(a,b,c){return a.filter(function(a){return b.some(function(b){var d=a.values[b];return d&&d.length&&c.every(function(a){return d.includes(a)})})})};aq.autoRemove=function(a){return!a||!a.length};var ar=function(a,b,c){return a.filter(function(a){return b.some(function(b){var d=a.values[b];return d&&d.length&&c.some(function(a){return d.includes(a)})})})};ar.autoRemove=function(a){return!a||!a.length};var as=function(a,b,c){return a.filter(function(a){return b.some(function(b){var d=a.values[b];return c.includes(d)})})};as.autoRemove=function(a){return!a||!a.length};var at=function(a,b,c){return a.filter(function(a){return b.some(function(b){return a.values[b]===c})})};at.autoRemove=function(a){return void 0===a};var au=function(a,b,c){return a.filter(function(a){return b.some(function(b){return a.values[b]==c})})};au.autoRemove=function(a){return null==a};var av=function(a,b,c){var d=c||[],e=d[0],f=d[1];if((e="number"==typeof e?e:-1/0)>(f="number"==typeof f?f:1/0)){var g=e;e=f,f=g}return a.filter(function(a){return b.some(function(b){var c=a.values[b];return c>=e&&c<=f})})};av.autoRemove=function(a){return!a||"number"!=typeof a[0]&&"number"!=typeof a[1]};var aw=Object.freeze({__proto__:null,text:am,exactText:an,exactTextCase:ao,includes:ap,includesAll:aq,includesSome:ar,includesValue:as,exact:at,equals:au,between:av});h.resetFilters="resetFilters",h.setFilter="setFilter",h.setAllFilters="setAllFilters";var ax=function(a){a.stateReducers.push(ay),a.useInstance.push(az)};function ay(a,b,c,d){if(b.type===h.init)return e({filters:[]},a);if(b.type===h.resetFilters)return e({},a,{filters:d.initialState.filters||[]});if(b.type===h.setFilter){var f=b.columnId,g=b.filterValue,i=d.allColumns,j=d.filterTypes,k=i.find(function(a){return a.id===f});if(!k)throw Error("React-Table: Could not find a column with id: "+f);var l=F(k.filter,j||{},aw),m=a.filters.find(function(a){return a.id===f}),n=q(g,m&&m.value);return G(l.autoRemove,n,k)?e({},a,{filters:a.filters.filter(function(a){return a.id!==f})}):e({},a,m?{filters:a.filters.map(function(a){return a.id===f?{id:f,value:n}:a})}:{filters:[].concat(a.filters,[{id:f,value:n}])})}if(b.type===h.setAllFilters){var o=b.filters,p=d.allColumns,r=d.filterTypes;return e({},a,{filters:q(o,a.filters).filter(function(a){var b=p.find(function(b){return b.id===a.id});return!G(F(b.filter,r||{},aw).autoRemove,a.value,b)})})}}function az(a){var c=a.data,d=a.rows,e=a.flatRows,f=a.rowsById,g=a.allColumns,i=a.filterTypes,j=a.manualFilters,k=a.defaultCanFilter,l=void 0!==k&&k,m=a.disableFilters,n=a.state.filters,o=a.dispatch,p=a.autoResetFilters,q=b.useCallback(function(a,b){o({type:h.setFilter,columnId:a,filterValue:b})},[o]),s=b.useCallback(function(a){o({type:h.setAllFilters,filters:a})},[o]);g.forEach(function(a){var b=a.id,c=a.accessor,d=a.defaultCanFilter,e=a.disableFilters;a.canFilter=c?B(!0!==e&&void 0,!0!==m&&void 0,!0):B(d,l,!1),a.setFilter=function(b){return q(a.id,b)};var f=n.find(function(a){return a.id===b});a.filterValue=f&&f.value});var u=b.useMemo(function(){if(j||!n.length)return[d,e,f];var a=[],b={};return[function c(d,e){void 0===e&&(e=0);var f=d;return(f=n.reduce(function(a,b){var c=b.id,d=b.value,f=g.find(function(a){return a.id===c});if(!f)return a;0===e&&(f.preFilteredRows=a);var h=F(f.filter,i||{},aw);return h?(f.filteredRows=h(a,[c],d),f.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+f.id+"."),a)},d)).forEach(function(d){a.push(d),b[d.id]=d,d.subRows&&(d.subRows=d.subRows&&d.subRows.length>0?c(d.subRows,e+1):d.subRows)}),f}(d),a,b]},[j,n,d,e,f,g,i]),v=u[0],w=u[1],x=u[2];b.useMemo(function(){g.filter(function(a){return!n.find(function(b){return b.id===a.id})}).forEach(function(a){a.preFilteredRows=v,a.filteredRows=v})},[v,n,g]);var y=r(void 0===p||p);t(function(){y()&&o({type:h.resetFilters})},[o,j?null:c]),Object.assign(a,{preFilteredRows:d,preFilteredFlatRows:e,preFilteredRowsById:f,filteredRows:v,filteredFlatRows:w,filteredRowsById:x,rows:v,flatRows:w,rowsById:x,setFilter:q,setAllFilters:s})}ax.pluginName="useFilters",h.resetGlobalFilter="resetGlobalFilter",h.setGlobalFilter="setGlobalFilter";var aA=function(a){a.stateReducers.push(aB),a.useInstance.push(aC)};function aB(a,b,c,d){if(b.type===h.resetGlobalFilter)return e({},a,{globalFilter:d.initialState.globalFilter||void 0});if(b.type===h.setGlobalFilter){var g=b.filterValue,i=d.userFilterTypes,j=F(d.globalFilter,i||{},aw),k=q(g,a.globalFilter);return G(j.autoRemove,k)?(a.globalFilter,f(a,["globalFilter"])):e({},a,{globalFilter:k})}}function aC(a){var c=a.data,d=a.rows,e=a.flatRows,f=a.rowsById,g=a.allColumns,i=a.filterTypes,j=a.globalFilter,k=a.manualGlobalFilter,l=a.state.globalFilter,m=a.dispatch,n=a.autoResetGlobalFilter,o=a.disableGlobalFilter,p=b.useCallback(function(a){m({type:h.setGlobalFilter,filterValue:a})},[m]),q=b.useMemo(function(){if(k|| void 0===l)return[d,e,f];var a=[],b={},c=F(j,i||{},aw);if(!c)return console.warn("Could not find a valid 'globalFilter' option."),d;g.forEach(function(a){var b=a.disableGlobalFilter;a.canFilter=B(!0!==b&&void 0,!0!==o&&void 0,!0)});var h=g.filter(function(a){return!0===a.canFilter});return[function d(e){return(e=c(e,h.map(function(a){return a.id}),l)).forEach(function(c){a.push(c),b[c.id]=c,c.subRows=c.subRows&&c.subRows.length?d(c.subRows):c.subRows}),e}(d),a,b]},[k,l,j,i,g,d,e,f,o]),s=q[0],u=q[1],v=q[2],w=r(void 0===n||n);t(function(){w()&&m({type:h.resetGlobalFilter})},[m,k?null:c]),Object.assign(a,{preGlobalFilteredRows:d,preGlobalFilteredFlatRows:e,preGlobalFilteredRowsById:f,globalFilteredRows:s,globalFilteredFlatRows:u,globalFilteredRowsById:v,rows:s,flatRows:u,rowsById:v,setGlobalFilter:p,disableGlobalFilter:o})}function aD(a,b){return b.reduce(function(a,b){return a+("number"==typeof b?b:0)},0)}aA.pluginName="useGlobalFilter";var aE=Object.freeze({__proto__:null,sum:aD,min:function(a){var b=a[0]||0;return a.forEach(function(a){"number"==typeof a&&(b=Math.min(b,a))}),b},max:function(a){var b=a[0]||0;return a.forEach(function(a){"number"==typeof a&&(b=Math.max(b,a))}),b},minMax:function(a){var b=a[0]||0,c=a[0]||0;return a.forEach(function(a){"number"==typeof a&&(b=Math.min(b,a),c=Math.max(c,a))}),b+".."+c},average:function(a){return aD(0,a)/a.length},median:function(a){if(!a.length)return null;var b=Math.floor(a.length/2),c=[].concat(a).sort(function(a,b){return a-b});return a.length%2!=0?c[b]:(c[b-1]+c[b])/2},unique:function(a){return Array.from(new Set(a).values())},uniqueCount:function(a){return new Set(a).size},count:function(a){return a.length}}),aF=[],aG={};h.resetGroupBy="resetGroupBy",h.setGroupBy="setGroupBy",h.toggleGroupBy="toggleGroupBy";var aH=function(a){a.getGroupByToggleProps=[aI],a.stateReducers.push(aJ),a.visibleColumnsDeps.push(function(a,b){return[].concat(a,[b.instance.state.groupBy])}),a.visibleColumns.push(aK),a.useInstance.push(aM),a.prepareRow.push(aN)};aH.pluginName="useGroupBy";var aI=function(a,b){var c=b.header;return[a,{onClick:c.canGroupBy?function(a){a.persist(),c.toggleGroupBy()}:void 0,style:{cursor:c.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function aJ(a,b,c,d){if(b.type===h.init)return e({groupBy:[]},a);if(b.type===h.resetGroupBy)return e({},a,{groupBy:d.initialState.groupBy||[]});if(b.type===h.setGroupBy)return e({},a,{groupBy:b.value});if(b.type===h.toggleGroupBy){var f=b.columnId,g=b.value,i=void 0!==g?g:!a.groupBy.includes(f);return e({},a,i?{groupBy:[].concat(a.groupBy,[f])}:{groupBy:a.groupBy.filter(function(a){return a!==f})})}}function aK(a,b){var c,d=b.instance.state.groupBy;return(a=[].concat(d.map(function(b){return a.find(function(a){return a.id===b})}).filter(Boolean),a.filter(function(a){return!d.includes(a.id)}))).forEach(function(a){a.isGrouped=d.includes(a.id),a.groupedIndex=d.indexOf(a.id)}),a}var aL={};function aM(a){var c=a.data,d=a.rows,f=a.flatRows,g=a.rowsById,i=a.allColumns,j=a.flatHeaders,k=a.groupByFn,l=void 0===k?aO:k,n=a.manualGroupBy,o=a.aggregations,q=void 0===o?aL:o,s=a.plugins,u=a.state.groupBy,v=a.dispatch,w=a.autoResetGroupBy,x=a.disableGroupBy,y=a.defaultCanGroupBy,z=a.getHooks;p(s,["useColumnOrder","useFilters"],"useGroupBy");var A=r(a);i.forEach(function(b){var c=b.accessor,d=b.defaultGroupBy,e=b.disableGroupBy;b.canGroupBy=c?B(b.canGroupBy,!0!==e&&void 0,!0!==x&&void 0,!0):B(b.canGroupBy,d,y,!1),b.canGroupBy&&(b.toggleGroupBy=function(){return a.toggleGroupBy(b.id)}),b.Aggregated=b.Aggregated||b.Cell});var C=b.useCallback(function(a,b){v({type:h.toggleGroupBy,columnId:a,value:b})},[v]),E=b.useCallback(function(a){v({type:h.setGroupBy,value:a})},[v]);j.forEach(function(a){a.getGroupByToggleProps=m(z().getGroupByToggleProps,{instance:A(),header:a})});var F=b.useMemo(function(){if(n||!u.length)return[d,f,g,aF,aG,f,g];var a=u.filter(function(a){return i.find(function(b){return b.id===a})}),b=[],c={},h=[],j={},k=[],m={},o=function d(f,g,n){if(void 0===g&&(g=0),g===a.length)return f.map(function(a){return e({},a,{depth:g})});var o=a[g];return Object.entries(l(f,o)).map(function(e,f){var l,p,r,s,t=e[0],u=e[1],v=o+":"+t,w=d(u,g+1,v=n?n+">"+v:v),x=g?D(u,"leafRows"):u,y=(l=x,p=u,r=g,s={},i.forEach(function(b){if(a.includes(b.id))s[b.id]=p[0]?p[0].values[b.id]:null;else{var c="function"==typeof b.aggregate?b.aggregate:q[b.aggregate]||aE[b.aggregate];if(c){var d=p.map(function(a){return a.values[b.id]}),e=l.map(function(a){var c=a.values[b.id];if(!r&&b.aggregateValue){var d="function"==typeof b.aggregateValue?b.aggregateValue:q[b.aggregateValue]||aE[b.aggregateValue];if(!d)throw console.info({column:b}),Error("React Table: Invalid column.aggregateValue option for column listed above");c=d(c,a,b)}return c});s[b.id]=c(e,d)}else{if(b.aggregate)throw console.info({column:b}),Error("React Table: Invalid column.aggregate option for column listed above");s[b.id]=null}}}),s),z={id:v,isGrouped:!0,groupByID:o,groupByVal:t,values:y,subRows:w,leafRows:x,depth:g,index:f};return w.forEach(function(a){b.push(a),c[a.id]=a,a.isGrouped?(h.push(a),j[a.id]=a):(k.push(a),m[a.id]=a)}),z})}(d);return o.forEach(function(a){b.push(a),c[a.id]=a,a.isGrouped?(h.push(a),j[a.id]=a):(k.push(a),m[a.id]=a)}),[o,b,c,h,j,k,m]},[n,u,d,f,g,i,q,l]),G=F[0],H=F[1],I=F[2],J=F[3],K=F[4],L=F[5],M=F[6],N=r(void 0===w||w);t(function(){N()&&v({type:h.resetGroupBy})},[v,n?null:c]),Object.assign(a,{preGroupedRows:d,preGroupedFlatRow:f,preGroupedRowsById:g,groupedRows:G,groupedFlatRows:H,groupedRowsById:I,onlyGroupedFlatRows:J,onlyGroupedRowsById:K,nonGroupedFlatRows:L,nonGroupedRowsById:M,rows:G,flatRows:H,rowsById:I,toggleGroupBy:C,setGroupBy:E})}function aN(a){a.allCells.forEach(function(b){var c;b.isGrouped=b.column.isGrouped&&b.column.id===a.groupByID,b.isPlaceholder=!b.isGrouped&&b.column.isGrouped,b.isAggregated=!b.isGrouped&&!b.isPlaceholder&&(null==(c=a.subRows)?void 0:c.length)})}function aO(a,b){return a.reduce(function(a,c,d){var e=""+c.values[b];return a[e]=Array.isArray(a[e])?a[e]:[],a[e].push(c),a},{})}var aP=/([0-9]+)/gm;function aQ(a,b){return a===b?0:a>b?1:-1}function aR(a,b,c){return[a.values[c],b.values[c]]}function aS(a){return"number"==typeof a?isNaN(a)||a===1/0||a=== -1/0?"":String(a):"string"==typeof a?a:""}var aT=Object.freeze({__proto__:null,alphanumeric:function(a,b,c){var d=aR(a,b,c),e=d[0],f=d[1];for(e=aS(e),f=aS(f),e=e.split(aP).filter(Boolean),f=f.split(aP).filter(Boolean);e.length&&f.length;){var g=e.shift(),h=f.shift(),i=parseInt(g,10),j=parseInt(h,10),k=[i,j].sort();if(isNaN(k[0])){if(g>h)return 1;if(h>g)return -1}else{if(isNaN(k[1]))return isNaN(i)?-1:1;if(i>j)return 1;if(j>i)return -1}}return e.length-f.length},datetime:function(a,b,c){var d=aR(a,b,c),e=d[0],f=d[1];return aQ(e=e.getTime(),f=f.getTime())},basic:function(a,b,c){var d=aR(a,b,c);return aQ(d[0],d[1])},string:function(a,b,c){var d=aR(a,b,c),e=d[0],f=d[1];for(e=e.split("").filter(Boolean),f=f.split("").filter(Boolean);e.length&&f.length;){var g=e.shift(),h=f.shift(),i=g.toLowerCase(),j=h.toLowerCase();if(i>j)return 1;if(j>i)return -1;if(g>h)return 1;if(h>g)return -1}return e.length-f.length},number:function(a,b,c){var d=aR(a,b,c),e=d[0],f=d[1],g=/[^0-9.]/gi;return aQ(e=Number(String(e).replace(g,"")),f=Number(String(f).replace(g,"")))}});h.resetSortBy="resetSortBy",h.setSortBy="setSortBy",h.toggleSortBy="toggleSortBy",h.clearSortBy="clearSortBy",k.sortType="alphanumeric",k.sortDescFirst=!1;var aU=function(a){a.getSortByToggleProps=[aV],a.stateReducers.push(aW),a.useInstance.push(aX)};aU.pluginName="useSortBy";var aV=function(a,b){var c=b.instance,d=b.column,e=c.isMultiSortEvent,f=void 0===e?function(a){return a.shiftKey}:e;return[a,{onClick:d.canSort?function(a){a.persist(),d.toggleSortBy(void 0,!c.disableMultiSort&&f(a))}:void 0,style:{cursor:d.canSort?"pointer":void 0},title:d.canSort?"Toggle SortBy":void 0}]};function aW(a,b,c,d){if(b.type===h.init)return e({sortBy:[]},a);if(b.type===h.resetSortBy)return e({},a,{sortBy:d.initialState.sortBy||[]});if(b.type===h.clearSortBy)return e({},a,{sortBy:a.sortBy.filter(function(a){return a.id!==b.columnId})});if(b.type===h.setSortBy)return e({},a,{sortBy:b.sortBy});if(b.type===h.toggleSortBy){var f,g=b.columnId,i=b.desc,j=b.multi,k=d.allColumns,l=d.disableMultiSort,m=d.disableSortRemove,n=d.disableMultiRemove,o=d.maxMultiSortColCount,p=void 0===o?Number.MAX_SAFE_INTEGER:o,q=a.sortBy,r=k.find(function(a){return a.id===g}).sortDescFirst,s=q.find(function(a){return a.id===g}),t=q.findIndex(function(a){return a.id===g}),u=null!=i,v=[];return"toggle"!=(f=!l&&j?s?"toggle":"add":t!==q.length-1||1!==q.length?"replace":s?"toggle":"replace")||m||u||j&&n||!(s&&s.desc&&!r|| !s.desc&&r)||(f="remove"),"replace"===f?v=[{id:g,desc:u?i:r}]:"add"===f?(v=[].concat(q,[{id:g,desc:u?i:r}])).splice(0,v.length-p):"toggle"===f?v=q.map(function(a){return a.id===g?e({},a,{desc:u?i:!s.desc}):a}):"remove"===f&&(v=q.filter(function(a){return a.id!==g})),e({},a,{sortBy:v})}}function aX(a){var c=a.data,d=a.rows,e=a.flatRows,f=a.allColumns,g=a.orderByFn,i=void 0===g?aY:g,j=a.sortTypes,k=a.manualSortBy,l=a.defaultCanSort,n=a.disableSortBy,o=a.flatHeaders,q=a.state.sortBy,s=a.dispatch,u=a.plugins,v=a.getHooks,w=a.autoResetSortBy;p(u,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var x=b.useCallback(function(a){s({type:h.setSortBy,sortBy:a})},[s]),y=b.useCallback(function(a,b,c){s({type:h.toggleSortBy,columnId:a,desc:b,multi:c})},[s]),z=r(a);o.forEach(function(a){var b=a.accessor,c=a.canSort,d=a.disableSortBy,e=a.id,f=b?B(!0!==d&&void 0,!0!==n&&void 0,!0):B(l,c,!1);a.canSort=f,a.canSort&&(a.toggleSortBy=function(b,c){return y(a.id,b,c)},a.clearSortBy=function(){s({type:h.clearSortBy,columnId:a.id})}),a.getSortByToggleProps=m(v().getSortByToggleProps,{instance:z(),column:a});var g=q.find(function(a){return a.id===e});a.isSorted=!!g,a.sortedIndex=q.findIndex(function(a){return a.id===e}),a.isSortedDesc=a.isSorted?g.desc:void 0});var A=b.useMemo(function(){if(k||!q.length)return[d,e];var a=[],b=q.filter(function(a){return f.find(function(b){return b.id===a.id})});return[function c(d){var e=i(d,b.map(function(a){var b=f.find(function(b){return b.id===a.id});if(!b)throw Error("React-Table: Could not find a column with id: "+a.id+" while sorting");var c=b.sortType,d=C(c)||(j||{})[c]||aT[c];if(!d)throw Error("React-Table: Could not find a valid sortType of '"+c+"' for column '"+a.id+"'.");return function(b,c){return d(b,c,a.id,a.desc)}}),b.map(function(a){var b=f.find(function(b){return b.id===a.id});return b&&b.sortInverted?a.desc:!a.desc}));return e.forEach(function(b){a.push(b),b.subRows&&0!==b.subRows.length&&(b.subRows=c(b.subRows))}),e}(d),a]},[k,q,d,e,f,i,j]),D=A[0],E=A[1],F=r(void 0===w||w);t(function(){F()&&s({type:h.resetSortBy})},[k?null:c]),Object.assign(a,{preSortedRows:d,preSortedFlatRows:e,sortedRows:D,sortedFlatRows:E,rows:D,flatRows:E,setSortBy:x,toggleSortBy:y})}function aY(a,b,c){return[].concat(a).sort(function(a,d){for(var e=0;e<b.length;e+=1){var f=b[e],g=!1===c[e]||"desc"===c[e],h=f(a,d);if(0!==h)return g?-h:h}return c[0]?a.index-d.index:d.index-a.index})}h.resetPage="resetPage",h.gotoPage="gotoPage",h.setPageSize="setPageSize";var aZ=function(a){a.stateReducers.push(a$),a.useInstance.push(a_)};function a$(a,b,c,d){if(b.type===h.init)return e({pageSize:10,pageIndex:0},a);if(b.type===h.resetPage)return e({},a,{pageIndex:d.initialState.pageIndex||0});if(b.type===h.gotoPage){var f=d.pageCount,g=d.page,i=q(b.pageIndex,a.pageIndex),j=!1;return i>a.pageIndex?j=-1===f?g.length>=a.pageSize:i<f:i<a.pageIndex&&(j=i> -1),j?e({},a,{pageIndex:i}):a}if(b.type===h.setPageSize){var k=b.pageSize,l=a.pageSize*a.pageIndex;return e({},a,{pageIndex:Math.floor(l/k),pageSize:k})}}function a_(a){var c=a.rows,d=a.autoResetPage,e=a.manualExpandedKey,f=void 0===e?"expanded":e,g=a.plugins,i=a.pageCount,j=a.paginateExpandedRows,k=void 0===j||j,l=a.expandSubRows,m=void 0===l||l,n=a.state,o=n.pageSize,q=n.pageIndex,s=n.expanded,u=n.globalFilter,v=n.filters,w=n.groupBy,x=n.sortBy,y=a.dispatch,z=a.data,A=a.manualPagination;p(g,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var B=r(void 0===d||d);t(function(){B()&&y({type:h.resetPage})},[y,A?null:z,u,v,w,x]);var C=A?i:Math.ceil(c.length/o),D=b.useMemo(function(){return C>0?[].concat(Array(C)).fill(null).map(function(a,b){return b}):[]},[C]),F=b.useMemo(function(){var a;if(A)a=c;else{var b=o*q,d=b+o;a=c.slice(b,d)}return k?a:E(a,{manualExpandedKey:f,expanded:s,expandSubRows:m})},[m,s,f,A,q,o,k,c]),G=-1===C?F.length>=o:q<C-1,H=b.useCallback(function(a){y({type:h.gotoPage,pageIndex:a})},[y]),I=b.useCallback(function(){return H(function(a){return a-1})},[H]),J=b.useCallback(function(){return H(function(a){return a+1})},[H]),K=b.useCallback(function(a){y({type:h.setPageSize,pageSize:a})},[y]);Object.assign(a,{pageOptions:D,pageCount:C,page:F,canPreviousPage:q>0,canNextPage:G,gotoPage:H,previousPage:I,nextPage:J,setPageSize:K})}aZ.pluginName="usePagination",h.resetPivot="resetPivot",h.togglePivot="togglePivot";var a0=function(a){a.getPivotToggleProps=[a2],a.stateReducers.push(a3),a.useInstanceAfterData.push(a4),a.allColumns.push(a5),a.accessValue.push(a6),a.materializedColumns.push(a7),a.materializedColumnsDeps.push(a8),a.visibleColumns.push(a9),a.visibleColumnsDeps.push(ba),a.useInstance.push(bb),a.prepareRow.push(bc)};a0.pluginName="usePivotColumns";var a1=[],a2=function(a,b){var c=b.header;return[a,{onClick:c.canPivot?function(a){a.persist(),c.togglePivot()}:void 0,style:{cursor:c.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function a3(a,b,c,d){if(b.type===h.init)return e({pivotColumns:a1},a);if(b.type===h.resetPivot)return e({},a,{pivotColumns:d.initialState.pivotColumns||a1});if(b.type===h.togglePivot){var f=b.columnId,g=b.value,i=void 0!==g?g:!a.pivotColumns.includes(f);return e({},a,i?{pivotColumns:[].concat(a.pivotColumns,[f])}:{pivotColumns:a.pivotColumns.filter(function(a){return a!==f})})}}function a4(a){a.allColumns.forEach(function(b){b.isPivotSource=a.state.pivotColumns.includes(b.id)})}function a5(a,b){var c=b.instance;return a.forEach(function(a){a.isPivotSource=c.state.pivotColumns.includes(a.id),a.uniqueValues=new Set}),a}function a6(a,b){var c=b.column;return c.uniqueValues&& void 0!==a&&c.uniqueValues.add(a),a}function a7(a,b){var c=b.instance,d=c.allColumns,f=c.state;if(!f.pivotColumns.length||!f.groupBy||!f.groupBy.length)return a;var g=f.pivotColumns.map(function(a){return d.find(function(b){return b.id===a})}).filter(Boolean),h=d.filter(function(a){return!a.isPivotSource&&!f.groupBy.includes(a.id)&&!f.pivotColumns.includes(a.id)}),i=x(function a(b,c,d){void 0===b&&(b=0),void 0===d&&(d=[]);var f=g[b];return f?Array.from(f.uniqueValues).sort().map(function(g){var h=e({},f,{Header:f.PivotHeader||"string"==typeof f.header?f.Header+": "+g:g,isPivotGroup:!0,parent:c,depth:b,id:c?c.id+"."+f.id+"."+g:f.id+"."+g,pivotValue:g});return h.columns=a(b+1,h,[].concat(d,[function(a){return a.values[f.id]===g}])),h}):h.map(function(a){return e({},a,{canPivot:!1,isPivoted:!0,parent:c,depth:b,id:""+(c?c.id+"."+a.id:a.id),accessor:function(b,c,e){if(d.every(function(a){return a(e)}))return e.values[a.id]}})})}());return[].concat(a,i)}function a8(a,b){var c=b.instance.state,d=c.pivotColumns,e=c.groupBy;return[].concat(a,[d,e])}function a9(a,b){var c=b.instance.state;return a=a.filter(function(a){return!a.isPivotSource}),c.pivotColumns.length&&c.groupBy&&c.groupBy.length&&(a=a.filter(function(a){return a.isGrouped||a.isPivoted})),a}function ba(a,b){var c=b.instance;return[].concat(a,[c.state.pivotColumns,c.state.groupBy])}function bb(a){var b=a.columns,c=a.allColumns,d=a.flatHeaders,e=a.getHooks,f=a.plugins,g=a.dispatch,i=a.autoResetPivot,j=a.manaulPivot,k=a.disablePivot,l=a.defaultCanPivot;p(f,["useGroupBy"],"usePivotColumns");var n=r(a);c.forEach(function(b){var c=b.accessor,d=b.defaultPivot,e=b.disablePivot;b.canPivot=c?B(b.canPivot,!0!==e&&void 0,!0!==k&&void 0,!0):B(b.canPivot,d,l,!1),b.canPivot&&(b.togglePivot=function(){return a.togglePivot(b.id)}),b.Aggregated=b.Aggregated||b.Cell}),d.forEach(function(a){a.getPivotToggleProps=m(e().getPivotToggleProps,{instance:n(),header:a})});var o=r(void 0===i||i);t(function(){o()&&g({type:h.resetPivot})},[g,j?null:b]),Object.assign(a,{togglePivot:function(a,b){g({type:h.togglePivot,columnId:a,value:b})}})}function bc(a){a.allCells.forEach(function(a){a.isPivoted=a.column.isPivoted})}h.resetSelectedRows="resetSelectedRows",h.toggleAllRowsSelected="toggleAllRowsSelected",h.toggleRowSelected="toggleRowSelected",h.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var bd=function(a){a.getToggleRowSelectedProps=[be],a.getToggleAllRowsSelectedProps=[bf],a.getToggleAllPageRowsSelectedProps=[bg],a.stateReducers.push(bh),a.useInstance.push(bi),a.prepareRow.push(bj)};bd.pluginName="useRowSelect";var be=function(a,b){var c=b.instance,d=b.row,e=c.manualRowSelectedKey;return[a,{onChange:function(a){d.toggleRowSelected(a.target.checked)},style:{cursor:"pointer"},checked:!(!d.original||!d.original[void 0===e?"isSelected":e])||d.isSelected,title:"Toggle Row Selected",indeterminate:d.isSomeSelected}]},bf=function(a,b){var c=b.instance;return[a,{onChange:function(a){c.toggleAllRowsSelected(a.target.checked)},style:{cursor:"pointer"},checked:c.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!c.isAllRowsSelected&&Object.keys(c.state.selectedRowIds).length)}]},bg=function(a,b){var c=b.instance;return[a,{onChange:function(a){c.toggleAllPageRowsSelected(a.target.checked)},style:{cursor:"pointer"},checked:c.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!c.isAllPageRowsSelected&&c.page.some(function(a){var b=a.id;return c.state.selectedRowIds[b]}))}]};function bh(a,b,c,d){if(b.type===h.init)return e({selectedRowIds:{}},a);if(b.type===h.resetSelectedRows)return e({},a,{selectedRowIds:d.initialState.selectedRowIds||{}});if(b.type===h.toggleAllRowsSelected){var f=b.value,g=d.isAllRowsSelected,i=d.rowsById,j=d.nonGroupedRowsById,k=void 0===j?i:j,l=void 0!==f?f:!g,m=Object.assign({},a.selectedRowIds);return l?Object.keys(k).forEach(function(a){m[a]=!0}):Object.keys(k).forEach(function(a){delete m[a]}),e({},a,{selectedRowIds:m})}if(b.type===h.toggleRowSelected){var n=b.id,o=b.value,p=d.rowsById,q=d.selectSubRows,r=void 0===q||q,s=d.getSubRows,t=a.selectedRowIds[n],u=void 0!==o?o:!t;if(t===u)return a;var v=e({},a.selectedRowIds);return function a(b){var c=p[b];if(c&&(c.isGrouped||(u?v[b]=!0:delete v[b]),r&&s(c)))return s(c).forEach(function(b){return a(b.id)})}(n),e({},a,{selectedRowIds:v})}if(b.type===h.toggleAllPageRowsSelected){var w=b.value,x=d.page,y=d.rowsById,z=d.selectSubRows,A=void 0===z||z,B=d.isAllPageRowsSelected,C=d.getSubRows,D=void 0!==w?w:!B,E=e({},a.selectedRowIds);return x.forEach(function(a){return function a(b){var c=y[b];if(c.isGrouped||(D?E[b]=!0:delete E[b]),A&&C(c))return C(c).forEach(function(b){return a(b.id)})}(a.id)}),e({},a,{selectedRowIds:E})}return a}function bi(a){var c=a.data,d=a.rows,e=a.getHooks,f=a.plugins,g=a.rowsById,i=a.nonGroupedRowsById,j=void 0===i?g:i,k=a.autoResetSelectedRows,l=void 0===k||k,n=a.state.selectedRowIds,o=a.selectSubRows,q=void 0===o||o,s=a.dispatch,u=a.page,v=a.getSubRows;p(f,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var w=b.useMemo(function(){var a=[];return d.forEach(function(b){var c=q?function a(b,c,d){if(c[b.id])return!0;var e=d(b);if(e&&e.length){var f=!0,g=!1;return e.forEach(function(b){g&&!f||(a(b,c,d)?g=!0:f=!1)}),!!f|| !!g&&null}return!1}(b,n,v):!!n[b.id];b.isSelected=!!c,b.isSomeSelected=null===c,c&&a.push(b)}),a},[d,q,n,v]),x=Boolean(Object.keys(j).length&&Object.keys(n).length),y=x;x&&Object.keys(j).some(function(a){return!n[a]})&&(x=!1),x||u&&u.length&&u.some(function(a){return!n[a.id]})&&(y=!1);var z=r(l);t(function(){z()&&s({type:h.resetSelectedRows})},[s,c]);var A=b.useCallback(function(a){return s({type:h.toggleAllRowsSelected,value:a})},[s]),B=b.useCallback(function(a){return s({type:h.toggleAllPageRowsSelected,value:a})},[s]),C=b.useCallback(function(a,b){return s({type:h.toggleRowSelected,id:a,value:b})},[s]),D=r(a),E=m(e().getToggleAllRowsSelectedProps,{instance:D()}),F=m(e().getToggleAllPageRowsSelectedProps,{instance:D()});Object.assign(a,{selectedFlatRows:w,isAllRowsSelected:x,isAllPageRowsSelected:y,toggleRowSelected:C,toggleAllRowsSelected:A,getToggleAllRowsSelectedProps:E,getToggleAllPageRowsSelectedProps:F,toggleAllPageRowsSelected:B})}function bj(a,b){var c=b.instance;a.toggleRowSelected=function(b){return c.toggleRowSelected(a.id,b)},a.getToggleRowSelectedProps=m(c.getHooks().getToggleRowSelectedProps,{instance:c,row:a})}var bk=function(a){return{}},bl=function(a){return{}};h.setRowState="setRowState",h.setCellState="setCellState",h.resetRowState="resetRowState";var bm=function(a){a.stateReducers.push(bn),a.useInstance.push(bo),a.prepareRow.push(bp)};function bn(a,b,c,d){var f=d.initialRowStateAccessor,g=void 0===f?bk:f,i=d.initialCellStateAccessor,j=d.rowsById;if(b.type===h.init)return e({rowState:{}},a);if(b.type===h.resetRowState)return e({},a,{rowState:d.initialState.rowState||{}});if(b.type===h.setRowState){var k,l=b.rowId,m=b.value,n=void 0!==a.rowState[l]?a.rowState[l]:g(j[l]);return e({},a,{rowState:e({},a.rowState,((k={})[l]=q(m,n),k))})}if(b.type===h.setCellState){var o,p,r,s,t,u=b.rowId,v=b.columnId,w=b.value,x=void 0!==a.rowState[u]?a.rowState[u]:g(j[u]),y=void 0!==(null==x?void 0:null==(o=x.cellState)?void 0:o[v])?x.cellState[v]:(void 0===i?bl:i)(null==(p=j[u])?void 0:null==(r=p.cells)?void 0:r.find(function(a){return a.column.id===v}));return e({},a,{rowState:e({},a.rowState,((t={})[u]=e({},x,{cellState:e({},x.cellState||{},((s={})[v]=q(w,y),s))}),t))})}}function bo(a){var c=a.autoResetRowState,d=a.data,e=a.dispatch,f=b.useCallback(function(a,b){return e({type:h.setRowState,rowId:a,value:b})},[e]),g=b.useCallback(function(a,b,c){return e({type:h.setCellState,rowId:a,columnId:b,value:c})},[e]),i=r(void 0===c||c);t(function(){i()&&e({type:h.resetRowState})},[d]),Object.assign(a,{setRowState:f,setCellState:g})}function bp(a,b){var c=b.instance,d=c.initialRowStateAccessor,e=c.initialCellStateAccessor,f=void 0===e?bl:e,g=c.state.rowState;a&&(a.state=void 0!==g[a.id]?g[a.id]:(void 0===d?bk:d)(a),a.setState=function(b){return c.setRowState(a.id,b)},a.cells.forEach(function(b){a.state.cellState||(a.state.cellState={}),b.state=void 0!==a.state.cellState[b.column.id]?a.state.cellState[b.column.id]:f(b),b.setState=function(d){return c.setCellState(a.id,b.column.id,d)}}))}bm.pluginName="useRowState",h.resetColumnOrder="resetColumnOrder",h.setColumnOrder="setColumnOrder";var bq=function(a){a.stateReducers.push(br),a.visibleColumnsDeps.push(function(a,b){return[].concat(a,[b.instance.state.columnOrder])}),a.visibleColumns.push(bs),a.useInstance.push(bt)};function br(a,b,c,d){return b.type===h.init?e({columnOrder:[]},a):b.type===h.resetColumnOrder?e({},a,{columnOrder:d.initialState.columnOrder||[]}):b.type===h.setColumnOrder?e({},a,{columnOrder:q(b.columnOrder,a.columnOrder)}):void 0}function bs(a,b){var c=b.instance.state.columnOrder;if(!c||!c.length)return a;for(var d=[].concat(c),e=[].concat(a),f=[],g=function(){var a=d.shift(),b=e.findIndex(function(b){return b.id===a});b> -1&&f.push(e.splice(b,1)[0])};e.length&&d.length;)g();return[].concat(f,e)}function bt(a){var c=a.dispatch;a.setColumnOrder=b.useCallback(function(a){return c({type:h.setColumnOrder,columnOrder:a})},[c])}bq.pluginName="useColumnOrder",k.canResize=!0,h.columnStartResizing="columnStartResizing",h.columnResizing="columnResizing",h.columnDoneResizing="columnDoneResizing",h.resetResize="resetResize";var bu=function(a){a.getResizerProps=[bv],a.getHeaderProps.push({style:{position:"relative"}}),a.stateReducers.push(bw),a.useInstance.push(by),a.useInstanceBeforeDimensions.push(bx)},bv=function(a,b){var c=b.instance,d=b.header,e=c.dispatch,f=function(a,b){var c=!1;if("touchstart"===a.type){if(a.touches&&a.touches.length>1)return;c=!0}var d,f,g,i,j=(f=[],function a(b){b.columns&&b.columns.length&&b.columns.map(a),f.push(b)}(d=b),f).map(function(a){return[a.id,a.totalWidth]}),k=c?Math.round(a.touches[0].clientX):a.clientX,l=function(){window.cancelAnimationFrame(g),g=null,e({type:h.columnDoneResizing})},m=function(){window.cancelAnimationFrame(g),g=null,e({type:h.columnResizing,clientX:i})},n=function(a){i=a,g||(g=window.requestAnimationFrame(m))},o={mouse:{moveEvent:"mousemove",moveHandler:function(a){return n(a.clientX)},upEvent:"mouseup",upHandler:function(a){document.removeEventListener("mousemove",o.mouse.moveHandler),document.removeEventListener("mouseup",o.mouse.upHandler),l()}},touch:{moveEvent:"touchmove",moveHandler:function(a){return a.cancelable&&(a.preventDefault(),a.stopPropagation()),n(a.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(a){document.removeEventListener(o.touch.moveEvent,o.touch.moveHandler),document.removeEventListener(o.touch.upEvent,o.touch.moveHandler),l()}}},p=c?o.touch:o.mouse,q=!!function(){if("boolean"==typeof I)return I;var a=!1;try{var b={get passive(){return a=!0,!1}};window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch(c){a=!1}return I=a}()&&{passive:!1};document.addEventListener(p.moveEvent,p.moveHandler,q),document.addEventListener(p.upEvent,p.upHandler,q),e({type:h.columnStartResizing,columnId:b.id,columnWidth:b.totalWidth,headerIdWidths:j,clientX:k})};return[a,{onMouseDown:function(a){return a.persist()||f(a,d)},onTouchStart:function(a){return a.persist()||f(a,d)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function bw(a,b){if(b.type===h.init)return e({columnResizing:{columnWidths:{}}},a);if(b.type===h.resetResize)return e({},a,{columnResizing:{columnWidths:{}}});if(b.type===h.columnStartResizing){var c=b.clientX,d=b.columnId,f=b.columnWidth,g=b.headerIdWidths;return e({},a,{columnResizing:e({},a.columnResizing,{startX:c,headerIdWidths:g,columnWidth:f,isResizingColumn:d})})}if(b.type===h.columnResizing){var i=b.clientX,j=a.columnResizing,k=j.startX,l=j.columnWidth,m=j.headerIdWidths,n=(i-k)/l,o={};return(void 0===m?[]:m).forEach(function(a){var b=a[0],c=a[1];o[b]=Math.max(c+c*n,0)}),e({},a,{columnResizing:e({},a.columnResizing,{columnWidths:e({},a.columnResizing.columnWidths,{},o)})})}return b.type===h.columnDoneResizing?e({},a,{columnResizing:e({},a.columnResizing,{startX:null,isResizingColumn:null})}):void 0}bu.pluginName="useResizeColumns";var bx=function(a){var b=a.flatHeaders,c=a.disableResizing,d=a.getHooks,e=a.state.columnResizing,f=r(a);b.forEach(function(a){var b=B(!0!==a.disableResizing&&void 0,!0!==c&&void 0,!0);a.canResize=b,a.width=e.columnWidths[a.id]||a.originalWidth||a.width,a.isResizing=e.isResizingColumn===a.id,b&&(a.getResizerProps=m(d().getResizerProps,{instance:f(),header:a}))})};function by(a){var c=a.plugins,d=a.dispatch,e=a.autoResetResize,f=a.columns;p(c,["useAbsoluteLayout"],"useResizeColumns");var g=r(void 0===e||e);t(function(){g()&&d({type:h.resetResize})},[f]);var i=b.useCallback(function(){return d({type:h.resetResize})},[d]);Object.assign(a,{resetResizing:i})}var bz={position:"absolute",top:0},bA=function(a){a.getTableBodyProps.push(bB),a.getRowProps.push(bB),a.getHeaderGroupProps.push(bB),a.getFooterGroupProps.push(bB),a.getHeaderProps.push(function(a,b){var c=b.column;return[a,{style:e({},bz,{left:c.totalLeft+"px",width:c.totalWidth+"px"})}]}),a.getCellProps.push(function(a,b){var c=b.cell;return[a,{style:e({},bz,{left:c.column.totalLeft+"px",width:c.column.totalWidth+"px"})}]}),a.getFooterProps.push(function(a,b){var c=b.column;return[a,{style:e({},bz,{left:c.totalLeft+"px",width:c.totalWidth+"px"})}]})};bA.pluginName="useAbsoluteLayout";var bB=function(a,b){return[a,{style:{position:"relative",width:b.instance.totalColumnsWidth+"px"}}]},bC={display:"inline-block",boxSizing:"border-box"},bD=function(a,b){return[a,{style:{display:"flex",width:b.instance.totalColumnsWidth+"px"}}]},bE=function(a){a.getRowProps.push(bD),a.getHeaderGroupProps.push(bD),a.getFooterGroupProps.push(bD),a.getHeaderProps.push(function(a,b){return[a,{style:e({},bC,{width:b.column.totalWidth+"px"})}]}),a.getCellProps.push(function(a,b){return[a,{style:e({},bC,{width:b.cell.column.totalWidth+"px"})}]}),a.getFooterProps.push(function(a,b){return[a,{style:e({},bC,{width:b.column.totalWidth+"px"})}]})};function bF(a){a.getTableProps.push(bG),a.getRowProps.push(bH),a.getHeaderGroupProps.push(bH),a.getFooterGroupProps.push(bH),a.getHeaderProps.push(bI),a.getCellProps.push(bJ),a.getFooterProps.push(bK)}bE.pluginName="useBlockLayout",bF.pluginName="useFlexLayout";var bG=function(a,b){return[a,{style:{minWidth:b.instance.totalColumnsMinWidth+"px"}}]},bH=function(a,b){return[a,{style:{display:"flex",flex:"1 0 auto",minWidth:b.instance.totalColumnsMinWidth+"px"}}]},bI=function(a,b){var c=b.column;return[a,{style:{boxSizing:"border-box",flex:c.totalFlexWidth?c.totalFlexWidth+" 0 auto":void 0,minWidth:c.totalMinWidth+"px",width:c.totalWidth+"px"}}]},bJ=function(a,b){var c=b.cell;return[a,{style:{boxSizing:"border-box",flex:c.column.totalFlexWidth+" 0 auto",minWidth:c.column.totalMinWidth+"px",width:c.column.totalWidth+"px"}}]},bK=function(a,b){var c=b.column;return[a,{style:{boxSizing:"border-box",flex:c.totalFlexWidth?c.totalFlexWidth+" 0 auto":void 0,minWidth:c.totalMinWidth+"px",width:c.totalWidth+"px"}}]};function bL(a){a.stateReducers.push(bP),a.getTableProps.push(bM),a.getHeaderProps.push(bN),a.getRowProps.push(bO)}h.columnStartResizing="columnStartResizing",h.columnResizing="columnResizing",h.columnDoneResizing="columnDoneResizing",h.resetResize="resetResize",bL.pluginName="useGridLayout";var bM=function(a,b){var c=b.instance;return[a,{style:{display:"grid",gridTemplateColumns:c.visibleColumns.map(function(a){var b;return c.state.gridLayout.columnWidths[a.id]?c.state.gridLayout.columnWidths[a.id]+"px":(null==(b=c.state.columnResizing)?void 0:b.isResizingColumn)?c.state.gridLayout.startWidths[a.id]+"px":"number"==typeof a.width?a.width+"px":a.width}).join(" ")}}]},bN=function(a,b){var c=b.column;return[a,{id:"header-cell-"+c.id,style:{position:"sticky",gridColumn:"span "+c.totalVisibleHeaderCount}}]},bO=function(a,b){var c=b.row;return c.isExpanded?[a,{style:{gridColumn:"1 / "+(c.cells.length+1)}}]:[a,{}]};function bP(a,b,c,d){if(b.type===h.init)return e({gridLayout:{columnWidths:{}}},a);if(b.type===h.resetResize)return e({},a,{gridLayout:{columnWidths:{}}});if(b.type===h.columnStartResizing){var f=b.columnId,g=b.headerIdWidths,i=bQ(f);if(void 0!==i){var j=d.visibleColumns.reduce(function(a,b){var c;return e({},a,((c={})[b.id]=bQ(b.id),c))},{}),k=d.visibleColumns.reduce(function(a,b){var c;return e({},a,((c={})[b.id]=b.minWidth,c))},{}),l=d.visibleColumns.reduce(function(a,b){var c;return e({},a,((c={})[b.id]=b.maxWidth,c))},{}),m=g.map(function(a){var b=a[0];return[b,bQ(b)]});return e({},a,{gridLayout:e({},a.gridLayout,{startWidths:j,minWidths:k,maxWidths:l,headerIdGridWidths:m,columnWidth:i})})}return a}if(b.type===h.columnResizing){var n=b.clientX,o=a.columnResizing.startX,p=a.gridLayout,q=p.columnWidth,r=p.minWidths,s=p.maxWidths,t=p.headerIdGridWidths,u=(n-o)/q,v={};return(void 0===t?[]:t).forEach(function(a){var b=a[0],c=a[1];v[b]=Math.min(Math.max(r[b],c+c*u),s[b])}),e({},a,{gridLayout:e({},a.gridLayout,{columnWidths:e({},a.gridLayout.columnWidths,{},v)})})}return b.type===h.columnDoneResizing?e({},a,{gridLayout:e({},a.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function bQ(a){var b,c=null==(b=document.getElementById("header-cell-"+a))?void 0:b.offsetWidth;if(void 0!==c)return c}a._UNSTABLE_usePivotColumns=a0,a.actions=h,a.defaultColumn=k,a.defaultGroupByFn=aO,a.defaultOrderByFn=aY,a.defaultRenderer=i,a.emptyRenderer=j,a.ensurePluginOrder=p,a.flexRender=v,a.functionalUpdate=q,a.loopHooks=o,a.makePropGetter=m,a.makeRenderer=u,a.reduceHooks=n,a.safeUseLayoutEffect=s,a.useAbsoluteLayout=bA,a.useAsyncDebounce=function(a,c){void 0===c&&(c=0);var e,f=b.useRef({}),g=r(a),h=r(c);return b.useCallback((e=d(regeneratorRuntime.mark(function a(){var b,c,e,i=arguments;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(c=Array(b=i.length),e=0;e<b;e++)c[e]=i[e];return f.current.promise||(f.current.promise=new Promise(function(a,b){f.current.resolve=a,f.current.reject=b})),f.current.timeout&&clearTimeout(f.current.timeout),f.current.timeout=setTimeout(d(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return delete f.current.timeout,a.prev=1,a.t0=f.current,a.next=5,g().apply(void 0,c);case 5:a.t1=a.sent,a.t0.resolve.call(a.t0,a.t1),a.next=12;break;case 9:a.prev=9,a.t2=a.catch(1),f.current.reject(a.t2);case 12:return a.prev=12,delete f.current.promise,a.finish(12);case 15:case"end":return a.stop()}},a,null,[[1,9,12,15]])})),h()),a.abrupt("return",f.current.promise);case 5:case"end":return a.stop()}},a)})),function(){return e.apply(this,arguments)}),[g,h])},a.useBlockLayout=bE,a.useColumnOrder=bq,a.useExpanded=ag,a.useFilters=ax,a.useFlexLayout=bF,a.useGetLatest=r,a.useGlobalFilter=aA,a.useGridLayout=bL,a.useGroupBy=aH,a.useMountedLayoutEffect=t,a.usePagination=aZ,a.useResizeColumns=bu,a.useRowSelect=bd,a.useRowState=bm,a.useSortBy=aU,a.useTable=function(a){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];a=ad(a),d=[T].concat(d);var g=r(b.useRef({}).current);Object.assign(g(),e({},a,{plugins:d,hooks:{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[L],getTableBodyProps:[M],getHeaderGroupProps:[P],getFooterGroupProps:[Q],getHeaderProps:[N],getFooterProps:[O],getRowProps:[R],getCellProps:[S],useFinalInstance:[]}})),d.filter(Boolean).forEach(function(a){a(g().hooks)});var i=r(g().hooks);g().getHooks=i,delete g().hooks,Object.assign(g(),n(i().useOptions,ad(a)));var j=g(),k=j.data,l=j.columns,p=j.initialState,q=j.defaultColumn,s=j.getSubRows,t=j.getRowId,v=j.stateReducer,A=j.useControlledState,B=r(v),C=b.useCallback(function(a,b){if(!b.type)throw console.info({action:b}),Error("Unknown Action \uD83D\uDC46");return[].concat(i().stateReducers,Array.isArray(B())?B():[B()]).reduce(function(c,d){return d(c,b,a,g())||c},a)},[i,B,g]),D=b.useReducer(C,void 0,function(){return C(p,{type:h.init})}),E=D[0],F=D[1],G=n([].concat(i().useControlledState,[A]),E,{instance:g()});Object.assign(g(),{state:G,dispatch:F});var H=b.useMemo(function(){return w(n(i().columns,l,{instance:g()}))},[i,g,l].concat(n(i().columnsDeps,[],{instance:g()})));g().columns=H;var I=b.useMemo(function(){return n(i().allColumns,x(H),{instance:g()}).map(y)},[H,i,g].concat(n(i().allColumnsDeps,[],{instance:g()})));g().allColumns=I;var J=b.useMemo(function(){for(var a=[],b=[],c={},d=[].concat(I);d.length;)af({data:k,rows:a,flatRows:b,rowsById:c,column:d.shift(),getRowId:t,getSubRows:s,accessValueHooks:i().accessValue,getInstance:g});return[a,b,c]},[I,k,t,s,i,g]),K=J[0],U=J[1],V=J[2];Object.assign(g(),{rows:K,initialRows:[].concat(K),flatRows:U,rowsById:V}),o(i().useInstanceAfterData,g());var W=b.useMemo(function(){return n(i().visibleColumns,I,{instance:g()}).map(function(a){return z(a,q)})},[i,I,g,q].concat(n(i().visibleColumnsDeps,[],{instance:g()})));I=b.useMemo(function(){var a=[].concat(W);return I.forEach(function(b){a.find(function(a){return a.id===b.id})||a.push(b)}),a},[I,W]),g().allColumns=I;var X=b.useMemo(function(){return n(i().headerGroups,function(a,b,c){void 0===c&&(c=function(){return{}});for(var d=[],f=a,g=0,h=function(){return g++};f.length;)!function(){var a={headers:[]},g=[],i=f.some(function(a){return a.parent});f.forEach(function(d){var f,j=[].concat(g).reverse()[0];i&&(f=d.parent?e({},d.parent,{originalId:d.parent.id,id:d.parent.id+"_"+h(),headers:[d]},c(d)):z(e({originalId:d.id+"_placeholder",id:d.id+"_placeholder_"+h(),placeholderOf:d,headers:[d]},c(d)),b),j&&j.originalId===f.originalId?j.headers.push(d):g.push(f)),a.headers.push(d)}),d.push(a),f=g}();return d.reverse()}(W,q),g())},[i,W,q,g].concat(n(i().headerGroupsDeps,[],{instance:g()})));g().headerGroups=X;var Y=b.useMemo(function(){return X.length?X[0].headers:[]},[X]);g().headers=Y,g().flatHeaders=X.reduce(function(a,b){return[].concat(a,b.headers)},[]),o(i().useInstanceBeforeDimensions,g());var Z=W.filter(function(a){return a.isVisible}).map(function(a){return a.id}).sort().join("_");W=b.useMemo(function(){return W.filter(function(a){return a.isVisible})},[W,Z]),g().visibleColumns=W;var $=ae(Y),_=$[0],aa=$[1],ab=$[2];return g().totalColumnsMinWidth=_,g().totalColumnsWidth=aa,g().totalColumnsMaxWidth=ab,o(i().useInstance,g()),[].concat(g().flatHeaders,g().allColumns).forEach(function(a){a.render=u(g(),a),a.getHeaderProps=m(i().getHeaderProps,{instance:g(),column:a}),a.getFooterProps=m(i().getFooterProps,{instance:g(),column:a})}),g().headerGroups=b.useMemo(function(){return X.filter(function(a,b){return a.headers=a.headers.filter(function(a){return a.headers?function a(b){return b.filter(function(b){return b.headers?a(b.headers):b.isVisible}).length}(a.headers):a.isVisible}),!!a.headers.length&&(a.getHeaderGroupProps=m(i().getHeaderGroupProps,{instance:g(),headerGroup:a,index:b}),a.getFooterGroupProps=m(i().getFooterGroupProps,{instance:g(),headerGroup:a,index:b}),!0)})},[X,g,i]),g().footerGroups=[].concat(g().headerGroups).reverse(),g().prepareRow=b.useCallback(function(a){a.getRowProps=m(i().getRowProps,{instance:g(),row:a}),a.allCells=I.map(function(b){var c=a.values[b.id],d={column:b,row:a,value:c};return d.getCellProps=m(i().getCellProps,{instance:g(),cell:d}),d.render=u(g(),b,{row:a,cell:d,value:c}),d}),a.cells=W.map(function(b){return a.allCells.find(function(a){return a.column.id===b.id})}),o(i().prepareRow,a,{instance:g()})},[i,g,I,W]),g().getTableProps=m(i().getTableProps,{instance:g()}),g().getTableBodyProps=m(i().getTableBodyProps,{instance:g()}),o(i().useFinalInstance,g()),g()},Object.defineProperty(a,"__esModule",{value:!0})})},79521:function(a,b,c){a.exports=c(40217)},89509:function(a,b,c){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */ var d=c(48764),e=d.Buffer;function f(a,b){for(var c in a)b[c]=a[c]}function g(a,b,c){return e(a,b,c)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?a.exports=d:(f(d,b),b.Buffer=g),g.prototype=Object.create(e.prototype),f(e,g),g.from=function(a,b,c){if("number"==typeof a)throw TypeError("Argument must not be a number");return e(a,b,c)},g.alloc=function(a,b,c){if("number"!=typeof a)throw TypeError("Argument must be a number");var d=e(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},g.allocUnsafe=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return e(a)},g.allocUnsafeSlow=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return d.SlowBuffer(a)}},32553:function(a,b,c){"use strict";var d=c(89509).Buffer,e=d.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(a){var b;switch(this.encoding=function(a){var b=function(a){var b;if(!a)return"utf8";for(;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}(a);if("string"!=typeof b&&(d.isEncoding===e||!e(a)))throw Error("Unknown encoding: "+a);return b||a}(a),this.encoding){case"utf16le":this.text=i,this.end=j,b=4;break;case"utf8":this.fillLast=h,b=4;break;case"base64":this.text=k,this.end=l,b=3;break;default:this.write=m,this.end=n;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(b)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function h(a){var b=this.lastTotal-this.lastNeed,c=function(a,b,c){if((192&b[0])!=128)return a.lastNeed=0,"�";if(a.lastNeed>1&&b.length>1){if((192&b[1])!=128)return a.lastNeed=1,"�";if(a.lastNeed>2&&b.length>2&&(192&b[2])!=128)return a.lastNeed=2,"�"}}(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(a.copy(this.lastChar,b,0,a.length),this.lastNeed-=a.length)}function i(a,b){if((a.length-b)%2==0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function j(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function k(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(a){return a.toString(this.encoding)}function n(a){return a&&a.length?this.write(a):""}b.StringDecoder=f,f.prototype.write=function(a){var b,c;if(0===a.length)return"";if(this.lastNeed){if(void 0===(b=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=function(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"�":b},f.prototype.text=function(a,b){var c=function(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c|| -2===e?0:(e=g(b[d]))>=0?(e>0&&(a.lastNeed=e-2),e):--d<c|| -2===e?0:(e=g(b[d]))>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0}(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)},f.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},40821:function(a,b,c){"use strict";c.r(b),c.d(b,{SWRConfig:function(){return ab},default:function(){return ad},mutate:function(){return T},unstable_serialize:function(){return ac},useSWRConfig:function(){return Z}});var d=c(67294);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ function e(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function f(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(h){f=[6,h],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var g,h,i,j=function(){},k=j(),l=Object,m=function(a){return a===k},n=function(a){return"function"==typeof a},o=function(a,b){return l.assign({},a,b)},p="undefined",q=function(){return typeof window!=p},r=new WeakMap,s=0,t=function(a){var b,c,d=typeof a,e=a&&a.constructor,f=e==Date;if(l(a)!==a||f||e==RegExp)b=f?a.toJSON():"symbol"==d?a.toString():"string"==d?JSON.stringify(a):""+a;else{if(b=r.get(a))return b;if(b=++s+"~",r.set(a,b),e==Array){for(c=0,b="@";c<a.length;c++)b+=t(a[c])+",";r.set(a,b)}if(e==l){b="#";for(var g=l.keys(a).sort();!m(c=g.pop());)m(a[c])||(b+=c+":"+t(a[c])+",");r.set(a,b)}}return b},u=!0,v=function(){return u},w=q(),x=typeof document!=p,y=w&&window.addEventListener?window.addEventListener.bind(window):j,z=x?document.addEventListener.bind(document):j,A=w&&window.removeEventListener?window.removeEventListener.bind(window):j,B=x?document.removeEventListener.bind(document):j,C=function(){var a=x&&document.visibilityState;return m(a)||"hidden"!==a},D={initFocus:function(a){return z("visibilitychange",a),y("focus",a),function(){B("visibilitychange",a),A("focus",a)}},initReconnect:function(a){var b=function(){u=!0,a()},c=function(){u=!1};return y("online",b),y("offline",c),function(){A("online",b),A("offline",c)}}},E=!q()||"Deno"in window,F=E?d.useEffect:d.useLayoutEffect,G="undefined"!=typeof navigator&&navigator.connection,H=!E&&G&&(["slow-2g","2g"].includes(G.effectiveType)||G.saveData),I=function(a){if(n(a))try{a=a()}catch(b){a=""}var c=[].concat(a);a="string"==typeof a?a:(Array.isArray(a)?a.length:a)?t(a):"";var d=a?"$swr$"+a:"";return[a,c,d]},J=new WeakMap,K=function(a,b,c,d,e,f,g){void 0===g&&(g=!0);var h=J.get(a),i=h[0],j=h[1],k=h[3],l=i[b],m=j[b];if(g&&m)for(var n=0;n<m.length;++n)m[n](c,d,e);return f&&(delete k[b],l&&l[0])?l[0](2).then(function(){return a.get(b)}):a.get(b)},L=0,M=function(){return++L},N=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return e(void 0,void 0,void 0,function(){var b,c,d,e,g,h,i,j,l,p,q,r,s,t,u,v,w,x,y,z,A;return f(this,function(f){switch(f.label){case 0:if(b=a[0],c=a[1],d=a[2],h=!!m((g="boolean"==typeof(e=a[3])?{revalidate:e}:e||{}).populateCache)||g.populateCache,i=!1!==g.revalidate,j=!1!==g.rollbackOnError,l=g.optimisticData,q=(p=I(c))[0],r=p[2],!q)return[2];if(t=(s=J.get(b))[2],a.length<3)return[2,K(b,q,b.get(q),k,k,i,!0)];if(u=d,w=M(),t[q]=[w,0],x=!m(l),y=b.get(q),x&&(z=n(l)?l(y):l,b.set(q,z),K(b,q,z)),n(u))try{u=u(b.get(q))}catch(B){v=B}if(!(u&&n(u.then)))return[3,2];return[4,u.catch(function(a){v=a})];case 1:if(u=f.sent(),w!==t[q][0]){if(v)throw v;return[2,u]}v&&x&&j&&(h=!0,u=y,b.set(q,y)),f.label=2;case 2:return h&&(v||(n(h)&&(u=h(u,y)),b.set(q,u)),b.set(r,o(b.get(r),{error:v}))),t[q][1]=M(),[4,K(b,q,u,v,k,i,!!h)];case 3:if(A=f.sent(),v)throw v;return[2,h?A:u]}})})},O=function(a,b){for(var c in a)a[c][0]&&a[c][0](b)},P=function(a,b){if(!J.has(a)){var c=o(D,b),d={},e=N.bind(k,a),f=j;if(J.set(a,[d,{},{},{},e]),!E){var g=c.initFocus(setTimeout.bind(k,O.bind(k,d,0))),h=c.initReconnect(setTimeout.bind(k,O.bind(k,d,1)));f=function(){g&&g(),h&&h(),J.delete(a)}}return[a,e,f]}return[a,J.get(a)[4]]},Q=function(a,b,c,d,e){var f=c.errorRetryCount,g=e.retryCount,h=~~((Math.random()+.5)*(1<<(g<8?g:8)))*c.errorRetryInterval;(m(f)||!(g>f))&&setTimeout(d,h,e)},R=P(new Map),S=R[0],T=R[1],U=o({onLoadingSlow:j,onSuccess:j,onError:j,onErrorRetry:Q,onDiscarded:j,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:H?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:H?5e3:3e3,compare:function(a,b){return t(a)==t(b)},isPaused:function(){return!1},cache:S,mutate:T,fallback:{}},{isOnline:v,isVisible:C}),V=function(a,b){var c=o(a,b);if(b){var d=a.use,e=a.fallback,f=b.use,g=b.fallback;d&&f&&(c.use=d.concat(f)),e&&g&&(c.fallback=o(e,g))}return c},W=(0,d.createContext)({}),X=function(a){var b=a.value,c=V((0,d.useContext)(W),b),e=b&&b.provider,f=(0,d.useState)(function(){return e?P(e(c.cache||S),b):k})[0];return f&&(c.cache=f[0],c.mutate=f[1]),F(function(){return f?f[2]:k},[]),(0,d.createElement)(W.Provider,o(a,{value:c}))},Y=function(a,b){var c=(0,d.useState)({})[1],e=(0,d.useRef)(a),f=(0,d.useRef)({data:!1,error:!1,isValidating:!1}),g=(0,d.useCallback)(function(a){var d=!1,g=e.current;for(var h in a){var i=h;g[i]!==a[i]&&(g[i]=a[i],f.current[i]&&(d=!0))}d&&!b.current&&c({})},[]);return F(function(){e.current=a}),[e,f.current,g]},Z=function(){return o(U,(0,d.useContext)(W))},$=function(a,b,c){var d=b[a]||(b[a]=[]);return d.push(c),function(){var a=d.indexOf(c);a>=0&&(d[a]=d[d.length-1],d.pop())}},_={dedupe:!0},aa=function(a,b,c){var g=c.cache,h=c.compare,i=c.fallbackData,j=c.suspense,l=c.revalidateOnMount,r=c.refreshInterval,s=c.refreshWhenHidden,t=c.refreshWhenOffline,u=J.get(g),v=u[0],w=u[1],x=u[2],y=u[3],z=I(a),A=z[0],B=z[1],C=z[2],D=(0,d.useRef)(!1),G=(0,d.useRef)(!1),H=(0,d.useRef)(A),L=(0,d.useRef)(b),O=(0,d.useRef)(c),P=function(){return O.current},Q=function(){return P().isVisible()&&P().isOnline()},R=function(a){return g.set(C,o(g.get(C),a))},S=g.get(A),T=m(i)?c.fallback[A]:i,U=m(S)?T:S,V=g.get(C)||{},W=V.error,X=!D.current,Z=function(){return X&&!m(l)?l:!P().isPaused()&&(j?!m(U)&&c.revalidateIfStale:m(U)||c.revalidateIfStale)},aa=!!A&&!!b&&(!!V.isValidating||X&&Z()),ab=Y({data:U,error:W,isValidating:aa},G),ac=ab[0],ad=ab[1],ae=ab[2],af=(0,d.useCallback)(function(a){return e(void 0,void 0,void 0,function(){var b,d,e,i,j,l,o,p,q,r,s,t,u;return f(this,function(f){switch(f.label){case 0:if(b=L.current,!A||!b||G.current||P().isPaused())return[2,!1];i=!0,j=a||{},l=!y[A]||!j.dedupe,o=function(){return!G.current&&A===H.current&&D.current},p=function(){var a=y[A];a&&a[1]===e&&delete y[A]},q={isValidating:!1},r=function(){R({isValidating:!1}),o()&&ae(q)},R({isValidating:!0}),ae({isValidating:!0}),f.label=1;case 1:return f.trys.push([1,3,,4]),l&&(K(g,A,ac.current.data,ac.current.error,!0),c.loadingTimeout&&!g.get(A)&&setTimeout(function(){i&&o()&&P().onLoadingSlow(A,c)},c.loadingTimeout),y[A]=[b.apply(void 0,B),M()]),d=(u=y[A])[0],e=u[1],[4,d];case 2:if(d=f.sent(),l&&setTimeout(p,c.dedupingInterval),!y[A]||y[A][1]!==e)return l&&o()&&P().onDiscarded(A),[2,!1];if(R({error:k}),q.error=k,!m(s=x[A])&&(e<=s[0]||e<=s[1]||0===s[1]))return r(),l&&o()&&P().onDiscarded(A),[2,!1];return h(ac.current.data,d)?q.data=ac.current.data:q.data=d,h(g.get(A),d)||g.set(A,d),l&&o()&&P().onSuccess(d,A,c),[3,4];case 3:return t=f.sent(),p(),!P().isPaused()&&(R({error:t}),q.error=t,l&&o()&&(P().onError(t,A,c),("boolean"==typeof c.shouldRetryOnError&&c.shouldRetryOnError||n(c.shouldRetryOnError)&&c.shouldRetryOnError(t))&&Q()&&P().onErrorRetry(t,A,c,af,{retryCount:(j.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return i=!1,r(),o()&&l&&K(g,A,q.data,q.error,!1),[2,!0]}})})},[A]),ag=(0,d.useCallback)(N.bind(k,g,function(){return H.current}),[]);if(F(function(){L.current=b,O.current=c}),F(function(){if(A){var a,b=A!==H.current,c=af.bind(k,_),d=function(a,b,c){ae(o({error:b,isValidating:c},h(ac.current.data,a)?k:{data:a}))},e=0,f=function(a){if(0==a){var b=Date.now();P().revalidateOnFocus&&b>e&&Q()&&(e=b+P().focusThrottleInterval,c())}else if(1==a)P().revalidateOnReconnect&&Q()&&c();else if(2==a)return af()},g=$(A,w,d),i=$(A,v,f);return G.current=!1,H.current=A,D.current=!0,b&&ae({data:U,error:W,isValidating:aa}),Z()&&(m(U)||E?c():(a=c,q()&& typeof window.requestAnimationFrame!=p?window.requestAnimationFrame(a):setTimeout(a,1))),function(){G.current=!0,g(),i()}}},[A,af]),F(function(){var a;function b(){var b=n(r)?r(U):r;b&& -1!==a&&(a=setTimeout(c,b))}function c(){!ac.current.error&&(s||P().isVisible())&&(t||P().isOnline())?af(_).then(b):b()}return b(),function(){a&&(clearTimeout(a),a=-1)}},[r,s,t,af]),(0,d.useDebugValue)(U),j&&m(U)&&A)throw L.current=b,O.current=c,G.current=!1,m(W)?af(_):W;return{mutate:ag,get data(){return ad.data=!0,U},get error(){return ad.error=!0,W},get isValidating(){return ad.isValidating=!0,aa}}},ab=l.defineProperty(X,"default",{value:U}),ac=function(a){return I(a)[0]},ad=(g=aa,function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,d=Z(),e=n((c=a)[1])?[c[0],c[1],c[2]||{}]:[c[0],null,(null===c[1]?c[2]:c[1])||{}],f=e[0],h=e[1],i=e[2],j=V(d,i),k=g,l=j.use;if(l)for(var m=l.length;m-- >0;)k=l[m](k);return k(f,h||j.fetcher,j)})},94927:function(a,b,c){a.exports=function(a,b){if(d("noDeprecation"))return a;var c=!1;return function(){if(!c){if(d("throwDeprecation"))throw Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),c=!0}return a.apply(this,arguments)}};function d(a){try{if(!c.g.localStorage)return!1}catch(b){return!1}var d=c.g.localStorage[a];return null!=d&&"true"===String(d).toLowerCase()}},97466:function(a,b,c){"use strict";c.r(b),c.d(b,{NIL:function(){return G},parse:function(){return q},stringify:function(){return m},v1:function(){return p},v3:function(){return A},v4:function(){return B},v5:function(){return F},validate:function(){return j},version:function(){return H}});var d,e,f,g=new Uint8Array(16);function h(){if(!d&&!(d="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(g)}for(var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,j=function(a){return"string"==typeof a&&i.test(a)},k=[],l=0;l<256;++l)k.push((l+256).toString(16).substr(1));var m=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:0,c=(k[a[b+0]]+k[a[b+1]]+k[a[b+2]]+k[a[b+3]]+"-"+k[a[b+4]]+k[a[b+5]]+"-"+k[a[b+6]]+k[a[b+7]]+"-"+k[a[b+8]]+k[a[b+9]]+"-"+k[a[b+10]]+k[a[b+11]]+k[a[b+12]]+k[a[b+13]]+k[a[b+14]]+k[a[b+15]]).toLowerCase();if(!j(c))throw TypeError("Stringified UUID is invalid");return c},n=0,o=0,p=function(a,b,c){var d=b&&c||0,g=b||Array(16),i=(a=a||{}).node||e,j=void 0!==a.clockseq?a.clockseq:f;if(null==i||null==j){var k=a.random||(a.rng||h)();null==i&&(i=e=[1|k[0],k[1],k[2],k[3],k[4],k[5]]),null==j&&(j=f=(k[6]<<8|k[7])&16383)}var l=void 0!==a.msecs?a.msecs:Date.now(),p=void 0!==a.nsecs?a.nsecs:o+1,q=l-n+(p-o)/1e4;if(q<0&& void 0===a.clockseq&&(j=j+1&16383),(q<0||l>n)&& void 0===a.nsecs&&(p=0),p>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");n=l,o=p,f=j;var r=((268435455&(l+=122192928e5))*1e4+p)%4294967296;g[d++]=r>>>24&255,g[d++]=r>>>16&255,g[d++]=r>>>8&255,g[d++]=255&r;var s=l/4294967296*1e4&268435455;g[d++]=s>>>8&255,g[d++]=255&s,g[d++]=s>>>24&15|16,g[d++]=s>>>16&255,g[d++]=j>>>8|128,g[d++]=255&j;for(var t=0;t<6;++t)g[d+t]=i[t];return b||m(g)},q=function(a){if(!j(a))throw TypeError("Invalid UUID");var b,c=new Uint8Array(16);return c[0]=(b=parseInt(a.slice(0,8),16))>>>24,c[1]=b>>>16&255,c[2]=b>>>8&255,c[3]=255&b,c[4]=(b=parseInt(a.slice(9,13),16))>>>8,c[5]=255&b,c[6]=(b=parseInt(a.slice(14,18),16))>>>8,c[7]=255&b,c[8]=(b=parseInt(a.slice(19,23),16))>>>8,c[9]=255&b,c[10]=(b=parseInt(a.slice(24,36),16))/1099511627776&255,c[11]=b/4294967296&255,c[12]=b>>>24&255,c[13]=b>>>16&255,c[14]=b>>>8&255,c[15]=255&b,c};function r(a,b,c){function d(a,d,e,f){if("string"==typeof a&&(a=function(a){a=unescape(encodeURIComponent(a));for(var b=[],c=0;c<a.length;++c)b.push(a.charCodeAt(c));return b}(a)),"string"==typeof d&&(d=q(d)),16!==d.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var g=new Uint8Array(16+a.length);if(g.set(d),g.set(a,d.length),(g=c(g))[6]=15&g[6]|b,g[8]=63&g[8]|128,e){f=f||0;for(var h=0;h<16;++h)e[f+h]=g[h];return e}return m(g)}try{d.name=a}catch(e){}return d.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",d.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",d}function s(a){return(a+64>>>9<<4)+14+1}function t(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function u(a,b,c,d,e,f){var g,h;return t((g=t(t(b,a),t(d,f)),g<<(h=e)|g>>>32-h),c)}function v(a,b,c,d,e,f,g){return u(b&c| ~b&d,a,b,e,f,g)}function w(a,b,c,d,e,f,g){return u(b&d|c& ~d,a,b,e,f,g)}function x(a,b,c,d,e,f,g){return u(b^c^d,a,b,e,f,g)}function y(a,b,c,d,e,f,g){return u(c^(b| ~d),a,b,e,f,g)}var z=function(a){if("string"==typeof a){var b=unescape(encodeURIComponent(a));a=new Uint8Array(b.length);for(var c=0;c<b.length;++c)a[c]=b.charCodeAt(c)}return function a(b){for(var c=[],d=32*b.length,e="0123456789abcdef",f=0;f<d;f+=8){var g=b[f>>5]>>>f%32&255,h=parseInt(e.charAt(g>>>4&15)+e.charAt(15&g),16);c.push(h)}return c}(function a(b,c){b[c>>5]|=128<<c%32,b[s(c)-1]=c;for(var d=1732584193,e=-271733879,f=-1732584194,g=271733878,h=0;h<b.length;h+=16){var i=d,j=e,k=f,l=g;d=v(d,e,f,g,b[h],7,-680876936),g=v(g,d,e,f,b[h+1],12,-389564586),f=v(f,g,d,e,b[h+2],17,606105819),e=v(e,f,g,d,b[h+3],22,-1044525330),d=v(d,e,f,g,b[h+4],7,-176418897),g=v(g,d,e,f,b[h+5],12,1200080426),f=v(f,g,d,e,b[h+6],17,-1473231341),e=v(e,f,g,d,b[h+7],22,-45705983),d=v(d,e,f,g,b[h+8],7,1770035416),g=v(g,d,e,f,b[h+9],12,-1958414417),f=v(f,g,d,e,b[h+10],17,-42063),e=v(e,f,g,d,b[h+11],22,-1990404162),d=v(d,e,f,g,b[h+12],7,1804603682),g=v(g,d,e,f,b[h+13],12,-40341101),f=v(f,g,d,e,b[h+14],17,-1502002290),e=v(e,f,g,d,b[h+15],22,1236535329),d=w(d,e,f,g,b[h+1],5,-165796510),g=w(g,d,e,f,b[h+6],9,-1069501632),f=w(f,g,d,e,b[h+11],14,643717713),e=w(e,f,g,d,b[h],20,-373897302),d=w(d,e,f,g,b[h+5],5,-701558691),g=w(g,d,e,f,b[h+10],9,38016083),f=w(f,g,d,e,b[h+15],14,-660478335),e=w(e,f,g,d,b[h+4],20,-405537848),d=w(d,e,f,g,b[h+9],5,568446438),g=w(g,d,e,f,b[h+14],9,-1019803690),f=w(f,g,d,e,b[h+3],14,-187363961),e=w(e,f,g,d,b[h+8],20,1163531501),d=w(d,e,f,g,b[h+13],5,-1444681467),g=w(g,d,e,f,b[h+2],9,-51403784),f=w(f,g,d,e,b[h+7],14,1735328473),e=w(e,f,g,d,b[h+12],20,-1926607734),d=x(d,e,f,g,b[h+5],4,-378558),g=x(g,d,e,f,b[h+8],11,-2022574463),f=x(f,g,d,e,b[h+11],16,1839030562),e=x(e,f,g,d,b[h+14],23,-35309556),d=x(d,e,f,g,b[h+1],4,-1530992060),g=x(g,d,e,f,b[h+4],11,1272893353),f=x(f,g,d,e,b[h+7],16,-155497632),e=x(e,f,g,d,b[h+10],23,-1094730640),d=x(d,e,f,g,b[h+13],4,681279174),g=x(g,d,e,f,b[h],11,-358537222),f=x(f,g,d,e,b[h+3],16,-722521979),e=x(e,f,g,d,b[h+6],23,76029189),d=x(d,e,f,g,b[h+9],4,-640364487),g=x(g,d,e,f,b[h+12],11,-421815835),f=x(f,g,d,e,b[h+15],16,530742520),e=x(e,f,g,d,b[h+2],23,-995338651),d=y(d,e,f,g,b[h],6,-198630844),g=y(g,d,e,f,b[h+7],10,1126891415),f=y(f,g,d,e,b[h+14],15,-1416354905),e=y(e,f,g,d,b[h+5],21,-57434055),d=y(d,e,f,g,b[h+12],6,1700485571),g=y(g,d,e,f,b[h+3],10,-1894986606),f=y(f,g,d,e,b[h+10],15,-1051523),e=y(e,f,g,d,b[h+1],21,-2054922799),d=y(d,e,f,g,b[h+8],6,1873313359),g=y(g,d,e,f,b[h+15],10,-30611744),f=y(f,g,d,e,b[h+6],15,-1560198380),e=y(e,f,g,d,b[h+13],21,1309151649),d=y(d,e,f,g,b[h+4],6,-145523070),g=y(g,d,e,f,b[h+11],10,-1120210379),f=y(f,g,d,e,b[h+2],15,718787259),e=y(e,f,g,d,b[h+9],21,-343485551),d=t(d,i),e=t(e,j),f=t(f,k),g=t(g,l)}return[d,e,f,g]}(function a(b){if(0===b.length)return[];for(var c=8*b.length,d=new Uint32Array(s(c)),e=0;e<c;e+=8)d[e>>5]|=(255&b[e/8])<<e%32;return d}(a),8*a.length))},A=r("v3",48,z),B=function(a,b,c){var d=(a=a||{}).random||(a.rng||h)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){c=c||0;for(var e=0;e<16;++e)b[c+e]=d[e];return b}return m(d)};function C(a,b,c,d){switch(a){case 0:return b&c^ ~b&d;case 1:case 3:return b^c^d;case 2:return b&c^b&d^c&d}}function D(a,b){return a<<b|a>>>32-b}var E=function(a){var b=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof a){var d=unescape(encodeURIComponent(a));a=[];for(var e=0;e<d.length;++e)a.push(d.charCodeAt(e))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);for(var f=Math.ceil((a.length/4+2)/16),g=Array(f),h=0;h<f;++h){for(var i=new Uint32Array(16),j=0;j<16;++j)i[j]=a[64*h+4*j]<<24|a[64*h+4*j+1]<<16|a[64*h+4*j+2]<<8|a[64*h+4*j+3];g[h]=i}g[f-1][14]=(a.length-1)*8/4294967296,g[f-1][14]=Math.floor(g[f-1][14]),g[f-1][15]=(a.length-1)*8&4294967295;for(var k=0;k<f;++k){for(var l=new Uint32Array(80),m=0;m<16;++m)l[m]=g[k][m];for(var n=16;n<80;++n)l[n]=D(l[n-3]^l[n-8]^l[n-14]^l[n-16],1);for(var o=c[0],p=c[1],q=c[2],r=c[3],s=c[4],t=0;t<80;++t){var u=Math.floor(t/20),v=D(o,5)+C(u,p,q,r)+s+b[u]+l[t]>>>0;s=r,r=q,q=D(p,30)>>>0,p=o,o=v}c[0]=c[0]+o>>>0,c[1]=c[1]+p>>>0,c[2]=c[2]+q>>>0,c[3]=c[3]+r>>>0,c[4]=c[4]+s>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]},F=r("v5",80,E),G="00000000-0000-0000-0000-000000000000",H=function(a){if(!j(a))throw TypeError("Invalid UUID");return parseInt(a.substr(14,1),16)}},49602:function(a){"use strict";a.exports=function(a){a.prototype[Symbol.iterator]=function*(){for(let a=this.head;a;a=a.next)yield a.value}}},34411:function(a,b,c){"use strict";function d(a){var b=this;if(b instanceof d||(b=new d),b.tail=null,b.head=null,b.length=0,a&&"function"==typeof a.forEach)a.forEach(function(a){b.push(a)});else if(arguments.length>0)for(var c=0,e=arguments.length;c<e;c++)b.push(arguments[c]);return b}function e(a,b,c){var d=b===a.head?new h(c,null,b,a):new h(c,b,b.next,a);return null===d.next&&(a.tail=d),null===d.prev&&(a.head=d),a.length++,d}function f(a,b){a.tail=new h(b,a.tail,null,a),a.head||(a.head=a.tail),a.length++}function g(a,b){a.head=new h(b,null,a.head,a),a.tail||(a.tail=a.head),a.length++}function h(a,b,c,d){if(!(this instanceof h))return new h(a,b,c,d);this.list=d,this.value=a,b?(b.next=this,this.prev=b):this.prev=null,c?(c.prev=this,this.next=c):this.next=null}a.exports=d,d.Node=h,d.create=d,d.prototype.removeNode=function(a){if(a.list!==this)throw Error("removing node which does not belong to this list");var b=a.next,c=a.prev;return b&&(b.prev=c),c&&(c.next=b),a===this.head&&(this.head=b),a===this.tail&&(this.tail=c),a.list.length--,a.next=null,a.prev=null,a.list=null,b},d.prototype.unshiftNode=function(a){if(a!==this.head){a.list&&a.list.removeNode(a);var b=this.head;a.list=this,a.next=b,b&&(b.prev=a),this.head=a,this.tail||(this.tail=a),this.length++}},d.prototype.pushNode=function(a){if(a!==this.tail){a.list&&a.list.removeNode(a);var b=this.tail;a.list=this,a.prev=b,b&&(b.next=a),this.tail=a,this.head||(this.head=a),this.length++}},d.prototype.push=function(){for(var a=0,b=arguments.length;a<b;a++)f(this,arguments[a]);return this.length},d.prototype.unshift=function(){for(var a=0,b=arguments.length;a<b;a++)g(this,arguments[a]);return this.length},d.prototype.pop=function(){if(this.tail){var a=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,a}},d.prototype.shift=function(){if(this.head){var a=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,a}},d.prototype.forEach=function(a,b){b=b||this;for(var c=this.head,d=0;null!==c;d++)a.call(b,c.value,d,this),c=c.next},d.prototype.forEachReverse=function(a,b){b=b||this;for(var c=this.tail,d=this.length-1;null!==c;d--)a.call(b,c.value,d,this),c=c.prev},d.prototype.get=function(a){for(var b=0,c=this.head;null!==c&&b<a;b++)c=c.next;if(b===a&&null!==c)return c.value},d.prototype.getReverse=function(a){for(var b=0,c=this.tail;null!==c&&b<a;b++)c=c.prev;if(b===a&&null!==c)return c.value},d.prototype.map=function(a,b){b=b||this;for(var c=new d,e=this.head;null!==e;)c.push(a.call(b,e.value,this)),e=e.next;return c},d.prototype.mapReverse=function(a,b){b=b||this;for(var c=new d,e=this.tail;null!==e;)c.push(a.call(b,e.value,this)),e=e.prev;return c},d.prototype.reduce=function(a,b){var c,d=this.head;if(arguments.length>1)c=b;else if(this.head)d=this.head.next,c=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var e=0;null!==d;e++)c=a(c,d.value,e),d=d.next;return c},d.prototype.reduceReverse=function(a,b){var c,d=this.tail;if(arguments.length>1)c=b;else if(this.tail)d=this.tail.prev,c=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var e=this.length-1;null!==d;e--)c=a(c,d.value,e),d=d.prev;return c},d.prototype.toArray=function(){for(var a=Array(this.length),b=0,c=this.head;null!==c;b++)a[b]=c.value,c=c.next;return a},d.prototype.toArrayReverse=function(){for(var a=Array(this.length),b=0,c=this.tail;null!==c;b++)a[b]=c.value,c=c.prev;return a},d.prototype.slice=function(a,b){(b=b||this.length)<0&&(b+=this.length),(a=a||0)<0&&(a+=this.length);var c=new d;if(b<a||b<0)return c;a<0&&(a=0),b>this.length&&(b=this.length);for(var e=0,f=this.head;null!==f&&e<a;e++)f=f.next;for(;null!==f&&e<b;e++,f=f.next)c.push(f.value);return c},d.prototype.sliceReverse=function(a,b){(b=b||this.length)<0&&(b+=this.length),(a=a||0)<0&&(a+=this.length);var c=new d;if(b<a||b<0)return c;a<0&&(a=0),b>this.length&&(b=this.length);for(var e=this.length,f=this.tail;null!==f&&e>b;e--)f=f.prev;for(;null!==f&&e>a;e--,f=f.prev)c.push(f.value);return c},d.prototype.splice=function(a,b,...c){a>this.length&&(a=this.length-1),a<0&&(a=this.length+a);for(var d=0,f=this.head;null!==f&&d<a;d++)f=f.next;for(var g=[],d=0;f&&d<b;d++)g.push(f.value),f=this.removeNode(f);null===f&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var d=0;d<c.length;d++)f=e(this,f,c[d]);return g},d.prototype.reverse=function(){for(var a=this.head,b=this.tail,c=a;null!==c;c=c.prev){var d=c.prev;c.prev=c.next,c.next=d}return this.head=b,this.tail=a,this};try{c(49602)(d)}catch(i){}},69396:function(a,b,c){"use strict";function d(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}c.d(b,{Z:function(){return d}})},62136:function(a,b,c){"use strict";c.r(b),c.d(b,{CompactEncrypt:function(){return bA},CompactSign:function(){return bE},EmbeddedJWK:function(){return bN},EncryptJWT:function(){return bJ},FlattenedEncrypt:function(){return bf},FlattenedSign:function(){return bD},GeneralEncrypt:function(){return bh},GeneralSign:function(){return bG},SignJWT:function(){return bI},UnsecuredJWT:function(){return bW},base64url:function(){return e},calculateJwkThumbprint:function(){return bL},calculateJwkThumbprintUri:function(){return bM},compactDecrypt:function(){return a5},compactVerify:function(){return bn},createLocalJWKSet:function(){return bR},createRemoteJWKSet:function(){return bV},decodeJwt:function(){return b$},decodeProtectedHeader:function(){return bZ},errors:function(){return d},exportJWK:function(){return bb},exportPKCS8:function(){return ba},exportSPKI:function(){return a9},flattenedDecrypt:function(){return a4},flattenedVerify:function(){return bm},generalDecrypt:function(){return a6},generalVerify:function(){return bo},generateKeyPair:function(){return b2},generateSecret:function(){return b3},importJWK:function(){return aQ},importPKCS8:function(){return aP},importSPKI:function(){return aN},importX509:function(){return aO},jwtDecrypt:function(){return bz},jwtVerify:function(){return by}});var d={};c.r(d),c.d(d,{JOSEAlgNotAllowed:function(){return y},JOSEError:function(){return v},JOSENotSupported:function(){return z},JWEDecryptionFailed:function(){return A},JWEInvalid:function(){return B},JWKInvalid:function(){return E},JWKSInvalid:function(){return F},JWKSMultipleMatchingKeys:function(){return H},JWKSNoMatchingKey:function(){return G},JWKSTimeout:function(){return I},JWSInvalid:function(){return C},JWSSignatureVerificationFailed:function(){return J},JWTClaimValidationFailed:function(){return w},JWTExpired:function(){return x},JWTInvalid:function(){return D}});var e={};c.r(e),c.d(e,{decode:function(){return bY},encode:function(){return bX}});var f=crypto;let g=a=>a instanceof CryptoKey,h=async(a,b)=>{let c=`SHA-${a.slice(-3)}`;return new Uint8Array(await f.subtle.digest(c,b))};var i=h;let j=new TextEncoder,k=new TextDecoder;function l(...a){let b=a.reduce((a,{length:b})=>a+b,0),c=new Uint8Array(b),d=0;return a.forEach(a=>{c.set(a,d),d+=a.length}),c}function m(a,b,c){if(b<0||b>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967296-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function n(a){let b=new Uint8Array(8);return m(b,Math.floor(a/4294967296),0),m(b,a%4294967296,4),b}function o(a){let b=new Uint8Array(4);return m(b,a),b}function p(a){return l(o(a.length),a)}async function q(a,b,c){let d=Math.ceil((b>>3)/32),e=new Uint8Array(32*d);for(let f=0;f<d;f++){let g=new Uint8Array(4+a.length+c.length);g.set(o(f+1)),g.set(a,4),g.set(c,4+a.length),e.set(await i("sha256",g),32*f)}return e.slice(0,b>>3)}let r=a=>{let b=a;"string"==typeof b&&(b=j.encode(b));let c=[];for(let d=0;d<b.length;d+=32768)c.push(String.fromCharCode.apply(null,b.subarray(d,d+32768)));return btoa(c.join(""))},s=a=>r(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),t=a=>{let b=atob(a),c=new Uint8Array(b.length);for(let d=0;d<b.length;d++)c[d]=b.charCodeAt(d);return c},u=a=>{let b=a;b instanceof Uint8Array&&(b=k.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return t(b)}catch(c){throw TypeError("The input to be decoded is not correctly encoded.")}};class v extends Error{constructor(a){var b;super(a),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(b=Error.captureStackTrace)|| void 0===b||b.call(Error,this,this.constructor)}static get code(){return"ERR_JOSE_GENERIC"}}class w extends v{constructor(a,b="unspecified",c="unspecified"){super(a),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=b,this.reason=c}static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}}class x extends v{constructor(a,b="unspecified",c="unspecified"){super(a),this.code="ERR_JWT_EXPIRED",this.claim=b,this.reason=c}static get code(){return"ERR_JWT_EXPIRED"}}class y extends v{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class z extends v{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class A extends v{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class B extends v{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class C extends v{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class D extends v{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class E extends v{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class F extends v{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class G extends v{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class H extends v{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class I extends v{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class J extends v{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}var K=f.getRandomValues.bind(f);function L(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new z(`Unsupported JWE Algorithm: ${a}`)}}var M=a=>K(new Uint8Array(L(a)>>3));let N=(a,b)=>{if(b.length<<3!==L(a))throw new B("Invalid Initialization Vector length")};var O=N;let P=(a,b)=>{if(a.length<<3!==b)throw new B("Invalid Content Encryption Key length")};var Q=P;let R=(a,b)=>{if(!(a instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(b instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(a.length!==b.length)throw TypeError("Input buffers must have the same length");let c=a.length,d=0,e=-1;for(;++e<c;)d|=a[e]^b[e];return 0===d};var S=R;function T(){return"function"==typeof WebSocketPair}function U(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function V(a,b){return a.name===b}function W(a){return parseInt(a.name.slice(4),10)}function X(a,b){if(b.length&&!b.some(b=>a.usages.includes(b))){let c="CryptoKey does not support this operation, its usages must include ";if(b.length>2){let d=b.pop();c+=`one of ${b.join(", ")}, or ${d}.`}else 2===b.length?c+=`one of ${b[0]} or ${b[1]}.`:c+=`${b[0]}.`;throw TypeError(c)}}function Y(a,b,...c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if(!V(a.algorithm,"AES-GCM"))throw U("AES-GCM");let d=parseInt(b.slice(1,4),10),e=a.algorithm.length;if(e!==d)throw U(d,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!V(a.algorithm,"AES-KW"))throw U("AES-KW");let f=parseInt(b.slice(1,4),10),g=a.algorithm.length;if(g!==f)throw U(f,"algorithm.length");break}case"ECDH":if(!V(a.algorithm,"ECDH"))throw U("ECDH");break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!V(a.algorithm,"PBKDF2"))throw U("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!V(a.algorithm,"RSA-OAEP"))throw U("RSA-OAEP");let h=parseInt(b.slice(9),10)||1,i=W(a.algorithm.hash);if(i!==h)throw U(`SHA-${h}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}X(a,c)}var Z=(a,...b)=>{let c="Key must be ";if(b.length>2){let d=b.pop();c+=`one of type ${b.join(", ")}, or ${d}.`}else 2===b.length?c+=`one of type ${b[0]} or ${b[1]}.`:c+=`of type ${b[0]}.`;return null==a?c+=` Received ${a}`:"function"==typeof a&&a.name?c+=` Received function ${a.name}`:"object"==typeof a&&null!=a&&a.constructor&&a.constructor.name&&(c+=` Received an instance of ${a.constructor.name}`),c},$=a=>g(a);let _=["CryptoKey"];async function aa(a,b,c,d,e,g){if(!(b instanceof Uint8Array))throw TypeError(Z(b,"Uint8Array"));let h=parseInt(a.slice(1,4),10),i=await f.subtle.importKey("raw",b.subarray(h>>3),"AES-CBC",!1,["decrypt"]),j=await f.subtle.importKey("raw",b.subarray(0,h>>3),{hash:`SHA-${h<<1}`,name:"HMAC"},!1,["sign"]),k=l(g,d,c,n(g.length<<3)),m=new Uint8Array((await f.subtle.sign("HMAC",j,k)).slice(0,h>>3)),o;try{o=S(e,m)}catch(p){}if(!o)throw new A;let q;try{q=new Uint8Array(await f.subtle.decrypt({iv:d,name:"AES-CBC"},i,c))}catch(r){}if(!q)throw new A;return q}async function ab(a,b,c,d,e,g){let h;b instanceof Uint8Array?h=await f.subtle.importKey("raw",b,"AES-GCM",!1,["decrypt"]):(Y(b,a,"decrypt"),h=b);try{return new Uint8Array(await f.subtle.decrypt({additionalData:g,iv:d,name:"AES-GCM",tagLength:128},h,l(c,e)))}catch(i){throw new A}}let ac=async(a,b,c,d,e,f)=>{if(!g(b)&&!(b instanceof Uint8Array))throw TypeError(Z(b,..._,"Uint8Array"));switch(O(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return b instanceof Uint8Array&&Q(b,parseInt(a.slice(-3),10)),aa(a,b,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":return b instanceof Uint8Array&&Q(b,parseInt(a.slice(1,4),10)),ab(a,b,c,d,e,f);default:throw new z("Unsupported JWE Content Encryption Algorithm")}};var ad=ac;let ae=async()=>{throw new z('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},af=async()=>{throw new z('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},ag=(...a)=>{let b=a.filter(Boolean);if(0===b.length||1===b.length)return!0;let c;for(let d of b){let e=Object.keys(d);if(!c||0===c.size){c=new Set(e);continue}for(let f of e){if(c.has(f))return!1;c.add(f)}}return!0};var ah=ag;function ai(a){var b;if("object"!=typeof(b=a)||null===b||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let c=a;for(;null!==Object.getPrototypeOf(c);)c=Object.getPrototypeOf(c);return Object.getPrototypeOf(a)===c}var aj=[{hash:"SHA-256",name:"HMAC"},!0,["sign"],];function ak(a,b){if(a.algorithm.length!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function al(a,b,c){if(g(a))return Y(a,b,c),a;if(a instanceof Uint8Array)return f.subtle.importKey("raw",a,"AES-KW",!0,[c]);throw TypeError(Z(a,..._,"Uint8Array"))}let am=async(a,b,c)=>{let d=await al(b,a,"wrapKey");ak(d,a);let e=await f.subtle.importKey("raw",c,...aj);return new Uint8Array(await f.subtle.wrapKey("raw",e,d,"AES-KW"))},an=async(a,b,c)=>{let d=await al(b,a,"unwrapKey");ak(d,a);let e=await f.subtle.unwrapKey("raw",c,d,"AES-KW",...aj);return new Uint8Array(await f.subtle.exportKey("raw",e))};async function ao(a,b,c,d,e=new Uint8Array(0),h=new Uint8Array(0)){if(!g(a))throw TypeError(Z(a,..._));if(Y(a,"ECDH"),!g(b))throw TypeError(Z(b,..._));Y(b,"ECDH","deriveBits");let i=l(p(j.encode(c)),p(e),p(h),o(d)),k=new Uint8Array(await f.subtle.deriveBits({name:"ECDH",public:a},b,Math.ceil(parseInt(b.algorithm.namedCurve.slice(-3),10)/8)<<3));return q(k,d,i)}async function ap(a){if(!g(a))throw TypeError(Z(a,..._));return f.subtle.generateKey(a.algorithm,!0,["deriveBits"])}function aq(a){if(!g(a))throw TypeError(Z(a,..._));return["P-256","P-384","P-521"].includes(a.algorithm.namedCurve)}async function ar(a,b,c,d){var e,h;!function(a){if(!(a instanceof Uint8Array)||a.length<8)throw new B("PBES2 Salt Input must be 8 or more octets")}(a);let i=(e=b,h=a,l(j.encode(e),new Uint8Array([0]),h)),k=parseInt(b.slice(13,16),10),m={hash:`SHA-${b.slice(8,11)}`,iterations:c,name:"PBKDF2",salt:i},n=await function(a,b){if(a instanceof Uint8Array)return f.subtle.importKey("raw",a,"PBKDF2",!1,["deriveBits"]);if(g(a))return Y(a,b,"deriveBits","deriveKey"),a;throw TypeError(Z(a,..._,"Uint8Array"))}(d,b);if(n.usages.includes("deriveBits"))return new Uint8Array(await f.subtle.deriveBits(m,n,k));if(n.usages.includes("deriveKey"))return f.subtle.deriveKey(m,n,{length:k,name:"AES-KW"},!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let as=async(a,b,c,d=2048,e=K(new Uint8Array(16)))=>{let f=await ar(e,a,d,b),g=await am(a.slice(-6),f,c);return{encryptedKey:g,p2c:d,p2s:s(e)}},at=async(a,b,c,d,e)=>{let f=await ar(e,a,d,b);return an(a.slice(-6),f,c)};function au(a){switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new z(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}var av=(a,b)=>{if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}};let aw=async(a,b,c)=>{if(!g(b))throw TypeError(Z(b,..._));if(Y(b,a,"encrypt","wrapKey"),av(a,b),b.usages.includes("encrypt"))return new Uint8Array(await f.subtle.encrypt(au(a),b,c));if(b.usages.includes("wrapKey")){let d=await f.subtle.importKey("raw",c,...aj);return new Uint8Array(await f.subtle.wrapKey("raw",d,b,au(a)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},ax=async(a,b,c)=>{if(!g(b))throw TypeError(Z(b,..._));if(Y(b,a,"decrypt","unwrapKey"),av(a,b),b.usages.includes("decrypt"))return new Uint8Array(await f.subtle.decrypt(au(a),b,c));if(b.usages.includes("unwrapKey")){let d=await f.subtle.unwrapKey("raw",c,b,au(a),...aj);return new Uint8Array(await f.subtle.exportKey("raw",d))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function ay(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new z(`Unsupported JWE Algorithm: ${a}`)}}var az=a=>K(new Uint8Array(ay(a)>>3)),aA=(a,b)=>{let c=(a.match(/.{1,64}/g)||[]).join("\n");return`-----BEGIN ${b}-----
${c}
-----END ${b}-----`};let aB=async(a,b,c)=>{if(!g(c))throw TypeError(Z(c,..._));if(!c.extractable)throw TypeError("CryptoKey is not extractable");if(c.type!==a)throw TypeError(`key is not a ${a} key`);return aA(r(new Uint8Array(await f.subtle.exportKey(b,c))),`${a.toUpperCase()} KEY`)},aC=a=>aB("public","spki",a),aD=a=>aB("private","pkcs8",a),aE=(a,b,c=0)=>{0===c&&(b.unshift(b.length),b.unshift(6));let d=a.indexOf(b[0],c);if(-1===d)return!1;let e=a.subarray(d,d+b.length);return e.length===b.length&&(e.every((a,c)=>a===b[c])||aE(a,b,d+1))},aF=a=>{switch(!0){case aE(a,[42,134,72,206,61,3,1,7]):return"P-256";case aE(a,[43,129,4,0,34]):return"P-384";case aE(a,[43,129,4,0,35]):return"P-521";case T()&&aE(a,[43,101,112]):return"Ed25519";default:throw new z("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},aG=async(a,b,c,d,e)=>{var g;let h,i,j=new Uint8Array(atob(c.replace(a,"")).split("").map(a=>a.charCodeAt(0))),k="spki"===b;switch(d){case"PS256":case"PS384":case"PS512":h={name:"RSA-PSS",hash:`SHA-${d.slice(-3)}`},i=k?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":h={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${d.slice(-3)}`},i=k?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":h={name:"RSA-OAEP",hash:`SHA-${parseInt(d.slice(-3),10)||1}`},i=k?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":h={name:"ECDSA",namedCurve:"P-256"},i=k?["verify"]:["sign"];break;case"ES384":h={name:"ECDSA",namedCurve:"P-384"},i=k?["verify"]:["sign"];break;case"ES512":h={name:"ECDSA",namedCurve:"P-521"},i=k?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":h={name:"ECDH",namedCurve:aF(j)},i=k?[]:["deriveBits"];break;case T()&&"EdDSA":let l=aF(j).toUpperCase();h={name:`NODE-${l}`,namedCurve:`NODE-${l}`},i=k?["verify"]:["sign"];break;default:throw new z('Invalid or unsupported "alg" (Algorithm) value')}return f.subtle.importKey(b,j,h,null!==(g=null==e?void 0:e.extractable)&& void 0!==g&&g,i)},aH=(a,b,c)=>aG(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",a,b,c),aI=(a,b,c)=>aG(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",a,b,c),aJ=async a=>{var b,c;let{algorithm:d,keyUsages:e}=function(a){let b,c;switch(a.kty){case"oct":switch(a.alg){case"HS256":case"HS384":case"HS512":b={name:"HMAC",hash:`SHA-${a.alg.slice(-3)}`},c=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new z(`${a.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":b={name:"AES-GCM"},c=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":b={name:"AES-KW"},c=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":b={name:"PBKDF2"},c=["deriveBits"];break;default:throw new z('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new z('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new z('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case T()&&"OKP":if("EdDSA"!==a.alg)throw new z('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');if("Ed25519"===a.crv)b={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},c=a.d?["sign"]:["verify"];else throw new z('Invalid or unsupported JWK "crv" (Subtype of Key Pair) Parameter value');break;default:throw new z('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}(a),g=[d,null!==(b=a.ext)&& void 0!==b&&b,null!==(c=a.key_ops)&& void 0!==c?c:e,];if("PBKDF2"===d.name)return f.subtle.importKey("raw",u(a.k),...g);let h={...a};return delete h.alg,f.subtle.importKey("jwk",h,...g)};var aK=aJ;function aL(a){let b=[],c=0;for(;c<a.length;){let d=aM(a.subarray(c));b.push(d),c+=d.byteLength}return b}function aM(a){let b=0,c=31&a[0];if(b++,31===c){for(c=0;a[b]>=128;)c=128*c+a[b]-128,b++;c=128*c+a[b]-128,b++}let d=0;if(a[b]<128)d=a[b],b++;else{let e=127&a[b];b++,d=0;for(let f=0;f<e;f++)d=256*d+a[b],b++}if(128===d){for(d=0;0!==a[b+d]||0!==a[b+d+1];)d++;let g=b+d+2;return{byteLength:g,contents:a.subarray(b,b+d),raw:a.subarray(0,g)}}let h=b+d;return{byteLength:h,contents:a.subarray(b,h),raw:a.subarray(0,h)}}async function aN(a,b,c){if("string"!=typeof a||0!==a.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return aI(a,b,c)}async function aO(a,b,c){if("string"!=typeof a||0!==a.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');let d=function(a){let b=a.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),c=t(b);return aA(function(a){let b=aL(aL(aM(a).contents)[0].contents);return r(b[160===b[0].raw[0]?6:5].raw)}(c),"PUBLIC KEY")}(a);return aI(d,b,c)}async function aP(a,b,c){if("string"!=typeof a||0!==a.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PCKS8 formatted string');return aH(a,b,c)}async function aQ(a,b,c){if(!ai(a))throw TypeError("JWK must be an object");if(b||(b=a.alg),"string"!=typeof b||!b)throw TypeError('"alg" argument is required when "jwk.alg" is not present');switch(a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=c||(c=!0!==a.ext),c)return aK({...a,alg:b,ext:!1});return u(a.k);case"RSA":if(void 0!==a.oth)throw new z('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return aK({...a,alg:b});default:throw new z('Unsupported "kty" (Key Type) Parameter value')}}let aR=a=>{if(!(a instanceof Uint8Array)){if(!$(a))throw TypeError(Z(a,..._,"Uint8Array"));if("secret"!==a.type)throw TypeError(`${_.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},aS=(a,b)=>{if(!$(a))throw TypeError(Z(a,..._));if("secret"===a.type)throw TypeError(`${_.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===b&&"public"===a.type)throw TypeError(`${_.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===b&&"public"===a.type)throw TypeError(`${_.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(a.algorithm&&"verify"===b&&"private"===a.type)throw TypeError(`${_.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(a.algorithm&&"encrypt"===b&&"private"===a.type)throw TypeError(`${_.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},aT=(a,b,c)=>{let d=a.startsWith("HS")||"dir"===a||a.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(a);d?aR(b):aS(b,c)};var aU=aT;async function aV(a,b,c,d,e){if(!(c instanceof Uint8Array))throw TypeError(Z(c,"Uint8Array"));let g=parseInt(a.slice(1,4),10),h=await f.subtle.importKey("raw",c.subarray(g>>3),"AES-CBC",!1,["encrypt"]),i=await f.subtle.importKey("raw",c.subarray(0,g>>3),{hash:`SHA-${g<<1}`,name:"HMAC"},!1,["sign"]),j=new Uint8Array(await f.subtle.encrypt({iv:d,name:"AES-CBC"},h,b)),k=l(e,d,j,n(e.length<<3)),m=new Uint8Array((await f.subtle.sign("HMAC",i,k)).slice(0,g>>3));return{ciphertext:j,tag:m}}async function aW(a,b,c,d,e){let g;c instanceof Uint8Array?g=await f.subtle.importKey("raw",c,"AES-GCM",!1,["encrypt"]):(Y(c,a,"encrypt"),g=c);let h=new Uint8Array(await f.subtle.encrypt({additionalData:e,iv:d,name:"AES-GCM",tagLength:128},g,b)),i=h.slice(-16),j=h.slice(0,-16);return{ciphertext:j,tag:i}}let aX=async(a,b,c,d,e)=>{if(!g(c)&&!(c instanceof Uint8Array))throw TypeError(Z(c,..._,"Uint8Array"));switch(O(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return c instanceof Uint8Array&&Q(c,parseInt(a.slice(-3),10)),aV(a,b,c,d,e);case"A128GCM":case"A192GCM":case"A256GCM":return c instanceof Uint8Array&&Q(c,parseInt(a.slice(1,4),10)),aW(a,b,c,d,e);default:throw new z("Unsupported JWE Content Encryption Algorithm")}};var aY=aX;async function aZ(a,b,c,d){let e=a.slice(0,7);d||(d=M(e));let{ciphertext:f,tag:g}=await aY(e,c,b,d,new Uint8Array(0));return{encryptedKey:f,iv:s(d),tag:s(g)}}async function a$(a,b,c,d,e){let f=a.slice(0,7);return ad(f,b,c,d,e,new Uint8Array(0))}async function a_(a,b,c,d,e){switch(aU(a,b,"decrypt"),a){case"dir":if(void 0!==c)throw new B("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new B("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ai(d.epk))throw new B('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!aq(b))throw new z("ECDH with the provided key is not allowed or not supported by your javascript runtime");let f=await aQ(d.epk,a),g,h;if(void 0!==d.apu){if("string"!=typeof d.apu)throw new B('JOSE Header "apu" (Agreement PartyUInfo) invalid');g=u(d.apu)}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new B('JOSE Header "apv" (Agreement PartyVInfo) invalid');h=u(d.apv)}let i=await ao(f,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?ay(d.enc):parseInt(a.slice(-5,-2),10),g,h);if("ECDH-ES"===a)return i;if(void 0===c)throw new B("JWE Encrypted Key missing");return an(a.slice(-6),i,c)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new B("JWE Encrypted Key missing");return ax(a,b,c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(void 0===c)throw new B("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new B('JOSE Header "p2c" (PBES2 Count) missing or invalid');let j=(null==e?void 0:e.maxPBES2Count)||1e4;if(d.p2c>j)throw new B('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new B('JOSE Header "p2s" (PBES2 Salt) missing or invalid');return at(a,b,c,d.p2c,u(d.p2s))}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new B("JWE Encrypted Key missing");return an(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(void 0===c)throw new B("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new B('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new B('JOSE Header "tag" (Authentication Tag) missing or invalid');let k=u(d.iv),l=u(d.tag);return a$(a,b,c,k,l)}default:throw new z('Invalid or unsupported "alg" (JWE Algorithm) header value')}}var a0=a_,a1=function(a,b,c,d,e){if(void 0!==e.crit&& void 0===d.crit)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d|| void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let f;for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new z(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&& void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)};let a2=(a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)};var a3=a2;async function a4(a,b,c){var d;if(!ai(a))throw new B("Flattened JWE must be an object");if(void 0===a.protected&& void 0===a.header&& void 0===a.unprotected)throw new B("JOSE Header missing");if("string"!=typeof a.iv)throw new B("JWE Initialization Vector missing or incorrect type");if("string"!=typeof a.ciphertext)throw new B("JWE Ciphertext missing or incorrect type");if("string"!=typeof a.tag)throw new B("JWE Authentication Tag missing or incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new B("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new B("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new B("JWE AAD incorrect type");if(void 0!==a.header&&!ai(a.header))throw new B("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!ai(a.unprotected))throw new B("JWE Per-Recipient Unprotected Header incorrect type");let e;if(a.protected)try{let f=u(a.protected);e=JSON.parse(k.decode(f))}catch(g){throw new B("JWE Protected Header is invalid")}if(!ah(e,a.header,a.unprotected))throw new B("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let h={...e,...a.header,...a.unprotected};if(a1(B,new Map,null==c?void 0:c.crit,e,h),void 0!==h.zip){if(!e||!e.zip)throw new B('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==h.zip)throw new z('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:i,enc:m}=h;if("string"!=typeof i||!i)throw new B("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new B("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&a3("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&a3("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(i))throw new y('"alg" (Algorithm) Header Parameter not allowed');if(o&&!o.has(m))throw new y('"enc" (Encryption Algorithm) Header Parameter not allowed');let p;void 0!==a.encrypted_key&&(p=u(a.encrypted_key));let q=!1;"function"==typeof b&&(b=await b(e,a),q=!0);let r;try{r=await a0(i,b,p,h,c)}catch(s){if(s instanceof TypeError||s instanceof B||s instanceof z)throw s;r=az(m)}let t=u(a.iv),v=u(a.tag),w=j.encode(null!==(d=a.protected)&& void 0!==d?d:""),x;x=void 0!==a.aad?l(w,j.encode("."),j.encode(a.aad)):w;let A=await ad(m,r,u(a.ciphertext),t,v,x);"DEF"===h.zip&&(A=await ((null==c?void 0:c.inflateRaw)||ae)(A));let C={plaintext:A};return(void 0!==a.protected&&(C.protectedHeader=e),void 0!==a.aad&&(C.additionalAuthenticatedData=u(a.aad)),void 0!==a.unprotected&&(C.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(C.unprotectedHeader=a.header),q)?{...C,key:b}:C}async function a5(a,b,c){if(a instanceof Uint8Array&&(a=k.decode(a)),"string"!=typeof a)throw new B("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new B("Invalid Compact JWE");let j=await a4({ciphertext:g,iv:f||void 0,protected:d||void 0,tag:h||void 0,encrypted_key:e||void 0},b,c),l={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...l,key:j.key}:l}async function a6(a,b,c){if(!ai(a))throw new B("General JWE must be an object");if(!Array.isArray(a.recipients)||!a.recipients.every(ai))throw new B("JWE Recipients missing or incorrect type");if(!a.recipients.length)throw new B("JWE Recipients has no members");for(let d of a.recipients)try{return await a4({aad:a.aad,ciphertext:a.ciphertext,encrypted_key:d.encrypted_key,header:d.header,iv:a.iv,protected:a.protected,tag:a.tag,unprotected:a.unprotected},b,c)}catch(e){}throw new A}let a7=async a=>{if(a instanceof Uint8Array)return{kty:"oct",k:s(a)};if(!g(a))throw TypeError(Z(a,..._,"Uint8Array"));if(!a.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:b,key_ops:c,alg:d,use:e,...h}=await f.subtle.exportKey("jwk",a);return h};var a8=a7;async function a9(a){return aC(a)}async function ba(a){return aD(a)}async function bb(a){return a8(a)}async function bc(a,b,c,d,e={}){let f,g,h;switch(aU(a,c,"encrypt"),a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!aq(c))throw new z("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:i,apv:j}=e,{epk:k}=e;k||(k=(await ap(c)).privateKey);let{x:l,y:m,crv:n,kty:o}=await bb(k),p=await ao(c,k,"ECDH-ES"===a?b:a,"ECDH-ES"===a?ay(b):parseInt(a.slice(-5,-2),10),i,j);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),i&&(g.apu=s(i)),j&&(g.apv=s(j)),"ECDH-ES"===a){h=p;break}h=d||az(b);let q=a.slice(-6);f=await am(q,p,h);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":f=await aw(a,c,h=d||az(b));break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||az(b);let{p2c:r,p2s:t}=e;({encryptedKey:f,...g}=await as(a,c,h,r,t));break}case"A128KW":case"A192KW":case"A256KW":f=await am(a,c,h=d||az(b));break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||az(b);let{iv:u}=e;({encryptedKey:f,...g}=await aZ(a,c,h,u));break}default:throw new z('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}}var bd=bc;let be=Symbol();class bf{constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=a}setKeyManagementParameters(a){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=a,this}setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setSharedUnprotectedHeader(a){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=a,this}setUnprotectedHeader(a){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=a,this}setAdditionalAuthenticatedData(a){return this._aad=a,this}setContentEncryptionKey(a){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=a,this}setInitializationVector(a){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=a,this}async encrypt(a,b){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new B("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!ah(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new B("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let c={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(a1(B,new Map,null==b?void 0:b.crit,this._protectedHeader,c),void 0!==c.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new B('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==c.zip)throw new z('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:d,enc:e}=c;if("string"!=typeof d||!d)throw new B('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof e||!e)throw new B('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let f;if("dir"===d){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===d&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");let g;{let h;({cek:g,encryptedKey:f,parameters:h}=await bd(d,e,a,this._cek,this._keyManagementParameters)),h&&(b&&be in b?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...h}:this.setUnprotectedHeader(h):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...h}:this.setProtectedHeader(h))}this._iv||(this._iv=M(e));let i,m,n;m=this._protectedHeader?j.encode(s(JSON.stringify(this._protectedHeader))):j.encode(""),this._aad?(n=s(this._aad),i=l(m,j.encode("."),j.encode(n))):i=m;let o,p;if("DEF"===c.zip){let q=await ((null==b?void 0:b.deflateRaw)||af)(this._plaintext);({ciphertext:o,tag:p}=await aY(e,q,g,this._iv,i))}else({ciphertext:o,tag:p}=await aY(e,this._plaintext,g,this._iv,i));let r={ciphertext:s(o),iv:s(this._iv),tag:s(p)};return f&&(r.encrypted_key=s(f)),n&&(r.aad=n),this._protectedHeader&&(r.protected=k.decode(m)),this._sharedUnprotectedHeader&&(r.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(r.header=this._unprotectedHeader),r}}class bg{constructor(a,b,c){this.parent=a,this.key=b,this.options=c}setUnprotectedHeader(a){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=a,this}addRecipient(...a){return this.parent.addRecipient(...a)}encrypt(...a){return this.parent.encrypt(...a)}done(){return this.parent}}class bh{constructor(a){this._recipients=[],this._plaintext=a}addRecipient(a,b){let c=new bg(this,a,{crit:null==b?void 0:b.crit});return this._recipients.push(c),c}setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setSharedUnprotectedHeader(a){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=a,this}setAdditionalAuthenticatedData(a){return this._aad=a,this}async encrypt(a){var b,c,d;if(!this._recipients.length)throw new B("at least one recipient must be added");if(a={deflateRaw:null==a?void 0:a.deflateRaw},1===this._recipients.length){let[e]=this._recipients,f=await new bf(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(e.unprotectedHeader).encrypt(e.key,{...e.options,...a}),g={ciphertext:f.ciphertext,iv:f.iv,recipients:[{}],tag:f.tag};return f.aad&&(g.aad=f.aad),f.protected&&(g.protected=f.protected),f.unprotected&&(g.unprotected=f.unprotected),f.encrypted_key&&(g.recipients[0].encrypted_key=f.encrypted_key),f.header&&(g.recipients[0].header=f.header),g}let h;for(let i=0;i<this._recipients.length;i++){let j=this._recipients[i];if(!ah(this._protectedHeader,this._unprotectedHeader,j.unprotectedHeader))throw new B("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let k={...this._protectedHeader,...this._unprotectedHeader,...j.unprotectedHeader},{alg:l}=k;if("string"!=typeof l||!l)throw new B('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===l||"ECDH-ES"===l)throw new B('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof k.enc||!k.enc)throw new B('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(h){if(h!==k.enc)throw new B('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else h=k.enc;if(a1(B,new Map,j.options.crit,this._protectedHeader,k),void 0!==k.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new B('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let m=az(h),n={ciphertext:"",iv:"",recipients:[],tag:""};for(let o=0;o<this._recipients.length;o++){let p=this._recipients[o],q={};n.recipients.push(q);let r={...this._protectedHeader,...this._unprotectedHeader,...p.unprotectedHeader},t=r.alg.startsWith("PBES2")?2048+o:void 0;if(0===o){let u=await new bf(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(m).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(p.unprotectedHeader).setKeyManagementParameters({p2c:t}).encrypt(p.key,{...p.options,...a,[be]:!0});n.ciphertext=u.ciphertext,n.iv=u.iv,n.tag=u.tag,u.aad&&(n.aad=u.aad),u.protected&&(n.protected=u.protected),u.unprotected&&(n.unprotected=u.unprotected),q.encrypted_key=u.encrypted_key,u.header&&(q.header=u.header);continue}let{encryptedKey:v,parameters:w}=await bd((null===(b=p.unprotectedHeader)|| void 0===b?void 0:b.alg)||(null===(c=this._protectedHeader)|| void 0===c?void 0:c.alg)||(null===(d=this._unprotectedHeader)|| void 0===d?void 0:d.alg),h,p.key,m,{p2c:t});q.encrypted_key=s(v),(p.unprotectedHeader||w)&&(q.header={...p.unprotectedHeader,...w})}return n}}function bi(a,b){let c=`SHA-${a.slice(-3)}`;switch(a){case"HS256":case"HS384":case"HS512":return{hash:c,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:c,name:"RSA-PSS",saltLength:a.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:c,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:c,name:"ECDSA",namedCurve:b.namedCurve};case T()&&"EdDSA":let{namedCurve:d}=b;return{name:d,namedCurve:d};default:throw new z(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}function bj(a,b,c){if(g(b))return!function(a,b,...c){switch(b){case"HS256":case"HS384":case"HS512":{if(!V(a.algorithm,"HMAC"))throw U("HMAC");let d=parseInt(b.slice(2),10),e=W(a.algorithm.hash);if(e!==d)throw U(`SHA-${d}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!V(a.algorithm,"RSASSA-PKCS1-v1_5"))throw U("RSASSA-PKCS1-v1_5");let f=parseInt(b.slice(2),10),g=W(a.algorithm.hash);if(g!==f)throw U(`SHA-${f}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!V(a.algorithm,"RSA-PSS"))throw U("RSA-PSS");let h=parseInt(b.slice(2),10),i=W(a.algorithm.hash);if(i!==h)throw U(`SHA-${h}`,"algorithm.hash");break}case T()&&"EdDSA":if(!V(a.algorithm,"NODE-ED25519"))throw U("NODE-ED25519");break;case"ES256":case"ES384":case"ES512":{if(!V(a.algorithm,"ECDSA"))throw U("ECDSA");let j=function(a){switch(a){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(b),k=a.algorithm.namedCurve;if(k!==j)throw U(j,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}X(a,c)}(b,a,c),b;if(b instanceof Uint8Array){if(!a.startsWith("HS"))throw TypeError(Z(b,..._));return f.subtle.importKey("raw",b,{hash:`SHA-${a.slice(-3)}`,name:"HMAC"},!1,[c])}throw TypeError(Z(b,..._,"Uint8Array"))}let bk=async(a,b,c,d)=>{let e=await bj(a,b,"verify");av(a,e);let g=bi(a,e.algorithm);try{return await f.subtle.verify(g,e,c,d)}catch(h){return!1}};var bl=bk;async function bm(a,b,c){var d;if(!ai(a))throw new C("Flattened JWS must be an object");if(void 0===a.protected&& void 0===a.header)throw new C('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==a.protected&&"string"!=typeof a.protected)throw new C("JWS Protected Header incorrect type");if(void 0===a.payload)throw new C("JWS Payload missing");if("string"!=typeof a.signature)throw new C("JWS Signature missing or incorrect type");if(void 0!==a.header&&!ai(a.header))throw new C("JWS Unprotected Header incorrect type");let e={};if(a.protected)try{let f=u(a.protected);e=JSON.parse(k.decode(f))}catch(g){throw new C("JWS Protected Header is invalid")}if(!ah(e,a.header))throw new C("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let h={...e,...a.header},i=a1(C,new Map([["b64",!0]]),null==c?void 0:c.crit,e,h),m=!0;if(i.has("b64")&&"boolean"!=typeof(m=e.b64))throw new C('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:n}=h;if("string"!=typeof n||!n)throw new C('JWS "alg" (Algorithm) Header Parameter missing or invalid');let o=c&&a3("algorithms",c.algorithms);if(o&&!o.has(n))throw new y('"alg" (Algorithm) Header Parameter not allowed');if(m){if("string"!=typeof a.payload)throw new C("JWS Payload must be a string")}else if("string"!=typeof a.payload&&!(a.payload instanceof Uint8Array))throw new C("JWS Payload must be a string or an Uint8Array instance");let p=!1;"function"==typeof b&&(b=await b(e,a),p=!0),aU(n,b,"verify");let q=l(j.encode(null!==(d=a.protected)&& void 0!==d?d:""),j.encode("."),"string"==typeof a.payload?j.encode(a.payload):a.payload),r=u(a.signature),s=await bl(n,b,r,q);if(!s)throw new J;let t;t=m?u(a.payload):"string"==typeof a.payload?j.encode(a.payload):a.payload;let v={payload:t};return(void 0!==a.protected&&(v.protectedHeader=e),void 0!==a.header&&(v.unprotectedHeader=a.header),p)?{...v,key:b}:v}async function bn(a,b,c){if(a instanceof Uint8Array&&(a=k.decode(a)),"string"!=typeof a)throw new C("Compact JWS must be a string or Uint8Array");let{0:d,1:e,2:f,length:g}=a.split(".");if(3!==g)throw new C("Invalid Compact JWS");let h=await bm({payload:e,protected:d,signature:f},b,c),i={payload:h.payload,protectedHeader:h.protectedHeader};return"function"==typeof b?{...i,key:h.key}:i}async function bo(a,b,c){if(!ai(a))throw new C("General JWS must be an object");if(!Array.isArray(a.signatures)||!a.signatures.every(ai))throw new C("JWS Signatures missing or incorrect type");for(let d of a.signatures)try{return await bm({header:d.header,payload:a.payload,protected:d.protected,signature:d.signature},b,c)}catch(e){}throw new J}var bp=a=>Math.floor(a.getTime()/1e3);let bq=86400,br=7*bq,bs=365.25*bq,bt=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;var bu=a=>{let b=bt.exec(a);if(!b)throw TypeError("Invalid time period format");let c=parseFloat(b[1]),d=b[2].toLowerCase();switch(d){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(c);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*c);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*c);case"day":case"days":case"d":return Math.round(c*bq);case"week":case"weeks":case"w":return Math.round(c*br);default:return Math.round(c*bs)}};let bv=a=>a.toLowerCase().replace(/^application\//,""),bw=(a,b)=>"string"==typeof a?b.includes(a):!!Array.isArray(a)&&b.some(Set.prototype.has.bind(new Set(a)));var bx=(a,b,c={})=>{let{typ:d}=c;if(d&&("string"!=typeof a.typ||bv(a.typ)!==bv(d)))throw new w('unexpected "typ" JWT header value',"typ","check_failed");let e;try{e=JSON.parse(k.decode(b))}catch(f){}if(!ai(e))throw new D("JWT Claims Set must be a top-level JSON object");let{issuer:g}=c;if(g&&!(Array.isArray(g)?g:[g]).includes(e.iss))throw new w('unexpected "iss" claim value',"iss","check_failed");let{subject:h}=c;if(h&&e.sub!==h)throw new w('unexpected "sub" claim value',"sub","check_failed");let{audience:i}=c;if(i&&!bw(e.aud,"string"==typeof i?[i]:i))throw new w('unexpected "aud" claim value',"aud","check_failed");let j;switch(typeof c.clockTolerance){case"string":j=bu(c.clockTolerance);break;case"number":j=c.clockTolerance;break;case"undefined":j=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:l}=c,m=bp(l||new Date);if((void 0!==e.iat||c.maxTokenAge)&&"number"!=typeof e.iat)throw new w('"iat" claim must be a number',"iat","invalid");if(void 0!==e.nbf){if("number"!=typeof e.nbf)throw new w('"nbf" claim must be a number',"nbf","invalid");if(e.nbf>m+j)throw new w('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==e.exp){if("number"!=typeof e.exp)throw new w('"exp" claim must be a number',"exp","invalid");if(e.exp<=m-j)throw new x('"exp" claim timestamp check failed',"exp","check_failed")}if(c.maxTokenAge){let n=m-e.iat,o="number"==typeof c.maxTokenAge?c.maxTokenAge:bu(c.maxTokenAge);if(n-j>o)throw new x('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(n<0-j)throw new w('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return e};async function by(a,b,c){var d;let e=await bn(a,b,c);if((null===(d=e.protectedHeader.crit)|| void 0===d?void 0:d.includes("b64"))&& !1===e.protectedHeader.b64)throw new D("JWTs MUST NOT use unencoded payload");let f=bx(e.protectedHeader,e.payload,c),g={payload:f,protectedHeader:e.protectedHeader};return"function"==typeof b?{...g,key:e.key}:g}async function bz(a,b,c){let d=await a5(a,b,c),e=bx(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new w('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new w('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new w('replicated "aud" claim header parameter mismatch',"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}class bA{constructor(a){this._flattened=new bf(a)}setContentEncryptionKey(a){return this._flattened.setContentEncryptionKey(a),this}setInitializationVector(a){return this._flattened.setInitializationVector(a),this}setProtectedHeader(a){return this._flattened.setProtectedHeader(a),this}setKeyManagementParameters(a){return this._flattened.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this._flattened.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}let bB=async(a,b,c)=>{let d=await bj(a,b,"sign");av(a,d);let e=await f.subtle.sign(bi(a,d.algorithm),d,c);return new Uint8Array(e)};var bC=bB;class bD{constructor(a){if(!(a instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=a}setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setUnprotectedHeader(a){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=a,this}async sign(a,b){if(!this._protectedHeader&&!this._unprotectedHeader)throw new C("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!ah(this._protectedHeader,this._unprotectedHeader))throw new C("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let c={...this._protectedHeader,...this._unprotectedHeader},d=a1(C,new Map([["b64",!0]]),null==b?void 0:b.crit,this._protectedHeader,c),e=!0;if(d.has("b64")&&"boolean"!=typeof(e=this._protectedHeader.b64))throw new C('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:f}=c;if("string"!=typeof f||!f)throw new C('JWS "alg" (Algorithm) Header Parameter missing or invalid');aU(f,a,"sign");let g=this._payload;e&&(g=j.encode(s(g)));let h;h=this._protectedHeader?j.encode(s(JSON.stringify(this._protectedHeader))):j.encode("");let i=l(h,j.encode("."),g),m=await bC(f,a,i),n={signature:s(m),payload:""};return e&&(n.payload=k.decode(g)),this._unprotectedHeader&&(n.header=this._unprotectedHeader),this._protectedHeader&&(n.protected=k.decode(h)),n}}class bE{constructor(a){this._flattened=new bD(a)}setProtectedHeader(a){return this._flattened.setProtectedHeader(a),this}async sign(a,b){let c=await this._flattened.sign(a,b);if(void 0===c.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${c.protected}.${c.payload}.${c.signature}`}}class bF{constructor(a,b,c){this.parent=a,this.key=b,this.options=c}setProtectedHeader(a){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=a,this}setUnprotectedHeader(a){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=a,this}addSignature(...a){return this.parent.addSignature(...a)}sign(...a){return this.parent.sign(...a)}done(){return this.parent}}class bG{constructor(a){this._signatures=[],this._payload=a}addSignature(a,b){let c=new bF(this,a,b);return this._signatures.push(c),c}async sign(){if(!this._signatures.length)throw new C("at least one signature must be added");let a={signatures:[],payload:""};for(let b=0;b<this._signatures.length;b++){let c=this._signatures[b],d=new bD(this._payload);d.setProtectedHeader(c.protectedHeader),d.setUnprotectedHeader(c.unprotectedHeader);let{payload:e,...f}=await d.sign(c.key,c.options);if(0===b)a.payload=e;else if(a.payload!==e)throw new C("inconsistent use of JWS Unencoded Payload Option (RFC7797)");a.signatures.push(f)}return a}}class bH{constructor(a){if(!ai(a))throw TypeError("JWT Claims Set MUST be an object");this._payload=a}setIssuer(a){return this._payload={...this._payload,iss:a},this}setSubject(a){return this._payload={...this._payload,sub:a},this}setAudience(a){return this._payload={...this._payload,aud:a},this}setJti(a){return this._payload={...this._payload,jti:a},this}setNotBefore(a){return"number"==typeof a?this._payload={...this._payload,nbf:a}:this._payload={...this._payload,nbf:bp(new Date)+bu(a)},this}setExpirationTime(a){return"number"==typeof a?this._payload={...this._payload,exp:a}:this._payload={...this._payload,exp:bp(new Date)+bu(a)},this}setIssuedAt(a){return void 0===a?this._payload={...this._payload,iat:bp(new Date)}:this._payload={...this._payload,iat:a},this}}class bI extends bH{setProtectedHeader(a){return this._protectedHeader=a,this}async sign(a,b){var c;let d=new bE(j.encode(JSON.stringify(this._payload)));if(d.setProtectedHeader(this._protectedHeader),Array.isArray(null===(c=this._protectedHeader)|| void 0===c?void 0:c.crit)&&this._protectedHeader.crit.includes("b64")&& !1===this._protectedHeader.b64)throw new D("JWTs MUST NOT use unencoded payload");return d.sign(a,b)}}class bJ extends bH{setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setKeyManagementParameters(a){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=a,this}setContentEncryptionKey(a){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=a,this}setInitializationVector(a){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=a,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(a,b){let c=new bA(j.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),c.setProtectedHeader(this._protectedHeader),this._iv&&c.setInitializationVector(this._iv),this._cek&&c.setContentEncryptionKey(this._cek),this._keyManagementParameters&&c.setKeyManagementParameters(this._keyManagementParameters),c.encrypt(a,b)}}let bK=(a,b)=>{if("string"!=typeof a||!a)throw new E(`${b} missing or invalid`)};async function bL(a,b){if(!ai(a))throw TypeError("JWK must be an object");if(null!=b||(b="sha256"),"sha256"!==b&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let c;switch(a.kty){case"EC":bK(a.crv,'"crv" (Curve) Parameter'),bK(a.x,'"x" (X Coordinate) Parameter'),bK(a.y,'"y" (Y Coordinate) Parameter'),c={crv:a.crv,kty:a.kty,x:a.x,y:a.y};break;case"OKP":bK(a.crv,'"crv" (Subtype of Key Pair) Parameter'),bK(a.x,'"x" (Public Key) Parameter'),c={crv:a.crv,kty:a.kty,x:a.x};break;case"RSA":bK(a.e,'"e" (Exponent) Parameter'),bK(a.n,'"n" (Modulus) Parameter'),c={e:a.e,kty:a.kty,n:a.n};break;case"oct":bK(a.k,'"k" (Key Value) Parameter'),c={k:a.k,kty:a.kty};break;default:throw new z('"kty" (Key Type) Parameter missing or unsupported')}let d=j.encode(JSON.stringify(c));return s(await i(b,d))}async function bM(a,b){null!=b||(b="sha256");let c=await bL(a,b);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${b.slice(-3)}:${c}`}async function bN(a,b){let c={...a,...b.header};if(!ai(c.jwk))throw new C('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let d=await aQ({...c.jwk,ext:!0},c.alg,!0);if(d instanceof Uint8Array||"public"!==d.type)throw new C('"jwk" (JSON Web Key) Header Parameter must be a public key');return d}function bO(a){return a&&"object"==typeof a&&Array.isArray(a.keys)&&a.keys.every(bP)}function bP(a){return ai(a)}class bQ{constructor(a){var b;if(this._cached=new WeakMap,!bO(a))throw new F("JSON Web Key Set malformed");this._jwks=(b=a,"function"==typeof structuredClone?structuredClone(b):JSON.parse(JSON.stringify(b)))}async getKey(a,b){let{alg:c,kid:d}={...a,...b.header},e=function(a){switch("string"==typeof a&&a.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new z('Unsupported "alg" value for a JSON Web Key Set')}}(c),f=this._jwks.keys.filter(a=>{let b=e===a.kty;if(b&&"string"==typeof d&&(b=d===a.kid),b&&"string"==typeof a.alg&&(b=c===a.alg),b&&"string"==typeof a.use&&(b="sig"===a.use),b&&Array.isArray(a.key_ops)&&(b=a.key_ops.includes("verify")),b&&"EdDSA"===c&&(b="Ed25519"===a.crv||"Ed448"===a.crv),b)switch(c){case"ES256":b="P-256"===a.crv;break;case"ES256K":b="secp256k1"===a.crv;break;case"ES384":b="P-384"===a.crv;break;case"ES512":b="P-521"===a.crv}return b}),{0:g,length:h}=f;if(0===h)throw new G;if(1!==h)throw new H;let i=this._cached.get(g)||this._cached.set(g,{}).get(g);if(void 0===i[c]){let j=await aQ({...g,ext:!0},c);if(j instanceof Uint8Array||"public"!==j.type)throw new F("JSON Web Key Set members must be public keys");i[c]=j}return i[c]}}function bR(a){return bQ.prototype.getKey.bind(new bQ(a))}let bS=async(a,b,c)=>{let d,e,f=!1;"function"==typeof AbortController&&(d=new AbortController,e=setTimeout(()=>{f=!0,d.abort()},b));let g=await fetch(a.href,{signal:d?d.signal:void 0,redirect:"manual",headers:c.headers}).catch(a=>{if(f)throw new I;throw a});if(void 0!==e&&clearTimeout(e),200!==g.status)throw new v("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await g.json()}catch(h){throw new v("Failed to parse the JSON Web Key Set HTTP response as JSON")}};var bT=bS;class bU extends bQ{constructor(a,b){if(super({keys:[]}),this._jwks=void 0,!(a instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(a.href),this._options={agent:null==b?void 0:b.agent,headers:null==b?void 0:b.headers},this._timeoutDuration="number"==typeof(null==b?void 0:b.timeoutDuration)?null==b?void 0:b.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==b?void 0:b.cooldownDuration)?null==b?void 0:b.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==b?void 0:b.cacheMaxAge)?null==b?void 0:b.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(a,b){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(a,b)}catch(c){if(c instanceof G&& !1===this.coolingDown())return await this.reload(),super.getKey(a,b);throw c}}async reload(){if(this._pendingFetch&&T())return new Promise(a=>{let b=()=>{void 0===this._pendingFetch?a():setTimeout(b,5)};b()});this._pendingFetch||(this._pendingFetch=bT(this._url,this._timeoutDuration,this._options).then(a=>{if(!bO(a))throw new F("JSON Web Key Set malformed");this._jwks={keys:a.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(a=>{throw this._pendingFetch=void 0,a})),await this._pendingFetch}}function bV(a,b){return bU.prototype.getKey.bind(new bU(a,b))}class bW extends bH{encode(){let a=s(JSON.stringify({alg:"none"})),b=s(JSON.stringify(this._payload));return`${a}.${b}.`}static decode(a,b){if("string"!=typeof a)throw new D("Unsecured JWT must be a string");let{0:c,1:d,2:e,length:f}=a.split(".");if(3!==f||""!==e)throw new D("Invalid Unsecured JWT");let g;try{if(g=JSON.parse(k.decode(u(c))),"none"!==g.alg)throw Error()}catch(h){throw new D("Invalid Unsecured JWT")}let i=bx(g,u(d),b);return{payload:i,header:g}}}let bX=s,bY=u;function bZ(a){let b;if("string"==typeof a){let c=a.split(".");(3===c.length||5===c.length)&&([b]=c)}else if("object"==typeof a&&a){if("protected"in a)b=a.protected;else throw TypeError("Token does not contain a Protected Header")}try{if("string"!=typeof b||!b)throw Error();let d=JSON.parse(k.decode(bY(b)));if(!ai(d))throw Error();return d}catch(e){throw TypeError("Invalid Token or Protected Header formatting")}}function b$(a){if("string"!=typeof a)throw new D("JWTs must use Compact JWS serialization, JWT must be a string");let{1:b,length:c}=a.split(".");if(5===c)throw new D("Only JWTs using Compact JWS serialization can be decoded");if(3!==c)throw new D("Invalid JWT");if(!b)throw new D("JWTs must contain a payload");let d;try{d=bY(b)}catch(e){throw new D("Failed to parse the base64url encoded payload")}let f;try{f=JSON.parse(k.decode(d))}catch(g){throw new D("Failed to parse the decoded payload as JSON")}if(!ai(f))throw new D("Invalid JWT Claims Set");return f}async function b_(a,b){var c;let d,e,g;switch(a){case"HS256":case"HS384":case"HS512":e={name:"HMAC",hash:`SHA-${d=parseInt(a.slice(-3),10)}`,length:d},g=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return d=parseInt(a.slice(-3),10),K(new Uint8Array(d>>3));case"A128KW":case"A192KW":case"A256KW":d=parseInt(a.slice(1,4),10),e={name:"AES-KW",length:d},g=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":d=parseInt(a.slice(1,4),10),e={name:"AES-GCM",length:d},g=["encrypt","decrypt"];break;default:throw new z('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return f.subtle.generateKey(e,null!==(c=null==b?void 0:b.extractable)&& void 0!==c&&c,g)}function b0(a){var b;let c=null!==(b=null==a?void 0:a.modulusLength)&& void 0!==b?b:2048;if("number"!=typeof c||c<2048)throw new z("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return c}async function b1(a,b){var c,d;let e,g;switch(a){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${a.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:b0(b)},g=["sign","verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:b0(b)},g=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(a.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:b0(b)},g=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":e={name:"ECDSA",namedCurve:"P-256"},g=["sign","verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},g=["sign","verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},g=["sign","verify"];break;case T()&&"EdDSA":switch(null==b?void 0:b.crv){case void 0:case"Ed25519":e={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},g=["sign","verify"];break;default:throw new z("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:null!==(c=null==b?void 0:b.crv)&& void 0!==c?c:"P-256"},g=["deriveKey","deriveBits"];break;default:throw new z('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return f.subtle.generateKey(e,null!==(d=null==b?void 0:b.extractable)&& void 0!==d&&d,g)}async function b2(a,b){return b1(a,b)}async function b3(a,b){return b_(a,b)}}}])