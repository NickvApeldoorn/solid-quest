(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[869],{96527:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorAbstractMediaTyped=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}async run(a){if("handle"in a){let b=a;return{handle:await this.runHandle(b.handle,b.handleMediaType,a.context)}}if("mediaTypes"in a)return{mediaTypes:await this.getMediaTypes(a.context)};if("mediaTypeFormats"in a)return{mediaTypeFormats:await this.getMediaTypeFormats(a.context)};throw Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(a){if("handle"in a){let b=a;return{handle:await this.testHandle(b.handle,b.handleMediaType,a.context)}}if("mediaTypes"in a)return{mediaTypes:await this.testMediaType(a.context)};if("mediaTypeFormats"in a)return{mediaTypeFormats:await this.testMediaTypeFormats(a.context)};throw Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}}b.ActorAbstractMediaTyped=e},31775:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorAbstractMediaTypedFixed=void 0;let d=c(96527);class e extends d.ActorAbstractMediaTyped{constructor(a){super(a);let b=this.priorityScale||0===this.priorityScale?this.priorityScale:1;this.mediaTypePriorities&&Object.entries(this.mediaTypePriorities).forEach(([a,c],d)=>{this.mediaTypePriorities[a]=b*c}),this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(a,b,c){if(!(b in this.mediaTypePriorities))throw Error(`Unrecognized media type: ${b}`);return await this.testHandleChecked(a,c)}async testMediaType(a){return!0}async getMediaTypes(a){return this.mediaTypePriorities}async testMediaTypeFormats(a){return!0}async getMediaTypeFormats(a){return this.mediaTypeFormats}}b.ActorAbstractMediaTypedFixed=e},99737:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(96527),b),e(c(31775),b)},58010:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorAbstractPath=void 0;let d=c(49655),e=c(21367),f=c(8199),g=c(55505),h=c(41640),i=c(22086),j=c(21938),k=c(16797),l=new h.DataFactory,m=new d.BindingsFactory;class n extends e.ActorQueryOperationTypedMediated{constructor(a,b){super(a,"path"),this.predicateType=b}async testOperation(a,b){if(a.predicate.type!==this.predicateType)throw Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(a,b){return b?a&&(a.subject.value===b||a.object.value===b)?this.generateVariable(a,`${b}b`):l.variable(b):this.generateVariable(a,"b")}async isPathArbitraryLengthDistinct(a,b){return a.get(f.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(a=a.set(f.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:a,operation:void 0}):(a=a.set(f.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:a,operation:e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:n.FACTORY.createDistinct(b),context:a}))})}async predicateStarGraphVariable(a,b,c,d,f){let h=this.generateVariable(n.FACTORY.createPath(a,c,b,d)),i=n.FACTORY.createUnion([n.FACTORY.createPattern(a,h,b,d),n.FACTORY.createPattern(b,h,a,d),]),j=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:f,operation:i})),k=new Set,l=new g.MultiTransformIterator(j.bindingsStream,{multiTransform:e=>{let h=e.get(d);return k.has(h.value)?new g.EmptyIterator:(k.add(h.value),new g.TransformIterator(async()=>{let e=new g.BufferedIterator;return await this.getObjectsPredicateStar(a,c,h,f,{},e,{count:0}),e.transform({transform(a,c,e){e(m.bindings([[b,a],[d,h],])),c()}})},{maxBufferSize:128}))},autoStart:!1});return{bindingsStream:l,metadata:j.metadata}}async getObjectsPredicateStarEval(a,b,c,d,e,f){if("Variable"===d.termType)return this.predicateStarGraphVariable(a,c,b,d,e);let g=new k.PathVariableObjectIterator(a,b,d,e,this.mediatorQueryOperation,f),h=g.transform({autoStart:!1,transform(a,b,d){d(m.bindings([[c,a]])),b()}});return{bindingsStream:h,metadata:()=>new Promise(a=>g.getProperty("metadata",b=>a(b())))}}async getObjectsPredicateStar(a,b,c,d,f,g,h){let j=(0,i.termToString)(a);if(f[j])return;g._push(a),f[j]=a,h.count++;let k=this.generateVariable(),l=n.FACTORY.createPath(a,b,k,c),m=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:l,context:d}));return m.bindingsStream.on("data",async a=>{let e=a.get(k);await this.getObjectsPredicateStar(e,b,c,d,f,g,h)}),m.bindingsStream.on("end",()=>{0== --h.count&&g.close()}),m.metadata}async getSubjectAndObjectBindingsPredicateStar(a,b,c,d,f,g,h,j,k,l,o){let p=(0,i.termToString)(d)+(0,i.termToString)(g);if(k[p])return;if(o.count++,k[p]=!0,l._push(m.bindings([[a,c],[b,d],])),p in j){let q=await j[p];for(let r of q)await this.getSubjectAndObjectBindingsPredicateStar(a,b,c,r,f,g,h,j,k,l,o);0== --o.count&&l.close();return}let s=new Promise(async(i,m)=>{let p=[],q=this.generateVariable(),r=n.FACTORY.createPath(d,f,q,g),s=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:r,context:h}));s.bindingsStream.on("data",async d=>{let e=d.get(q);p.push(e),await this.getSubjectAndObjectBindingsPredicateStar(a,b,c,e,f,g,h,j,k,l,o)}),s.bindingsStream.on("error",m),s.bindingsStream.on("end",()=>{0== --o.count&&l.close(),i(p)})});j[p]=s}}b.ActorAbstractPath=n,n.FACTORY=new j.Factory},16797:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PathVariableObjectIterator=void 0;let d=c(21367),e=c(55505),f=c(41640),g=c(22086),h=c(21938),i=new f.DataFactory,j=new h.Factory;class k extends e.BufferedIterator{constructor(a,b,c,d,e,f,g=16){super({autoStart:!0}),this.subject=a,this.predicate=b,this.graph=c,this.context=d,this.mediatorQueryOperation=e,this.maxRunningOperations=g,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,f)}_end(a){for(let b of this.runningOperations)b.destroy();super._end(a)}_push(a,b=!0){let c;if(b&&(c=(0,g.termToString)(a),this.termHashes.has(c)))return;let d=i.variable("b");this.pendingOperations.push({variable:d,operation:j.createPath(a,this.predicate,d,this.graph)}),c&&(this.termHashes.set(c,a),super._push(a))}_read(a,b){let c=this;(async function(){for(;c.runningOperations.length<c.maxRunningOperations&&0!==c.pendingOperations.length;){let b=c.pendingOperations.pop(),e=d.ActorQueryOperation.getSafeBindings(await c.mediatorQueryOperation.mediate({operation:b.operation,context:c.context})),f=e.bindingsStream.transform({autoStart:!1,transform(a,c,d){let e=a.get(b.variable);d(e),c()}});f.done||(c.runningOperations.push(f),f.on("error",a=>c.destroy(a)),f.on("readable",()=>{c.readable=!0,c._fillBufferAsync()}),f.on("end",()=>{c.runningOperations.splice(c.runningOperations.indexOf(f),1),c.readable=!0,c._fillBufferAsync()})),c.setProperty("metadata",e.metadata)}let g=0,h;for(;g!==(g=a);)for(let i=0;i<c.runningOperations.length&&a>0;i++)null!==(h=c.runningOperations[i].read())&&(a--,c._push(h));0===c.runningOperations.length&&0===c.pendingOperations.length&&c.close()})().then(()=>{b()},a=>this.destroy(a))}}b.PathVariableObjectIterator=k},46693:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(58010),b),e(c(16797),b)},64931:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorContextPreprocessSourceToDestination=void 0;let d=c(49507),e=c(8199);class f extends d.ActorContextPreprocess{constructor(a){super(a)}async test(a){return!0}async run(a){if(a.context.get(e.KeysRdfResolveQuadPattern.sources)&&!a.context.get(e.KeysRdfUpdateQuads.destination)){let b=a.context.get(e.KeysRdfResolveQuadPattern.sources);if(1===b.length)return{context:a.context.set(e.KeysRdfUpdateQuads.destination,b[0])}}return a}}b.ActorContextPreprocessSourceToDestination=f},80675:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(64931),b)},83373:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorDereferenceFallback=void 0;let d=c(49570);class e extends d.ActorDereference{constructor(a){super(a)}async test(a){return!0}async run(a){return this.handleDereferenceErrors(a,Error(`Could not dereference '${a.url}'`))}}b.ActorDereferenceFallback=e},14370:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(83373),b)},97339:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorDereferenceHttp=void 0;let d=c(9030);class e extends d.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}b.ActorDereferenceHttp=e},9030:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorDereferenceHttpBase=b.mediaTypesToAcceptString=void 0;let d=c(49570),e=c(12319),f=c(54098),g=c(68912),h=c(83858),i=/^[^ ;]*/u;function j(a,b){let c="*/*;q=0.1",d=[],e=Object.entries(a).map(([a,b])=>({mediaType:a,priority:b})).sort((a,b)=>b.priority===a.priority?a.mediaType.localeCompare(b.mediaType):b.priority-a.priority),f=e.length-1;for(let{mediaType:g,priority:h}of e){let i=g+(1!==h?`;q=${h.toFixed(3).replace(/0*$/u,"")}`:"");if(f+i.length>b){for(;f+c.length>b;){let j=d.pop()||"";f-=j.length+1}d.push(c);break}d.push(i),f+=i.length}return 0===d.length?"*/*":d.join(",")}b.mediaTypesToAcceptString=j;class k extends d.ActorDereference{constructor(a){super(a)}async test({url:a}){if(!/^https?:/u.test(a))throw Error(`Cannot retrieve ${a} because it is not an HTTP(S) URL.`);return!0}async run(a){let b=!0,c=new f.Headers(a.headers);c.append("Accept",j(await a.mediaTypes?.()??{},this.getMaxAcceptHeaderLength()));let k,l=Date.now();try{k=await this.mediatorHttp.mediate({context:a.context,init:{headers:c,method:a.method},input:a.url})}catch(m){return this.handleDereferenceErrors(a,m)}let n=(0,g.resolve)(k.url,a.url),o=Date.now()-l;if(200!==k.status){b=!1;let p=k.body?await h(e.ActorHttp.toNodeReadable(k.body)):"empty response";if(!a.acceptErrors){let q=Error(`Could not retrieve ${a.url} (HTTP status ${k.status}):
${p}`);return this.handleDereferenceErrors(a,q,k.headers,o)}}let r=i.exec(k.headers.get("content-type")??"")?.[0];return{url:n,data:b?e.ActorHttp.toNodeReadable(k.body):(0,d.emptyReadable)(),exists:b,requestTime:o,headers:k.headers,mediaType:"text/plain"!==r?r:void 0}}}b.ActorDereferenceHttpBase=k},68718:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(97339),b),e(c(9030),b)},3271:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorDereferenceRdfParse=void 0;let d=c(14015);class e extends d.ActorDereferenceRdf{constructor(a){super(a)}async getMetadata(a){return{baseIRI:a.url}}}b.ActorDereferenceRdfParse=e},96006:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(3271),b)},54212:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorHashBindingsSha1=void 0;let d=c(13535),e=c(33715),f=c(22086),g=c(95456);class h extends d.ActorHashBindings{async test(a){if(!a.allowHashCollisions)throw Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(a){return{hashFunction:a=>(0,e.sha1)().update(g(Object.fromEntries([...a].map(([a,b])=>[(0,f.termToString)(a),(0,f.termToString)(b)])))).digest("hex"),hashCollisions:!0}}}b.ActorHashBindingsSha1=h},77994:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(54212),b)},75634:function(a,b,c){"use strict";var d=c(34155),e=c(48764).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),b.ActorHttpFetch=void 0;let f=c(12319),g=c(8199);c(31905);let h=c(39612);class i extends f.ActorHttp{constructor(a){super(a),this.userAgent=i.createUserAgent(),this.fetchInitPreprocessor=new h.FetchInitPreprocessor(a.agentOptions)}static createUserAgent(){return`Comunica/actor-http-fetch (${void 0===c.g.navigator?`Node.js ${d.version}; ${d.platform}`:`Browser-${c.g.navigator.userAgent}`})`}async test(a){return{time:Number.POSITIVE_INFINITY}}async run(a){let b=a.init?.headers??{};a.init=a.init??{},a.init.headers=new Headers(b),a.init.headers.has("user-agent")||a.init.headers.append("user-agent",this.userAgent);let c=a.context.get(g.KeysHttp.auth);c&&a.init.headers.append("Authorization",`Basic ${e.from(c).toString("base64")}`),this.logInfo(a.context,`Requesting ${"string"==typeof a.input?a.input:a.input.url}`,()=>({headers:f.ActorHttp.headersToHash(new Headers(a.init.headers)),method:a.init.method||"GET"})),a.init?.headers&&"append"in a.init.headers&&a.context.has(g.KeysHttp.fetch)&&(a.init.headers=f.ActorHttp.headersToHash(a.init.headers));let d={...a.init};a.context.get(g.KeysHttp.includeCredentials)&&(d.credentials="include");let h=a.context?.get(g.KeysHttp.httpTimeout),i,j;if(void 0!==h){let k=await this.fetchInitPreprocessor.createAbortController();d.signal=k.signal,j=()=>k.abort(),i=setTimeout(()=>j(),h)}try{d=await this.fetchInitPreprocessor.handle(d);let l=a.context?.get(g.KeysHttp.fetch),m=await (l||fetch)(a.input,d);if(void 0!==i){let n=a.context?.get(g.KeysHttp.httpBodyTimeout)||!1;n&&m.body?(j=()=>m.body?.cancel(Error(`HTTP timeout when reading the body of ${m.url}.
This error can be disabled by modifying the 'httpBodyTimeout' and/or 'httpTimeout' options.`)),m.body.on("close",()=>{clearTimeout(i)})):clearTimeout(i)}return m.body&&!m.body.cancel&&(m.body.cancel=async a=>{m.body.destroy(a),void 0!==i&&clearTimeout(i)}),m}catch(o){throw void 0!==i&&clearTimeout(i),o}}}b.ActorHttpFetch=i},39612:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FetchInitPreprocessor=void 0;let d=c(12319);b.FetchInitPreprocessor=class{async handle(a){if(a.headers){let b=new Headers(a.headers);b.has("user-agent")&&b.delete("user-agent"),a.headers=b}if(a?.headers&&"append"in a.headers&&(a.headers=d.ActorHttp.headersToHash(a.headers)),a.body&&"string"!=typeof a.body&&"getReader"in a.body){let c=a.body.getReader(),e=[];for(;;){let{done:f,value:g}=await c.read();if(f)break;e.push(g)}a.body=e.join("")}return{keepalive:!a.body,...a}}async createAbortController(){return new AbortController}}},36845:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(75634),b)},80277:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorHttpInruptSolidClientAuthn=void 0;let d=c(12319),e=c(8199),f=c(51890);class g extends d.ActorHttp{constructor(a){super(a)}async test(a){if(!a.context||!a.context.has(g.CONTEXT_KEY_SESSION))throw Error(`Unable to find Solid authn session in context with key '${g.CONTEXT_KEY_SESSION.name}'`);if(a.context.has(e.KeysHttp.fetch))throw Error("Unable to run when a custom fetch function has been configured");let b=a.context.get(g.CONTEXT_KEY_SESSION);if(!b.info.isLoggedIn)throw Error("The provided Solid authn session is not in a logged in state, make sure to call session.login() first");return!0}async run(a){let b=a.context.get(g.CONTEXT_KEY_SESSION);return this.logInfo(a.context,`Handling request to ${"string"==typeof a.input?a.input:a.input.url} as authenticated request for ${b.info.webId}`),this.mediatorHttp.mediate({...a,context:a.context.delete(g.CONTEXT_KEY_SESSION).set(e.KeysHttp.fetch,b.fetch)})}}b.ActorHttpInruptSolidClientAuthn=g,g.CONTEXT_KEY_SESSION=new f.ActionContextKey("@comunica/actor-http-inrupt-solid-client-authn:session")},17038:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(80277),b)},87862:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorHttpProxy=void 0;let d=c(12319),e=c(8199);class f extends d.ActorHttp{constructor(a){super(a)}async test(a){let b=a.context.get(e.KeysHttpProxy.httpProxyHandler);if(!b)throw Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await b.getProxy(a))throw Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:Number.POSITIVE_INFINITY}}async run(a){let b="string"==typeof a.input?a.input:a.input.url,c=a.context.get(e.KeysHttpProxy.httpProxyHandler),d=await this.mediatorHttp.mediate({...await c.getProxy(a),context:a.context.delete(e.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(d,"url",{configurable:!0,enumerable:!0,get:()=>d.headers.get("x-final-url")??b}),d}}b.ActorHttpProxy=f},31270:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyHandlerStatic=void 0,b.ProxyHandlerStatic=class{constructor(a){this.prefixUrl=a}async getProxy(a){return{init:a.init,input:this.modifyInput(a.input)}}modifyInput(a){return"string"==typeof a?this.prefixUrl+a:new Request(this.prefixUrl+a.url,a)}}},24020:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(87862),b),e(c(31270),b)},63393:function(a,b,c){"use strict";var d=c(34155);Object.defineProperty(b,"__esModule",{value:!0}),b.ActorInitQuery=void 0;let e=c(68237);void 0===d&&(c.g.process=c(34155));class f extends e.ActorInitQueryBase{}b.ActorInitQuery=f},68237:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorInitQueryBase=void 0;let d=c(1141);class e extends d.ActorInit{constructor(a){super(a)}async test(a){return!0}async run(a){throw Error("ActorInitSparql#run is not supported in the browser.")}}b.ActorInitQueryBase=e},82862:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MemoryPhysicalQueryPlanLogger=void 0;let d=c(22086);b.MemoryPhysicalQueryPlanLogger=class{constructor(){this.children=new Map}logOperation(a,b,c,d,e,f){let g={actor:e,logicalOperator:a,physicalOperator:b,rawNode:c,children:[],metadata:f};if(this.children.set(c,g.children),this.rootNode){if(!d)throw Error("Detected more than one parent-less node");let h=this.children.get(d);if(!h)throw Error("Could not find parent node");h.push(g)}else{if(d)throw Error("No root node has been set yet, while a parent is being referenced");this.rootNode=g}}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(a){return{logical:a.logicalOperator,physical:a.physicalOperator,...this.getLogicalMetadata(a.rawNode),...a.metadata,...a.children.length>0?{children:a.children.map(a=>this.planNodeToJson(a))}:{}}}getLogicalMetadata(a){if("type"in a){let b=a;switch(b.type){case"pattern":return{pattern:this.quadToString(b)};case"project":return{variables:b.variables.map(a=>a.value)}}}return{}}quadToString(a){return`${(0,d.termToString)(a.subject)} ${(0,d.termToString)(a.predicate)} ${(0,d.termToString)(a.object)}${"DefaultGraph"===a.graph.termType?"":` ${(0,d.termToString)(a.graph)}`}`}}},13118:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QueryEngineBase=void 0;let d=c(21367),e=c(8199),f=c(51890),g=c(82862);class h{constructor(a){this.actorInitQuery=a}async queryBindings(a,b){return this.queryOfType(a,b,"bindings")}async queryQuads(a,b){return this.queryOfType(a,b,"quads")}async queryBoolean(a,b){return this.queryOfType(a,b,"boolean")}async queryVoid(a,b){return this.queryOfType(a,b,"void")}async queryOfType(a,b,c){let d=await this.query(a,b);if(d.resultType===c)return d.execute();throw Error(`Query result type '${c}' was expected, while '${d.resultType}' was found.`)}async query(a,b){let c=await this.queryOrExplain(a,b);if("explain"in c)throw Error("Tried to explain a query when in query-only mode");return c}async explain(a,b,c){b.explain=c;let d=await this.queryOrExplain(a,b);return d}async queryOrExplain(a,b){for(let c in b=b||{})this.actorInitQuery.contextKeyShortcuts[c]&&(b[this.actorInitQuery.contextKeyShortcuts[c]]=b[c],delete b[c]);let i=new f.ActionContext(b),j={language:"sparql",version:"1.1"};i.has(e.KeysInitQuery.queryFormat)&&(j=i.get(e.KeysInitQuery.queryFormat),i=i.delete(e.KeysInitQuery.queryFormat),"graphql"===j.language&&(i=i.setDefault(e.KeysInitQuery.graphqlSingularizeVariables,{})));let k=i.get(e.KeysInitQuery.baseIRI);i=(await this.actorInitQuery.mediatorContextPreprocess.mediate({context:i=i.setDefault(e.KeysInitQuery.queryTimestamp,new Date).setDefault(e.KeysRdfResolveQuadPattern.sourceIds,new Map).setDefault(e.KeysCore.log,this.actorInitQuery.logger)})).context;let l=i.get(e.KeysInitQuery.explain),m;if("string"==typeof a){i=i.set(e.KeysInitQuery.queryString,a);let n=await this.actorInitQuery.mediatorQueryParse.mediate({context:i,query:a,queryFormat:j,baseIRI:k});m=n.operation,n.baseIRI&&(i=i.set(e.KeysInitQuery.baseIRI,n.baseIRI))}else m=a;if("parsed"===l)return{explain:!0,type:l,data:m};i.has(e.KeysInitQuery.initialBindings)&&(m=(0,d.materializeOperation)(m,i.get(e.KeysInitQuery.initialBindings)),i=i.delete(e.KeysInitQuery.queryString));let o=await this.actorInitQuery.mediatorOptimizeQueryOperation.mediate({context:i,operation:m});if(m=o.operation,i=o.context||i,"logical"===l)return{explain:!0,type:l,data:m};i=i.set(e.KeysInitQuery.query,m);let p;"physical"===l&&(p=new g.MemoryPhysicalQueryPlanLogger,i=i.set(e.KeysInitQuery.physicalQueryPlanLogger,p));let q=await this.actorInitQuery.mediatorQueryOperation.mediate({context:i,operation:m});q.context=i;let r=h.internalToFinalResult(q);if(p){switch(r.resultType){case"bindings":case"quads":await (await r.execute()).toArray();break;case"boolean":case"void":await r.execute()}return{explain:!0,type:l,data:p.toJson()}}return r}async getResultMediaTypes(a){return(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:a=f.ActionContext.ensureActionContext(a),mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(a){return(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:a=f.ActionContext.ensureActionContext(a),mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(a,b,c){if(c=f.ActionContext.ensureActionContext(c),!b)switch(a.resultType){case"bindings":b="application/json";break;case"quads":b="application/trig";break;default:b="simple"}let d={...await h.finalToInternalResult(a),context:c};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:c,handle:d,handleMediaType:b})).handle}invalidateHttpCache(a,b){return b=f.ActionContext.ensureActionContext(b),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:a,context:b})}static internalToFinalResult(a){switch(a.type){case"bindings":return{resultType:"bindings",execute:async()=>a.bindingsStream,metadata:async()=>await a.metadata(),context:a.context};case"quads":return{resultType:"quads",execute:async()=>a.quadStream,metadata:async()=>await a.metadata(),context:a.context};case"boolean":return{resultType:"boolean",execute:async()=>a.execute(),context:a.context};case"void":return{resultType:"void",execute:async()=>a.execute(),context:a.context}}}static async finalToInternalResult(a){switch(a.resultType){case"bindings":return{type:"bindings",bindingsStream:await a.execute(),metadata:async()=>await a.metadata()};case"quads":return{type:"quads",quadStream:await a.execute(),metadata:async()=>await a.metadata()};case"boolean":return{type:"boolean",execute:()=>a.execute()};case"void":return{type:"void",execute:()=>a.execute()}}}}b.QueryEngineBase=h},52850:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.QueryEngineBase=void 0,e(c(68237),b),e(c(63393),b);var f=c(13118);Object.defineProperty(b,"QueryEngineBase",{enumerable:!0,get:function(){return f.QueryEngineBase}})},78351:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorOptimizeQueryOperationBgpToJoin=void 0;let d=c(59336),e=c(21938);class f extends d.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){let b=e.Util.mapOperation(a.operation,{bgp(a,b){return{recurse:!1,result:b.createJoin(a.patterns)}}});return{operation:b,context:a.context}}}b.ActorOptimizeQueryOperationBgpToJoin=f},72318:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(78351),b)},30387:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorOptimizeQueryOperationJoinBgp=void 0;let d=c(59336),e=c(21938);class f extends d.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){let b=e.Util.mapOperation(a.operation,{join(a,b){return a.input.every(a=>"bgp"===a.type)?{recurse:!1,result:b.createBgp(a.input.flatMap(a=>a.patterns))}:{recurse:!1,result:a}}});return{operation:b,context:a.context}}}b.ActorOptimizeQueryOperationJoinBgp=f},54648:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(30387),b)},2568:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorOptimizeQueryOperationJoinConnected=void 0;let d=c(59336),e=c(21938);class f extends d.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){let b=e.Util.mapOperation(a.operation,{join(a,b){return{recurse:!1,result:f.cluster(a,b)}}});return{operation:b,context:a.context}}static cluster(a,b){let c=a.input.map(a=>({inScopeVariables:Object.fromEntries(e.Util.inScopeVariables(a).map(a=>[a.value,!0])),entries:[a]})),d,g=c;do d=g,g=f.clusterIteration(d);while(d.length!==g.length);let h=g.map(a=>b.createJoin(a.entries));return 1===h.length?h[0]:b.createJoin(h,!1)}static clusterIteration(a){let b=[];for(let c of a){let d=!1;for(let e of b)if(f.haveOverlappingVariables(c.inScopeVariables,e.inScopeVariables)){e.entries=[...e.entries,...c.entries],e.inScopeVariables={...e.inScopeVariables,...c.inScopeVariables},d=!0;break}d||b.push({inScopeVariables:c.inScopeVariables,entries:c.entries})}return b}static haveOverlappingVariables(a,b){for(let c of Object.keys(a))if(b[c])return!0;return!1}}b.ActorOptimizeQueryOperationJoinConnected=f},571:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(2568),b)},42642:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationAsk=void 0;let d=c(21367);class e extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"ask")}async testOperation(a,b){return!0}async runOperation(a,b){let c=await this.mediatorQueryOperation.mediate({operation:a.input,context:b}),e=d.ActorQueryOperation.getSafeBindings(c),f=()=>new Promise((a,b)=>{e.bindingsStream.once("data",()=>{a(!0),e.bindingsStream.close()}),e.bindingsStream.on("end",()=>a(!1)),e.bindingsStream.on("error",b)});return{type:"boolean",execute:f}}}b.ActorQueryOperationAsk=e},89045:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(42642),b)},20626:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationBgpJoin=void 0;let d=c(21367),e=c(21938);class f extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"bgp")}async testOperation(a,b){return!0}async runOperation(a,b){return this.mediatorQueryOperation.mediate({operation:f.FACTORY.createJoin(a.patterns),context:b})}}b.ActorQueryOperationBgpJoin=f,f.FACTORY=new e.Factory},7913:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(20626),b)},62289:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationConstruct=void 0;let d=c(21367),e=c(11234),f=c(21938),g=c(80228);class h extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"construct")}static getVariables(a){return(0,e.uniqTerms)([].concat.apply([],a.map(a=>(0,e.getVariables)((0,e.getTerms)(a)))))}async testOperation(a,b){return!0}async runOperation(a,b){let c=h.getVariables(a.template),e={type:f.Algebra.types.PROJECT,input:a.input,variables:c},i=d.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e,context:b})),j=new g.BindingsToQuadsIterator(a.template,i.bindingsStream),k=()=>i.metadata().then(b=>({...b,order:void 0,cardinality:{type:b.cardinality.type,value:b.cardinality.value*a.template.length},canContainUndefs:!1,availableOrders:void 0}));return{metadata:k,quadStream:j,type:"quads"}}}b.ActorQueryOperationConstruct=h},80228:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingsToQuadsIterator=void 0;let d=c(55505),e=c(41640),f=c(11234),g=new e.DataFactory;class h extends d.MultiTransformIterator{constructor(a,b,c=!0){super(b,{autoStart:!1}),this.template=a,this.localizeBlankNodes=c,this.blankNodeCounter=0}static bindTerm(a,b){return"Variable"===b.termType?a.get(b):b}static bindQuad(a,b){try{return(0,f.mapTerms)(b,b=>{let c=h.bindTerm(a,b);if(!c)throw Error("Unbound term");return c})}catch{}}static localizeBlankNode(a,b){return"BlankNode"===b.termType?g.blankNode(`${b.value}${a}`):b}static localizeQuad(a,b){return(0,f.mapTerms)(b,b=>h.localizeBlankNode(a,b))}bindTemplate(a,b,c){let d=b.map(b=>h.bindQuad.bind(null,a)(b)).filter(Boolean);return this.localizeBlankNodes&&(d=d.map(h.localizeQuad.bind(null,c))),d}_createTransformer(a){return new d.ArrayIterator(this.bindTemplate(a,this.template,this.blankNodeCounter++))}}b.BindingsToQuadsIterator=h},69893:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(62289),b),e(c(80228),b)},45047:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationDescribeSubject=void 0;let d=c(4448),e=c(21367),f=c(55505),g=c(41640),h=c(21938),i=new g.DataFactory;class j extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"describe")}async testOperation(a,b){return!0}async runOperation(a,b){let c=a.terms.filter(a=>"Variable"!==a.termType).map(a=>{let b=[i.quad(a,i.variable("__predicate"),i.variable("__object")),];b.forEach(a=>a.type="pattern");let c={type:h.Algebra.types.BGP,patterns:b};return{input:c,template:b,type:"construct"}});if(c.length!==a.terms.length){let g=[];a.terms.filter(a=>"Variable"===a.termType).forEach((a,b)=>{let c=[i.quad(a,i.variable(`__predicate${b}`),i.variable(`__object${b}`)),];c.forEach(a=>a.type="pattern"),g=[...g,...c]}),c.push({input:{type:h.Algebra.types.JOIN,input:[a.input,{type:h.Algebra.types.BGP,patterns:g},]},template:g,type:h.Algebra.types.CONSTRUCT})}let j=(await Promise.all(c.map(a=>this.mediatorQueryOperation.mediate({operation:a,context:b})))).map(e.ActorQueryOperation.getSafeQuads),k=new f.UnionIterator(j.map(a=>a.quadStream),{autoStart:!1}),l=()=>Promise.all(j.map(a=>a.metadata())).then(a=>d.ActorQueryOperationUnion.unionMetadata(a,!1));return{type:"quads",quadStream:k,metadata:l}}}b.ActorQueryOperationDescribeSubject=j},57542:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(45047),b)},13200:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationDistinctHash=void 0;let d=c(21367);class e extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"distinct")}async testOperation(a,b){return!0}async runOperation(a,b){let c=d.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a.input,context:b})),e=c.bindingsStream.filter(await this.newHashFilter(b));return{type:"bindings",bindingsStream:e,metadata:c.metadata}}async newHashFilter(a){let{hashFunction:b}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:a}),c={};return a=>{let d=b(a);return!(d in c)&&(c[d]=!0)}}}b.ActorQueryOperationDistinctHash=e},79909:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(13200),b)},83626:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationExtend=void 0;let d=c(49655),e=c(21367),f=c(60390);class g extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"extend")}async testOperation(a,b){return new f.AsyncEvaluator(a.expression,e.ActorQueryOperation.getAsyncExpressionContext(b,this.mediatorQueryOperation)),!0}async runOperation(a,b){let{expression:c,input:g,variable:h}=a,i=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:g,context:b})),j={...e.ActorQueryOperation.getAsyncExpressionContext(b,this.mediatorQueryOperation)},k=new f.AsyncEvaluator(c,j),l=async(a,c,e)=>{try{let g=await k.evaluate(a),i=a.set(h,g);e(i)}catch(j){(0,f.isExpressionError)(j)?(e(a),this.logWarn(b,`Expression error for extend operation with bindings '${(0,d.bindingsToString)(a)}'`)):m.emit("error",j)}c()},m=i.bindingsStream.transform({autoStart:!1,transform:l});return{type:"bindings",bindingsStream:m,async metadata(){let a=await i.metadata();return{...a,variables:[...a.variables,h]}}}}}b.ActorQueryOperationExtend=g},95383:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(83626),b)},77594:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationFilterSparqlee=void 0;let d=c(49655),e=c(21367),f=c(60390);class g extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"filter")}async testOperation(a,b){let c={...e.ActorQueryOperation.getAsyncExpressionContext(b,this.mediatorQueryOperation)};return new f.AsyncEvaluator(a.expression,c),!0}async runOperation(a,b){let c=await this.mediatorQueryOperation.mediate({operation:a.input,context:b}),g=e.ActorQueryOperation.getSafeBindings(c);e.ActorQueryOperation.validateQueryOutput(g,"bindings");let h={...e.ActorQueryOperation.getAsyncExpressionContext(b,this.mediatorQueryOperation)},i=new f.AsyncEvaluator(a.expression,h),j=async(a,c,e)=>{try{let g=await i.evaluateAsEBV(a);g&&e(a)}catch(h){(0,f.isExpressionError)(h)?this.logWarn(b,"Error occurred while filtering.",()=>({error:h,bindings:(0,d.bindingsToString)(a)})):k.emit("error",h)}c()},k=g.bindingsStream.transform({transform:j});return{type:"bindings",bindingsStream:k,metadata:g.metadata}}}b.ActorQueryOperationFilterSparqlee=g},44809:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(77594),b)},34490:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationFromQuad=void 0;let d=c(21367),e=c(21938);class f extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"from")}static copyOperation(a,b){let c={};for(let d of Object.keys(a))Array.isArray(a[d])&&"template"!==d?"variables"===d?c[d]=a[d]:c[d]=a[d].map(b):f.ALGEBRA_TYPES.includes(a[d].type)?c[d]=b(a[d]):c[d]=a[d];return c}static applyOperationDefaultGraph(a,b){if("bgp"===a.type&&a.patterns.length>0||"path"===a.type||"pattern"===a.type){if("bgp"===a.type)return f.joinOperations(a.patterns.map(a=>{if("DefaultGraph"!==a.graph.termType)return f.FACTORY.createBgp([a]);let c=b.map(b=>f.FACTORY.createBgp([f.FACTORY.createPattern(a.subject,a.predicate,a.object,b)]));return f.unionOperations(c)}));if("DefaultGraph"!==a.graph.termType)return a;let c=b.map(b=>"path"===a.type?f.FACTORY.createPath(a.subject,a.predicate,a.object,b):f.FACTORY.createPattern(a.subject,a.predicate,a.object,b));return f.unionOperations(c)}return f.copyOperation(a,a=>this.applyOperationDefaultGraph(a,b))}static applyOperationNamedGraph(a,b,c){if("bgp"===a.type&&a.patterns.length>0||"path"===a.type||"pattern"===a.type){let d="bgp"===a.type?a.patterns[0].graph:a.graph;if("DefaultGraph"===d.termType)return{type:e.Algebra.types.BGP,patterns:[]};if("Variable"===d.termType){if(1===b.length){let g=b[0],h={};h[`?${d.value}`]=g;let i=f.FACTORY.createValues([d],[h]),j;return j="bgp"===a.type?f.FACTORY.createBgp(a.patterns.map(a=>f.FACTORY.createPattern(a.subject,a.predicate,a.object,g))):"path"===a.type?f.FACTORY.createPath(a.subject,a.predicate,a.object,g):f.FACTORY.createPattern(a.subject,a.predicate,a.object,g),f.FACTORY.createJoin([i,j])}return f.unionOperations(b.map(b=>f.applyOperationNamedGraph(a,[b],c)))}let k=[...b,...c].some(a=>a.equals(d));return k?a:{type:e.Algebra.types.BGP,patterns:[]}}return f.copyOperation(a,a=>this.applyOperationNamedGraph(a,b,c))}static joinOperations(a){if(1===a.length)return a[0];if(a.length>1)return f.FACTORY.createJoin(a);throw Error("A join can only be applied on at least one operation")}static unionOperations(a){if(1===a.length)return a[0];if(a.length>1)return f.FACTORY.createUnion(a);throw Error("A union can only be applied on at least one operation")}static createOperation(a){let b=a.input;return a.default.length>0&&(b=f.applyOperationDefaultGraph(b,a.default)),(a.named.length>0||a.default.length>0)&&(b=f.applyOperationNamedGraph(b,a.named,a.default)),b}async testOperation(a,b){return!0}async runOperation(a,b){let c=f.createOperation(a);return this.mediatorQueryOperation.mediate({operation:c,context:b})}}b.ActorQueryOperationFromQuad=f,f.FACTORY=new e.Factory,f.ALGEBRA_TYPES=Object.keys(e.Algebra.types).map(a=>e.Algebra.types[a])},85019:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(34490),b)},65208:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationGroup=void 0;let d=c(21367),e=c(55505),f=c(60390),g=c(80511);class h extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"group")}async testOperation(a,b){for(let c of a.aggregates)new f.AsyncEvaluator(c.expression,d.ActorQueryOperation.getAsyncExpressionContext(b));return!0}async runOperation(a,b){let{hashFunction:c}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:b}),{input:f,aggregates:h}=a,i=await this.mediatorQueryOperation.mediate({operation:f,context:b}),j=d.ActorQueryOperation.getSafeBindings(i),k=[...a.variables,...h.map(a=>a.variable),],l=d.ActorQueryOperation.getAsyncExpressionContext(b);return new Promise((b,d)=>{let f=new g.GroupsState(c,a,l);j.bindingsStream.on("end",async()=>{try{let a=new e.ArrayIterator(await f.collectResults(),{autoStart:!1});b({type:"bindings",bindingsStream:a,metadata:async()=>({...await j.metadata(),variables:k})})}catch(c){d(c)}}),j.bindingsStream.on("error",d),j.bindingsStream.on("data",a=>{f.consumeBindings(a).catch(d)})})}}b.ActorQueryOperationGroup=h},80511:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GroupsState=void 0;let d=c(49655),e=c(41640),f=c(60390),g=new e.DataFactory,h=new d.BindingsFactory;b.GroupsState=class{constructor(a,b,c){this.hashFunction=a,this.pattern=b,this.sparqleeConfig=c,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(a=>a.value)),this.distinctHashes=b.aggregates.some(({distinct:a})=>a)?new Map:null,this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(a){let b=this.resultCheck();if(b)return b;this.waitCounter++;let c=a.filter((a,b)=>this.groupVariables.has(b.value)),d=this.hashBindings(c),e=this.groupsInitializer.get(d),g;if(e){let h=e;g=(async()=>{let b=await h;await Promise.all(this.pattern.aggregates.map(async c=>{if(c.distinct){let e=this.hashBindings(a);if(this.distinctHashes.get(d).has(e))return;this.distinctHashes.get(d).add(e)}let f=c.variable.value;await b.aggregators[f].put(a)}))})().then(()=>{this.subtractWaitCounterAndCollect()})}else e=(async()=>{let b={};if(await Promise.all(this.pattern.aggregates.map(async c=>{let d=c.variable.value;b[d]=new f.AsyncAggregateEvaluator(c,this.sparqleeConfig),await b[d].put(a)})),this.distinctHashes){let e=this.hashBindings(a);this.distinctHashes.set(d,new Set([e]))}let g={aggregators:b,bindings:c};return this.groups.set(d,g),this.subtractWaitCounterAndCollect(),g})(),this.groupsInitializer.set(d,e),g=e;return g}subtractWaitCounterAndCollect(){0== --this.waitCounter&&this.handleResultCollection()}handleResultCollection(){let a=[...this.groups].map(([a,b])=>{let{bindings:c,aggregators:d}=b,e=c;for(let f in d){let h=d[f].result();h&&(e=e.set(g.variable(f),h))}return e});if(0===a.length&&0===this.groupVariables.size){let b=[];for(let c of this.pattern.aggregates){let d=c.variable,e=f.AsyncAggregateEvaluator.emptyValue(c);void 0!==e&&b.push([d,e])}a=[h.bindings(b)]}this.waitResolver(a)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(Error("Calling any function after calling collectResult is invalid."))}collectResults(){let a=this.resultCheck();if(a)return a;this.resultHasBeenCalled=!0;let b=new Promise(a=>{this.waitResolver=a});return this.subtractWaitCounterAndCollect(),b}hashBindings(a){return this.hashFunction(a)}}},57428:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(65208),b)},65188:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationJoin=void 0;let d=c(21367);class e extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"join")}async testOperation(a,b){return!0}async runOperation(a,b){let c=(await Promise.all(a.input.map(async a=>({output:await this.mediatorQueryOperation.mediate({operation:a,context:b}),operation:a})))).map(({output:a,operation:b})=>({output:d.ActorQueryOperation.getSafeBindings(a),operation:b}));return this.mediatorJoin.mediate({type:"inner",entries:c,context:b})}}b.ActorQueryOperationJoin=e},51225:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(65188),b)},11271:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationLeftJoin=void 0;let d=c(21367),e=c(60390);class f extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"leftjoin")}async testOperation(a,b){return!0}async runOperation(a,b){let c=(await Promise.all(a.input.map(async a=>({output:await this.mediatorQueryOperation.mediate({operation:a,context:b}),operation:a})))).map(({output:a,operation:b})=>({output:d.ActorQueryOperation.getSafeBindings(a),operation:b})),f=await this.mediatorJoin.mediate({type:"optional",entries:c,context:b});if(a.expression){let g={...d.ActorQueryOperation.getAsyncExpressionContext(b)},h=new e.AsyncEvaluator(a.expression,g),i=f.bindingsStream.transform({autoStart:!1,transform:async(a,c,d)=>{try{let f=await h.evaluateAsEBV(a);f&&d(a)}catch(g){(0,e.isExpressionError)(g)?this.logWarn(b,"Error occurred while filtering.",()=>({error:g,bindings:a})):i.emit("error",g)}c()}});f.bindingsStream=i}return f}}b.ActorQueryOperationLeftJoin=f},13892:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(11271),b)},32505:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationMinus=void 0;let d=c(21367);class e extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"minus")}async testOperation(a,b){return!0}async runOperation(a,b){let c=(await Promise.all(a.input.map(async a=>({output:await this.mediatorQueryOperation.mediate({operation:a,context:b}),operation:a})))).map(({output:a,operation:b})=>({output:d.ActorQueryOperation.getSafeBindings(a),operation:b}));return this.mediatorJoin.mediate({type:"minus",entries:c,context:b})}}b.ActorQueryOperationMinus=e},78972:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(32505),b)},18909:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationNop=void 0;let d=c(49655),e=c(21367),f=c(55505),g=new d.BindingsFactory;class h extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"nop")}async testOperation(a,b){return!0}async runOperation(a,b){return{bindingsStream:new f.SingletonIterator(g.bindings()),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}b.ActorQueryOperationNop=h},83565:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(18909),b)},262:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationOrderBySparqlee=void 0;let d=c(21367),e=c(21938),f=c(60390),g=c(33159);class h extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"orderby"),this.window=a.window??Number.POSITIVE_INFINITY}async testOperation(a,b){for(let c of a.expressions)c=this.extractSortExpression(c),new f.AsyncEvaluator(c,d.ActorQueryOperation.getAsyncExpressionContext(b));return!0}async runOperation(a,b){let c=await this.mediatorQueryOperation.mediate({operation:a.input,context:b}),e=d.ActorQueryOperation.getSafeBindings(c),h={window:this.window},i={...d.ActorQueryOperation.getAsyncExpressionContext(b)},{bindingsStream:j}=e;for(let k=a.expressions.length-1;k>=0;k--){let l=a.expressions[k],m=this.isAscending(l);l=this.extractSortExpression(l);let n=new f.AsyncEvaluator(l,i),o=async(a,b,c)=>{try{let d=await n.evaluate(a);c({bindings:a,result:d})}catch(e){(0,f.isExpressionError)(e)||j.emit("error",e),c({bindings:a,result:void 0})}b()},p=j.transform({transform:o}),q=new g.SortIterator(p,(a,b)=>(0,f.orderTypes)(a.result,b.result,m),h);j=q.map(({bindings:a,result:b})=>a)}return{type:"bindings",bindingsStream:j,metadata:e.metadata}}extractSortExpression(a){let{expressionType:b,operator:c}=a;return b!==e.Algebra.expressionTypes.OPERATOR?a:"desc"===c?a.args[0]:a}isAscending(a){let{expressionType:b,operator:c}=a;return b!==e.Algebra.expressionTypes.OPERATOR||"desc"!==c}}b.ActorQueryOperationOrderBySparqlee=h},33159:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SortIterator=void 0;let d=c(55505);class e extends d.TransformIterator{constructor(a,b,c){super(a,c);let d=c&&c.window;this.windowLength=Number.isFinite(d)&&d>0?d:Number.POSITIVE_INFINITY,this.sort=b,this.sorted=[]}_read(a,b){let c,{length:d}=this.sorted;for(;d!==this.windowLength&&null!==(c=this.source.read());){let e=0,f=d-1,g,h;for(;e<=f;)g=Math.trunc((e+f)/2),(h=this.sort(c,this.sorted[g]))<0?e=g+1:h>0?f=g-1:(e=g,f=-1);this.sorted.splice(e,0,c),d++}d===this.windowLength&&this._push(this.sorted.pop()),b()}_flush(a){let{length:b}=this.sorted;for(;b--;)this._push(this.sorted.pop());a()}}b.SortIterator=e},45777:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(262),b)},62663:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationPathAlt=void 0;let d=c(46693),e=c(4448),f=c(21367),g=c(55505),h=c(21938);class i extends d.ActorAbstractPath{constructor(a){super(a,h.Algebra.types.ALT)}async runOperation(a,b){let c=a.predicate,h=(await Promise.all(c.input.map(c=>this.mediatorQueryOperation.mediate({context:b,operation:d.ActorAbstractPath.FACTORY.createPath(a.subject,c,a.object,a.graph)})))).map(f.ActorQueryOperation.getSafeBindings),i=new g.UnionIterator(h.map(a=>a.bindingsStream),{autoStart:!1}),j=()=>Promise.all(h.map(a=>a.metadata())).then(a=>e.ActorQueryOperationUnion.unionMetadata(a,!0));return{type:"bindings",bindingsStream:i,metadata:j}}}b.ActorQueryOperationPathAlt=i},5469:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(62663),b)},28087:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationPathInv=void 0;let d=c(46693),e=c(21938);class f extends d.ActorAbstractPath{constructor(a){super(a,e.Algebra.types.INV)}async runOperation(a,b){let c=a.predicate,e=d.ActorAbstractPath.FACTORY.createPath(a.object,c.path,a.subject,a.graph);return this.mediatorQueryOperation.mediate({operation:e,context:b})}}b.ActorQueryOperationPathInv=f},49063:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(28087),b)},14176:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationPathLink=void 0;let d=c(46693),e=c(21938);class f extends d.ActorAbstractPath{constructor(a){super(a,e.Algebra.types.LINK)}async runOperation(a,b){let c=a.predicate,e=d.ActorAbstractPath.FACTORY.createPattern(a.subject,c.iri,a.object,a.graph);return this.mediatorQueryOperation.mediate({operation:e,context:b})}}b.ActorQueryOperationPathLink=f},61709:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(14176),b)},76777:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationPathNps=void 0;let d=c(46693),e=c(21367),f=c(21938);class g extends d.ActorAbstractPath{constructor(a){super(a,f.Algebra.types.NPS)}async runOperation(a,b){let c=a.predicate,f=this.generateVariable(a),g=d.ActorAbstractPath.FACTORY.createPattern(a.subject,f,a.object,a.graph),h=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:g,context:b})),i=h.bindingsStream.transform({filter(a){return!c.iris.some(b=>b.equals(a.get(f)))},transform(a,b,c){c(a.delete(f)),b()}});return{type:"bindings",bindingsStream:i,metadata:h.metadata}}}b.ActorQueryOperationPathNps=g},19159:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(76777),b)},81953:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationPathOneOrMore=void 0;let d=c(46693),e=c(49655),f=c(21367),g=c(55505),h=c(21938),i=new e.BindingsFactory;class j extends d.ActorAbstractPath{constructor(a){super(a,h.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(a,b){let c=await this.isPathArbitraryLengthDistinct(b,a);if(c.operation)return c.operation;b=c.context;let e=a.predicate;if("Variable"!==a.subject.termType&&"Variable"===a.object.termType){let h=a.object,j=await this.getObjectsPredicateStarEval(a.subject,e.path,h,a.graph,b,!1),k="Variable"===a.graph.termType?[h,a.graph]:[h];return{type:"bindings",bindingsStream:j.bindingsStream,metadata:async()=>({...await j.metadata(),variables:k})}}if("Variable"===a.subject.termType&&"Variable"===a.object.termType){let l=d.ActorAbstractPath.FACTORY.createDistinct(d.ActorAbstractPath.FACTORY.createPath(a.subject,a.predicate.path,a.object,a.graph)),m=f.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:b,operation:l})),n=a.subject,o=a.object,p={},q=new g.MultiTransformIterator(m.bindingsStream,{multiTransform:c=>{let d=c.get(n),f=c.get(o),h="Variable"===a.graph.termType?c.get(a.graph):a.graph;return new g.TransformIterator(async()=>{let c=new g.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(n,o,d,f,e.path,h,b,p,{},c,{count:0}),c.transform({transform(b,c,d){"Variable"===a.graph.termType&&(b=b.set(a.graph,h)),d(b),c()}})},{maxBufferSize:128})},autoStart:!1}),r="Variable"===a.graph.termType?[n,o,a.graph]:[n,o];return{type:"bindings",bindingsStream:q,metadata:async()=>({...await m.metadata(),variables:r})}}if("Variable"===a.subject.termType&&"Variable"!==a.object.termType)return this.mediatorQueryOperation.mediate({context:b,operation:d.ActorAbstractPath.FACTORY.createPath(a.object,d.ActorAbstractPath.FACTORY.createOneOrMorePath(d.ActorAbstractPath.FACTORY.createInv(e.path)),a.subject,a.graph)});let s=this.generateVariable(),t=f.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:b,operation:d.ActorAbstractPath.FACTORY.createPath(a.subject,e,s,a.graph)})),u=t.bindingsStream.transform({filter:b=>a.object.equals(b.get(s)),transform(b,c,d){let e="Variable"===a.graph.termType?i.bindings([[a.graph,b.get(a.graph)]]):i.bindings();d(e),c()}});return{type:"bindings",bindingsStream:u,metadata:async()=>({...await t.metadata(),variables:"Variable"===a.graph.termType?[a.graph]:[]})}}}b.ActorQueryOperationPathOneOrMore=j},14396:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(81953),b)},6606:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationPathSeq=void 0;let d=c(46693),e=c(21367),f=c(21938);class g extends d.ActorAbstractPath{constructor(a){super(a,f.Algebra.types.SEQ)}async runOperation(a,b){let c=a.predicate,f=a.subject,g=[],h=await Promise.all(c.input.map((e,h)=>{let i=h===c.input.length-1?a.object:this.generateVariable(a,`b${h}`),j=d.ActorAbstractPath.FACTORY.createPath(f,e,i,a.graph),k=this.mediatorQueryOperation.mediate({context:b,operation:j});return f=i,h<c.input.length-1&&g.push(i),{output:k,operation:j}}).map(async({output:a,operation:b})=>({output:e.ActorQueryOperation.getSafeBindings(await a),operation:b}))),i=e.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:h,context:b})),j=i.bindingsStream.transform({transform(a,b,c){for(let d of g)a=a.delete(d);c(a),b()}});return{type:"bindings",bindingsStream:j,async metadata(){let a=await i.metadata(),b=a.variables.filter(a=>!g.some(b=>b.value===a.value));return{...a,variables:b}}}}}b.ActorQueryOperationPathSeq=g},20713:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(6606),b)},37957:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationPathZeroOrMore=void 0;let d=c(46693),e=c(49655),f=c(21367),g=c(55505),h=c(22086),i=c(21938),j=new e.BindingsFactory;class k extends d.ActorAbstractPath{constructor(a){super(a,i.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(a,b){let c=await this.isPathArbitraryLengthDistinct(b,a);if(c.operation)return c.operation;b=c.context;let e=a.predicate,i="Variable"===a.subject.termType,k="Variable"===a.object.termType;if("Variable"===a.subject.termType&&"Variable"===a.object.termType){let l=this.generateVariable(a),m=d.ActorAbstractPath.FACTORY.createPattern(a.subject,l,a.object,a.graph),n=f.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:b,operation:m})),o=a.subject,p=a.object,q=new Set,r={},s=new g.MultiTransformIterator(n.bindingsStream,{multiTransform:c=>{let d=c.get(o),f=c.get(p),i="Variable"===a.graph.termType?c.get(a.graph):a.graph,j=(0,h.termToString)(d)+(0,h.termToString)(i),k=(0,h.termToString)(f)+(0,h.termToString)(i);return new g.TransformIterator(async()=>{if(q.has(j)&&q.has(k))return new g.EmptyIterator;let c=new g.BufferedIterator,h={count:0};return q.has(j)||(q.add(j),await this.getSubjectAndObjectBindingsPredicateStar(o,p,d,d,e.path,i,b,r,{},c,h)),q.has(k)||(q.add(k),await this.getSubjectAndObjectBindingsPredicateStar(o,p,f,f,e.path,i,b,r,{},c,h)),c.transform({transform(b,c,d){"Variable"===a.graph.termType&&(b=b.set(a.graph,i)),d(b),c()}})})}}),t="Variable"===a.graph.termType?[o,a.object,a.graph]:[o,a.object];return{type:"bindings",bindingsStream:s,metadata:async()=>({...await n.metadata(),variables:t})}}if(!i&&!k){let u=this.generateVariable(),v=await this.getObjectsPredicateStarEval(a.subject,e.path,u,a.graph,b,!0),w=v.bindingsStream.transform({filter:b=>a.object.equals(b.get(u)),transform(b,c,d){let e="Variable"===a.graph.termType?j.bindings([[a.graph,b.get(a.graph)]]):j.bindings();d(e),c()}});return{type:"bindings",bindingsStream:w,metadata:async()=>({...await v.metadata(),variables:"Variable"===a.graph.termType?[a.graph]:[]})}}let x=i?a.object:a.subject,y=i?a.subject:a.object,z=i?d.ActorAbstractPath.FACTORY.createInv(e.path):e.path,A=await this.getObjectsPredicateStarEval(x,z,y,a.graph,b,!0),B="Variable"===a.graph.termType?[y,a.graph]:[y];return{type:"bindings",bindingsStream:A.bindingsStream,metadata:async()=>({...await A.metadata(),variables:B})}}}b.ActorQueryOperationPathZeroOrMore=k},80842:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(37957),b)},53273:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationPathZeroOrOne=void 0;let d=c(46693),e=c(49655),f=c(21367),g=c(55505),h=c(21938),i=new e.BindingsFactory;class j extends d.ActorAbstractPath{constructor(a){super(a,h.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(a,b){let c=a.predicate,e="Variable"===a.subject.termType,h="Variable"===a.object.termType,j=[];if(!e&&!h&&a.subject.equals(a.object))return{type:"bindings",bindingsStream:new g.SingletonIterator(i.bindings()),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};if(e&&h)throw Error("ZeroOrOne path expressions with 2 variables not supported yet");let k=await this.isPathArbitraryLengthDistinct(b,a);if(k.operation)return k.operation;b=k.context,"Variable"===a.subject.termType&&j.push(i.bindings([[a.subject,a.object]])),"Variable"===a.object.termType&&j.push(i.bindings([[a.object,a.subject]]));let l=f.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:b,operation:d.ActorAbstractPath.FACTORY.createPath(a.subject,c.path,a.object,a.graph)})),m=l.bindingsStream.prepend(j);return{type:"bindings",bindingsStream:m,metadata:l.metadata}}}b.ActorQueryOperationPathZeroOrOne=j},14456:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(53273),b)},67164:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationProject=void 0;let d=c(21367),e=c(10959),f=c(41640),g=new f.DataFactory;class h extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"project")}async testOperation(a,b){return!0}async runOperation(a,b){let c=d.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a.input,context:b})),f=await c.metadata(),h=a.variables,i=f.variables.filter(a=>!h.some(b=>a.value===b.value)),j=h.filter(a=>!f.variables.some(b=>a.value===b.value));if(j.length>0)throw Error(`Variables '${j.map(a=>`?${a.value}`)}' are used in the projection result, but are not assigned.`);let k=0===i.length?c.bindingsStream:c.bindingsStream.transform({map(a){for(let b of i)a=a.delete(b);return a},autoStart:!1}),l=0;return k=k.transform({map(a){l++;let b=new Map;return a.map(a=>{if(a instanceof e.BlankNodeBindingsScoped){let c=b.get(a.value);return c||(c=g.blankNode(`${a.value}${l}`),b.set(a.value,c)),c}return a})},autoStart:!1}),{type:"bindings",bindingsStream:k,metadata:async()=>({...f,variables:h})}}}b.ActorQueryOperationProject=h},69393:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(67164),b)},85977:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationQuadpattern=void 0;let d=c(49655),e=c(21367),f=c(8199),g=c(41640),h=c(11234),i=c(21938),j=new d.BindingsFactory,k=new g.DataFactory,l=new i.Factory;class m extends e.ActorQueryOperationTyped{constructor(a){super(a,"pattern")}static isTermVariable(a){return"Variable"===a.termType}static getVariables(a){return(0,h.uniqTerms)((0,h.getTerms)(a).filter(m.isTermVariable))}static getDuplicateElementLinks(a){let b={},c=!1;for(let d of h.QUAD_TERM_NAMES)if("Variable"===a[d].termType){let e=a[d].value,f=(b[e]||(b[e]=[])).push(d);c=c||f>1}if(!c)return;let g={};for(let i in b){let j=b[i],k=j.slice(1);k.length>0&&(g[j[0]]=k)}return g}static validateMetadata(a){for(let b of["cardinality","canContainUndefs"])if(!(b in a))throw Error(`Invalid metadata: missing ${b} in ${JSON.stringify(a)}`);return a}static getMetadata(a,b,c){return()=>new Promise((b,c)=>{a.getProperty("metadata",a=>b(a)),a.on("error",c)}).then(a=>("canContainUndefs"in a||(a.canContainUndefs=!1),m.quadsMetadataToBindingsMetadata(m.validateMetadata(a),b,c)))}static quadsMetadataToBindingsMetadata(a,b,c){return{...a,order:a.order?m.quadsOrderToBindingsOrder(a.order,b):void 0,availableOrders:a.availableOrders?a.availableOrders.map(a=>({cost:a.cost,terms:m.quadsOrderToBindingsOrder(a.terms,b)})):void 0,variables:c}}static quadsOrderToBindingsOrder(a,b){let c={};return a.map(a=>{let d=b[a.term];if(d&&!c[d])return c[d]=!0,{term:k.variable(d),direction:a.direction}}).filter(a=>Boolean(a))}async testOperation(a,b){return!0}async runOperation(a,b){a.context&&(b=b.merge(a.context));let c=a,d=this.unionDefaultGraph||b.get(f.KeysQueryOperation.unionDefaultGraph);"DefaultGraph"===a.graph.termType&&d&&(c=l.createPattern(a.subject,a.predicate,a.object,k.variable("__comunica:defaultGraph")));let g=await this.mediatorResolveQuadPattern.mediate({pattern:c,context:b}),i=m.getVariables(a),n=(0,h.reduceTerms)(a,(a,b,c)=>("Variable"===b.termType&&(a[c]=b.value),a),{}),o=(a,b,c)=>{let d=n[c];return d&&a.push([k.variable(d),b]),a},p=m.getMetadata(g.data,n,i),q=new e.ClosableTransformIterator(async()=>{let b=g.data,c=m.getDuplicateElementLinks(a);return"Variable"!==a.graph.termType||d||(b=b.filter(a=>"DefaultGraph"!==a.graph.termType)),c&&(b=b.filter(a=>{for(let b of h.TRIPLE_TERM_NAMES)for(let d of c[b]||[])if(!a[b].equals(a[d]))return!1;return!0})),b.map(a=>j.bindings((0,h.reduceTerms)(a,o,[])))},{autoStart:!1,onClose:()=>g.data.destroy()});return{type:"bindings",bindingsStream:q,metadata:p}}}b.ActorQueryOperationQuadpattern=m},38949:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(85977),b)},15921:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationReducedHash=void 0;let d=c(21367),e=c(39593);class f extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"reduced")}async testOperation(a,b){return!0}async runOperation(a,b){let c=d.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a.input,context:b})),e=c.bindingsStream.filter(await this.newHashFilter(b));return{type:"bindings",bindingsStream:e,metadata:c.metadata}}async newHashFilter(a){let{hashFunction:b}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:a}),c=new e({max:this.cacheSize});return a=>{let d=b(a);return!c.has(d)&&c.set(d,!0)}}}b.ActorQueryOperationReducedHash=f},95107:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(15921),b)},42063:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationService=void 0;let d=c(49655),e=c(21367),f=c(8199),g=c(55505),h=new d.BindingsFactory;class i extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"service")}async testOperation(a,b){if("NamedNode"!==a.name.termType)throw Error(`${this.name} can only query services by IRI, while a ${a.name.termType} was given.`);return!0}async runOperation(a,b){let c=a.name.value,d=b.delete(f.KeysRdfResolveQuadPattern.source).delete(f.KeysRdfResolveQuadPattern.sources).delete(f.KeysInitQuery.queryString),i=this.forceSparqlEndpoint?"sparql":void 0;d=d.set(f.KeysRdfResolveQuadPattern.sources,[{type:i,value:c}]);let j;try{j=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a.input,context:d}))}catch(k){if(a.silent)j={bindingsStream:new g.SingletonIterator(h.bindings()),type:"bindings",metadata:async()=>({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};else throw k}return j}}b.ActorQueryOperationService=i},95247:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(42063),b)},53078:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationSlice=void 0;let d=c(21367),e=c(8199);class f extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"slice")}async testOperation(a,b){return!0}async runOperation(a,b){a.length&&(b=b.set(e.KeysQueryOperation.limitIndicator,a.length));let c=await this.mediatorQueryOperation.mediate({operation:a.input,context:b});if("bindings"===c.type){let d=this.sliceStream(c.bindingsStream,a);return{type:"bindings",bindingsStream:d,metadata:this.sliceMetadata(c,a)}}if("quads"===c.type){let f=this.sliceStream(c.quadStream,a);return{type:"quads",quadStream:f,metadata:this.sliceMetadata(c,a)}}throw Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${c.type}'`)}sliceStream(a,b){let c=Boolean(b.length)||0===b.length,{start:d}=b,e=c?b.start+b.length-1:Number.POSITIVE_INFINITY;return a.transform({offset:d,limit:Math.max(e-d+1,0),autoStart:!1})}sliceMetadata(a,b){let c=Boolean(b.length)||0===b.length;return()=>a.metadata().then(a=>{let d={...a.cardinality};return Number.isFinite(d.value)&&(d.value=Math.max(0,d.value-b.start),c&&(d.value=Math.min(d.value,b.length))),{...a,cardinality:d}})}}b.ActorQueryOperationSlice=f},21883:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(53078),b)},95595:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationSparqlEndpoint=void 0;let d=c(49655),e=c(21367),f=c(76976),g=c(91085),h=c(8199),i=c(55505),j=c(68954),k=c(41640),l=c(21938),m=c(84486),n=new d.BindingsFactory,o=new k.DataFactory;class p extends e.ActorQueryOperation{constructor(a){super(a),this.endpointFetcher=new j.SparqlEndpointFetcher({method:a.forceHttpGet?"GET":"POST",fetch:(a,b)=>this.mediatorHttp.mediate({input:a,init:b,context:this.lastContext}),prefixVariableQuestionMark:!0})}async test(a){if(!a.operation)throw Error("Missing field 'operation' in a query operation action.");let b=(0,f.getContextSourceFirst)(a.context),c=(0,g.getContextDestinationFirst)(a.context),d=b?(0,f.getDataSourceType)(b):void 0,e=c?(0,g.getDataDestinationType)(c):void 0,h=b?(0,f.getDataSourceValue)(b):void 0,i=c?(0,g.getDataDestinationValue)(c):void 0;if(b&&"sparql"===d&&(!c||"sparql"===e&&i===h)||b&&!d&&(!c|| !e&&i===h)&&"string"==typeof h&&(this.checkUrlSuffixSparql&&h.endsWith("/sparql")||this.checkUrlSuffixUpdate&&h.endsWith("/update")))return{httpRequests:1};throw Error(`${this.name} requires a single source with a 'sparql' endpoint to be present in the context or URL ending on /sparql or /update.`)}async run(a){let b=(0,f.getContextSourceFirst)(a.context);if(!b)throw Error("Illegal state: undefined sparql endpoint source.");let c=(0,f.getDataSourceValue)(b);this.lastContext=a.context;let d,e,g;try{d=a.context.get(h.KeysInitQuery.queryString)??(0,l.toSparql)(a.operation),e=this.endpointFetcher.getQueryType(d),"UNKNOWN"===e&&(e=this.endpointFetcher.getUpdateTypes(d))}catch{}switch(e&&"UNKNOWN"!==e||(g=l.Util.inScopeVariables(a.operation),d=(0,l.toSparql)(p.FACTORY.createProject(a.operation,g)),e="SELECT"),e){case"SELECT":return g||(g=l.Util.inScopeVariables(a.operation)),this.executeQuery(c,d,!1,g);case"CONSTRUCT":return this.executeQuery(c,d,!0);case"ASK":return{type:"boolean",execute:()=>this.endpointFetcher.fetchAsk(c,d)};default:return{type:"void",execute:()=>this.endpointFetcher.fetchUpdate(c,d)}}}executeQuery(a,b,c,d){let e=c?this.endpointFetcher.fetchTriples(a,b):this.endpointFetcher.fetchBindings(a,b),f=(0,i.wrap)(e,{autoStart:!1}).map(a=>c?a:n.bindings(Object.entries(a).map(([a,b])=>[o.variable(a.slice(1)),b]))),g=new m.LazyCardinalityIterator(f),h=p.cachifyMetadata(async()=>({cardinality:{type:"exact",value:await g.getCardinality()},canContainUndefs:!0,variables:d}));return c?{type:"quads",quadStream:g,metadata:h}:{type:"bindings",bindingsStream:g,metadata:h}}}b.ActorQueryOperationSparqlEndpoint=p,p.FACTORY=new l.Factory},84486:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LazyCardinalityIterator=void 0;let d=c(55505);class e extends d.AsyncIterator{constructor(a){super(),this._source=a,this._count=0,this._buffering=!0,a[d.DESTINATION]=this,a.on("readable",f),a.on("end",f),a.on("error",g),this.readable=a.readable}read(){if(this._buffer)return this._buffer.empty?(this._buffering||this.close(),this.readable=!1,null):this._buffer.shift();let a=null;return this._source.readable&&null!==(a=this._source.read())?this._count+=1:(this.readable=!1,this._source.done&&this.close()),a}getCardinality(){return this._cardinality?this._cardinality:this._error?Promise.reject(this._error):(this._source.done&&this.close(),this.done?this._cardinality=Promise.resolve(this._count):(this._buffer=new d.LinkedList,this._cardinality=new Promise((a,b)=>{this._source.removeListener("readable",f),this._source.removeListener("end",f);let c=()=>{this._source.removeListener("data",d),this._source.removeListener("end",e),this._source.removeListener("error",g)},d=a=>{this._buffer.push(a),this._count+=1,this.readable=!0},e=()=>{this._buffering=!1,c(),a(this._count)},g=a=>{this._buffering=!1,c(),b(a)};this._source.on("data",d),this._source.on("end",e),this._source.on("error",g)})),this._cardinality)}close(){this._source.removeListener("readable",f),this._source.removeListener("end",f),this._source.removeListener("error",g),delete this._source[d.DESTINATION],this._source.destroy(),super.close()}}function f(){this[d.DESTINATION].readable=!0}function g(a){this[d.DESTINATION]._error=a,this[d.DESTINATION].emit("error",a)}b.LazyCardinalityIterator=e},60656:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(95595),b)},4810:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationUnion=void 0;let d=c(21367),e=c(55505),f=c(11234);class g extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"union")}static unionVariables(a){return(0,f.uniqTerms)(a.flat())}static unionMetadata(a,b){let c={type:"exact",value:0};for(let d of a)if(d.cardinality.value&&Number.isFinite(d.cardinality.value)||0===d.cardinality.value)"estimate"===d.cardinality.type&&(c.type="estimate"),c.value+=d.cardinality.value;else{c.type="estimate",c.value=Number.POSITIVE_INFINITY;break}let e={cardinality:c,canContainUndefs:a.some(a=>a.canContainUndefs)};return b&&(e.variables=g.unionVariables(a.map(a=>a.variables))),e}async testOperation(a,b){return!0}async runOperation(a,b){let c=(await Promise.all(a.input.map(a=>this.mediatorQueryOperation.mediate({operation:a,context:b})))).map(d.ActorQueryOperation.getSafeBindings),f=new e.UnionIterator(c.map(a=>a.bindingsStream),{autoStart:!1}),h=()=>Promise.all(c.map(a=>a.metadata())).then(a=>g.unionMetadata(a,!0));return{type:"bindings",bindingsStream:f,metadata:h}}}b.ActorQueryOperationUnion=g},4448:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(4810),b)},98910:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationAddRewrite=void 0;let d=c(21367),e=c(41640),f=c(21938),g=new e.DataFactory;class h extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"add"),this.factory=new f.Factory}async testOperation(a,b){return d.ActorQueryOperation.throwOnReadOnly(b),!0}runOperation(a,b){let c="DEFAULT"===a.destination?g.defaultGraph():a.destination,d="DEFAULT"===a.source?g.defaultGraph():a.source,e=this.factory.createDeleteInsert(void 0,[this.factory.createPattern(g.variable("s"),g.variable("p"),g.variable("o"),c),],this.factory.createPattern(g.variable("s"),g.variable("p"),g.variable("o"),d));return this.mediatorQueryOperation.mediate({operation:e,context:b})}}b.ActorQueryOperationAddRewrite=h},52667:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(98910),b)},74193:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationClear=void 0;let d=c(21367),e=c(41640),f=new e.DataFactory;class g extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"clear")}async testOperation(a,b){return d.ActorQueryOperation.throwOnReadOnly(b),!0}async runOperation(a,b){let c;c="DEFAULT"===a.source?f.defaultGraph():"string"==typeof a.source?a.source:[a.source];let{execute:d}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:c,requireExistence:!a.silent,dropGraphs:!1},context:b});return{type:"void",execute:d}}}b.ActorQueryOperationClear=g},23003:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(74193),b)},68303:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationUpdateCompositeUpdate=void 0;let d=c(21367);class e extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"compositeupdate")}async testOperation(a,b){return d.ActorQueryOperation.throwOnReadOnly(b),!0}async runOperation(a,b){let c=()=>(async()=>{for(let c of a.updates){let e=d.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:c,context:b}));await e.execute()}})();return{type:"void",execute:c}}}b.ActorQueryOperationUpdateCompositeUpdate=e},21040:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(68303),b)},23307:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationCopyRewrite=void 0;let d=c(21367),e=c(21938);class f extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"copy"),this.factory=new e.Factory}async testOperation(a,b){return d.ActorQueryOperation.throwOnReadOnly(b),!0}runOperation(a,b){if("string"==typeof a.destination&&"string"==typeof a.source&&a.destination===a.source||"string"!=typeof a.destination&&"string"!=typeof a.source&&a.destination.equals(a.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});let c=this.factory.createCompositeUpdate([this.factory.createDrop(a.destination,!0),this.factory.createAdd(a.source,a.destination,a.silent),]);return this.mediatorQueryOperation.mediate({operation:c,context:b})}}b.ActorQueryOperationCopyRewrite=f},95483:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(23307),b)},84897:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationCreate=void 0;let d=c(21367);class e extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"create")}async testOperation(a,b){return d.ActorQueryOperation.throwOnReadOnly(b),!0}async runOperation(a,b){let{execute:c}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[a.source],requireNonExistence:!a.silent},context:b});return{type:"void",execute:c}}}b.ActorQueryOperationCreate=e},85027:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(84897),b)},74024:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationUpdateDeleteInsert=void 0;let d=c(69893),e=c(49655),f=c(21367),g=c(55505),h=new e.BindingsFactory;class i extends f.ActorQueryOperationTypedMediated{constructor(a){super(a,"deleteinsert"),this.blankNodeCounter=0}async testOperation(a,b){return f.ActorQueryOperation.throwOnReadOnly(b),!0}async runOperation(a,b){let c=a.where?f.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a.where,context:b})).bindingsStream:new g.ArrayIterator([h.bindings()],{autoStart:!1}),e,i;a.insert&&(e=new d.BindingsToQuadsIterator(a.insert.map(d.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),c.clone(),!1),this.blankNodeCounter++),a.delete&&(i=new d.BindingsToQuadsIterator(a.delete.map(d.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),c.clone(),!1),this.blankNodeCounter++);let{execute:j}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:e,quadStreamDelete:i,context:b});return{type:"void",execute:j}}}b.ActorQueryOperationUpdateDeleteInsert=i},5827:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(74024),b)},85397:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationDrop=void 0;let d=c(21367),e=c(41640),f=new e.DataFactory;class g extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"drop")}async testOperation(a,b){return d.ActorQueryOperation.throwOnReadOnly(b),!0}async runOperation(a,b){let c;c="DEFAULT"===a.source?f.defaultGraph():"string"==typeof a.source?a.source:[a.source];let{execute:d}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:c,requireExistence:!a.silent,dropGraphs:!0},context:b});return{type:"void",execute:d}}}b.ActorQueryOperationDrop=g},28104:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(85397),b)},41888:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationLoad=void 0;let d=c(21367),e=c(8199),f=c(41640),g=c(21938),h=new f.DataFactory;class i extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"load"),this.factory=new g.Factory,this.constructOperation=this.factory.createConstruct(this.factory.createPattern(h.variable("s"),h.variable("p"),h.variable("o")),[this.factory.createPattern(h.variable("s"),h.variable("p"),h.variable("o"))])}async testOperation(a,b){return d.ActorQueryOperation.throwOnReadOnly(b),!0}async runOperation(a,b){let c=b.set(e.KeysRdfResolveQuadPattern.sources,[a.source.value]);a.silent&&(c=c.set(e.KeysInitQuery.lenient,!0));let d=i.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.constructOperation,context:c})),f=d.quadStream;a.destination&&(f=f.map(b=>h.quad(b.subject,b.predicate,b.object,a.destination)));let{execute:g}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:f,context:b});return{type:"void",execute:g}}}b.ActorQueryOperationLoad=i},77584:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(41888),b)},2365:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationMoveRewrite=void 0;let d=c(21367),e=c(21938);class f extends d.ActorQueryOperationTypedMediated{constructor(a){super(a,"move"),this.factory=new e.Factory}async testOperation(a,b){return d.ActorQueryOperation.throwOnReadOnly(b),!0}runOperation(a,b){if("string"==typeof a.destination&&"string"==typeof a.source&&a.destination===a.source||"string"!=typeof a.destination&&"string"!=typeof a.source&&a.destination.equals(a.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});let c=[this.factory.createDrop(a.destination,!0),this.factory.createAdd(a.source,a.destination,a.silent),this.factory.createDrop(a.source),],d=this.factory.createCompositeUpdate(c);return this.mediatorQueryOperation.mediate({operation:d,context:b})}}b.ActorQueryOperationMoveRewrite=f},22364:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(2365),b)},18374:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationValues=void 0;let d=c(49655),e=c(21367),f=c(55505),g=c(41640),h=new d.BindingsFactory,i=new g.DataFactory;class j extends e.ActorQueryOperationTyped{constructor(a){super(a,"values")}async testOperation(a,b){return!0}async runOperation(a,b){let c=new f.ArrayIterator(a.bindings.map(a=>h.bindings(Object.entries(a).map(([a,b])=>[i.variable(a.slice(1)),b])))),d=a.variables,e=()=>Promise.resolve({cardinality:{type:"exact",value:a.bindings.length},canContainUndefs:a.bindings.some(a=>d.some(b=>!(`?${b.value}` in a))),variables:d});return{type:"bindings",bindingsStream:c,metadata:e}}}b.ActorQueryOperationValues=j},49423:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(18374),b)},26086:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryParseGraphql=void 0;let d=c(99388),e=c(8199),f=c(79655);class g extends d.ActorQueryParse{constructor(a){super(a),this.graphqlToSparql=new f.Converter({requireContext:!0})}async test(a){if(a.queryFormat?.language!=="graphql")throw Error("This actor can only parse GraphQL queries");return!0}async run(a){let b=a.context.get(e.KeysInitQuery.jsonLdContext)||{},c={singularizeVariables:a.context.get(e.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(a.query,b,c)}}}b.ActorQueryParseGraphql=g},90129:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(26086),b)},41221:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryParseSparql=void 0;let d=c(99388),e=c(21938),f=c(9619);class g extends d.ActorQueryParse{constructor(a){super(a),this.prefixes=Object.freeze(this.prefixes)}async test(a){if(a.queryFormat&&"sparql"!==a.queryFormat.language)throw Error("This actor can only parse SPARQL queries");return!0}async run(a){let b=new f.Parser({prefixes:this.prefixes,baseIRI:a.baseIRI}),c=b.parse(a.query),d="query"===c.type?c.base:void 0;return{baseIRI:d,operation:(0,e.translate)(c,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:a.baseIRI})}}}b.ActorQueryParseSparql=g},87216:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(41221),b)},76670:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeJson=void 0;let d=c(3642),e=c(22086),f=c(89827);class g extends d.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}async testHandleChecked(a,b){if(!["bindings","quads","boolean"].includes(a.type))throw Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(a,b,c){let d=new f.Readable;d._read=()=>{};let g=!0;if("bindings"===a.type){let h=a.bindingsStream;d.push("["),h.on("error",a=>d.emit("error",a)),h.on("data",a=>{d.push(g?"\n":",\n"),d.push(JSON.stringify(Object.fromEntries([...a].map(([a,b])=>[a.value,e.termToString(b)])))),g=!1}),h.on("end",()=>{d.push(g?"]\n":"\n]\n"),d.push(null)})}else if("quads"===a.type){let i=a.quadStream;d.push("["),i.on("error",a=>d.emit("error",a)),i.on("data",a=>{d.push(g?"\n":",\n"),d.push(JSON.stringify(e.quadToStringQuad(a))),g=!1}),i.on("end",()=>{d.push(g?"]\n":"\n]\n"),d.push(null)})}else try{d.push(`${JSON.stringify(await a.execute())}
`),d.push(null)}catch(j){setTimeout(()=>d.emit("error",j))}return{data:d}}}b.ActorQueryResultSerializeJson=g},43252:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(76670),b)},80523:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeRdf=void 0;let d=c(3642);class e extends d.ActorQueryResultSerialize{constructor(a){super(a)}async testHandle(a,b,c){if("quads"!==a.type)throw Error(`Actor ${this.name} can only handle quad streams`);let{mediaTypes:d}=await this.mediatorMediaTypeCombiner.mediate({context:c,mediaTypes:!0});if(!(b in d))throw Error(`Actor ${this.name} can not handle media type ${b}. All available types: ${Object.keys(d)}`);return!0}async runHandle(a,b,c){return(await this.mediatorRdfSerialize.mediate({context:c,handle:{context:c,quadStream:a.quadStream},handleMediaType:b})).handle}async testMediaType(a){return!0}async getMediaTypes(a){return(await this.mediatorMediaTypeCombiner.mediate({context:a,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(a){return!0}async getMediaTypeFormats(a){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:a,mediaTypeFormats:!0})).mediaTypeFormats}}b.ActorQueryResultSerializeRdf=e},54577:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(80523),b)},40452:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeSimple=void 0;let d=c(3642),e=c(89827);class f extends d.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}async testHandleChecked(a,b){if(!["bindings","quads","boolean","void"].includes(a.type))throw Error("This actor can only handle bindings streams, quad streams, booleans, or updates.");return!0}async runHandle(a,b,c){let d=new e.Readable;d._read=()=>{};let f;if("bindings"===a.type)(f=a.bindingsStream).on("error",a=>d.emit("error",a)),f.on("data",a=>d.push(`${[...a].map(([a,b])=>`?${a.value}: ${b.value}`).join("\n")}

`)),f.on("end",()=>d.push(null));else if("quads"===a.type)(f=a.quadStream).on("error",a=>d.emit("error",a)),f.on("data",a=>d.push(`subject: ${a.subject.value}
predicate: ${a.predicate.value}
object: ${a.object.value}
graph: ${a.graph.value}

`)),f.on("end",()=>d.push(null));else if("boolean"===a.type)try{d.push(`${JSON.stringify(await a.execute())}
`),d.push(null)}catch(g){setTimeout(()=>d.emit("error",g))}else a.execute().then(()=>{d.push("ok\n"),d.push(null)}).catch(a=>setTimeout(()=>d.emit("error",a)));return{data:d}}}b.ActorQueryResultSerializeSimple=f},92088:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(40452),b)},39689:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeSparqlCsv=void 0;let d=c(3642),e=c(89827);class f extends d.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToCsvBindings(a){if(!a)return"";let b=a.value;return b="Literal"===a.termType?`${b}`:"BlankNode"===a.termType?`_:${b}`:`<${b}>`,/[",\n\r]/u.test(b)&&(b=`"${b.replace(/"/ug,'""')}"`),b}async testHandleChecked(a,b){if("bindings"!==a.type)throw Error("This actor can only handle bindings streams.");return!0}async runHandle(a,b,c){let d=a,g=new e.Readable;g._read=()=>{};let h=await d.metadata();return g.push(`${h.variables.map(a=>a.value).join(",")}\r
`),d.bindingsStream.on("error",a=>{g.emit("error",a)}),d.bindingsStream.on("data",a=>{g.push(`${h.variables.map(b=>f.bindingToCsvBindings(a.get(b))).join(",")}\r
`)}),d.bindingsStream.on("end",()=>{g.push(null)}),{data:g}}}b.ActorQueryResultSerializeSparqlCsv=f},71947:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(39689),b)},6977:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActionObserverHttp=void 0;let d=c(51890);class e extends d.ActionObserver{constructor(a){super(a),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(a,b,c){this.requests++}}b.ActionObserverHttp=e},91199:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeSparqlJson=void 0;let d=c(3642),e=c(89827);class f extends d.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToJsonBindings(a){if("Literal"===a.termType){let b=a,c={value:b.value,type:"literal"},{language:d}=b,{datatype:e}=b;return d?c["xml:lang"]=d:e&&"http://www.w3.org/2001/XMLSchema#string"!==e.value&&(c.datatype=e.value),c}return"BlankNode"===a.termType?{value:a.value,type:"bnode"}:{value:a.value,type:"uri"}}async testHandleChecked(a,b){if(!["bindings","boolean"].includes(a.type))throw Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(a,b,c){let d=new e.Readable;d._read=()=>{};let g={};if("bindings"===a.type){let h=await a.metadata();h.variables.length>0&&(g.vars=h.variables.map(a=>a.value))}d.push(`{"head": ${JSON.stringify(g)},
`);let i=!0;if("bindings"===a.type){let j=a.bindingsStream;j.on("error",a=>{d.emit("error",a)}),j.on("data",a=>{i?d.push('"results": { "bindings": [\n'):d.push(",\n");let b=Object.fromEntries([...a].map(([a,b])=>[a.value,f.bindingToJsonBindings(b)]));d.push(JSON.stringify(b)),i=!1}),j.on("end",()=>{i&&d.push('"results": { "bindings": [\n'),d.push("\n]}"),this.emitMetadata&&d.push(`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`),d.push("}\n"),d.push(null)})}else try{d.push(`"boolean":${await a.execute()}
}
`),d.push(null)}catch(k){d.once("newListener",()=>d.emit("error",k))}return{data:d}}}b.ActorQueryResultSerializeSparqlJson=f},99030:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(6977),b),e(c(91199),b)},59171:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeSparqlTsv=void 0;let d=c(3642),e=c(71367),f=c(89827);class g extends d.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToTsvBindings(a){return a?(0,e.termToString)(a).replace(/\t/gu,"\\t").replace(/\n/gu,"\\n").replace(/\r/gu,"\\r"):""}async testHandleChecked(a,b){if("bindings"!==a.type)throw Error("This actor can only handle bindings streams.");return!0}async runHandle(a,b,c){let d=a,e=new f.Readable;e._read=()=>{};let h=await d.metadata();return e.push(`${h.variables.map(a=>a.value).join("	")}
`),d.bindingsStream.on("error",a=>{e.emit("error",a)}),d.bindingsStream.on("data",a=>{e.push(`${h.variables.map(b=>g.bindingToTsvBindings(a.get(b))).join("	")}
`)}),d.bindingsStream.on("end",()=>{e.push(null)}),{data:e}}}b.ActorQueryResultSerializeSparqlTsv=g},50828:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(59171),b)},24325:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeSparqlXml=void 0;let d=c(3642),e=c(89827),f=c(12940);class g extends d.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToXmlBindings(a,b){return{name:"binding",attributes:{name:b.value},children:[this.valueToXmlValue(a)]}}static valueToXmlValue(a){let b;switch(a.termType){case"Literal":return b=a.language?{"xml:lang":a.language}:a.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==a.datatype.value?{datatype:a.datatype.value}:{},{name:"literal",attributes:b,children:a.value};case"BlankNode":return{name:"bnode",children:a.value};default:return{name:"uri",children:a.value}}}async testHandleChecked(a,b){if(!["bindings","boolean"].includes(a.type))throw Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(a,b,c){let d=new e.Readable;d._read=()=>{};let h=new f.XmlSerializer(a=>d.push(a));h.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"});let i=await a.metadata();if(h.add({name:"head",children:i.variables.map(a=>({name:"variable",attributes:{name:a.value}}))}),"bindings"===a.type){h.open("results");let j=a.bindingsStream;j.on("error",a=>{d.emit("error",a)}),j.on("data",a=>{h.add({name:"result",children:[...a].map(([a,b])=>g.bindingToXmlBindings(b,a))})}),j.on("end",()=>{h.close(),h.close(),setTimeout(()=>d.push(null))})}else try{let k=await a.execute();h.add({name:"boolean",children:k.toString()}),h.close(),setTimeout(()=>d.push(null))}catch(l){setTimeout(()=>d.emit("error",l))}return{data:d}}}b.ActorQueryResultSerializeSparqlXml=g},12940:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.XmlSerializer=void 0,b.XmlSerializer=class{constructor(a){this.stack=[],this.push=a,this.push(`<?xml version="1.0" encoding="UTF-8"?>
`)}open(a,b){this.push(`${this.identation()+this.formatTag(a,b,"open")}
`),this.stack.push(a)}close(){let a=this.stack.pop();if(void 0===a)throw Error("There is no tag left to close");this.push(`${this.identation()+this.formatTag(a,{},"close")}
`)}add(a){this.push(this.serializeNode(a))}serializeNode(a){if(void 0===a.children)return`${this.identation()+this.formatTag(a.name,a.attributes,"self-closing")}
`;if("string"==typeof a.children)return`${this.identation()+this.formatTag(a.name,a.attributes,"open")+this.escape(a.children)+this.formatTag(a.name,{},"close")}
`;let b=[];for(let c of(b.push(`${this.identation()+this.formatTag(a.name,a.attributes,"open")}
`),this.stack.push(a.name),a.children))b.push(this.serializeNode(c));return this.stack.pop(),b.push(`${this.identation()+this.formatTag(a.name,{},"close")}
`),b.join("")}identation(){return this.stack.map(a=>"  ").join("")}formatTag(a,b,c){return`<${"close"===c?"/":""}${a}${Object.entries(b||{}).map(a=>` ${a[0]}="${this.escape(a[1])}"`)}${"self-closing"===c?"/":""}>`}escape(a){return a.replace(/["&'<>]/gu,a=>{switch(a){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}}},83077:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(24325),b)},26002:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActionObserverHttp=void 0;let d=c(51890);class e extends d.ActionObserver{constructor(a){super(a),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(a,b,c){this.requests++}}b.ActionObserverHttp=e},84411:function(a,b,c){"use strict";var d=c(34155);Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeStats=void 0;let e=c(3642),f=c(89827);class g extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}async testHandleChecked(a,b){if(!["bindings","quads"].includes(a.type))throw Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(a){a.push(`Result,Delay (ms),HTTP requests
`)}pushStat(a,b,c){let d=[c,this.delay(b),this.httpObserver.requests,].join(",");a.push(`${d}
`)}pushFooter(a,b){let c=["TOTAL",this.delay(b),this.httpObserver.requests,].join(",");a.push(`${c}
`),a.push(null)}async runHandle(a,b,c){let d=new f.Readable;d._read=()=>{};let e="bindings"===a.type?a.bindingsStream:a.quadStream,g=this.now(),h=1;return this.pushHeader(d),e.on("error",a=>d.emit("error",a)),e.on("data",()=>this.pushStat(d,g,h++)),e.on("end",()=>this.pushFooter(d,g)),{data:d}}now(){if("undefined"==typeof performance){let a=d.hrtime();return 1e3*a[0]+a[1]/1e6}return performance.now()}delay(a){return this.now()-a}}b.ActorQueryResultSerializeStats=g},15015:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(26002),b),e(c(84411),b)},54894:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeTable=void 0;let d=c(3642),e=c(41640),f=c(11234),g=c(89827),h=new e.DataFactory,i=f.QUAD_TERM_NAMES.map(a=>h.variable(a));class j extends d.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a),this.padding=j.repeat(" ",this.columnWidth)}static repeat(a,b){return Array(b+1).join(a)}async testHandleChecked(a,b){if(!["bindings","quads"].includes(a.type))throw Error("This actor can only handle bindings or quad streams.");return!0}pad(a){return a.length<=this.columnWidth?a+this.padding.slice(a.length):`${a.slice(0,this.columnWidth-1)}`}pushHeader(a,b){let c=b.map(a=>this.pad(a.value)).join(" ");a.push(`${c}
${j.repeat("-",c.length)}
`)}pushRow(a,b,c){a.push(`${b.map(a=>c.get(a)?.value||"").map(a=>this.pad(a)).join(" ")}
`)}async runHandle(a,b,c){let d=new g.Readable;d._read=()=>{};let e;if("bindings"===a.type){e=a.bindingsStream;let h=(await a.metadata()).variables;this.pushHeader(d,h),e.on("error",a=>d.emit("error",a)),e.on("data",a=>this.pushRow(d,h,a))}else e=a.quadStream,this.pushHeader(d,i),e.on("error",a=>d.emit("error",a)),e.on("data",a=>d.push(`${(0,f.getTerms)(a).map(a=>this.pad(a.value)).join(" ")}
`));return e.on("end",()=>d.push(null)),{data:d}}}b.ActorQueryResultSerializeTable=j},63566:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(54894),b)},50973:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeTree=void 0;let d=c(3642),e=c(8199),f=c(51890),g=c(89827),h=c(86610);class i extends d.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingsStreamToGraphQl(a,b,c){let d=f.ActionContext.ensureActionContext(b);return new Promise((b,f)=>{let g=[],i=new h.Converter(c),j={singularizeVariables:d.get(e.KeysInitQuery.graphqlSingularizeVariables)||{}};a.on("error",f),a.on("data",a=>{g.push(Object.fromEntries([...a].map(([a,b])=>[a.value,b])))}),a.on("end",()=>{b(i.bindingsToTree(g,j))})})}async testHandleChecked(a){if("bindings"!==a.type)throw Error("This actor can only handle bindings streams.");return!0}async runHandle(a,b){let c=new g.Readable;c._read=()=>{};let d=a.bindingsStream;return d.on("error",a=>c.emit("error",a)),i.bindingsStreamToGraphQl(d,a.context,{materializeRdfJsTerms:!0}).then(a=>{c.push(JSON.stringify(a,null,"  ")),c.push(null)}).catch(a=>c.emit("error",a)),{data:c}}}b.ActorQueryResultSerializeTree=i},34487:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.bindingsStreamToGraphQl=void 0,e(c(50973),b);let f=c(50973),{bindingsStreamToGraphQl:g}=f.ActorQueryResultSerializeTree;b.bindingsStreamToGraphQl=g},78590:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinEntriesSortCardinality=void 0;let d=c(18771);class e extends d.ActorRdfJoinEntriesSort{constructor(a){super(a)}async test(a){return!0}async run(a){let b=[...a.entries].sort((a,b)=>a.metadata.cardinality.value-b.metadata.cardinality.value);return{entries:b}}}b.ActorRdfJoinEntriesSortCardinality=e},24493:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(78590),b)},55349:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinHash=void 0;let d=c(8554),e=c(49912);class f extends d.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"hash",limitEntries:2})}async getOutput(a){let b=await d.ActorRdfJoin.getMetadatas(a.entries),c=d.ActorRdfJoin.overlappingVariables(b),f=new e.HashJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,a=>d.ActorRdfJoin.hash(a,c),d.ActorRdfJoin.joinBindings);return{result:{type:"bindings",bindingsStream:f,metadata:async()=>await this.constructResultMetadata(a.entries,b,a.context)}}}async getJoinCoefficients(a,b){let c=d.ActorRdfJoin.getRequestInitialTimes(b),e=d.ActorRdfJoin.getRequestItemTimes(b);return{iterations:b[0].cardinality.value+b[1].cardinality.value,persistedItems:b[0].cardinality.value,blockingItems:b[0].cardinality.value,requestTime:c[0]+b[0].cardinality.value*e[0]+c[1]+b[1].cardinality.value*e[1]}}}b.ActorRdfJoinHash=f},38864:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(55349),b)},9298:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinMultiBind=void 0;let d=c(21367),e=c(8554),f=c(8199),g=c(55505),h=c(21938);class i extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0})}static createBindStream(a,b,c,e,f){let h=a=>{let b=c.map(b=>(0,d.materializeOperation)(b,a,{bindFilter:!1})),f=b=>b.merge(a);return new g.TransformIterator(async()=>(await e(b,a)).transform({map:f}),{maxBufferSize:128,autoStart:!1})};switch(a){case"depth-first":return new g.MultiTransformIterator(b,{autoStart:!1,multiTransform:h,optional:f});case"breadth-first":return new g.UnionIterator(b.transform({map:h,optional:f}),{autoStart:!1});default:throw Error(`Received request for unknown bind order: ${a}`)}}async sortJoinEntries(a,b){let c=a.some(a=>a.metadata.canContainUndefs);if(c)return a;let d={};for(let e of a)for(let f of e.metadata.variables){let g=d[f.value];g||(g=0),d[f.value]=++g}let h=[];for(let[i,j]of Object.entries(d))j>=2&&h.push(i);if(0===h.length)throw Error("Bind join can only join entries with at least one common variable");let k=[];for(let l of a){let m=!1;for(let n of l.metadata.variables)if(h.includes(n.value)){m=!0;break}m||k.push(l)}return(await this.mediatorJoinEntriesSort.mediate({entries:a,context:b})).entries.sort((a,b)=>{let c=k.includes(a),d=k.includes(b);return c===d?0:c?1:-1})}async getOutput(a){let b=await e.ActorRdfJoin.getEntriesWithMetadatas(a.entries),c=await this.sortJoinEntries(b,a.context);for(let[g,h]of(this.logDebug(a.context,"First entry for Bind Join: ",()=>({entry:c[0].operation,metadata:c[0].metadata})),c.entries()))0!==g&&h.output.bindingsStream.close();let j=c[0].output,k=[...c];k.splice(0,1);let l=a.context.set(f.KeysQueryOperation.joinLeftMetadata,c[0].metadata).set(f.KeysQueryOperation.joinRightMetadatas,k.map(a=>a.metadata)),m=i.createBindStream(this.bindOrder,j.bindingsStream,k.map(a=>a.operation),async(a,b)=>{let c=1===a.length?a[0]:i.FACTORY.createJoin(a),e=d.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:c,context:l?.set(f.KeysQueryOperation.joinBindings,b)}));return e.bindingsStream},!1);return{result:{type:"bindings",bindingsStream:m,metadata:()=>this.constructResultMetadata(c,c.map(a=>a.metadata),a.context)},physicalPlanMetadata:{bindIndex:b.indexOf(c[0]),bindOrder:this.bindOrder}}}async getJoinCoefficients(a,b){let c=await this.sortJoinEntries(a.entries.map((a,c)=>({...a,metadata:b[c]})),a.context);b=c.map(a=>a.metadata);let d=e.ActorRdfJoin.getRequestInitialTimes(b),f=e.ActorRdfJoin.getRequestItemTimes(b),g=[...c],i=[...d],j=[...f];if(g.splice(0,1),i.splice(0,1),j.splice(0,1),g.some(a=>a.operation.type===h.Algebra.types.EXTEND||a.operation.type===h.Algebra.types.GROUP))throw Error(`Actor ${this.name} can not bind on Extend and Group operations`);let k=await Promise.all(g.map(async b=>(await this.mediatorJoinSelectivity.mediate({entries:[c[0],b],context:a.context})).selectivity*this.selectivityModifier)),l=g.map((a,b)=>a.metadata.cardinality.value*k[b]).reduce((a,b)=>a+b,0),m=i.reduce((a,b,c)=>a+b*k[c],0),n=j.reduce((a,b,c)=>a+b*k[c],0);return{iterations:b[0].cardinality.value*l,persistedItems:0,blockingItems:0,requestTime:d[0]+b[0].cardinality.value*(f[0]+m+l*n)}}}b.ActorRdfJoinMultiBind=i,i.FACTORY=new h.Factory},32234:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(9298),b)},23544:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinMultiEmpty=void 0;let d=c(8554),e=c(55505);class f extends d.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"multi-empty"})}async test(a){if((await d.ActorRdfJoin.getMetadatas(a.entries)).every(a=>d.ActorRdfJoin.getCardinality(a).value>0))throw Error(`Actor ${this.name} can only join entries where at least one is empty`);return super.test(a)}async getOutput(a){for(let b of a.entries)b.output.bindingsStream.close();return{result:{bindingsStream:new e.ArrayIterator([],{autoStart:!1}),metadata:async()=>({cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:d.ActorRdfJoin.joinVariables(await d.ActorRdfJoin.getMetadatas(a.entries))}),type:"bindings"}}}async getJoinCoefficients(a,b){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}b.ActorRdfJoinMultiEmpty=f},28469:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(23544),b)},40351:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinMultiSmallest=void 0;let d=c(21367),e=c(8554),f=c(21938);class g extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0})}async sortJoinEntries(a,b){return(await this.mediatorJoinEntriesSort.mediate({entries:a,context:b})).entries}async getOutput(a){let b=await this.sortJoinEntries(await e.ActorRdfJoin.getEntriesWithMetadatas([...a.entries]),a.context),c=b[0],f=b[1];b.splice(0,2);let h={output:d.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:a.type,entries:[c,f],context:a.context})),operation:g.FACTORY.createJoin([c.operation,f.operation],!1)};return b.push(h),{result:await this.mediatorJoin.mediate({type:a.type,entries:b,context:a.context})}}async getJoinCoefficients(a,b){b=[...b];let c=await this.sortJoinEntries(a.entries.map((a,c)=>({...a,metadata:b[c]})),a.context);b=c.map(a=>a.metadata);let d=e.ActorRdfJoin.getRequestInitialTimes(b),f=e.ActorRdfJoin.getRequestItemTimes(b);return{iterations:b[0].cardinality.value*b[1].cardinality.value*b.slice(2).reduce((a,b)=>a*b.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:d[0]+b[0].cardinality.value*f[0]+d[1]+b[1].cardinality.value*f[1]+b.slice(2).reduce((a,b,c)=>a+d.slice(2)[c]+b.cardinality.value*f.slice(2)[c],0)}}}b.ActorRdfJoinMultiSmallest=g,g.FACTORY=new f.Factory},29261:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(40351),b)},59646:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinNestedLoop=void 0;let d=c(8554),e=c(49912);class f extends d.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){let b=new e.NestedLoopJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,d.ActorRdfJoin.joinBindings,{autoStart:!1});return{result:{type:"bindings",bindingsStream:b,metadata:async()=>await this.constructResultMetadata(a.entries,await d.ActorRdfJoin.getMetadatas(a.entries),a.context)}}}async getJoinCoefficients(a,b){let c=d.ActorRdfJoin.getRequestInitialTimes(b),e=d.ActorRdfJoin.getRequestItemTimes(b);return{iterations:b[0].cardinality.value*b[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:c[0]+b[0].cardinality.value*e[0]+c[1]+b[1].cardinality.value*e[1]}}}b.ActorRdfJoinNestedLoop=f},94266:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(59646),b)},359:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinNone=void 0;let d=c(49655),e=c(8554),f=c(55505),g=new d.BindingsFactory;class h extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(a){if(a.entries.length>0)throw Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(a){return{result:{bindingsStream:new f.ArrayIterator([g.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}b.ActorRdfJoinNone=h},49506:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(359),b)},35707:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinSingle=void 0;let d=c(8554);class e extends d.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(a){if(1!==a.entries.length)throw Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(a){return{result:a.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}b.ActorRdfJoinSingle=e},8249:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(35707),b)},11029:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinSymmetricHash=void 0;let d=c(8554),e=c(49912);class f extends d.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2})}async getOutput(a){let b=await d.ActorRdfJoin.getMetadatas(a.entries),c=d.ActorRdfJoin.overlappingVariables(b),g=new e.SymmetricHashJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,a=>f.hash(a,c),d.ActorRdfJoin.joinBindings);return{result:{type:"bindings",bindingsStream:g,metadata:async()=>await this.constructResultMetadata(a.entries,b,a.context)}}}async getJoinCoefficients(a,b){let c=d.ActorRdfJoin.getRequestInitialTimes(b),e=d.ActorRdfJoin.getRequestItemTimes(b);return{iterations:b[0].cardinality.value+b[1].cardinality.value,persistedItems:b[0].cardinality.value+b[1].cardinality.value,blockingItems:0,requestTime:c[0]+b[0].cardinality.value*e[0]+c[1]+b[1].cardinality.value*e[1]}}}b.ActorRdfJoinSymmetricHash=f},75034:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(11029),b)},77082:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinMinusHashUndef=void 0;let d=c(21367),e=c(8554),f=c(94985);class g extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){let b=a.entries[1].output,c=a.entries[0].output,g=await e.ActorRdfJoin.getMetadatas(a.entries),h=e.ActorRdfJoin.overlappingVariables(g);if(h.length>0){let i=new f.BindingsIndex(h),j=new d.ClosableTransformIterator(async()=>(await new Promise(a=>{b.bindingsStream.on("data",a=>i.add(a)),b.bindingsStream.on("end",a)}),c.bindingsStream.filter(a=>!i.contains(a))),{autoStart:!1,onClose(){b.bindingsStream.destroy(),c.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:j,async metadata(){let a=await c.metadata(),b=await c.metadata();return{...b,canContainUndefs:a.canContainUndefs||b.canContainUndefs}}}}}return{result:c}}async getJoinCoefficients(a,b){let c=e.ActorRdfJoin.getRequestInitialTimes(b),d=e.ActorRdfJoin.getRequestItemTimes(b);return{iterations:(b[0].cardinality.value+b[1].cardinality.value)*1.01,persistedItems:b[0].cardinality.value,blockingItems:b[0].cardinality.value,requestTime:c[0]+b[0].cardinality.value*d[0]+c[1]+b[1].cardinality.value*d[1]}}}b.ActorRdfJoinMinusHashUndef=g},94985:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingsIndex=void 0;let d=c(22086);class e{constructor(a){this.data={},this.keys=a}static hashTerm(a){return a&&"Variable"!==a.termType?(0,d.termToString)(a):""}add(a){if(this.isBindingsValid(a)){let b=this.data;for(let c of this.keys){let d=e.hashTerm(a.get(c)),f=b[d];f||(f=b[d]={}),b=f}}}contains(a){return!!this.isBindingsValid(a)&&this.containsRecursive(a,this.keys,[this.data])}isBindingsValid(a){let b=!1;for(let c of this.keys)if(a.get(c)){b=!0;break}return b}containsRecursive(a,b,c){if(0===b.length)return!0;let d;for(let f of([d,...b]=b,c)){let g=e.hashTerm(a.get(d));if(g){let h=[f[g],f[""]].filter(Boolean);if(0===h.length)continue;if(this.containsRecursive(a,b,h))return!0}else{let i=Object.keys(f).map(a=>f[a]);if(0===i.length&&(i=[{}]),this.containsRecursive(a,b,i))return!0}}return!1}}b.BindingsIndex=e},66313:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(77082),b)},59235:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinMinusHash=void 0;let d=c(21367),e=c(8554);class f extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(a){let b=a.entries[1].output,c=a.entries[0].output,f=await e.ActorRdfJoin.getMetadatas(a.entries),g=e.ActorRdfJoin.overlappingVariables(f);if(g.length>0){let h={},i=new d.ClosableTransformIterator(async()=>(await new Promise(a=>{b.bindingsStream.on("data",a=>{h[e.ActorRdfJoin.hash(a,g)]=!0}),b.bindingsStream.on("end",a)}),c.bindingsStream.filter(a=>!h[e.ActorRdfJoin.hash(a,g)])),{autoStart:!1,onClose(){b.bindingsStream.destroy(),c.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:i,metadata:c.metadata}}}return{result:c}}async getJoinCoefficients(a,b){let c=e.ActorRdfJoin.getRequestInitialTimes(b),d=e.ActorRdfJoin.getRequestItemTimes(b);return{iterations:b[0].cardinality.value+b[1].cardinality.value,persistedItems:b[0].cardinality.value,blockingItems:b[0].cardinality.value,requestTime:c[0]+b[0].cardinality.value*d[0]+c[1]+b[1].cardinality.value*d[1]}}}b.ActorRdfJoinMinusHash=f},44929:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(59235),b)},76102:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinOptionalBind=void 0;let d=c(32234),e=c(21367),f=c(8554),g=c(8199),h=c(21938);class i extends f.ActorRdfJoin{constructor(a){super(a,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){a.entries[1].output.bindingsStream.close();let b=a.context.set(g.KeysQueryOperation.joinLeftMetadata,await a.entries[0].output.metadata()).set(g.KeysQueryOperation.joinRightMetadatas,[await a.entries[1].output.metadata()]),c=d.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,a.entries[0].output.bindingsStream,[a.entries[1].operation],async(a,c)=>{let d=a[0],f=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:d,context:b?.set(g.KeysQueryOperation.joinBindings,c)}));return f.bindingsStream},!0);return{result:{type:"bindings",bindingsStream:c,metadata:async()=>await this.constructResultMetadata(a.entries,await f.ActorRdfJoin.getMetadatas(a.entries),a.context,{canContainUndefs:!0})}}}async getJoinCoefficients(a,b){let c=f.ActorRdfJoin.getRequestInitialTimes(b),d=f.ActorRdfJoin.getRequestItemTimes(b);if(a.entries[1].operation.type===h.Algebra.types.EXTEND||a.entries[1].operation.type===h.Algebra.types.GROUP)throw Error(`Actor ${this.name} can not bind on Extend and Group operations`);let e=(await this.mediatorJoinSelectivity.mediate({entries:a.entries,context:a.context})).selectivity*this.selectivityModifier;return{iterations:b[0].cardinality.value*b[1].cardinality.value*e,persistedItems:0,blockingItems:0,requestTime:c[0]+b[0].cardinality.value*e*(d[0]+c[1]+b[1].cardinality.value*d[1])}}}b.ActorRdfJoinOptionalBind=i},51151:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(76102),b)},91484:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinOptionalNestedLoop=void 0;let d=c(8554),e=c(49912);class f extends d.ActorRdfJoin{constructor(a){super(a,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){let b=new e.NestedLoopJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,d.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1});return{result:{type:"bindings",bindingsStream:b,metadata:async()=>await this.constructResultMetadata(a.entries,await d.ActorRdfJoin.getMetadatas(a.entries),a.context,{canContainUndefs:!0})}}}async getJoinCoefficients(a,b){let c=d.ActorRdfJoin.getRequestInitialTimes(b),e=d.ActorRdfJoin.getRequestItemTimes(b);return{iterations:b[0].cardinality.value*b[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:c[0]+b[0].cardinality.value*e[0]+c[1]+b[1].cardinality.value*e[1]}}}b.ActorRdfJoinOptionalNestedLoop=f},59630:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(91484),b)},69642:function(a,b,c){"use strict";var d,e;Object.defineProperty(b,"__esModule",{value:!0}),b.JoinTypes=b.ActorRdfJoinSelectivityVariableCounting=void 0;let f=c(588),g=c(21938);class h extends f.ActorRdfJoinSelectivity{constructor(a){super(a)}async test(a){return{accuracy:.5}}static getPatternCost(a){let b=1;return"Variable"===a.subject.termType&&(b+=4),("Variable"===a.predicate.termType||a.type===g.Algebra.types.PATH)&&(b+=1),"Variable"===a.object.termType&&(b+=2),"Variable"===a.graph.termType&&(b+=1),b/9}static getJoinTypes(a,b){let c=[];return"Variable"===a.subject.termType?(a.subject.equals(b.subject)&&c.push(d.unboundSS),"pattern"===b.type&&a.subject.equals(b.predicate)&&c.push(d.unboundSP),a.subject.equals(b.object)&&c.push(d.unboundSO),a.subject.equals(b.graph)&&c.push(d.unboundSG)):(a.subject.equals(b.subject)&&c.push(d.boundSS),"pattern"===b.type&&a.subject.equals(b.predicate)&&c.push(d.boundSP),a.subject.equals(b.object)&&c.push(d.boundSO),a.subject.equals(b.graph)&&c.push(d.boundSG)),"pattern"===a.type&&("Variable"===a.predicate.termType?(a.predicate.equals(b.subject)&&c.push(d.unboundPS),"pattern"===b.type&&a.predicate.equals(b.predicate)&&c.push(d.unboundPP),a.predicate.equals(b.object)&&c.push(d.unboundPO),a.predicate.equals(b.graph)&&c.push(d.unboundPG)):(a.predicate.equals(b.subject)&&c.push(d.boundPS),"pattern"===b.type&&a.predicate.equals(b.predicate)&&c.push(d.boundPP),a.predicate.equals(b.object)&&c.push(d.boundPO),a.predicate.equals(b.graph)&&c.push(d.boundPG))),"Variable"===a.object.termType?(a.object.equals(b.subject)&&c.push(d.unboundOS),"pattern"===b.type&&a.object.equals(b.predicate)&&c.push(d.unboundOP),a.object.equals(b.object)&&c.push(d.unboundOO),a.object.equals(b.graph)&&c.push(d.unboundOG)):(a.object.equals(b.subject)&&c.push(d.boundOS),"pattern"===b.type&&a.object.equals(b.predicate)&&c.push(d.boundOP),a.object.equals(b.object)&&c.push(d.boundOO),a.object.equals(b.graph)&&c.push(d.boundOG)),"Variable"===a.graph.termType?(a.graph.equals(b.subject)&&c.push(d.unboundGS),"pattern"===b.type&&a.graph.equals(b.predicate)&&c.push(d.unboundGP),a.graph.equals(b.object)&&c.push(d.unboundGO),a.graph.equals(b.graph)&&c.push(d.unboundGG)):(a.graph.equals(b.subject)&&c.push(d.boundGS),"pattern"===b.type&&a.graph.equals(b.predicate)&&c.push(d.boundGP),a.graph.equals(b.object)&&c.push(d.boundGO),a.graph.equals(b.graph)&&c.push(d.boundGG)),c}static getOperationsPairwiseJoinCost(a,b){let c=h.MAX_PAIRWISE_COST;for(let e of h.getJoinTypes(a,b))switch(e){case d.boundSS:c-=4;break;case d.boundSP:c-=6;break;case d.boundSO:c-=2;break;case d.boundSG:case d.boundPS:c-=6;break;case d.boundPP:return 1;case d.boundPO:case d.boundPG:c-=6;break;case d.boundOS:c-=2;break;case d.boundOP:c-=6;break;case d.boundOO:c-=2;break;case d.boundOG:case d.boundGS:case d.boundGP:case d.boundGO:case d.boundGG:c-=6;break;case d.unboundSS:c-=2;break;case d.unboundSP:c-=3;break;case d.unboundSO:c-=1;break;case d.unboundSG:case d.unboundPS:case d.unboundPP:case d.unboundPO:case d.unboundPG:c-=3;break;case d.unboundOS:c-=1;break;case d.unboundOP:c-=3;break;case d.unboundOO:c-=1;break;case d.unboundOG:case d.unboundGS:case d.unboundGP:case d.unboundGO:case d.unboundGG:c-=3}return c/h.MAX_PAIRWISE_COST}static getOperationsJoinCost(a){let b=[];for(let c of a)g.Util.recurseOperation(c,{[g.Algebra.types.PATTERN](a){return b.push(a),!1},[g.Algebra.types.PATH](a){return b.push(a),!1}});let d=0,e=0;for(let f of b)for(let i of b)f!==i&&(d+=h.getOperationsPairwiseJoinCost(f,i),e++);return d/e*b.reduce((a,b)=>a*h.getPatternCost(b),1)}async run(a){return a.entries.length<=1?{selectivity:1}:{selectivity:h.getOperationsJoinCost(a.entries.map(a=>a.operation))}}}b.ActorRdfJoinSelectivityVariableCounting=h,h.MAX_PAIRWISE_COST=82,(e=d=b.JoinTypes||(b.JoinTypes={}))[e.boundSS=0]="boundSS",e[e.boundSP=1]="boundSP",e[e.boundSO=2]="boundSO",e[e.boundSG=3]="boundSG",e[e.boundPS=4]="boundPS",e[e.boundPP=5]="boundPP",e[e.boundPO=6]="boundPO",e[e.boundPG=7]="boundPG",e[e.boundOS=8]="boundOS",e[e.boundOP=9]="boundOP",e[e.boundOO=10]="boundOO",e[e.boundOG=11]="boundOG",e[e.boundGS=12]="boundGS",e[e.boundGP=13]="boundGP",e[e.boundGO=14]="boundGO",e[e.boundGG=15]="boundGG",e[e.unboundSS=16]="unboundSS",e[e.unboundSP=17]="unboundSP",e[e.unboundSO=18]="unboundSO",e[e.unboundSG=19]="unboundSG",e[e.unboundPS=20]="unboundPS",e[e.unboundPP=21]="unboundPP",e[e.unboundPO=22]="unboundPO",e[e.unboundPG=23]="unboundPG",e[e.unboundOS=24]="unboundOS",e[e.unboundOP=25]="unboundOP",e[e.unboundOO=26]="unboundOO",e[e.unboundOG=27]="unboundOG",e[e.unboundGS=28]="unboundGS",e[e.unboundGP=29]="unboundGP",e[e.unboundGO=30]="unboundGO",e[e.unboundGG=31]="unboundGG"},46995:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(69642),b)},12410:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataAll=void 0;let d=c(25101),e=c(89827);class f extends d.ActorRdfMetadata{constructor(a){super(a)}async test(a){return!0}async run(a){let b=new e.Readable({objectMode:!0}),c=new e.Readable({objectMode:!0});a.quads.on("error",a=>{b.emit("error",a),c.emit("error",a)});let d=()=>{b._read=c._read=()=>{},a.quads.on("data",a=>{b.push(a),c.push(a)}),a.quads.on("end",()=>{b.push(null),c.push(null)})};return b._read=c._read=()=>{d()},{data:b,metadata:c}}}b.ActorRdfMetadataAll=f},96674:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(12410),b)},67936:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataExtractAllowHttpMethods=void 0;let d=c(5530);class e extends d.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}async run(a){let b={};return a.headers?.get("allow")&&(b.allowHttpMethods=a.headers.get("allow")?.split(/, */u)),{metadata:b}}}b.ActorRdfMetadataExtractAllowHttpMethods=e},3955:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(67936),b)},55186:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataExtractHydraControls=void 0;let d=c(5530),e=c(78818);class f extends d.ActorRdfMetadataExtract{constructor(a){super(a),this.parsedUriTemplateCache={}}async test(a){return!0}getLinks(a,b){return Object.fromEntries(f.LINK_TYPES.map(c=>{let d=b[c]||b[`${c}Page`],e=d&&d[a];return[c,e&&e.length>0?e[0]:null]}))}parseUriTemplateCached(a){let b=this.parsedUriTemplateCache[a];return b||(this.parsedUriTemplateCache[a]=(0,e.parse)(a))}getSearchForms(a){let b=a.search,c=[];if(b)for(let d in b)for(let e of b[d]){let f=(a.template||{})[e]||[];if(1!==f.length)throw Error(`Expected 1 hydra:template for ${e}`);let g=f[0],h=this.parseUriTemplateCached(g),i=Object.fromEntries(((a.mapping||{})[e]||[]).map(b=>{let c=((a.variable||{})[b]||[])[0],d=((a.property||{})[b]||[])[0];if(!c)throw Error(`Expected a hydra:variable for ${b}`);if(!d)throw Error(`Expected a hydra:property for ${b}`);return[d,c]})),j=a=>h.expand(Object.fromEntries(Object.keys(a).map(b=>[i[b],a[b]])));c.push({dataset:d,template:g,mappings:i,getUri:j})}return{values:c}}getHydraProperties(a){return new Promise((b,c)=>{a.on("error",c);let d={};a.on("data",a=>{if(a.predicate.value.startsWith(f.HYDRA)){let b=a.predicate.value.slice(f.HYDRA.length),c=d[b]||(d[b]={}),e=c[a.subject.value]||(c[a.subject.value]=[]);e.push(a.object.value)}}),a.on("end",()=>b(d))})}async run(a){let b={},c=await this.getHydraProperties(a.metadata);return Object.assign(b,this.getLinks(a.url,c)),b.searchForms=this.getSearchForms(c),{metadata:b}}}b.ActorRdfMetadataExtractHydraControls=f,f.HYDRA="http://www.w3.org/ns/hydra/core#",f.LINK_TYPES=["first","next","previous","last"]},32387:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(55186),b)},18712:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataExtractHydraCount=void 0;let d=c(5530);class e extends d.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}run(a){return new Promise((b,c)=>{a.metadata.on("error",c),a.metadata.on("data",a=>{this.predicates.includes(a.predicate.value)&&b({metadata:{cardinality:{type:"estimate",value:Number.parseInt(a.object.value,10)}}})}),a.metadata.on("end",()=>{b({metadata:{cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY}}})})})}}b.ActorRdfMetadataExtractHydraCount=e},59978:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(18712),b)},80788:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataExtractHydraPagesize=void 0;let d=c(5530);class e extends d.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}async run(a){return new Promise((b,c)=>{a.metadata.on("error",c),a.metadata.on("data",a=>{this.predicates.includes(a.predicate.value)&&b({metadata:{pageSize:Number.parseInt(a.object.value,10)}})}),a.metadata.on("end",()=>{b({metadata:{}})})})}}b.ActorRdfMetadataExtractHydraPagesize=e},89928:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(80788),b)},88779:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;let d=c(5530);class e extends d.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}async run(a){let b={};return(a.headers?.get("accept-patch")?.includes("application/sparql-update")||a.headers?.get("ms-author-via")?.includes("SPARQL"))&&(b.patchSparqlUpdate=!0),{metadata:b}}}b.ActorRdfMetadataExtractPatchSparqlUpdate=e},59208:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(88779),b)},22179:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataExtractPutAccepted=void 0;let d=c(5530);class e extends d.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}async run(a){let b={};return a.headers?.get("accept-put")&&(b.putAccepted=a.headers.get("accept-put")?.split(/, */u)),{metadata:b}}}b.ActorRdfMetadataExtractPutAccepted=e},6730:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(22179),b)},25911:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataExtractRequestTime=void 0;let d=c(5530);class e extends d.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}async run(a){return{metadata:{requestTime:a.requestTime}}}}b.ActorRdfMetadataExtractRequestTime=e},3259:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(25911),b)},14368:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataExtractSparqlService=void 0;let d=c(5530),e=c(68912);class f extends d.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}async run(a){return new Promise((b,c)=>{a.metadata.on("error",c);let d={};a.metadata.on("data",b=>{"http://www.w3.org/ns/sparql-service-description#endpoint"===b.predicate.value&&("BlankNode"===b.subject.termType||b.subject.value===a.url)?(d.sparqlService="Literal"===b.object.termType?(0,e.resolve)(b.object.value,a.url):b.object.value,this.inferHttpsEndpoint&&a.url.startsWith("https")&&!d.sparqlService.startsWith("https")&&(d.sparqlService=d.sparqlService.replace("http:","https:"))):"http://www.w3.org/ns/sparql-service-description#defaultGraph"===b.predicate.value&&(d.defaultGraph=b.object.value)}),a.metadata.on("end",()=>{b({metadata:d})})})}}b.ActorRdfMetadataExtractSparqlService=f},17923:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(14368),b)},29616:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataPrimaryTopic=void 0;let d=c(25101),e=c(89827);class f extends d.ActorRdfMetadata{constructor(a){super(a)}async test(a){if(a.triples)throw Error("This actor only supports non-triple quad streams.");return!0}async run(a){let b=new e.Readable({objectMode:!0}),c=new e.Readable({objectMode:!0}),d=()=>{b._read=c._read=()=>{},a.quads.on("error",a=>{b.emit("error",a),c.emit("error",a)});let d={},e,f={};a.quads.on("data",b=>{"http://rdfs.org/ns/void#subset"===b.predicate.value&&b.object.value===a.url?e=b.subject.value:"http://xmlns.com/foaf/0.1/primaryTopic"===b.predicate.value&&(f[b.object.value]=b.subject.value);let c=d[b.graph.value];c||(c=d[b.graph.value]=[]),c.push(b)}),a.quads.on("end",()=>{let a=e?f[e]:void 0;for(let g in d)if(g===a){for(let h of d[g])c.push(h);if(this.metadataToData)for(let i of d[g])b.push(i)}else{for(let j of d[g])b.push(j);if(!a&&this.dataToMetadataOnInvalidMetadataGraph)for(let k of d[g])c.push(k)}b.push(null),c.push(null)})};return b._read=c._read=()=>{d()},{data:b,metadata:c}}}b.ActorRdfMetadataPrimaryTopic=f},98463:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(29616),b)},54292:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseHtmlMicrodata=void 0;let d=c(46913),e=c(38793);class f extends d.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){let b=a.headers?a.headers.get("content-type"):null,c=b?.includes("xml"),d=new e.MicrodataRdfParser({baseIRI:a.baseIRI,xmlMode:c});d.on("error",a.error),d.on("data",a.emit);let f=d.onEnd;return d.onEnd=()=>{f.call(d),a.end()},{htmlParseListener:d}}}b.ActorRdfParseHtmlMicrodata=f},94252:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(54292),b)},78561:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseHtmlRdfa=void 0;let d=c(46913),e=c(30494);class f extends d.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){let b=a.headers?a.headers.get("content-type"):null,c=(a.headers&&a.headers.get("content-language"))??void 0,d=b&&b.includes("xml")?"xhtml":"html",f=new e.RdfaParser({baseIRI:a.baseIRI,profile:d,language:c});f.on("error",a.error),f.on("data",a.emit);let g=f.onEnd;return f.onEnd=()=>{g.call(f),a.end()},{htmlParseListener:f}}}b.ActorRdfParseHtmlRdfa=f},9118:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(78561),b)},96104:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseHtmlScript=void 0;let d=c(46913),e=c(15084);class f extends d.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){let b=(await this.mediatorRdfParseMediatypes.mediate({context:a.context,mediaTypes:!0})).mediaTypes,c=new e.HtmlScriptListener(this.mediatorRdfParseHandle,a.emit,a.error,a.end,b,a.context,a.baseIRI,a.headers);return{htmlParseListener:c}}}b.ActorRdfParseHtmlScript=f},15084:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.HtmlScriptListener=void 0;let d=c(8199),e=c(89827),f=c(68912);class g{constructor(a,b,c,e,f,g,h,i){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=a,this.cbQuad=b,this.cbError=c,this.cbEnd=e,this.supportedTypes=f,this.context=g.set(d.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=h,this.headers=i,this.onlyFirstScript=!1===g.get(d.KeysRdfParseHtmlScript.extractAllScripts);let j=this.baseIRI.indexOf("#");this.targetScriptId=j>0?this.baseIRI.slice(j+1,this.baseIRI.length):null}static newErrorCoded(a,b){let c=Error(a);return c.code=b,c}onEnd(){0== --this.endBarrier&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(0===this.passedScripts&&this.targetScriptId&&this.cbError(g.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType){if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{let a=new e.Readable({objectMode:!0});a._read=()=>{};let b=this.textChunks,c={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:a,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(c).then(({handle:c})=>{for(let d of(c.data.on("error",a=>this.cbError(g.newErrorCoded(a.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd()),b))a.push(d);a.push(null)}).catch(a=>{this.targetScriptId?this.cbError(g.newErrorCoded(a.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}}onTagOpen(a,b){"base"===a&&b.href&&(this.baseIRI=(0,f.resolve)(b.href,this.baseIRI)),"script"!==a||this.targetScriptId&&b.id!==this.targetScriptId?this.handleMediaType=void 0:this.supportedTypes[b.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=b.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(0===this.textChunks.length?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(g.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed"))}onText(a){this.handleMediaType&&this.textChunks.push(a)}requiresCustomJsonLdHandling(a){return!this.onlyFirstScript&&!this.targetScriptId&&"application/ld+json"===a}}b.HtmlScriptListener=g},66886:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(96104),b)},69552:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseHtml=void 0;let d=c(10254),e=c(23719),f=c(89827);class g extends d.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,b,c){let d=new f.Readable({objectMode:!0});return d._read=async()=>{d._read=()=>{};let b=1;function f(a){d.emit("error",a)}function g(){0== --b&&d.push(null)}let h={baseIRI:a.metadata?.baseIRI??"",context:c,emit:function(a){d.emit("data",a)},end:g,error:f,headers:a.headers};Promise.all(this.busRdfParseHtml.publish(h)).then(async c=>{b+=c.length;let d=[];for(let i of c){let{htmlParseListener:j}=await i.actor.run(h);d.push(j)}let k=new e.Parser({onclosetag(){try{for(let a of d)a.onTagClose()}catch(b){f(b)}},onend(){try{for(let a of d)a.onEnd()}catch(b){f(b)}g()},onopentag(a,b){try{for(let c of d)c.onTagOpen(a,b)}catch(e){f(e)}},ontext(a){try{for(let b of d)b.onText(a)}catch(c){f(c)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1});a.data.on("error",f).on("data",a=>k.write(a.toString())).on("end",()=>k.end())}).catch(f)},{data:d}}}b.ActorRdfParseHtml=g},96915:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(69552),b)},5967:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseJsonLd=void 0;let d=c(10254),e=c(8199),f=c(95758),g=c(22005);class h extends d.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async testHandle(a,b,c){if(c.has(e.KeysRdfParseHtmlScript.processingHtmlScript)&&"application/ld+json"!==b)throw Error("JSON-LD in script tags can only have media type 'application/ld+json'");if(!(b in this.mediaTypePriorities)&&!b.endsWith("+json"))throw Error(`Unrecognized media type: ${b}`);return await this.testHandleChecked(a)}async runHandle(a,b,c){let d=f.JsonLdParser.fromHttpResponse(a.metadata?.baseIRI??"",b,a.headers,{documentLoader:c.get(e.KeysRdfParseJsonLd.documentLoader)||new g.DocumentLoaderMediated(this.mediatorHttp,c),strictValues:c.get(e.KeysRdfParseJsonLd.strictValues),...c.get(e.KeysRdfParseJsonLd.parserOptions)}),h=d.import(a.data);return{data:h}}}b.ActorRdfParseJsonLd=h},22005:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DocumentLoaderMediated=void 0;let d=c(12319),e=c(11288),f=c(83858);class g extends e.FetchDocumentLoader{constructor(a,b){super(g.createFetcher(a,b)),this.mediatorHttp=a,this.context=b}static createFetcher(a,b){return async(c,e)=>{let g=await a.mediate({input:c,init:e,context:b});return g.json=async()=>JSON.parse(await f(d.ActorHttp.toNodeReadable(g.body))),g}}}b.DocumentLoaderMediated=g},15745:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(5967),b),e(c(22005),b)},68043:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseN3=void 0;let d=c(10254),e=c(77686);class f extends d.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,b,c){a.data.on("error",a=>d.emit("error",a));let d=a.data.pipe(new e.StreamParser({baseIRI:a.metadata?.baseIRI,format:b}));return{data:d,metadata:{triples:"text/turtle"===b||"application/n-triples"===b||"text/n3"===b}}}}b.ActorRdfParseN3=f},9241:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(68043),b)},68717:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseRdfXml=void 0;let d=c(10254),e=c(25787);class f extends d.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,b,c){a.data.on("error",a=>d.emit("error",a));let d=a.data.pipe(new e.RdfXmlParser({baseIRI:a.metadata?.baseIRI}));return{data:d,metadata:{triples:!0}}}}b.ActorRdfParseRdfXml=f},9076:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(68717),b)},63273:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseXmlRdfa=void 0;let d=c(10254),e=c(30494);class f extends d.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,b,c){let d=(a.headers&&a.headers.get("content-language"))??void 0;a.data.on("error",a=>f.emit("error",a));let f=a.data.pipe(new e.RdfaParser({baseIRI:a.metadata?.baseIRI,profile:"xml",language:d}));return{data:f,metadata:{triples:!0}}}}b.ActorRdfParseXmlRdfa=f},50438:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(63273),b)},39613:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveHypermediaLinksNext=void 0;let d=c(41852);class e extends d.ActorRdfResolveHypermediaLinks{constructor(a){super(a)}async test(a){if(!a.metadata.next)throw Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(a){return{links:[{url:a.metadata.next}]}}}b.ActorRdfResolveHypermediaLinksNext=e},66715:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(39613),b)},70525:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveHypermediaLinksQueueFifo=void 0;let d=c(52915),e=c(16471);class f extends d.ActorRdfResolveHypermediaLinksQueue{constructor(a){super(a)}async test(a){return!0}async run(a){return{linkQueue:new e.LinkQueueFifo}}}b.ActorRdfResolveHypermediaLinksQueueFifo=f},16471:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LinkQueueFifo=void 0,b.LinkQueueFifo=class{constructor(){this.links=[]}push(a){return this.links.push(a),!0}getSize(){return this.links.length}isEmpty(){return 0===this.links.length}pop(){return this.links.shift()}peek(){return this.links[0]}}},48585:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(70525),b),e(c(16471),b)},31261:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveHypermediaNone=void 0;let d=c(47171),e=c(41188),f=c(65751);class g extends e.ActorRdfResolveHypermedia{constructor(a){super(a,"file")}async testMetadata(a){return{filterFactor:0}}async run(a){return this.logInfo(a.context,`Identified as file source: ${a.url}`),{source:new d.RdfJsQuadSource(await (0,f.storeStream)(a.quads))}}}b.ActorRdfResolveHypermediaNone=g},53043:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(31261),b)},84406:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveHypermediaQpf=void 0;let d=c(41188),e=c(25193);class f extends d.ActorRdfResolveHypermedia{constructor(a){super(a,"qpf")}async testMetadata(a){let{searchForm:b}=this.createSource(a.metadata,a.context);if(a.handledDatasets&&a.handledDatasets[b.dataset])throw Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);return{filterFactor:1}}async run(a){this.logInfo(a.context,`Identified as qpf source: ${a.url}`);let b=this.createSource(a.metadata,a.context,a.quads);return{source:b,dataset:b.searchForm.dataset}}createSource(a,b,c){return new e.RdfSourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,a,b,c)}}b.ActorRdfResolveHypermediaQpf=f},25193:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RdfSourceQpf=void 0;let d=c(55505),e=c(41640),f=c(22086),g=c(11234),h=new e.DataFactory;b.RdfSourceQpf=class{constructor(a,b,c,e,f,g,i,j,k,l){this.mediatorMetadata=a,this.mediatorMetadataExtract=b,this.mediatorDereferenceRdf=c,this.subjectUri=e,this.predicateUri=f,this.objectUri=g,this.graphUri=i,this.context=k,this.cachedQuads={};let m=this.getSearchForm(j);if(!m)throw Error("Illegal state: found no TPF/QPF search form anymore in metadata.");if(this.searchForm=m,this.defaultGraph=j.defaultGraph?h.namedNode(j.defaultGraph):void 0,l){let n=(0,d.wrap)(l);this.defaultGraph&&(n=this.reverseMapQuadsToDefaultGraph(n)),n.setProperty("metadata",j),this.cacheQuads(n,h.variable(""),h.variable(""),h.variable(""),h.variable(""))}}getSearchForm(a){if(!a.searchForms||!a.searchForms.values)return;let{searchForms:b}=a;for(let c of b.values)if(this.graphUri&&this.subjectUri in c.mappings&&this.predicateUri in c.mappings&&this.objectUri in c.mappings&&this.graphUri in c.mappings&&4===Object.keys(c.mappings).length||this.subjectUri in c.mappings&&this.predicateUri in c.mappings&&this.objectUri in c.mappings&&3===Object.keys(c.mappings).length)return c}createFragmentUri(a,b,c,d,e){let g={},h=[{uri:this.subjectUri,term:b},{uri:this.predicateUri,term:c},{uri:this.objectUri,term:d},{uri:this.graphUri,term:e},];for(let i of h)i.uri&&"Variable"!==i.term.termType&&(g[i.uri]=(0,f.termToString)(i.term));return a.getUri(g)}match(a,b,c,e){let f=!1;this.defaultGraph&&"DefaultGraph"===e.termType&&(f=!0,e=this.defaultGraph);let i=this.getCachedQuads(a,b,c,e);if(i)return i;let j=new d.TransformIterator(async()=>{let i=this.createFragmentUri(this.searchForm,a,b,c,e),k=await this.mediatorDereferenceRdf.mediate({context:this.context,url:i});i=k.url;let l=await this.mediatorMetadata.mediate({context:this.context,url:i,quads:k.data,triples:k.metadata?.triples}),m=this.mediatorMetadataExtract.mediate({context:this.context,url:i,metadata:l.metadata,requestTime:k.requestTime}).then(({metadata:a})=>j.setProperty("metadata",{...a,canContainUndefs:!1})),n=h.defaultGraph(),o=(0,d.wrap)(l.data).transform({filter(d){return!!(0,g.matchPattern)(d,a,b,c,e)||f&&(0,g.matchPattern)(d,a,b,c,n)}});return(f||"Variable"===e.termType)&&(o=this.reverseMapQuadsToDefaultGraph(o)),o.on("error",()=>{}),await m,o},{autoStart:!1});return this.cacheQuads(j,a,b,c,e),this.getCachedQuads(a,b,c,e)}reverseMapQuadsToDefaultGraph(a){let b=h.defaultGraph();return a.map(a=>(0,g.mapTerms)(a,(a,c)=>"graph"===c&&a.equals(this.defaultGraph)?b:a))}getPatternId(a,b,c,d){return JSON.stringify({s:"Variable"===a.termType?"":(0,f.termToString)(a),p:"Variable"===b.termType?"":(0,f.termToString)(b),o:"Variable"===c.termType?"":(0,f.termToString)(c),g:"Variable"===d.termType?"":(0,f.termToString)(d)})}cacheQuads(a,b,c,d,e){let f=this.getPatternId(b,c,d,e);this.cachedQuads[f]=a.clone()}getCachedQuads(a,b,c,d){let e=this.getPatternId(a,b,c,d),f=this.cachedQuads[e];if(f)return f.clone()}}},64615:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(84406),b)},42744:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveHypermediaSparql=void 0;let d=c(41188),e=c(3385);class f extends d.ActorRdfResolveHypermedia{constructor(a){super(a,"sparql")}async testMetadata(a){if(!a.forceSourceType&&!a.metadata.sparqlService&&!(this.checkUrlSuffix&&a.url.endsWith("/sparql")))throw Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`);return{filterFactor:1}}async run(a){this.logInfo(a.context,`Identified as sparql source: ${a.url}`);let b=new e.RdfSourceSparql(a.metadata.sparqlService||a.url,a.context,this.mediatorHttp,this.forceHttpGet);return{source:b}}}b.ActorRdfResolveHypermediaSparql=f},3385:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RdfSourceSparql=void 0;let d=c(49655),e=c(55505),f=c(68954),g=c(41640),h=c(11234),i=c(21938),j=new g.DataFactory,k=new d.BindingsFactory,l=j.variable("count");class m{constructor(a,b,c,d){this.url=a,this.context=b,this.mediatorHttp=c,this.endpointFetcher=new f.SparqlEndpointFetcher({method:d?"GET":"POST",fetch:(a,b)=>this.mediatorHttp.mediate({input:a,init:b,context:this.context}),prefixVariableQuestionMark:!0})}static replaceBlankNodes(a){let b=(0,h.getVariables)((0,h.getTerms)(a)).map(a=>a.value),c={},d=!1,e=(0,h.mapTerms)(a,a=>{if("BlankNode"===a.termType){let e=a.value;if(c[e])e=c[e];else{if(b.includes(e)){let f=0;for(;b.includes(`${e}${f}`);)++f;e+=f}c[a.value]=e,b.push(e)}return d=!0,j.variable(e)}return a});return d?e:a}static patternToBgp(a){return m.FACTORY.createBgp([m.FACTORY.createPattern(a.subject,a.predicate,a.object,a.graph)])}static patternToSelectQuery(a){let b=(0,h.getVariables)((0,h.getTerms)(a));return(0,i.toSparql)(m.FACTORY.createProject(m.patternToBgp(a),b))}static patternToCountQuery(a){return(0,i.toSparql)(m.FACTORY.createProject(m.FACTORY.createExtend(m.FACTORY.createGroup(m.patternToBgp(a),[],[m.FACTORY.createBoundAggregate(j.variable("var0"),"count",m.FACTORY.createWildcardExpression(),!1)]),j.variable("count"),m.FACTORY.createTermExpression(j.variable("var0"))),[j.variable("count")]))}queryBindings(a,b){let c=this.endpointFetcher.fetchBindings(a,b);return(0,e.wrap)(c,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(a=>k.bindings(Object.entries(a).map(([a,b])=>[j.variable(a.slice(1)),b])))}match(a,b,c,d){let e=m.replaceBlankNodes(m.FACTORY.createPattern(a,b,c,d)),f=m.patternToCountQuery(e),g=m.patternToSelectQuery(e);new Promise(a=>{let b=this.queryBindings(this.url,f);b.on("data",b=>{let c=b.get(l);if(c){let d=Number.parseInt(c.value,10);return Number.isNaN(d)?a({cardinality:Number.POSITIVE_INFINITY}):a({cardinality:d})}return a({cardinality:Number.POSITIVE_INFINITY})}),b.on("error",()=>a({cardinality:Number.POSITIVE_INFINITY})),b.on("end",()=>a({cardinality:Number.POSITIVE_INFINITY}))}).then(a=>i.setProperty("metadata",{...a,canContainUndefs:!0}));let i=this.queryBindings(this.url,g).map(a=>(0,h.mapTerms)(e,b=>{if("Variable"===b.termType){let c=a.get(b);return c||i.destroy(Error(`The endpoint ${this.url} failed to provide a binding for ${b.value}.`)),c}return b}));return i}}b.RdfSourceSparql=m,m.FACTORY=new i.Factory},49429:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(42744),b)},50869:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveQuadPatternFederated=void 0;let d=c(76976),e=c(78534);class f extends d.ActorRdfResolveQuadPatternSource{constructor(a){super(a),this.emptyPatterns=new Map}async test(a){let b=(0,d.getContextSources)(a.context);if(!b)throw Error(`Actor ${this.name} can only resolve quad pattern queries against a sources array.`);return!0}async getSource(a){return new e.FederatedQuadSource(this.mediatorResolveQuadPattern,a,this.emptyPatterns,this.skipEmptyPatterns)}}b.ActorRdfResolveQuadPatternFederated=f},78534:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FederatedQuadSource=void 0;let d=c(21367),e=c(76976),f=c(8199),g=c(10959),h=c(55505),i=c(41640),j=c(11234),k=c(21938),l=new i.DataFactory;class m{constructor(a,b,c,d){if(this.mediatorResolveQuadPattern=a,this.sources=b.get(f.KeysRdfResolveQuadPattern.sources),this.contextDefault=b.delete(f.KeysRdfResolveQuadPattern.sources),this.emptyPatterns=c,this.sourceIds=b.get(f.KeysRdfResolveQuadPattern.sourceIds)??new Map,this.skipEmptyPatterns=d,this.algebraFactory=new k.Factory,this.skipEmptyPatterns)for(let e of this.sources)this.emptyPatterns.has(e)||this.emptyPatterns.set(e,[])}static isTermBound(a){return"Variable"!==a.termType}static isSubPatternOf(a,b){return(!m.isTermBound(b.subject)||b.subject.equals(a.subject))&&(!m.isTermBound(b.predicate)||b.predicate.equals(a.predicate))&&(!m.isTermBound(b.object)||b.object.equals(a.object))&&(!m.isTermBound(b.graph)||b.graph.equals(a.graph))}static skolemizeTerm(a,b){return"BlankNode"===a.termType?new g.BlankNodeScoped(`bc_${b}_${a.value}`,l.namedNode(`${m.SKOLEM_PREFIX}${b}:${a.value}`)):a}static skolemizeQuad(a,b){return(0,j.mapTerms)(a,a=>m.skolemizeTerm(a,b))}static deskolemizeTerm(a,b){if("BlankNode"===a.termType&&"skolemized"in a&&(a=a.skolemized),"NamedNode"===a.termType&&a.value.startsWith(m.SKOLEM_PREFIX)){let c=a.value.indexOf(":",m.SKOLEM_PREFIX.length),d=a.value.slice(m.SKOLEM_PREFIX.length,c);if(d===b){let e=a.value.slice(c+1,a.value.length);return l.blankNode(e)}return null}return a}static deskolemizeQuad(a,b){return(0,j.mapTerms)(a,a=>{let c=m.deskolemizeTerm(a,b);return c||a})}isSourceEmpty(a,b){if(!this.skipEmptyPatterns)return!1;let c=this.emptyPatterns.get(a);if(c){for(let d of c)if(m.isSubPatternOf(b,d))return!0}return!1}getSourceId(a){let b=this.sourceIds.get(a);return void 0===b&&(b=`${this.sourceIds.size}`,this.sourceIds.set(a,b)),b}match(a,b,c,g){let i={cardinality:{type:"exact",value:0},canContainUndefs:!1},j=this.sources.length,k=(a,b,c,d)=>{this.skipEmptyPatterns&&!a&&c&&!this.isSourceEmpty(b,c)&&this.emptyPatterns.get(b).push(c),j||(d&&1===this.sources.length?n.setProperty("metadata",d):n.setProperty("metadata",i))},l=Promise.all(this.sources.map(async d=>{let l=this.getSourceId(d),o=m.deskolemizeTerm(a,l),p=m.deskolemizeTerm(b,l),q=m.deskolemizeTerm(c,l),r=m.deskolemizeTerm(g,l),s,t=(0,e.getDataSourceContext)(d,this.contextDefault);t=t.set(f.KeysRdfResolveQuadPattern.source,{type:(0,e.getDataSourceType)(d),value:(0,e.getDataSourceValue)(d)});let u;!(!o||!p||!q||!r||this.isSourceEmpty(d,s=this.algebraFactory.createPattern(o,p,q,r)))?u=await this.mediatorResolveQuadPattern.mediate({pattern:s,context:t}):(u={data:new h.ArrayIterator([],{autoStart:!1})}).data.setProperty("metadata",{cardinality:0,canContainUndefs:!1}),u.data.getProperty("metadata",a=>{a.cardinality&&Number.isFinite(a.cardinality.value)?("estimate"===a.cardinality.type&&(i.cardinality.type="estimate"),i.cardinality.value+=a.cardinality.value,j--):(i.cardinality.type="estimate",i.cardinality.value=Number.POSITIVE_INFINITY,j=0),(i.requestTime||a.requestTime)&&(i.requestTime=i.requestTime||0,a.requestTime=a.requestTime||0,i.requestTime+=a.requestTime),(i.pageSize||a.pageSize)&&(i.pageSize=i.pageSize||0,a.pageSize=a.pageSize||0,i.pageSize+=a.pageSize),a.canContainUndefs&&(i.canContainUndefs=!0),k(i.cardinality.value,d,s,a)});let v=u.data.map(a=>m.skolemizeQuad(a,l));return v.on("error",a=>n.emit("error",a)),v})),n=new d.ClosableTransformIterator(async()=>new h.UnionIterator(await l),{autoStart:!1,onClose(){l.then(a=>{for(let b of a)b.destroy()},()=>{})}});return 0===this.sources.length&&n.setProperty("metadata",i),n}}b.FederatedQuadSource=m,m.SKOLEM_PREFIX="urn:comunica_skolem:source_"},2734:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(50869),b),e(c(78534),b)},52800:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveQuadPatternHypermedia=void 0;let d=c(76976),e=c(39593),f=c(45725);class g extends d.ActorRdfResolveQuadPatternSource{constructor(a){super(a),this.cache=this.cacheSize?new e({max:this.cacheSize}):void 0;let b=this.cache;b&&this.httpInvalidator.addInvalidateListener(({url:a})=>a?b.del(a):b.reset())}async test(a){let b=(0,d.hasContextSingleSource)(a.context);if(!b)throw Error(`Actor ${this.name} can only resolve quad pattern queries against a single source.`);return!0}getSource(a,b){let c=(0,d.getContextSource)(a),e=(0,d.getContextSourceUrl)(c),g;return this.cache&&this.cache.has(e)?g=this.cache.get(e):(g=new f.MediatedQuadSource(this.cacheSize,a,e,(0,d.getDataSourceType)(c),this.maxIterators,{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorRdfResolveHypermedia:this.mediatorRdfResolveHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue}),this.cache&&this.cache.set(e,g)),Promise.resolve(g)}}b.ActorRdfResolveQuadPatternHypermedia=g},38558:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LinkedRdfSourcesAsyncRdfIterator=void 0;let d=c(55505),e=c(39593);class f extends d.BufferedIterator{constructor(a,b,c,d,e,f,g){if(super({autoStart:!0}),this.started=!1,this.cacheSize=a,this.subject=b,this.predicate=c,this.object=d,this.graph=e,this.firstUrl=f,this.maxIterators=g,this.maxIterators<=0)throw Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`);this.currentIterators=[],this.iteratorsPendingCreation=0}_end(a){for(let b of this.currentIterators)b.destroy();super._end(a)}setSourcesState(a){a?this.sourcesState=a:(this.sourcesState={sources:new e({max:this.cacheSize})},this.getSourceCached({url:this.firstUrl},{}).catch(a=>this.destroy(a)))}getSourceCached(a,b){let c=this.sourcesState.sources.get(a.url);return c||(c=this.getSource(a,b),this.sourcesState.sources.set(a.url,c)),c}_read(a,b){if(this.started){for(let c of this.currentIterators){for(;a>0;){let d=c.read();if(null!==d)a--,this._push(d);else break}if(a<=0)break}a>=0&&this.canStartNewIterator()?this.getSourceCached({url:this.firstUrl},{}).then(a=>{this.startIteratorsForNextUrls(a.handledDatasets,!1),b()}).catch(a=>this.destroy(a)):b()}else this.started=!0,this.sourcesState||this.setSourcesState(),this.getSourceCached({url:this.firstUrl},{}).then(a=>{this.startIterator(a,!0),b()}).catch(a=>{b()})}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation<this.maxIterators&&!this.readable}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation>0}startIterator(a,b){let c=a.source.match(this.subject,this.predicate,this.object,this.graph);this.currentIterators.push(c);let d=!1;c._destination=this,c.on("error",a=>this.destroy(a)),c.on("readable",()=>this._fillBuffer()),c.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(c),1),d&&this.startIteratorsForNextUrls(a.handledDatasets,!0)}),c.getProperty("metadata",c=>{a.metadata={...a.metadata,...c},b&&this.setProperty("metadata",a.metadata),this.getSourceLinks(a.metadata).then(a=>Promise.all(a)).then(async b=>{let c=await this.getLinkQueue();for(let e of b)c.push(e,a.link);d=!0,this.startIteratorsForNextUrls(a.handledDatasets,!0)}).catch(a=>this.destroy(a))})}startIteratorsForNextUrls(a,b){this.getLinkQueue().then(c=>{for(;this.canStartNewIterator()&&!this.done;){let d=c.pop();if(d)this.iteratorsPendingCreation++,this.getSourceCached(d,a).then(a=>{this.iteratorsPendingCreation--,this.startIterator(a,!1)}).catch(a=>this.destroy(a));else break}b&&c.isEmpty()&&!this.areIteratorsRunning()&&this.close()}).catch(a=>this.destroy(a))}}b.LinkedRdfSourcesAsyncRdfIterator=f},29573:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;let d=c(89827),e=c(38558);class f extends e.LinkedRdfSourcesAsyncRdfIterator{constructor(a,b,c,d,e,f,g,h,i,j){super(a,d,e,f,g,h,i),this.context=b,this.forceSourceType=c,this.mediatorDereferenceRdf=j.mediatorDereferenceRdf,this.mediatorMetadata=j.mediatorMetadata,this.mediatorMetadataExtract=j.mediatorMetadataExtract,this.mediatorRdfResolveHypermedia=j.mediatorRdfResolveHypermedia,this.mediatorRdfResolveHypermediaLinks=j.mediatorRdfResolveHypermediaLinks,this.mediatorRdfResolveHypermediaLinksQueue=j.mediatorRdfResolveHypermediaLinksQueue,this.handledUrls={[h]:!0}}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(a=>a.linkQueue)),this.linkQueue}async getSourceLinks(a){try{let{links:b}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:a});return b.filter(a=>!this.handledUrls[a.url]&&(this.handledUrls[a.url]=!0,!0))}catch{return[]}}async getSource(a,b){let c=this.context;a.context&&(c=c.merge(a.context));let e=a.url,f,g;try{let h=await this.mediatorDereferenceRdf.mediate({context:c,url:e});e=h.url;let i=await this.mediatorMetadata.mediate({context:c,url:e,quads:h.data,triples:h.metadata?.triples});i.data.on("error",()=>{}),g=(await this.mediatorMetadataExtract.mediate({context:c,url:e,metadata:i.metadata,headers:h.headers,requestTime:h.requestTime})).metadata,f=i.data,a.transform&&(f=await a.transform(f))}catch(j){(f=new d.Readable).read=()=>(setTimeout(()=>f.emit("error",j)),null),g={}}let{source:k,dataset:l}=await this.mediatorRdfResolveHypermedia.mediate({context:c,forceSourceType:this.forceSourceType,handledDatasets:b,metadata:g,quads:f,url:e});return l&&(b[l]=!0),{link:a,source:k,metadata:g,handledDatasets:b}}}b.MediatedLinkedRdfSourcesAsyncRdfIterator=f},45725:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MediatedQuadSource=void 0;let d=c(29573);b.MediatedQuadSource=class{constructor(a,b,c,d,e,f){this.cacheSize=a,this.context=b,this.firstUrl=c,this.forceSourceType=d,this.maxIterators=e,this.mediators=f}match(a,b,c,e){let f=new d.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,this.context,this.forceSourceType,a,b,c,e,this.firstUrl,this.maxIterators,this.mediators);return this.sourcesState?f.setSourcesState(this.sourcesState):(f.setSourcesState(),this.sourcesState=f.sourcesState),f}}},9041:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(52800),b),e(c(45725),b)},45112:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveQuadPatternRdfJsSource=void 0;let d=c(76976),e=c(98568);class f extends d.ActorRdfResolveQuadPatternSource{constructor(a){super(a)}async test(a){if(!(0,d.hasContextSingleSourceOfType)("rdfjsSource",a.context))throw Error(`${this.name} requires a single source with an rdfjsSource to be present in the context.`);let b=(0,d.getContextSource)(a.context);if(!b||"string"==typeof b|| !("match"in b)&&!b.value.match)throw Error(`${this.name} received an invalid rdfjsSource.`);return!0}async getSource(a){let b=(0,d.getContextSource)(a);return new e.RdfJsQuadSource("match"in b?b:b.value)}}b.ActorRdfResolveQuadPatternRdfJsSource=f},75534:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},98568:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RdfJsQuadSource=void 0;let d=c(55505);class e{constructor(a){this.source=a}static nullifyVariables(a){return a&&"Variable"!==a.termType?a:void 0}match(a,b,c,f){let g=this.source.match(e.nullifyVariables(a),e.nullifyVariables(b),e.nullifyVariables(c),e.nullifyVariables(f)),h=(0,d.wrap)(g,{autoStart:!1});return this.setMetadata(h,a,b,c,f).catch(a=>h.destroy(a)),h}async setMetadata(a,b,c,d,f){let g;if(this.source.countQuads)g=await this.source.countQuads(e.nullifyVariables(b),e.nullifyVariables(c),e.nullifyVariables(d),e.nullifyVariables(f));else{let h=0;g=await new Promise((a,g)=>{let i=this.source.match(e.nullifyVariables(b),e.nullifyVariables(c),e.nullifyVariables(d),e.nullifyVariables(f));i.on("error",g),i.on("end",()=>a(h)),i.on("data",()=>h++)})}a.setProperty("metadata",{cardinality:{type:"exact",value:g},canContainUndefs:!1})}}b.RdfJsQuadSource=e},47171:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(45112),b),e(c(75534),b),e(c(98568),b)},54243:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfSerializeJsonLd=void 0;let d=c(79872),e=c(6900);class f extends d.ActorRdfSerializeFixedMediaTypes{constructor(a){super(a)}async runHandle(a,b,c){let d=new e.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)}).import(a.quadStream);return{data:d}}}b.ActorRdfSerializeJsonLd=f},10710:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(54243),b)},87857:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfSerializeN3=void 0;let d=c(79872),e=c(77686);class f extends d.ActorRdfSerializeFixedMediaTypes{constructor(a){super(a)}async runHandle(a,b,c){let d=new e.StreamWriter({format:b}).import(a.quadStream);return{data:d,triples:"text/turtle"===b||"application/n-triples"===b||"text/n3"===b}}}b.ActorRdfSerializeN3=f},77753:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(87857),b)},74817:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;let d=c(13452),e=c(87781);class f extends d.ActorRdfUpdateHypermedia{constructor(a){super(a,"patchSparqlUpdate")}async testMetadata(a){if(!a.forceDestinationType&&!a.metadata.patchSparqlUpdate)throw Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);if(!a.forceDestinationType&&!a.exists)throw Error(`Actor ${this.name} can only patch a destination that already exists.`);return!0}async run(a){return this.logInfo(a.context,`Identified as patchSparqlUpdate destination: ${a.url}`),{destination:new e.QuadDestinationPatchSparqlUpdate(a.url,a.context,this.mediatorHttp)}}}b.ActorRdfUpdateHypermediaPatchSparqlUpdate=f},87781:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QuadDestinationPatchSparqlUpdate=void 0;let d=c(12319),e=c(91085),f=c(54098),g=c(71367),h=c(89827);b.QuadDestinationPatchSparqlUpdate=class{constructor(a,b,c){this.url=a,this.context=b,this.mediatorHttp=c}insert(a){return this.wrapSparqlUpdateRequest("INSERT",a)}async delete(a){return this.wrapSparqlUpdateRequest("DELETE",a)}async wrapSparqlUpdateRequest(a,b){let c=b.map(a=>{let b=`${(0,g.termToString)(a.subject)} ${(0,g.termToString)(a.predicate)} ${(0,g.termToString)(a.object)} .`;return"DefaultGraph"!==a.graph.termType?`  GRAPH ${(0,g.termToString)(a.graph)} { ${b} }
`:`  ${b}
`}).prepend([`${a} DATA {
`]).append(["}"]),i=new h.Readable;i._read=()=>!0,c.on("data",a=>i.push(a)),c.on("end",()=>i.push(null));let j=new f.Headers({"content-type":"application/sparql-update"}),k=await this.mediatorHttp.mediate({context:this.context,init:{headers:j,method:"PATCH",body:d.ActorHttp.toWebReadableStream(i)},input:this.url});await (0,e.validateHttpResponse)(this.url,k)}async deleteGraphs(a,b,c){throw Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(a,b){throw Error("Patch-based SPARQL Update destinations don't support named graphs")}}},53595:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(74817),b),e(c(87781),b)},92198:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfUpdateHypermediaPutLdp=void 0;let d=c(13452),e=c(93475);class f extends d.ActorRdfUpdateHypermedia{constructor(a){super(a,"putLdp")}async testMetadata(a){if(!a.forceDestinationType){if(!a.metadata.allowHttpMethods||!a.metadata.allowHttpMethods.includes("PUT"))throw Error(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(a.exists)throw Error(`Actor ${this.name} can only put on a destination that does not already exists.`)}return!0}async run(a){return this.logInfo(a.context,`Identified as putLdp destination: ${a.url}`),{destination:new e.QuadDestinationPutLdp(a.url,a.context,a.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}}b.ActorRdfUpdateHypermediaPutLdp=f},93475:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QuadDestinationPutLdp=void 0;let d=c(12319),e=c(91085),f=c(54098);b.QuadDestinationPutLdp=class{constructor(a,b,c,d,e,f){this.url=a,this.context=b,this.mediaTypes=c,this.mediatorHttp=d,this.mediatorRdfSerializeMediatypes=e,this.mediatorRdfSerialize=f}insert(a){return this.wrapRdfUpdateRequest("INSERT",a)}async delete(a){throw Error("Put-based LDP destinations don't support deletions")}async wrapRdfUpdateRequest(a,b){let{mediaTypes:c}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),g=this.mediaTypes.filter(a=>a in c),h=g.length>0?g[0]:Object.keys(c).sort((a,b)=>c[b]-c[a])[0],{handle:{data:i}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:b,context:this.context},handleMediaType:h}),j=new f.Headers({"content-type":h}),k=await this.mediatorHttp.mediate({context:this.context,init:{headers:j,method:"PUT",body:d.ActorHttp.toWebReadableStream(i)},input:this.url});await (0,e.validateHttpResponse)(this.url,k)}async deleteGraphs(a,b,c){throw Error("Put-based LDP destinations don't support named graphs")}async createGraphs(a,b){throw Error("Put-based LDP destinations don't support named graphs")}}},92112:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(92198),b),e(c(93475),b)},64880:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfUpdateHypermediaSparql=void 0;let d=c(13452),e=c(20925);class f extends d.ActorRdfUpdateHypermedia{constructor(a){super(a,"sparql")}async testMetadata(a){if(!a.forceDestinationType&&!a.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&a.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&a.url.endsWith("/update")))throw Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`);return!0}async run(a){return this.logInfo(a.context,`Identified as sparql destination: ${a.url}`),{destination:new e.QuadDestinationSparql(a.metadata.sparqlService||a.url,a.context,this.mediatorHttp)}}}b.ActorRdfUpdateHypermediaSparql=f},20925:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QuadDestinationSparql=void 0;let d=c(68954),e=c(71367),f=c(83858);b.QuadDestinationSparql=class{constructor(a,b,c){this.url=a,this.context=b,this.mediatorHttp=c,this.endpointFetcher=new d.SparqlEndpointFetcher({fetch:(a,b)=>this.mediatorHttp.mediate({input:a,init:b,context:this.context}),prefixVariableQuestionMark:!0})}insert(a){return this.wrapSparqlUpdateRequest("INSERT",a)}async delete(a){return this.wrapSparqlUpdateRequest("DELETE",a)}async wrapSparqlUpdateRequest(a,b){let c=b.map(a=>{let b=`${(0,e.termToString)(a.subject)} ${(0,e.termToString)(a.predicate)} ${(0,e.termToString)(a.object)} .`;return"DefaultGraph"!==a.graph.termType?`  GRAPH ${(0,e.termToString)(a.graph)} { ${b} }
`:`  ${b}
`}).prepend([`${a} DATA {
`]).append(["}"]),d=await f(c);await this.endpointFetcher.fetchUpdate(this.url,d)}async deleteGraphs(a,b,c){let d=Array.isArray(a)?a:[a],e=[];for(let f of d){let g;g="string"==typeof f?f:"DefaultGraph"===f.termType?"DEFAULT":`GRAPH <${f.value}>`,e.push(`${c?"DROP":"CLEAR"} ${b?"":"SILENT "}${g}`)}await this.endpointFetcher.fetchUpdate(this.url,e.join("; "))}async createGraphs(a,b){let c=[];for(let d of a)c.push(`CREATE${b?"":" SILENT"} GRAPH <${d.value}>`);await this.endpointFetcher.fetchUpdate(this.url,c.join("; "))}}},51621:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(64880),b),e(c(20925),b)},61282:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfUpdateQuadsHypermedia=void 0;let d=c(91085),e=c(39593);class f extends d.ActorRdfUpdateQuadsDestination{constructor(a){super(a),this.cache=this.cacheSize?new e({max:this.cacheSize}):void 0;let b=this.cache;b&&this.httpInvalidator.addInvalidateListener(({url:a})=>a?b.del(a):b.reset())}async test(a){let b=(0,d.getContextDestinationUrl)((0,d.getContextDestination)(a.context));if(!b)throw Error(`Actor ${this.name} can only update quads against a single destination URL.`);return!0}getDestination(a){let b=(0,d.getContextDestination)(a),c=(0,d.getContextDestinationUrl)(b);if(this.cache&&this.cache.has(c))return this.cache.get(c);let e=(async()=>{let e,f;try{let g=await this.mediatorDereferenceRdf.mediate({context:a,url:c,acceptErrors:!0});f=g.exists,c=g.url;let h=await this.mediatorMetadata.mediate({context:a,url:c,quads:g.data,triples:g.metadata?.triples});e=(await this.mediatorMetadataExtract.mediate({context:a,url:c,metadata:h.metadata,headers:g.headers,requestTime:g.requestTime})).metadata}catch{e={},f=!1}let{destination:i}=await this.mediatorRdfUpdateHypermedia.mediate({context:a,url:c,metadata:e,exists:f,forceDestinationType:(0,d.getDataDestinationType)(b)});return i})();return this.cache&&this.cache.set(c,e),e}}b.ActorRdfUpdateQuadsHypermedia=f},30932:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(61282),b)},56424:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfUpdateQuadsRdfJsStore=void 0;let d=c(91085),e=c(18852);class f extends d.ActorRdfUpdateQuadsDestination{constructor(a){super(a)}async test(a){let b=(0,d.getContextDestination)(a.context);if(!b||"string"==typeof b|| !("remove"in b)&&"value"in b&&!b.value.remove)throw Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(a){let b=(0,d.getContextDestination)(a);return new e.RdfJsQuadDestination("remove"in b?b:b.value)}}b.ActorRdfUpdateQuadsRdfJsStore=f},18852:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RdfJsQuadDestination=void 0;let d=c(41640),e=c(22086),f=new d.DataFactory;b.RdfJsQuadDestination=class{constructor(a){this.store=a}promisifyEventEmitter(a){return new Promise((b,c)=>{a.on("end",b),a.on("error",c)})}delete(a){return this.promisifyEventEmitter(this.store.remove(a))}insert(a){return this.promisifyEventEmitter(this.store.import(a))}async deleteGraphs(a,b,c){switch(a){case"ALL":await this.promisifyEventEmitter(this.store.deleteGraph(f.defaultGraph()));case"NAMED":let d=this.store.match(),g={};d.on("data",a=>{"DefaultGraph"!==a.graph.termType&&(g[(0,e.termToString)(a.graph)]=!0)}),await this.promisifyEventEmitter(d),await Promise.all(Object.keys(g).map(a=>this.promisifyEventEmitter(this.store.deleteGraph((0,e.stringToTerm)(a)))));break;default:for(let h of Array.isArray(a)?a:[a])await this.promisifyEventEmitter(this.store.deleteGraph(h))}}async createGraphs(a,b){if(b)for(let c of a){let d=this.store.match(void 0,void 0,void 0,c);await new Promise((a,b)=>{d.once("data",()=>{b(Error(`Unable to create graph ${c.value} as it already exists`))}),d.on("end",a),d.on("error",b)})}}}},48968:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(56424),b)},38697:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Bindings=void 0;let d=c(35369),e=c(42656);class f{constructor(a,b){this.type="bindings",this.dataFactory=a,this.entries=b}has(a){return this.entries.has("string"==typeof a?a:a.value)}get(a){return this.entries.get("string"==typeof a?a:a.value)}set(a,b){return new f(this.dataFactory,this.entries.set("string"==typeof a?a:a.value,b))}delete(a){return new f(this.dataFactory,this.entries.delete("string"==typeof a?a:a.value))}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),a=>this.dataFactory.variable(a))}values(){return this.iteratorToIterable(this.entries.values())}forEach(a){this.entries.forEach((b,c)=>a(b,this.dataFactory.variable(c)))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([a,b])=>[this.dataFactory.variable(a),b])[Symbol.iterator]()}equals(a){if(!a)return!1;if(this===a)return!0;if(this.size!==a.size)return!1;for(let b of this.keys())if(!this.get(b)?.equals(a.get(b)))return!1;return!0}filter(a){return new f(this.dataFactory,(0,d.Map)(this.entries.filter((b,c)=>a(b,this.dataFactory.variable(c)))))}map(a){return new f(this.dataFactory,(0,d.Map)(this.entries.map((b,c)=>a(b,this.dataFactory.variable(c)))))}merge(a){let b=new Set([...this.iteratorToIterable(this.entries.keys()),...[...a.keys()].map(a=>a.value),]),c=[];for(let e of b){let g=this.entries.get(e),h=a.get(this.dataFactory.variable(e));if(g&&h&&!g.equals(h))return;let i=g||h;c.push([e,i])}return new f(this.dataFactory,(0,d.Map)(c))}mergeWith(a,b){let c=new Set([...this.iteratorToIterable(this.entries.keys()),...[...b.keys()].map(a=>a.value),]),e=[];for(let g of c){let h=this.dataFactory.variable(g),i=this.entries.get(g),j=b.get(h),k;k=i&&j&&!i.equals(j)?a(i,j,h):i||j,e.push([g,k])}return new f(this.dataFactory,(0,d.Map)(e))}toString(){return(0,e.bindingsToString)(this)}*mapIterable(a,b){for(let c of a)yield b(c)}iteratorToIterable(a){return{[Symbol.iterator]:()=>a}}}b.Bindings=f},50477:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingsFactory=void 0;let d=c(35369),e=c(41640),f=c(38697);b.BindingsFactory=class{constructor(a=new e.DataFactory){this.dataFactory=a}bindings(a=[]){return new f.Bindings(this.dataFactory,(0,d.Map)(a.map(([a,b])=>[a.value,b])))}fromBindings(a){return this.bindings([...a])}fromRecord(a){return this.bindings(Object.entries(a).map(([a,b])=>[this.dataFactory.variable(a),b]))}}},42656:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.bindingsToString=void 0;let d=c(22086);b.bindingsToString=function(a){let b={};for(let c of a.keys())b[c.value]=(0,d.termToString)(a.get(c));return JSON.stringify(b,null,"  ")}},49655:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(38697),b),e(c(50477),b),e(c(42656),b)},84624:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorContextPreprocess=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorContextPreprocess=e},49507:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(84624),b)},67974:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorDereferenceRdf=void 0;let d=c(49570);class e extends d.ActorDereferenceParse{constructor(a){super(a)}}b.ActorDereferenceRdf=e},14015:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(67974),b)},2195:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorDereference=void 0;let d=c(39074);class e extends d.ActorDereferenceBase{constructor(a){super(a)}async handleDereferenceErrors(a,b,c,d=0){return this.dereferenceErrorHandler(a,b,{url:a.url,exists:!1,headers:c,requestTime:d})}}b.ActorDereference=e},39074:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorDereferenceBase=b.isHardError=b.emptyReadable=void 0;let d=c(8199),e=c(51890),f=c(89827);function g(){let a=new f.Readable;return a.push(null),a}function h(a){return!a.get(d.KeysInitQuery.lenient)}b.emptyReadable=g,b.isHardError=h;class i extends e.Actor{constructor(a){super(a)}async dereferenceErrorHandler(a,b,c){if(h(a.context))throw b;return this.logError(a.context,b.message),{...c,data:g()}}}b.ActorDereferenceBase=i},28180:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorDereferenceParse=b.getMediaTypeFromExtension=void 0;let d=c(89827),e=c(39074);function f(a,b){let c=a.lastIndexOf(".");return c>=0&&b?.[a.slice(c+1)]||""}b.getMediaTypeFromExtension=f;class g extends e.ActorDereferenceBase{constructor(a){super(a)}async test(a){return!0}handleDereferenceStreamErrors(a,b){return(0,e.isHardError)(a.context)||(b.on("error",c=>{this.logError(a.context,c.message,()=>({url:a.url})),b.push(null)}),b=b.pipe(new d.PassThrough({objectMode:!0}))),b}async run(a){let{context:b}=a,c=await this.mediatorDereference.mediate({...a,mediaTypes:async()=>(await this.mediatorParseMediatypes?.mediate({context:b,mediaTypes:!0}))?.mediaTypes}),d;try{(d=(await this.mediatorParse.mediate({context:b,handle:{context:b,...c,metadata:await this.getMetadata(c)},handleMediaType:c.mediaType||f(c.url,this.mediaMappings)||a.mediaType})).handle).data=this.handleDereferenceStreamErrors(a,d.data)}catch(e){await c.data.close?.(),d=await this.dereferenceErrorHandler(a,e,{})}return{...c,...d}}}b.ActorDereferenceParse=g},49570:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(2195),b),e(c(28180),b),e(c(39074),b)},5301:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorHashBindings=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorHashBindings=e},13535:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(5301),b)},9703:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorHttpInvalidate=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorHttpInvalidate=e},91779:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorHttpInvalidateListenable=void 0;let d=c(9703);class e extends d.ActorHttpInvalidate{constructor(a){super(a),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(a){this.invalidateListeners.push(a)}async test(a){return!0}async run(a){for(let b of this.invalidateListeners)b(a);return{}}}b.ActorHttpInvalidateListenable=e},88637:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(9703),b),e(c(91779),b)},96483:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorHttp=void 0;let d=c(51890),e=c(58090);c.g.ReadableStream=c.g.ReadableStream||c(38568).ReadableStream;let f=c(24970),g=c(91742);class h extends d.Actor{constructor(a){super(a)}static toNodeReadable(a){return f(a)||null===a?a:new e.ReadableWebToNodeStream(a)}static toWebReadableStream(a){return g(a)}static headersToHash(a){let b={};return a.forEach((a,c)=>{b[c]=a}),b}}b.ActorHttp=h},12319:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(96483),b)},30206:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorInit=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorInit=e},1141:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(30206),b)},21569:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorOptimizeQueryOperation=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorOptimizeQueryOperation=e},59336:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(21569),b)},75825:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperation=void 0;let d=c(8199),e=c(51890),f=c(10959),g=c(9438),h=0;class i extends e.Actor{constructor(a){super(a)}static getSafeBindings(a){return i.validateQueryOutput(a,"bindings"),a}static getSafeQuads(a){return i.validateQueryOutput(a,"quads"),a}static getSafeBoolean(a){return i.validateQueryOutput(a,"boolean"),a}static getSafeVoid(a){return i.validateQueryOutput(a,"void"),a}static cachifyMetadata(a){let b;return()=>b||(b=a())}static validateQueryOutput(a,b){if(a.type!==b)throw Error(`Invalid query output type: Expected '${b}' but got '${a.type}'`)}static getBaseExpressionContext(a){let b=a.get(d.KeysInitQuery.queryTimestamp),c=a.get(d.KeysInitQuery.baseIRI);if(a.has(d.KeysInitQuery.extensionFunctionCreator)&&a.has(d.KeysInitQuery.extensionFunctions))throw Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let e=a.get(d.KeysInitQuery.extensionFunctionCreator),f=a.get(d.KeysInitQuery.extensionFunctions);return f&&(e=a=>f[a.value]),{now:b,baseIRI:c,extensionFunctionCreator:e}}static getExpressionContext(a,b){return{...this.getBaseExpressionContext(a),bnode:a=>new f.BlankNodeBindingsScoped(a||`BNODE_${h++}`)}}static getAsyncExpressionContext(a,b){let c={...this.getBaseExpressionContext(a),bnode:a=>Promise.resolve(new f.BlankNodeBindingsScoped(a||`BNODE_${h++}`))};return b&&(c.exists=i.createExistenceResolver(a,b)),c}static createExistenceResolver(a,b){return async(c,d)=>{let e=(0,g.materializeOperation)(c.input,d),f=await b.mediate({operation:e,context:a}),h=i.getSafeBindings(f);return new Promise((a,b)=>{h.bindingsStream.on("end",()=>{a(!1)}),h.bindingsStream.on("error",b),h.bindingsStream.on("data",()=>{h.bindingsStream.close(),a(!0)})}).then(a=>c.not?!a:a)}}static throwOnReadOnly(a){if(a.get(d.KeysQueryOperation.readOnly))throw Error("Attempted a write operation in read-only mode")}}b.ActorQueryOperation=i},39437:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationTyped=void 0;let d=c(8199),e=c(75825);class f extends e.ActorQueryOperation{constructor(a,b){if(super({...a,operationName:b}),!this.operationName)throw Error('A valid "operationName" argument must be provided.')}async test(a){if(!a.operation)throw Error("Missing field 'operation' in a query operation action.");if(a.operation.type!==this.operationName)throw Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${a.operation.type}`);let b=a.operation;return this.testOperation(b,a.context)}async run(a){let b=a.context.get(d.KeysInitQuery.physicalQueryPlanLogger);b&&(b.logOperation(a.operation.type,void 0,a.operation,a.context.get(d.KeysInitQuery.physicalQueryPlanNode),this.name,{}),a.context=a.context.set(d.KeysInitQuery.physicalQueryPlanNode,a.operation));let c=a.operation,f=a.context.set(d.KeysQueryOperation.operation,c),g=await this.runOperation(c,f);return"metadata"in g&&(g.metadata=e.ActorQueryOperation.cachifyMetadata(g.metadata)),g}}b.ActorQueryOperationTyped=f},9537:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryOperationTypedMediated=void 0;let d=c(39437);class e extends d.ActorQueryOperationTyped{constructor(a,b){super(a,b)}}b.ActorQueryOperationTypedMediated=e},9438:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.materializeOperation=b.materializeTerm=void 0;let d=c(49655),e=c(22086),f=c(21938),g=new d.BindingsFactory;function h(a,b){if("Variable"===a.termType){let c=b.get(a);if(c)return c}return a}function i(a,b,c={}){return c={strictTargetVariables:"strictTargetVariables"in c&&c.strictTargetVariables,bindFilter:!("bindFilter"in c)||c.bindFilter},f.Util.mapOperation(a,{path(a,c){return{recurse:!1,result:c.createPath(h(a.subject,b),a.predicate,h(a.object,b),h(a.graph,b))}},pattern(a,c){return{recurse:!1,result:c.createPattern(h(a.subject,b),h(a.predicate,b),h(a.object,b),h(a.graph,b))}},extend(a){if(b.has(a.variable)){if(!c.strictTargetVariables)return{recurse:!0,result:i(a.input,b,c)};throw Error(`Tried to bind variable ${(0,e.termToString)(a.variable)} in a BIND operator.`)}return{recurse:!0,result:a}},group(a,d){if(c.strictTargetVariables){for(let f of a.variables)if(b.has(f))throw Error(`Tried to bind variable ${(0,e.termToString)(f)} in a GROUP BY operator.`);return{recurse:!0,result:a}}let g=a.variables.filter(a=>!b.has(a));return{recurse:!0,result:d.createGroup(a.input,g,a.aggregates)}},project(a,d){if(c.strictTargetVariables){for(let f of a.variables)if(b.has(f))throw Error(`Tried to bind variable ${(0,e.termToString)(f)} in a SELECT operator.`);return{recurse:!0,result:a}}let h=a.variables.filter(a=>!b.has(a)),j=g.bindings(a.variables.map(a=>{let c=b.get(a);if(c)return[a,c]}).filter(a=>Boolean(a)));return{recurse:!1,result:d.createProject(i(a.input,j,c),h)}},values(a,d){if(c.strictTargetVariables){for(let f of a.variables)if(b.has(f))throw Error(`Tried to bind variable ${(0,e.termToString)(f)} in a VALUES operator.`)}else{let g=a.variables.filter(a=>!b.has(a)),h=a.bindings.map(a=>{let c={...a},d=!0;return b.forEach((a,b)=>{let f=(0,e.termToString)(b);f in c&&(a.equals(c[f])||(d=!1),delete c[f])}),d?c:void 0}).filter(Boolean);return{recurse:!0,result:d.createValues(g,h)}}return{recurse:!1,result:a}},expression(a,d){if(!c.bindFilter)return{recurse:!1,result:a};if("term"===a.expressionType)return{recurse:!1,result:d.createTermExpression(h(a.term,b))};if("aggregate"===a.expressionType&&"variable"in a&&b.has(a.variable)&&c.strictTargetVariables)throw Error(`Tried to bind ${(0,e.termToString)(a.variable)} in a ${a.aggregator} aggregate.`);return{recurse:!0,result:a}}})}b.materializeTerm=h,b.materializeOperation=i},28431:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BusQueryOperation=void 0;let d=c(51890);class e extends d.BusIndexed{constructor(a){super({...a,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}}b.BusQueryOperation=e},89401:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ClosableTransformIterator=void 0;let d=c(55505);class e extends d.TransformIterator{constructor(a,b){super(a,b),this.onClose=b.onClose}_end(a){this.onClose(),super._end(a)}}b.ClosableTransformIterator=e},21367:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(75825),b),e(c(39437),b),e(c(9537),b),e(c(9438),b),e(c(28431),b),e(c(89401),b)},48825:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryParse=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorQueryParse=e},99388:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(48825),b)},63245:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerialize=void 0;let d=c(99737);class e extends d.ActorAbstractMediaTyped{constructor(a){super(a)}}b.ActorQueryResultSerialize=e},36044:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorQueryResultSerializeFixedMediaTypes=void 0;let d=c(99737);class e extends d.ActorAbstractMediaTypedFixed{constructor(a){super(a)}async testHandleChecked(a,b){return!0}}b.ActorQueryResultSerializeFixedMediaTypes=e},3642:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(63245),b),e(c(36044),b)},64267:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinEntriesSort=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorRdfJoinEntriesSort=e},18771:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(64267),b)},61021:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoinSelectivity=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorRdfJoinSelectivity=e},588:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(61021),b)},49949:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfJoin=void 0;let d=c(21367),e=c(8199),f=c(51890),g=c(41640),h=c(22086),i=new g.DataFactory;class j extends f.Actor{constructor(a,b){super(a),this.includeInLogs=!0,this.logicalType=b.logicalType,this.physicalName=b.physicalName,this.limitEntries=b.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=b.limitEntriesMin?? !1,this.canHandleUndefs=b.canHandleUndefs?? !1}static hash(a,b){return b.filter(b=>a.has(b)).map(b=>(0,h.termToString)(a.get(b))).join("")}static overlappingVariables(a){let b=a.map(a=>a.variables),c=b[0];for(let d of b.slice(1))c=c.filter(a=>d.some(b=>b.value===a.value));return c}static joinVariables(a){return[...new Set(a.flatMap(a=>a.variables.map(a=>a.value)))].map(a=>i.variable(a))}static joinBindings(...a){if(0===a.length)return null;if(1===a.length)return a[0];let b=a[0];for(let c of a.slice(1)){let d=b.merge(c);if(!d)return null;b=d}return b}static getCardinality(a){return a.cardinality}static async getMetadatas(a){return await Promise.all(a.map(a=>a.output.metadata()))}static async getEntriesWithMetadatas(a){let b=await j.getMetadatas(a);return a.map((a,c)=>({...a,metadata:b[c]}))}static getRequestInitialTimes(a){return a.map(a=>a.pageSize?0:a.requestTime||0)}static getRequestItemTimes(a){return a.map(a=>a.pageSize?(a.requestTime||0)/a.pageSize:0)}async constructResultMetadata(a,b,c,d={}){let e;return d.cardinality?e=d.cardinality:(e=b.reduce((a,b)=>{let c=j.getCardinality(b);return{type:"estimate"===c.type?"estimate":a.type,value:a.value*c.value}},{type:"exact",value:1}),e.value*=(await this.mediatorJoinSelectivity.mediate({entries:a,context:c})).selectivity),{...d,cardinality:{type:e.type,value:e.value},canContainUndefs:d.canContainUndefs??b.some(a=>a.canContainUndefs),variables:j.joinVariables(b)}}async test(a){if(a.type!==this.logicalType)throw Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${a.type}' was given.`);if(a.entries.length<=1)throw Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?a.entries.length<this.limitEntries:a.entries.length>this.limitEntries)throw Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${a.entries.length}.`);for(let b of a.entries)if("bindings"!==b.output.type)throw Error(`Invalid type of a join entry: Expected 'bindings' but got '${b.output.type}'`);let c=await j.getMetadatas(a.entries);if(!this.canHandleUndefs){for(let d of c)if(d.canContainUndefs)throw Error(`Actor ${this.name} can not join streams containing undefs`)}return await this.getJoinCoefficients(a,c)}async run(a){let b;a.context.has(e.KeysInitQuery.physicalQueryPlanLogger)&&(b=a.context.get(e.KeysInitQuery.physicalQueryPlanNode),a.context=a.context.set(e.KeysInitQuery.physicalQueryPlanNode,a));let c=a.context.get(e.KeysInitQuery.physicalQueryPlanLogger),f;this.includeInLogs&&c&&(f={},c.logOperation(`join-${this.logicalType}`,this.physicalName,a,b,this.name,f));let{result:g,physicalPlanMetadata:h}=await this.getOutput(a),i=await j.getMetadatas(a.entries);return f&&(Object.assign(f,h),f.cardinalities=i.map(j.getCardinality),f.joinCoefficients=await this.getJoinCoefficients(a,i)),g.metadata=d.ActorQueryOperation.cachifyMetadata(g.metadata),g}}b.ActorRdfJoin=j},8554:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(49949),b)},4549:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadataExtract=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorRdfMetadataExtract=e},5530:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(4549),b)},5837:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfMetadata=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorRdfMetadata=e},25101:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(5837),b)},5168:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseHtml=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorRdfParseHtml=e},46913:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(5168),b)},61638:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParse=void 0;let d=c(99737);class e extends d.ActorAbstractMediaTyped{constructor(a){super(a)}}b.ActorRdfParse=e},64589:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfParseFixedMediaTypes=void 0;let d=c(99737);class e extends d.ActorAbstractMediaTypedFixed{constructor(a){super(a)}async testHandleChecked(a){return!0}}b.ActorRdfParseFixedMediaTypes=e},10254:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(61638),b),e(c(64589),b)},39848:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveHypermediaLinksQueue=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorRdfResolveHypermediaLinksQueue=e},73416:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},6473:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LinkQueueWrapper=void 0,b.LinkQueueWrapper=class{constructor(a){this.linkQueue=a}push(a,b){return this.linkQueue.push(a,b)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}}},52915:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(39848),b),e(c(73416),b),e(c(6473),b)},68457:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveHypermediaLinks=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorRdfResolveHypermediaLinks=e},41852:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(68457),b)},26864:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveHypermedia=void 0;let d=c(51890);class e extends d.Actor{constructor(a,b){super(a),this.sourceType=b}async test(a){if(a.forceSourceType&&this.sourceType!==a.forceSourceType)throw Error(`Actor ${this.name} is not able to handle source type ${a.forceSourceType}.`);return this.testMetadata(a)}}b.ActorRdfResolveHypermedia=e},41188:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(26864),b)},99583:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveQuadPattern=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorRdfResolveQuadPattern=e},48883:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfResolveQuadPatternSource=void 0;let d=c(99583);class e extends d.ActorRdfResolveQuadPattern{constructor(a){super(a)}async test(a){return!0}async run(a){let b=await this.getSource(a.context,a.pattern);return await this.getOutput(b,a.pattern,a.context)}async getOutput(a,b,c){let d=a.match(b.subject,b.predicate,b.object,b.graph);return{data:d}}}b.ActorRdfResolveQuadPatternSource=e},76976:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(99583),b),e(c(48883),b),e(c(77380),b)},77380:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.hasContextSingleSourceOfType=b.hasContextSingleSource=b.getContextSourceUrl=b.getContextSourceFirst=b.getContextSource=b.getContextSources=b.getDataSourceContext=b.getDataSourceValue=b.getDataSourceType=b.isDataSourceRawType=void 0;let d=c(8199);function e(a){return"string"==typeof a||"match"in a}function f(a){return"string"==typeof a?"":"match"in a?"rdfjsSource":a.type}function g(a){return e(a)?a:a.value}function h(a){return a.get(d.KeysRdfResolveQuadPattern.source)}b.isDataSourceRawType=e,b.getDataSourceType=f,b.getDataSourceValue=g,b.getDataSourceContext=function(a,b){return"string"==typeof a||"match"in a||!a.context?b:b.merge(a.context)},b.getContextSources=function(a){return a.get(d.KeysRdfResolveQuadPattern.sources)},b.getContextSource=h,b.getContextSourceFirst=function(a){if(a.has(d.KeysRdfResolveQuadPattern.source))return a.get(d.KeysRdfResolveQuadPattern.source);let b=a.get(d.KeysRdfResolveQuadPattern.sources);if(b?.length===1)return b[0]},b.getContextSourceUrl=function(a){if(a){let b=g(a);if("string"==typeof b){let c=b.indexOf("#");return c>=0&&(b=b.slice(0,c)),b}}},b.hasContextSingleSource=function(a){let b=h(a);return Boolean(b&&(e(b)||b.value))},b.hasContextSingleSourceOfType=function(a,b){let c=h(b);return Boolean(c&&f(c)===a&&g(c))}},70230:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfSerialize=void 0;let d=c(99737);class e extends d.ActorAbstractMediaTyped{constructor(a){super(a)}}b.ActorRdfSerialize=e},96155:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfSerializeFixedMediaTypes=void 0;let d=c(99737);class e extends d.ActorAbstractMediaTypedFixed{constructor(a){super(a)}async testHandleChecked(a){return!0}}b.ActorRdfSerializeFixedMediaTypes=e},79872:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(70230),b),e(c(96155),b)},38884:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfUpdateHypermedia=void 0;let d=c(51890);class e extends d.Actor{constructor(a,b){super(a),this.destinationType=b}async test(a){if(a.forceDestinationType&&this.destinationType!==a.forceDestinationType)throw Error(`Actor ${this.name} is not able to handle destination type ${a.forceDestinationType}.`);return this.testMetadata(a)}}b.ActorRdfUpdateHypermedia=e},13452:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(38884),b)},48331:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfUpdateQuads=void 0;let d=c(51890);class e extends d.Actor{constructor(a){super(a)}}b.ActorRdfUpdateQuads=e},91017:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActorRdfUpdateQuadsDestination=b.deskolemize=b.deskolemizeStream=void 0;let d=c(2734),e=c(8199),f=c(48331);function g(a,b){return a?.map(a=>d.FederatedQuadSource.deskolemizeQuad(a,b))}function h(a){let b=a.context.get(e.KeysRdfUpdateQuads.destination),c=a.context.get(e.KeysRdfResolveQuadPattern.sourceIds)?.get(b);return c?{...a,quadStreamInsert:g(a.quadStreamInsert,c),quadStreamDelete:g(a.quadStreamDelete,c)}:a}b.deskolemizeStream=g,b.deskolemize=h;class i extends f.ActorRdfUpdateQuads{async test(a){return!0}async run(a){let b=await this.getDestination(a.context);return await this.getOutput(b,h(a),a.context)}async getOutput(a,b,c){let d=()=>Promise.all([b.quadStreamInsert?a.insert(b.quadStreamInsert):Promise.resolve(),b.quadStreamDelete?a.delete(b.quadStreamDelete):Promise.resolve(),b.deleteGraphs?a.deleteGraphs(b.deleteGraphs.graphs,b.deleteGraphs.requireExistence,b.deleteGraphs.dropGraphs):Promise.resolve(),b.createGraphs?a.createGraphs(b.createGraphs.graphs,b.createGraphs.requireNonExistence):Promise.resolve(),]).then(()=>{});return{execute:d}}}b.ActorRdfUpdateQuadsDestination=i},10103:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateHttpResponse=void 0;let d=c(12319),e=c(83858);async function f(a,b){if(b.status>=400){let c="empty response";if(b.body){let f=d.ActorHttp.toNodeReadable(b.body);c=await e(f)}throw Error(`Could not update ${a} (HTTP status ${b.status}):
${c}`)}await b.body?.cancel()}b.validateHttpResponse=f},91085:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(48331),b),e(c(91017),b),e(c(10103),b),e(c(89364),b)},89364:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getContextDestinationUrl=b.getContextDestinationFirst=b.getContextDestination=b.getDataDestinationContext=b.getDataDestinationValue=b.getDataDestinationType=b.isDataDestinationRawType=void 0;let d=c(8199);function e(a){return"string"==typeof a||"remove"in a}function f(a){return e(a)?a:a.value}b.isDataDestinationRawType=e,b.getDataDestinationType=function(a){return"string"==typeof a?"":"remove"in a?"rdfjsStore":a.type},b.getDataDestinationValue=f,b.getDataDestinationContext=function(a,b){return"string"==typeof a||"remove"in a||!a.context?b:b.merge(a.context)},b.getContextDestination=function(a){return a.get(d.KeysRdfUpdateQuads.destination)},b.getContextDestinationFirst=function(a){if(a.has(d.KeysRdfUpdateQuads.destination))return a.get(d.KeysRdfUpdateQuads.destination)},b.getContextDestinationUrl=function(a){if(a){let b=f(a);if("string"==typeof b){let c=b.indexOf("#");return c>=0&&(b=b.slice(0,c)),b}}}},39419:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.KeysRdfUpdateQuads=b.KeysRdfResolveQuadPattern=b.KeysRdfParseHtmlScript=b.KeysRdfParseJsonLd=b.KeysQueryOperation=b.KeysInitQuery=b.KeysHttpProxy=b.KeysHttpMemento=b.KeysHttp=b.KeysCore=void 0;let d=c(51890);b.KeysCore={log:d.CONTEXT_KEY_LOGGER},b.KeysHttp={includeCredentials:new d.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new d.ActionContextKey("@comunica/bus-http:auth"),fetch:new d.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new d.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new d.ActionContextKey("@comunica/bus-http:http-body-timeout")},b.KeysHttpMemento={datetime:new d.ActionContextKey("@comunica/actor-http-memento:datetime")},b.KeysHttpProxy={httpProxyHandler:new d.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},b.KeysInitQuery={initialBindings:new d.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new d.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new d.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new d.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new d.ActionContextKey("@comunica/actor-init-query:queryString"),query:new d.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new d.ActionContextKey("@comunica/actor-init-query:baseIRI"),queryTimestamp:new d.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new d.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new d.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new d.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new d.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new d.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new d.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new d.ActionContextKey("@context")},b.KeysQueryOperation={operation:new d.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new d.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new d.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new d.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new d.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new d.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new d.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new d.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph")},b.KeysRdfParseJsonLd={documentLoader:new d.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new d.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new d.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},b.KeysRdfParseHtmlScript={processingHtmlScript:new d.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new d.ActionContextKey("extractAllScripts")},b.KeysRdfResolveQuadPattern={sources:new d.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sources"),source:new d.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:source"),sourceIds:new d.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sourceIds")},b.KeysRdfUpdateQuads={destination:new d.ActionContextKey("@comunica/bus-rdf-update-quads:destination")}},8199:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(39419),b)},58168:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActionContextKey=b.ActionContext=void 0;let d=c(35369);class e{constructor(a={}){this.map=(0,d.Map)(a)}setDefault(a,b){return this.has(a)?this:this.set(a,b)}set(a,b){return this.setRaw(a.name,b)}setRaw(a,b){return new e(this.map.set(a,b))}delete(a){return new e(this.map.delete(a.name))}get(a){return this.getRaw(a.name)}getRaw(a){return this.map.get(a)}getSafe(a){if(!this.has(a))throw Error(`Context entry ${a.name} is required but not available`);return this.get(a)}has(a){return this.hasRaw(a.name)}hasRaw(a){return this.map.has(a)}merge(...a){let b=this;for(let c of a)for(let d of c.keys())b=b.set(d,c.get(d));return b}keys(){return[...this.map.keys()].map(a=>new f(a))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(a){return a instanceof e?a:new e((0,d.Map)(a||{}))}}b.ActionContext=e;class f{constructor(a){this.name=a}}b.ActionContextKey=f},86195:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ActionObserver=void 0,b.ActionObserver=class{constructor(a){Object.assign(this,a)}}},1863:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Actor=void 0;let d=c(26325);class e{constructor(a){this.beforeActors=[],Object.assign(this,a),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(a){return a.get(d.CONTEXT_KEY_LOGGER)}runObservable(a){let b=this.run(a);return this.bus.onRun(this,a,b),b}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(a,b){let c=b?b():{};return c.actor=this.name,c}logTrace(a,b,c){let d=e.getContextLogger(a);d&&d.trace(b,this.getDefaultLogData(a,c))}logDebug(a,b,c){let d=e.getContextLogger(a);d&&d.debug(b,this.getDefaultLogData(a,c))}logInfo(a,b,c){let d=e.getContextLogger(a);d&&d.info(b,this.getDefaultLogData(a,c))}logWarn(a,b,c){let d=e.getContextLogger(a);d&&d.warn(b,this.getDefaultLogData(a,c))}logError(a,b,c){let d=e.getContextLogger(a);d&&d.error(b,this.getDefaultLogData(a,c))}logFatal(a,b,c){let d=e.getContextLogger(a);d&&d.fatal(b,this.getDefaultLogData(a,c))}}b.Actor=e},65090:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Bus=void 0,b.Bus=class{constructor(a){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,a)}subscribe(a){this.actors.push(a),this.reorderForDependencies()}subscribeObserver(a){this.observers.push(a)}unsubscribe(a){let b=this.actors.indexOf(a);return b>=0&&(this.actors.splice(b,1),!0)}unsubscribeObserver(a){let b=this.observers.indexOf(a);return b>=0&&(this.observers.splice(b,1),!0)}publish(a){return this.actors.map(b=>({actor:b,reply:b.test(a)}))}onRun(a,b,c){for(let d of this.observers)d.onRun(a,b,c)}addDependencies(a,b){for(let c of b){let d=this.dependencyLinks.get(c);d||(d=[],this.dependencyLinks.set(c,d)),d.push(a)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){let a=[];for(let b of this.dependencyLinks.keys()){let c=this.actors.indexOf(b);c>=0&&(this.actors.splice(c,1),a.push(b))}for(;a.length>0;){let d=-1;for(let e=0;e<a.length;e++){let f=!0;for(let g of this.dependencyLinks.get(a[e]))if(!this.actors.includes(g)&&a.includes(g)){f=!1;break}if(f){d=e;break}}if(d<0)throw Error(`Cyclic dependency links detected in bus ${this.name}`);let h=a.splice(d,1)[0];this.actors.push(h)}}}}},68039:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BusIndexed=void 0;let d=c(65090);class e extends d.Bus{constructor(a){super(a),this.actorsIndex={}}subscribe(a){let b=this.getActorIdentifier(a)||"_undefined_",c=this.actorsIndex[b];c||(c=this.actorsIndex[b]=[]),c.push(a),super.subscribe(a)}unsubscribe(a){let b=this.getActorIdentifier(a)||"_undefined_",c=this.actorsIndex[b];if(c){let d=c.indexOf(a);d>=0&&c.splice(d,1),0===c.length&&delete this.actorsIndex[b]}return super.unsubscribe(a)}publish(a){let b=this.getActionIdentifier(a);if(b){let c=[...this.actorsIndex[b]||[],...this.actorsIndex._undefined_||[]];return c.map(b=>({actor:b,reply:b.test(a)}))}return super.publish(a)}getActorIdentifier(a){return this.actorIdentifierFields.reduce((a,b)=>a[b],a)}getActionIdentifier(a){return this.actionIdentifierFields.reduce((a,b)=>a[b],a)}}b.BusIndexed=e},26325:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CONTEXT_KEY_LOGGER=void 0;let d=c(58168);b.CONTEXT_KEY_LOGGER=new d.ActionContextKey("@comunica/core:log")},72372:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Mediator=void 0,b.Mediator=class{constructor(a){Object.assign(this,a)}publish(a){let b=this.bus.publish(a);if(0===b.length)throw Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return b}async mediateActor(a){return await this.mediateWith(a,this.publish(a))}async mediate(a){let b=await this.mediateActor(a);return b.runObservable(a)}}},51890:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.Logger=void 0;let f=c(48491),g=f.Logger;b.Logger=g,e(c(58168),b),e(c(65090),b),e(c(68039),b),e(c(26325),b),e(c(86195),b),e(c(1863),b),e(c(72372),b)},38604:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BlankNodeBindingsScoped=void 0,b.BlankNodeBindingsScoped=class{constructor(a){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=a}equals(a){return!!a&&"BlankNode"===a.termType&&a.value===this.value}}},17081:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BlankNodeScoped=void 0,b.BlankNodeScoped=class{constructor(a,b){this.termType="BlankNode",this.value=a,this.skolemized=b}equals(a){return!!a&&"BlankNode"===a.termType&&a.value===this.value}}},10959:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(17081),b),e(c(38604),b)},91989:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LoggerVoid=void 0;let d=c(48491);class e extends d.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}b.LoggerVoid=e},29265:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(91989),b)},63038:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MediatorAll=void 0;let d=c(51890);class e extends d.Mediator{constructor(a){super(a)}async mediate(a){let b=[],c;try{c=this.publish(a)}catch{c=[]}for(let d of c)try{await d.reply,b.push(d.actor)}catch{}let e=await Promise.all(b.map(b=>b.runObservable(a)));return e[0]}async mediateWith(){throw Error("Unsupported operation: MediatorAll#mediateWith")}}b.MediatorAll=e},42967:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(63038),b)},71611:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MediatorCombinePipeline=void 0;let d=c(51890);class e extends d.Mediator{constructor(a){super(a)}async mediate(a){let b;try{b=this.publish(a)}catch{return a}if(this.filterErrors){let c=[];for(let d of b)try{await d.reply,c.push(d)}catch{}b=c}if(b=await Promise.all(b.map(async({actor:a,reply:b})=>({actor:a,reply:await b}))),this.order){let e=a=>{let b=this.field?a[this.field]:a;if("number"!=typeof b)throw Error("Cannot order elements that are not numbers.");return b};b=b.sort((a,b)=>("increasing"===this.order?1:-1)*(e(a.reply)-e(b.reply)))}let f=a;for(let{actor:g}of b)f={...f,...await g.runObservable(f)};return f}mediateWith(){throw Error("Method not supported.")}}b.MediatorCombinePipeline=e},44155:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(71611),b)},6544:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MediatorCombineUnion=void 0;let d=c(51890);class e extends d.Mediator{constructor(a){super(a),this.combiner=this.createCombiner()}async mediate(a){let b;try{b=this.publish(a)}catch{b=[]}await Promise.all(b.map(({reply:a})=>a));let c=await Promise.all(b.map(b=>b.actor.runObservable(a)));return this.combiner(c)}mediateWith(){throw Error("Method not supported.")}createCombiner(){return a=>{let b={};return b[this.field]={},[{}].concat(a.map(a=>a[this.field])).forEach((a,c,d)=>{b[this.field]={...a,...b[this.field]}}),b}}}b.MediatorCombineUnion=e},87997:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(6544),b)},14106:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MediatorJoinCoefficientsFixed=void 0;let d=c(8199),e=c(51890);class f extends e.Mediator{constructor(a){super(a)}async mediateWith(a,b){let c=[],f=b.map(({reply:a})=>a).map(a=>a.catch(a=>{c.push(a)})),g=await Promise.all(f),h=g.map((a,b)=>{if(a)return a.iterations*this.cpuWeight+a.persistedItems*this.memoryWeight+a.blockingItems*this.timeWeight+a.requestTime*this.ioWeight}),i=Math.max(...h.filter(a=>void 0!==a)),j=a.context.get(d.KeysQueryOperation.limitIndicator);j&&(h=h.map((a,b)=>void 0!==a&&g[b].persistedItems>0&&g[b].iterations>j?a+i:a));let k=-1,l=Number.POSITIVE_INFINITY;for(let[m,n]of h.entries())void 0!==n&&(-1===k||n<l)&&(k=m,l=n);if(k<0)throw Error(`All actors rejected their test in ${this.name}
${c.map(a=>a.message).join("\n")}`);let o=b[k].actor;return o.includeInLogs&&e.Actor.getContextLogger(a.context)?.debug(`Determined physical join operator '${o.logicalType}-${o.physicalName}'`,{entries:a.entries.length,variables:await Promise.all(a.entries.map(async a=>(await a.output.metadata()).variables.map(a=>a.value))),costs:Object.fromEntries(h.map((a,c)=>[`${b[c].actor.logicalType}-${b[c].actor.physicalName}`,a,])),coefficients:Object.fromEntries(g.map((a,c)=>[`${b[c].actor.logicalType}-${b[c].actor.physicalName}`,a,]))}),o}}b.MediatorJoinCoefficientsFixed=f},80177:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(14106),b)},23868:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MediatorNumber=void 0;let d=c(51890);class e extends d.Mediator{constructor(a){super(a),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return a=>a.reduce((a,b,c)=>{let d=this.getOrDefault(b[this.field],Number.POSITIVE_INFINITY);return null!==d&&(Number.isNaN(a[0])||a[0]>d)?[d,c]:a},[Number.NaN,-1])[1];case"max":return a=>a.reduce((a,b,c)=>{let d=this.getOrDefault(b[this.field],Number.NEGATIVE_INFINITY);return null!==d&&(Number.isNaN(a[0])||a[0]<d)?[d,c]:a},[Number.NaN,-1])[1];default:throw Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(a,b){return void 0===a?b:a}async mediateWith(a,b){let c=b.map(({reply:a})=>a),d=[];if(this.ignoreErrors){let e={};e[this.field]=null,c=c.map(a=>a.catch(a=>(d.push(a),e)))}let f=await Promise.all(c),g=this.indexPicker(f);if(g<0)throw Error(`All actors rejected their test in ${this.name}
${d.map(a=>a.message).join("\n")}`);return b[g].actor}}b.MediatorNumber=e},38234:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(23868),b)},78794:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MediatorRace=void 0;let d=c(51890);class e extends d.Mediator{constructor(a){super(a)}mediateWith(a,b){return new Promise((a,c)=>{let d=[];for(let e of b)e.reply.then(()=>{a(e.actor)}).catch(a=>{d.push(a),d.length===b.length&&c(Error(`${this.name} mediated over all rejecting actors:
${d.map(a=>a.message).join("\n")}`))})})}}b.MediatorRace=e},45413:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(78794),b)},42498:function(a,b,c){let d=new(c(29265)).LoggerVoid,e=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^2.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),f=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^2.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),g=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^2.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),h=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^2.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),i=new(c(21367)).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^2.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),j=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^2.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),k=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^2.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),l=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^2.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),m=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^2.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),n=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^2.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),o=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^2.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),p=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^2.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),q=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^2.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),r=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^2.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),s=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^2.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),t=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^2.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),u=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^2.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),v=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^2.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),w=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/^2.0.0/components/ActorRdfResolveHypermedia.jsonld#ActorRdfResolveHypermedia_default_bus"}),x=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^2.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),y=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^2.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),z=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^2.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),A=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^2.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),B=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^2.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),C=new(c(51890)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/^2.0.0/components/ActorRdfResolveQuadPattern.jsonld#ActorRdfResolveQuadPattern_default_bus"}),D=(new(c(80675)).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:f}),new(c(44155)).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:f})),E=(new(c(77994)).ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:g}),new(c(45413)).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:g})),F=(new(c(54648)).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:h}),new(c(72318)).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:h}),new(c(571)).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:h}),new(c(44155)).MediatorCombinePipeline({name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:h})),G=new(c(38234)).MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:i}),H=(new(c(49423)).ActorQueryOperationValues({name:"urn:comunica:default:query-operation/actors#values",bus:i}),new(c(45413)).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:j})),I=(new(c(87216)).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:j}),new(c(90129)).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:j}),new(c(45413)).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:k})),J=new(c(87997)).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:k}),K=new(c(87997)).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:k}),L=(new(c(43252)).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:k}),new(c(92088)).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:k}),new(c(71947)).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:k}),new(c(50828)).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:k}),new(c(83077)).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:k}),new(c(63566)).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:k}),new(c(34487)).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:k}),new(c(42967)).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:l})),M=new(c(88637)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:l}),N=new(c(88637)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:l}),O=new(c(88637)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^2.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:l}),P=new(c(88637)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-resolve-quad-pattern-hypermedia/^2.0.0/components/ActorRdfResolveQuadPatternHypermedia.jsonld#IActorRdfResolveQuadPatternHypermediaArgs_default_invalidator",bus:l}),Q=new(c(45413)).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:m}),R=new(c(87997)).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:m}),S=new(c(87997)).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:m}),T=(new(c(77753)).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:m}),new(c(10710)).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:m}),new(c(38234)).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#main",bus:n})),U=new(c(36845)).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:n}),V=new(c(14370)).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:o}),W=new(c(45413)).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:o}),X=new(c(45413)).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:p}),Y=new(c(87997)).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:p}),Z=(new(c(9241)).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:p}),new(c(9076)).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:p}),new(c(50438)).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:p}),new(c(45413)).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:q})),$=(new(c(24493)).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:r}),new(c(45413)).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:r})),_=(new(c(46995)).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:s}),new(c(38234)).MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:s})),aa=(new(c(98463)).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:t}),new(c(96674)).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:t}),new(c(45413)).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:t})),ab=(new(c(32387)).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:u}),new(c(59978)).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:u}),new(c(89928)).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:u}),new(c(3259)).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:u}),new(c(3955)).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:u}),new(c(6730)).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:u}),new(c(59208)).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:u}),new(c(17923)).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:u}),new(c(87997)).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:u})),ac=(new(c(96915)).ActorRdfParseHtml({busRdfParseHtml:v,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:p}),new(c(94252)).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:v}),new(c(9118)).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:v}),new(c(53043)).ActorRdfResolveHypermediaNone({name:"urn:comunica:default:rdf-resolve-hypermedia/actors#none",bus:w}),new(c(38234)).MediatorNumber({field:"filterFactor",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-resolve-hypermedia/mediators#main",bus:w})),ad=(new(c(48585)).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:x}),new(c(45413)).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:x})),ae=(new(c(66715)).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:y}),new(c(45413)).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:y})),af=new(c(45413)).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:z}),ag=(new(c(48968)).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:A}),new(c(45413)).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:A})),ah=new(c(80177)).MediatorJoinCoefficientsFixed({cpuWeight:1,memoryWeight:1,timeWeight:10,ioWeight:100,name:"urn:comunica:default:rdf-join/mediators#main",bus:B}),ai=new(c(45413)).MediatorRace({name:"urn:comunica:default:rdf-resolve-quad-pattern/mediators#main",bus:C}),aj=(new(c(47171)).ActorRdfResolveQuadPatternRdfJsSource({name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#rdfjs-source",bus:C}),new(c(89045)).ActorQueryOperationAsk({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#ask",bus:i}),new(c(7913)).ActorQueryOperationBgpJoin({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#bgp",bus:i}),new(c(69893)).ActorQueryOperationConstruct({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#construct",bus:i}),new(c(57542)).ActorQueryOperationDescribeSubject({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#describe",bus:i}),new(c(85019)).ActorQueryOperationFromQuad({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#from",bus:i}),new(c(95383)).ActorQueryOperationExtend({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#extend",bus:i}),new(c(79909)).ActorQueryOperationDistinctHash({mediatorHashBindings:E,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#distinct",bus:i}),new(c(44809)).ActorQueryOperationFilterSparqlee({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#filter",bus:i}),new(c(57428)).ActorQueryOperationGroup({mediatorHashBindings:E,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#group",bus:i}),new(c(45777)).ActorQueryOperationOrderBySparqlee({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#orderby",bus:i}),new(c(83565)).ActorQueryOperationNop({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#nop",bus:i}),new(c(69393)).ActorQueryOperationProject({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#project",bus:i}),new(c(95107)).ActorQueryOperationReducedHash({mediatorHashBindings:E,cacheSize:100,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#reduced",bus:i}),new(c(21883)).ActorQueryOperationSlice({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#slice",bus:i}),new(c(95247)).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#service",bus:i}),new(c(4448)).ActorQueryOperationUnion({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#union",bus:i}),new(c(5469)).ActorQueryOperationPathAlt({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#path-alt",bus:i}),new(c(49063)).ActorQueryOperationPathInv({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#path-inv",bus:i}),new(c(19159)).ActorQueryOperationPathNps({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#path-nps",bus:i}),new(c(61709)).ActorQueryOperationPathLink({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#path-link",bus:i}),new(c(14396)).ActorQueryOperationPathOneOrMore({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:i}),new(c(80842)).ActorQueryOperationPathZeroOrMore({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:i}),new(c(14456)).ActorQueryOperationPathZeroOrOne({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:i}),new(c(21040)).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#update-composite",bus:i}),new(c(52667)).ActorQueryOperationAddRewrite({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#update-add",bus:i}),new(c(95483)).ActorQueryOperationCopyRewrite({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#update-copy",bus:i}),new(c(22364)).ActorQueryOperationMoveRewrite({mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#update-move",bus:i}),new(c(52850)).ActorInitQuery({mediatorOptimizeQueryOperation:F,mediatorQueryOperation:G,mediatorQueryParse:H,mediatorQueryResultSerialize:I,mediatorQueryResultSerializeMediaTypeCombiner:J,mediatorQueryResultSerializeMediaTypeFormatCombiner:K,mediatorContextPreprocess:D,mediatorHttpInvalidate:L,logger:d,defaultQueryInputFormat:"sparql",contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:init/actors#query",bus:e})),ak=new(c(99030)).ActionObserverHttp({httpInvalidator:M,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:n}),al=new(c(15015)).ActionObserverHttp({httpInvalidator:N,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:n}),am=(new(c(54577)).ActorQueryResultSerializeRdf({mediatorRdfSerialize:Q,mediatorMediaTypeCombiner:R,mediatorMediaTypeFormatCombiner:S,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:k}),new(c(15745)).ActorRdfParseJsonLd({mediatorHttp:T,mediaTypePriorities:{"application/json":.5,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:p}),new(c(49429)).ActorRdfResolveHypermediaSparql({mediatorHttp:T,checkUrlSuffix:!0,forceHttpGet:!1,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:w}),new(c(53595)).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:T,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:z}),new(c(92112)).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:T,mediatorRdfSerializeMediatypes:R,mediatorRdfSerialize:Q,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:z}),new(c(51621)).ActorRdfUpdateHypermediaSparql({mediatorHttp:T,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:z}),new(c(60656)).ActorQueryOperationSparqlEndpoint({mediatorHttp:T,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,forceHttpGet:!1,name:"urn:comunica:default:query-operation/actors#sparql-endpoint",bus:i}),new(c(96006)).ActorDereferenceRdfParse({mediatorDereference:W,mediatorParse:X,mediatorParseMediatypes:Y,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:q}),new(c(66886)).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:Y,mediatorRdfParseHandle:X,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:v}),new(c(49506)).ActorRdfJoinNone({mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:B}),new(c(8249)).ActorRdfJoinSingle({mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:B}),new(c(28469)).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:B}),new(c(32234)).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorJoinEntriesSort:$,mediatorQueryOperation:G,mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:B}),new(c(38864)).ActorRdfJoinHash({mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:B}),new(c(75034)).ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:B}),new(c(94266)).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:B}),new(c(44929)).ActorRdfJoinMinusHash({mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:B}),new(c(66313)).ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:B}),new(c(51151)).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorQueryOperation:G,mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:B}),new(c(59630)).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:B}),new(c(64615)).ActorRdfResolveHypermediaQpf({mediatorMetadata:aa,mediatorMetadataExtract:ab,mediatorDereferenceRdf:Z,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:rdf-resolve-hypermedia/actors#qpf",bus:w}),new(c(9041)).ActorRdfResolveQuadPatternHypermedia({cacheSize:100,httpInvalidator:P,maxIterators:64,mediatorDereferenceRdf:Z,mediatorMetadata:aa,mediatorMetadataExtract:ab,mediatorRdfResolveHypermedia:ac,mediatorRdfResolveHypermediaLinks:ae,mediatorRdfResolveHypermediaLinksQueue:ad,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#hypermedia",bus:C}),new(c(30932)).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:O,mediatorDereferenceRdf:Z,mediatorMetadata:aa,mediatorMetadataExtract:ab,mediatorRdfUpdateHypermedia:af,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:A}),new(c(23003)).ActorQueryOperationClear({mediatorUpdateQuads:ag,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#update-clear",bus:i}),new(c(85027)).ActorQueryOperationCreate({mediatorUpdateQuads:ag,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#update-create",bus:i}),new(c(28104)).ActorQueryOperationDrop({mediatorUpdateQuads:ag,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#update-drop",bus:i}),new(c(5827)).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:ag,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:i}),new(c(77584)).ActorQueryOperationLoad({mediatorUpdateQuads:ag,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#update-load",bus:i}),new(c(51225)).ActorQueryOperationJoin({mediatorJoin:ah,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#join",bus:i}),new(c(13892)).ActorQueryOperationLeftJoin({mediatorJoin:ah,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:i}),new(c(78972)).ActorQueryOperationMinus({mediatorJoin:ah,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#minus",bus:i}),new(c(20713)).ActorQueryOperationPathSeq({mediatorJoin:ah,mediatorQueryOperation:G,name:"urn:comunica:default:query-operation/actors#path-seq",bus:i}),new(c(29261)).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:$,mediatorJoin:ah,mediatorJoinSelectivity:_,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:B}),new(c(38949)).ActorQueryOperationQuadpattern({mediatorResolveQuadPattern:ai,unionDefaultGraph:!1,name:"urn:comunica:default:query-operation/actors#quadpattern",bus:i}),new(c(2734)).ActorRdfResolveQuadPatternFederated({mediatorResolveQuadPattern:ai,skipEmptyPatterns:!1,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#federated",bus:C}),new(c(17038)).ActorHttpInruptSolidClientAuthn({mediatorHttp:T,name:"urn:comunica:default:http/actors#inrupt-solid-client-authn",bus:n,beforeActors:[U]}));new(c(68718)).ActorDereferenceHttp({mediatorHttp:T,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:o,beforeActors:[V]}),new(c(99030)).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:ak,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:k}),new(c(15015)).ActorQueryResultSerializeStats({httpObserver:al,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:k}),new(c(24020)).ActorHttpProxy({mediatorHttp:T,name:"urn:comunica:default:http/actors#proxy",bus:n,beforeActors:[U,am]}),a.exports=aj},23061:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QueryEngine=void 0;let d=c(52850),e=c(42498);class f extends d.QueryEngineBase{constructor(a=e){super(a)}}b.QueryEngine=f},59825:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(23061),b)},39992:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},39950:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},36439:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},19272:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},80444:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},50185:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},77733:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},46364:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},27257:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},53869:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},17019:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},12714:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},909:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Logger=void 0;class c{static getLevelOrdinal(a){return c.LEVELS[a]}}b.Logger=c,c.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5}},48491:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(39992),b),e(c(39950),b),e(c(36439),b),e(c(19272),b),e(c(80444),b),e(c(50185),b),e(c(77733),b),e(c(46364),b),e(c(27257),b),e(c(53869),b),e(c(17019),b),e(c(12714),b),e(c(909),b)},75483:function(a,b,c){"use strict";var d=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},e=this&&this.__await||function(a){return this instanceof e?(this.v=a,this):new e(a)},f=this&&this.__asyncValues||function(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a="function"==typeof __values?__values(a):a[Symbol.iterator](),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){e(d,f,(b=a[c](b)).done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}},g=this&&this.__asyncDelegator||function(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,f){b[d]=a[d]?function(b){return(c=!c)?{value:e(a[d](b)),done:"return"===d}:f?f(b):b}:f}},h=this&&this.__asyncGenerator||function(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,f=c.apply(a,b||[]),g=[];return d={},h("next"),h("throw"),h("return"),d[Symbol.asyncIterator]=function(){return this},d;function h(a){f[a]&&(d[a]=function(b){return new Promise(function(c,d){g.push([a,b,c,d])>1||i(a,b)})})}function i(a,b){try{j(f[a](b))}catch(c){m(g[0][3],c)}}function j(a){a.value instanceof e?Promise.resolve(a.value.v).then(k,l):m(g[0][2],a)}function k(a){i("next",a)}function l(a){i("throw",a)}function m(a,b){a(b),g.shift(),g.length&&i(g[0][0],g[0][1])}};Object.defineProperty(b,"__esModule",{value:!0});let i=c(59825);function*j(a){for(let b of a)yield b}b.default=class{constructor(a,b={}){var c,d;this.engine=null!==(c=b.engine)&& void 0!==c?c:new i.QueryEngine,this.sources=this.parseSourcesSilent(a),this.destination=b.destination?this.parseSourcesSilent(b.destination):void 0,this.options=null!==(d=b.options)&& void 0!==d?d:{}}parseSourcesSilent(a){let b=this.parseSources(a);return b.catch(()=>null),b}execute(a,b){return h(this,arguments,function*(){var c,d;let h=yield e(this.parseSources(b,this.sources));if(/^\s*(?:INSERT|DELETE)/i.test(a))yield e((yield*g(f(this.executeUpdate(a,b)))));else if(0!==h.length)try{for(var i,k=f(this.streamToAsyncIterable((yield e(this.engine.queryBindings(a,Object.assign({sources:h},this.options))))));!(i=yield e(k.next())).done;){let l=i.value;yield yield e(new Proxy(l,{get(a,b){return"values"===b?()=>j(l.values()):a[b]}}))}}catch(m){c={error:m}}finally{try{i&&!i.done&&(d=k.return)&&(yield e(d.call(k)))}finally{if(c)throw c.error}}})}executeUpdate(a,b){return h(this,arguments,function*(){let c,d=yield e(this.destination);if(!b&&d){if(1!==d.length)throw Error(`Destination must be a single source, not ${d.length}`);c=d}else{let f=yield e(this.parseSources(b,this.sources));if(0===f.length)throw Error("At least one source must be specified: Updates are inserted into the first given data source if no destination is specified, or if using explicit sources for query");c=[f[0]]}return yield e(this.engine.queryVoid(a,Object.assign({sources:c},this.options)))})}parseSources(a,b=[]){return d(this,void 0,void 0,function*(){let c=yield a;if(!c)return b;if(Array.isArray(c))return function a(b){return d(this,void 0,void 0,function*(){return[].concat(...yield Promise.all(b))})}(c.map(a=>this.parseSources(a)));if("string"==typeof c)return[{value:c.replace(/#.*/,"")}];if(c instanceof URL)return[{value:c.href.replace(/#.*/,"")}];if("termType"in c&&"NamedNode"===c.termType)return[{value:c.value.replace(/#.*/,"")}];if("match"in c&&"function"==typeof c.match)return[{value:c,type:"rdfjsSource"}];if("value"in c&&"string"==typeof c.value)return[c];throw Error(`Unsupported source: ${c}`)})}streamToAsyncIterable(a){let b=!1,c,d;return a.on("readable",f),a.on("error",g),a.on("end",g),{next:()=>new Promise(e),[Symbol.asyncIterator](){return this}};function e(a,b){d={resolve:a,reject:b},f()}function f(){if(b||c)g();else if(d){let e=a.read();null!==e&&(d.resolve({value:e}),d=null)}}function g(e){c||(b=!0,c=e),d&&(c?d.reject(c):d.resolve({done:b}),d=null),a.on("readable",f),a.on("error",g),a.on("end",g)}}clearCache(a){return d(this,void 0,void 0,function*(){yield this.engine.invalidateHttpCache(a)})}}},7834:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(75483));b.default=e.default},28599:function(a){"use strict";let{AbortController:b,AbortSignal:c}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;a.exports=b,a.exports.AbortSignal=c,a.exports.default=b},49912:function(a,b,c){let d=c(56404),e=c(51917),f=c(46491),g=c(7454),h=c(53065);a.exports={DynamicNestedLoopJoin:d,HashJoin:e,NestedLoopJoin:f,SymmetricHashJoin:g,MergeStream:h}},56404:function(a,b,c){let d=c(55505),e=d.MultiTransformIterator,f=d.SimpleTransformIterator;a.exports=class extends e{constructor(a,b,c,d){super(a,d),this.funRight=b,this.funJoin=c}_createTransformer(a){return new f(this.funRight(a),{transform:(b,c,d)=>{let e=this.funJoin(a,b);null!==e&&d(e),c()}})}}},51917:function(a,b,c){let d=c(55505).AsyncIterator;a.exports=class extends d{constructor(a,b,c,d){super(),this.addedDataListener=!1,this.left=a,this.right=b,this.funHash=c,this.funJoin=d,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",a=>this.destroy(a)),this.right.on("error",a=>this.destroy(a)),this.readable=!1,this.left.on("end",(function(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}).bind(this)),this.on("newListener",a=>{"data"!==a||this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())})}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this.addedDataListener||(this.addedDataListener=!0,this._addDataListener());;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let a=this.matches[this.matchIdx++],b=this.funJoin(a,this.match);if(null!==b)return b}if(this.hasResults()||this._end(),this.match=this.right.read(),null===this.match)return this.readable=!1,null;let c=this.funHash(this.match);this.matches=this.leftMap.get(c)||[],this.matchIdx=0}}_addDataListener(){this.left.on("data",(function(a){let b=this.funHash(a);this.leftMap.has(b)||this.leftMap.set(b,[]);this.leftMap.get(b).push(a)}).bind(this))}}},46491:function(a,b,c){let{MultiTransformIterator:d,SimpleTransformIterator:e,scheduleTask:f}=c(55505);a.exports=class extends d{constructor(a,b,c,d){super(a,d),this.right=b,this.funJoin=c,this.on("end",()=>this.right.close())}_end(){super._end(),f(()=>this.right.destroy())}_createTransformer(a){return new e(this.right.clone(),{transform:(b,c,d)=>{let e=this.funJoin(a,b);null!==e&&d(e),c()}})}}},7454:function(a,b,c){let d=c(55505).AsyncIterator;a.exports=class extends d{constructor(a,b,c,d){super(),this.left=a,this.right=b,this.funHash=c,this.funJoin=d,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",a=>this.destroy(a)),this.right.on("error",a=>this.destroy(a)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended|| !!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let a=this.matches[this.matchIdx++],b=this.usedLeft?this.funJoin(this.match,a):this.funJoin(a,this.match);if(null!==b)return b}this.hasResults()||this._end();let c=null;for(let d=0;d<2&&(c=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,null===c);++d);if(this.done||null===c)return this.readable=!1,null;let e=this.funHash(c),f=this.usedLeft?this.leftMap:this.rightMap;return f.has(e)||f.set(e,[]),f.get(e).push(c),this.match=c,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(e)||[],this.matchIdx=0,this.read()}}},53065:function(a,b,c){let d=c(55505).AsyncIterator;a.exports=class extends d{constructor(a){for(let b of(super(),Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.streams=a,a))b.on("readable",()=>this.emit("readable")),b.on("end",()=>this._removeStream(b));0===this.streams.length&&this.close(),this.idx=this.streams.length-1}_removeStream(a){let b=this.streams.indexOf(a);b<0||(this.streams.splice(b,1),this.idx>=this.streams.length&& --this.idx,0===this.streams.length&&this._end())}close(){for(let a of(super.close(),this.streams))a.close()}read(){for(let a=0;a<this.streams.length;++a){this.idx=(this.idx+1)%this.streams.length;let b=this.streams[this.idx].read();if(null!==b)return b}return null}}},44431:function(a,b,c){var d;!function(e){"use strict";var f,g=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,h=Math.ceil,i=Math.floor,j="[BigNumber Error] ",k=j+"Number primitive has more than 15 significant digits: ",l=14,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function n(a){var b,c,d,e,f,v,w,x,y,z=N.prototype={constructor:N,toString:null,valueOf:null},A=new N(1),B=20,C=4,D=-7,E=21,F=-1e7,G=1e7,H=!1,I=1,J=0,K={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},L="0123456789abcdefghijklmnopqrstuvwxyz",M=!0;function N(a,b){var c,d,e,f,h,j,m,n,o=this;if(!(o instanceof N))return new N(a,b);if(null==b){if(a&& !0===a._isBigNumber){o.s=a.s,!a.c||a.e>G?o.c=o.e=null:a.e<F?o.c=[o.e=0]:(o.e=a.e,o.c=a.c.slice());return}if((j="number"==typeof a)&&0*a==0){if(o.s=1/a<0?(a=-a,-1):1,a=== ~~a){for(f=0,h=a;h>=10;h/=10,f++);f>G?o.c=o.e=null:(o.e=f,o.c=[a]);return}n=String(a)}else{if(!g.test(n=String(a)))return y(o,n,j);o.s=45==n.charCodeAt(0)?(n=n.slice(1),-1):1}(f=n.indexOf("."))> -1&&(n=n.replace(".","")),(h=n.search(/e/i))>0?(f<0&&(f=h),f+=+n.slice(h+1),n=n.substring(0,h)):f<0&&(f=n.length)}else{if(r(b,2,L.length,"Base"),10==b&&M)return o=new N(a),R(o,B+o.e+1,C);if(n=String(a),j="number"==typeof a){if(0*a!=0)return y(o,n,j,b);if(o.s=1/a<0?(n=n.slice(1),-1):1,N.DEBUG&&n.replace(/^0\.0*|\./,"").length>15)throw Error(k+a)}else o.s=45===n.charCodeAt(0)?(n=n.slice(1),-1):1;for(c=L.slice(0,b),f=h=0,m=n.length;h<m;h++)if(0>c.indexOf(d=n.charAt(h))){if("."==d){if(h>f){f=m;continue}}else if(!e&&(n==n.toUpperCase()&&(n=n.toLowerCase())||n==n.toLowerCase()&&(n=n.toUpperCase()))){e=!0,h=-1,f=0;continue}return y(o,String(a),j,b)}j=!1,(f=(n=x(n,b,10,o.s)).indexOf("."))> -1?n=n.replace(".",""):f=n.length}for(h=0;48===n.charCodeAt(h);h++);for(m=n.length;48===n.charCodeAt(--m););if(n=n.slice(h,++m)){if(m-=h,j&&N.DEBUG&&m>15&&(a>9007199254740991||a!==i(a)))throw Error(k+o.s*a);if((f=f-h-1)>G)o.c=o.e=null;else if(f<F)o.c=[o.e=0];else{if(o.e=f,o.c=[],h=(f+1)%l,f<0&&(h+=l),h<m){for(h&&o.c.push(+n.slice(0,h)),m-=l;h<m;)o.c.push(+n.slice(h,h+=l));h=l-(n=n.slice(h)).length}else h-=m;for(;h--;n+="0");o.c.push(+n)}}else o.c=[o.e=0]}function O(a,b,c,d){var e,f,g,h,i;if(null==c?c=C:r(c,0,8),!a.c)return a.toString();if(e=a.c[0],g=a.e,null==b)i=p(a.c),i=1==d||2==d&&(g<=D||g>=E)?t(i,g):u(i,g,"0");else if(f=(a=R(new N(a),b,c)).e,h=(i=p(a.c)).length,1==d||2==d&&(b<=f||f<=D)){for(;h<b;i+="0",h++);i=t(i,f)}else if(b-=g,i=u(i,f,"0"),f+1>h){if(--b>0)for(i+=".";b--;i+="0");}else if((b+=f-h)>0)for(f+1==h&&(i+=".");b--;i+="0");return a.s<0&&e?"-"+i:i}function P(a,b){for(var c,d=1,e=new N(a[0]);d<a.length;d++)if((c=new N(a[d])).s)b.call(e,c)&&(e=c);else{e=c;break}return e}function Q(a,b,c){for(var d=1,e=b.length;!b[--e];b.pop());for(e=b[0];e>=10;e/=10,d++);return(c=d+c*l-1)>G?a.c=a.e=null:c<F?a.c=[a.e=0]:(a.e=c,a.c=b),a}function R(a,b,c,d){var e,f,g,j,k,n,o,p=a.c,q=m;if(p){out:{for(e=1,j=p[0];j>=10;j/=10,e++);if((f=b-e)<0)f+=l,g=b,o=(k=p[n=0])/q[e-g-1]%10|0;else if((n=h((f+1)/l))>=p.length){if(d){for(;p.length<=n;p.push(0));k=o=0,e=1,f%=l,g=f-l+1}else break out}else{for(e=1,k=j=p[n];j>=10;j/=10,e++);f%=l,o=(g=f-l+e)<0?0:k/q[e-g-1]%10|0}if(d=d||b<0||null!=p[n+1]||(g<0?k:k%q[e-g-1]),d=c<4?(o||d)&&(0==c||c==(a.s<0?3:2)):o>5||5==o&&(4==c||d||6==c&&(f>0?g>0?k/q[e-g]:0:p[n-1])%10&1||c==(a.s<0?8:7)),b<1||!p[0])return p.length=0,d?(b-=a.e+1,p[0]=q[(l-b%l)%l],a.e=-b||0):p[0]=a.e=0,a;if(0==f?(p.length=n,j=1,n--):(p.length=n+1,j=q[l-f],p[n]=g>0?i(k/q[e-g]%q[g])*j:0),d)for(;;){if(0==n){for(f=1,g=p[0];g>=10;g/=10,f++);for(g=p[0]+=j,j=1;g>=10;g/=10,j++);f!=j&&(a.e++,1e14==p[0]&&(p[0]=1));break}if(p[n]+=j,1e14!=p[n])break;p[n--]=0,j=1}for(f=p.length;0===p[--f];p.pop());}a.e>G?a.c=a.e=null:a.e<F&&(a.c=[a.e=0])}return a}function S(a){var b,c=a.e;return null===c?a.toString():(b=p(a.c),b=c<=D||c>=E?t(b,c):u(b,c,"0"),a.s<0?"-"+b:b)}return N.clone=n,N.ROUND_UP=0,N.ROUND_DOWN=1,N.ROUND_CEIL=2,N.ROUND_FLOOR=3,N.ROUND_HALF_UP=4,N.ROUND_HALF_DOWN=5,N.ROUND_HALF_EVEN=6,N.ROUND_HALF_CEIL=7,N.ROUND_HALF_FLOOR=8,N.EUCLID=9,N.config=N.set=function(a){var b,c;if(null!=a){if("object"==typeof a){if(a.hasOwnProperty(b="DECIMAL_PLACES")&&(r(c=a[b],0,1e9,b),B=c),a.hasOwnProperty(b="ROUNDING_MODE")&&(r(c=a[b],0,8,b),C=c),a.hasOwnProperty(b="EXPONENTIAL_AT")&&((c=a[b])&&c.pop?(r(c[0],-1e9,0,b),r(c[1],0,1e9,b),D=c[0],E=c[1]):(r(c,-1e9,1e9,b),D=-(E=c<0?-c:c))),a.hasOwnProperty(b="RANGE")){if((c=a[b])&&c.pop)r(c[0],-1e9,-1,b),r(c[1],1,1e9,b),F=c[0],G=c[1];else if(r(c,-1e9,1e9,b),c)F=-(G=c<0?-c:c);else throw Error(j+b+" cannot be zero: "+c)}if(a.hasOwnProperty(b="CRYPTO")){if(!!(c=a[b])===c){if(c){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))H=c;else throw H=!c,Error(j+"crypto unavailable")}else H=c}else throw Error(j+b+" not true or false: "+c)}if(a.hasOwnProperty(b="MODULO_MODE")&&(r(c=a[b],0,9,b),I=c),a.hasOwnProperty(b="POW_PRECISION")&&(r(c=a[b],0,1e9,b),J=c),a.hasOwnProperty(b="FORMAT")){if("object"==typeof(c=a[b]))K=c;else throw Error(j+b+" not an object: "+c)}if(a.hasOwnProperty(b="ALPHABET")){if("string"!=typeof(c=a[b])||/^.?$|[+\-.\s]|(.).*\1/.test(c))throw Error(j+b+" invalid: "+c);M="0123456789"==c.slice(0,10),L=c}}else throw Error(j+"Object expected: "+a)}return{DECIMAL_PLACES:B,ROUNDING_MODE:C,EXPONENTIAL_AT:[D,E],RANGE:[F,G],CRYPTO:H,MODULO_MODE:I,POW_PRECISION:J,FORMAT:K,ALPHABET:L}},N.isBigNumber=function(a){if(!a|| !0!==a._isBigNumber)return!1;if(!N.DEBUG)return!0;var b,c,d=a.c,e=a.e,f=a.s;out:if("[object Array]"==({}).toString.call(d)){if((1===f|| -1===f)&&e>= -1e9&&e<=1e9&&e===i(e)){if(0===d[0]){if(0===e&&1===d.length)return!0;break out}if((b=(e+1)%l)<1&&(b+=l),String(d[0]).length==b){for(b=0;b<d.length;b++)if((c=d[b])<0||c>=1e14||c!==i(c))break out;if(0!==c)return!0}}}else if(null===d&&null===e&&(null===f||1===f|| -1===f))return!0;throw Error(j+"Invalid BigNumber: "+a)},N.maximum=N.max=function(){return P(arguments,z.lt)},N.minimum=N.min=function(){return P(arguments,z.gt)},N.random=(b=9007199254740992*Math.random()&2097151?function(){return i(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(a){var c,d,e,f,g,k=0,n=[],o=new N(A);if(null==a?a=B:r(a,0,1e9),f=h(a/l),H){if(crypto.getRandomValues){for(c=crypto.getRandomValues(new Uint32Array(f*=2));k<f;)(g=131072*c[k]+(c[k+1]>>>11))>=9e15?(d=crypto.getRandomValues(new Uint32Array(2)),c[k]=d[0],c[k+1]=d[1]):(n.push(g%1e14),k+=2);k=f/2}else if(crypto.randomBytes){for(c=crypto.randomBytes(f*=7);k<f;)(g=(31&c[k])*281474976710656+1099511627776*c[k+1]+4294967296*c[k+2]+16777216*c[k+3]+(c[k+4]<<16)+(c[k+5]<<8)+c[k+6])>=9e15?crypto.randomBytes(7).copy(c,k):(n.push(g%1e14),k+=7);k=f/7}else throw H=!1,Error(j+"crypto unavailable")}if(!H)for(;k<f;)(g=b())<9e15&&(n[k++]=g%1e14);for(f=n[--k],a%=l,f&&a&&(g=m[l-a],n[k]=i(f/g)*g);0===n[k];n.pop(),k--);if(k<0)n=[e=0];else{for(e=-1;0===n[0];n.splice(0,1),e-=l);for(k=1,g=n[0];g>=10;g/=10,k++);k<l&&(e-=l-k)}return o.e=e,o.c=n,o}),N.sum=function(){for(var a=1,b=arguments,c=new N(b[0]);a<b.length;)c=c.plus(b[a++]);return c},x=function(){var a="0123456789";function b(a,b,c,d){for(var e,f,g=[0],h=0,i=a.length;h<i;){for(f=g.length;f--;g[f]*=b);for(g[0]+=d.indexOf(a.charAt(h++)),e=0;e<g.length;e++)g[e]>c-1&&(null==g[e+1]&&(g[e+1]=0),g[e+1]+=g[e]/c|0,g[e]%=c)}return g.reverse()}return function(c,d,e,f,g){var h,i,j,k,l,m,n,o,q=c.indexOf("."),r=B,s=C;for(q>=0&&(k=J,J=0,c=c.replace(".",""),m=(o=new N(d)).pow(c.length-q),J=k,o.c=b(u(p(m.c),m.e,"0"),10,e,a),o.e=o.c.length),j=k=(n=b(c,d,e,g?(h=L,a):(h=a,L))).length;0==n[--k];n.pop());if(!n[0])return h.charAt(0);if(q<0?--j:(m.c=n,m.e=j,m.s=f,n=(m=w(m,o,r,s,e)).c,l=m.r,j=m.e),q=n[i=j+r+1],k=e/2,l=l||i<0||null!=n[i+1],l=s<4?(null!=q||l)&&(0==s||s==(m.s<0?3:2)):q>k||q==k&&(4==s||l||6==s&&1&n[i-1]||s==(m.s<0?8:7)),i<1||!n[0])c=l?u(h.charAt(1),-r,h.charAt(0)):h.charAt(0);else{if(n.length=i,l)for(--e;++n[--i]>e;)n[i]=0,i||(++j,n=[1].concat(n));for(k=n.length;!n[--k];);for(q=0,c="";q<=k;c+=h.charAt(n[q++]));c=u(c,j,h.charAt(0))}return c}}(),w=function(){function a(a,b,c){var d,e,f,g,h=0,i=a.length,j=b%1e7,k=b/1e7|0;for(a=a.slice();i--;)f=a[i]%1e7,g=a[i]/1e7|0,d=k*f+g*j,e=j*f+d%1e7*1e7+h,h=(e/c|0)+(d/1e7|0)+k*g,a[i]=e%c;return h&&(a=[h].concat(a)),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c,d){for(var e=0;c--;)a[c]-=e,e=a[c]<b[c]?1:0,a[c]=e*d+a[c]-b[c];for(;!a[0]&&a.length>1;a.splice(0,1));}return function(d,e,f,g,h){var j,k,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C=d.s==e.s?1:-1,D=d.c,E=e.c;if(!D||!D[0]||!E||!E[0])return new N(d.s&&e.s&&(D?!E||D[0]!=E[0]:E)?D&&0==D[0]||!E?0*C:C/0:NaN);for(t=(s=new N(C)).c=[],C=f+(k=d.e-e.e)+1,h||(h=1e14,k=o(d.e/l)-o(e.e/l),C=C/l|0),m=0;E[m]==(D[m]||0);m++);if(E[m]>(D[m]||0)&&k--,C<0)t.push(1),n=!0;else{for(y=D.length,A=E.length,m=0,C+=2,(p=i(h/(E[0]+1)))>1&&(E=a(E,p,h),D=a(D,p,h),A=E.length,y=D.length),x=A,v=(u=D.slice(0,A)).length;v<A;u[v++]=0);B=[0].concat(B=E.slice()),z=E[0],E[1]>=h/2&&z++;do{if(p=0,(j=b(E,u,A,v))<0){if(w=u[0],A!=v&&(w=w*h+(u[1]||0)),(p=i(w/z))>1)for(p>=h&&(p=h-1),r=(q=a(E,p,h)).length,v=u.length;1==b(q,u,r,v);)p--,c(q,A<r?B:E,r,h),r=q.length,j=1;else 0==p&&(j=p=1),r=(q=E.slice()).length;if(r<v&&(q=[0].concat(q)),c(u,q,v,h),v=u.length,-1==j)for(;1>b(E,u,A,v);)p++,c(u,A<v?B:E,v,h),v=u.length}else 0===j&&(p++,u=[0]);t[m++]=p,u[0]?u[v++]=D[x]||0:(u=[D[x]],v=1)}while(((x++)<y||null!=u[0])&&C--);n=null!=u[0],t[0]||t.splice(0,1)}if(1e14==h){for(m=1,C=t[0];C>=10;C/=10,m++);R(s,f+(s.e=m+k*l-1)+1,g,n)}else s.e=k,s.r=+n;return s}}(),y=(c=/^(-?)0([xbo])(?=\w[\w.]*$)/i,d=/^([^.]+)\.$/,e=/^\.([^.]+)$/,f=/^-?(Infinity|NaN)$/,v=/^\s*\+(?=[\w.])|^\s+|\s+$/g,function(a,b,g,h){var i,k=g?b:b.replace(v,"");if(f.test(k))a.s=isNaN(k)?null:k<0?-1:1;else{if(!g&&(k=k.replace(c,function(a,b,c){return i="x"==(c=c.toLowerCase())?16:"b"==c?2:8,h&&h!=i?a:b}),h&&(i=h,k=k.replace(d,"$1").replace(e,"0.$1")),b!=k))return new N(k,i);if(N.DEBUG)throw Error(j+"Not a"+(h?" base "+h:"")+" number: "+b);a.s=null}a.c=a.e=null}),z.absoluteValue=z.abs=function(){var a=new N(this);return a.s<0&&(a.s=1),a},z.comparedTo=function(a,b){return q(this,new N(a,b))},z.decimalPlaces=z.dp=function(a,b){var c,d,e;if(null!=a)return r(a,0,1e9),null==b?b=C:r(b,0,8),R(new N(this),a+this.e+1,b);if(!(c=this.c))return null;if(d=((e=c.length-1)-o(this.e/l))*l,e=c[e])for(;e%10==0;e/=10,d--);return d<0&&(d=0),d},z.dividedBy=z.div=function(a,b){return w(this,new N(a,b),B,C)},z.dividedToIntegerBy=z.idiv=function(a,b){return w(this,new N(a,b),0,1)},z.exponentiatedBy=z.pow=function(a,b){var c,d,e,f,g,k,m,n,o,p=this;if((a=new N(a)).c&&!a.isInteger())throw Error(j+"Exponent not an integer: "+S(a));if(null!=b&&(b=new N(b)),k=a.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!a.c||!a.c[0])return o=new N(Math.pow(+S(p),k?2-s(a):+S(a))),b?o.mod(b):o;if(m=a.s<0,b){if(b.c?!b.c[0]:!b.s)return new N(NaN);(d=!m&&p.isInteger()&&b.isInteger())&&(p=p.mod(b))}else{if(a.e>9&&(p.e>0||p.e< -1||(0==p.e?p.c[0]>1||k&&p.c[1]>=24e7:p.c[0]<8e13||k&&p.c[0]<=9999975e7)))return f=(p.s<0&&s(a),-0),p.e> -1&&(f=1/f),new N(m?1/f:f);J&&(f=h(J/l+2))}for(k?(c=new N(.5),m&&(a.s=1),n=s(a)):n=(e=Math.abs(+S(a)))%2,o=new N(A);;){if(n){if(!(o=o.times(p)).c)break;f?o.c.length>f&&(o.c.length=f):d&&(o=o.mod(b))}if(e){if(0===(e=i(e/2)))break;n=e%2}else if(R(a=a.times(c),a.e+1,1),a.e>14)n=s(a);else{if(0==(e=+S(a)))break;n=e%2}p=p.times(p),f?p.c&&p.c.length>f&&(p.c.length=f):d&&(p=p.mod(b))}return d?o:(m&&(o=A.div(o)),b?o.mod(b):f?R(o,J,C,g):o)},z.integerValue=function(a){var b=new N(this);return null==a?a=C:r(a,0,8),R(b,b.e+1,a)},z.isEqualTo=z.eq=function(a,b){return 0===q(this,new N(a,b))},z.isFinite=function(){return!!this.c},z.isGreaterThan=z.gt=function(a,b){return q(this,new N(a,b))>0},z.isGreaterThanOrEqualTo=z.gte=function(a,b){return 1===(b=q(this,new N(a,b)))||0===b},z.isInteger=function(){return!!this.c&&o(this.e/l)>this.c.length-2},z.isLessThan=z.lt=function(a,b){return 0>q(this,new N(a,b))},z.isLessThanOrEqualTo=z.lte=function(a,b){return -1===(b=q(this,new N(a,b)))||0===b},z.isNaN=function(){return!this.s},z.isNegative=function(){return this.s<0},z.isPositive=function(){return this.s>0},z.isZero=function(){return!!this.c&&0==this.c[0]},z.minus=function(a,b){var c,d,e,f,g=this,h=g.s;if(b=(a=new N(a,b)).s,!h||!b)return new N(NaN);if(h!=b)return a.s=-b,g.plus(a);var i=g.e/l,j=a.e/l,k=g.c,m=a.c;if(!i||!j){if(!k||!m)return k?(a.s=-b,a):new N(m?g:NaN);if(!k[0]||!m[0])return m[0]?(a.s=-b,a):new N(k[0]?g:-0)}if(i=o(i),j=o(j),k=k.slice(),h=i-j){for((f=h<0)?(h=-h,e=k):(j=i,e=m),e.reverse(),b=h;b--;e.push(0));e.reverse()}else for(d=(f=(h=k.length)<(b=m.length))?h:b,h=b=0;b<d;b++)if(k[b]!=m[b]){f=k[b]<m[b];break}if(f&&(e=k,k=m,m=e,a.s=-a.s),(b=(d=m.length)-(c=k.length))>0)for(;b--;k[c++]=0);for(b=1e14-1;d>h;){if(k[--d]<m[d]){for(c=d;c&&!k[--c];k[c]=b);--k[c],k[d]+=1e14}k[d]-=m[d]}for(;0==k[0];k.splice(0,1),--j);return k[0]?Q(a,k,j):(a.s=3==C?-1:1,a.c=[a.e=0],a)},z.modulo=z.mod=function(a,b){var c,d;return(a=new N(a,b),this.c&&a.s&&(!a.c||a.c[0]))?a.c&&(!this.c||this.c[0])?(9==I?(d=a.s,a.s=1,c=w(this,a,0,3),a.s=d,c.s*=d):c=w(this,a,0,I),(a=this.minus(c.times(a))).c[0]||1!=I||(a.s=this.s),a):new N(this):new N(NaN)},z.multipliedBy=z.times=function(a,b){var c,d,e,f,g,h,i,j,k,m,n,p,q,r,s,t=this.c,u=(a=new N(a,b)).c;if(!t||!u||!t[0]||!u[0])return this.s&&a.s&&(!t||t[0]||u)&&(!u||u[0]||t)?(a.s*=this.s,t&&u?(a.c=[0],a.e=0):a.c=a.e=null):a.c=a.e=a.s=null,a;for(d=o(this.e/l)+o(a.e/l),a.s*=this.s,(i=t.length)<(m=u.length)&&(q=t,t=u,u=q,e=i,i=m,m=e),e=i+m,q=[];e--;q.push(0));for(r=1e14,s=1e7,e=m;--e>=0;){for(c=0,n=u[e]%s,p=u[e]/s|0,f=e+(g=i);f>e;)j=t[--g]%s,k=t[g]/s|0,h=p*j+k*n,j=n*j+h%s*s+q[f]+c,c=(j/r|0)+(h/s|0)+p*k,q[f--]=j%r;q[f]=c}return c?++d:q.splice(0,1),Q(a,q,d)},z.negated=function(){var a=new N(this);return a.s=-a.s||null,a},z.plus=function(a,b){var c,d=this,e=d.s;if(b=(a=new N(a,b)).s,!e||!b)return new N(NaN);if(e!=b)return a.s=-b,d.minus(a);var f=d.e/l,g=a.e/l,h=d.c,i=a.c;if(!f||!g){if(!h||!i)return new N(e/0);if(!h[0]||!i[0])return i[0]?a:new N(h[0]?d:0*e)}if(f=o(f),g=o(g),h=h.slice(),e=f-g){for(e>0?(g=f,c=i):(e=-e,c=h),c.reverse();e--;c.push(0));c.reverse()}for((e=h.length)-(b=i.length)<0&&(c=i,i=h,h=c,b=e),e=0;b;)e=(h[--b]=h[b]+i[b]+e)/1e14|0,h[b]=1e14===h[b]?0:h[b]%1e14;return e&&(h=[e].concat(h),++g),Q(a,h,g)},z.precision=z.sd=function(a,b){var c,d,e;if(null!=a&& !!a!==a)return r(a,1,1e9),null==b?b=C:r(b,0,8),R(new N(this),a,b);if(!(c=this.c))return null;if(d=(e=c.length-1)*l+1,e=c[e]){for(;e%10==0;e/=10,d--);for(e=c[0];e>=10;e/=10,d++);}return a&&this.e+1>d&&(d=this.e+1),d},z.shiftedBy=function(a){return r(a,-9007199254740991,9007199254740991),this.times("1e"+a)},z.squareRoot=z.sqrt=function(){var a,b,c,d,e,f=this,g=f.c,h=f.s,i=f.e,j=B+4,k=new N("0.5");if(1!==h||!g||!g[0])return new N(!h||h<0&&(!g||g[0])?NaN:g?f:1/0);if(0==(h=Math.sqrt(+S(f)))||h==1/0?(((b=p(g)).length+i)%2==0&&(b+="0"),h=Math.sqrt(+b),i=o((i+1)/2)-(i<0||i%2),b=h==1/0?"5e"+i:(b=h.toExponential()).slice(0,b.indexOf("e")+1)+i,c=new N(b)):c=new N(h+""),c.c[0]){for((h=(i=c.e)+j)<3&&(h=0);;)if(e=c,c=k.times(e.plus(w(f,e,j,1))),p(e.c).slice(0,h)===(b=p(c.c)).slice(0,h)){if(c.e<i&& --h,"9999"!=(b=b.slice(h-3,h+1))&&(d||"4999"!=b)){+b&&(+b.slice(1)||"5"!=b.charAt(0))||(R(c,c.e+B+2,1),a=!c.times(c).eq(f));break}if(!d&&(R(e,e.e+B+2,0),e.times(e).eq(f))){c=e;break}j+=4,h+=4,d=1}}return R(c,c.e+B+1,C,a)},z.toExponential=function(a,b){return null!=a&&(r(a,0,1e9),a++),O(this,a,b,1)},z.toFixed=function(a,b){return null!=a&&(r(a,0,1e9),a=a+this.e+1),O(this,a,b)},z.toFormat=function(a,b,c){var d,e=this;if(null==c)null!=a&&b&&"object"==typeof b?(c=b,b=null):a&&"object"==typeof a?(c=a,a=b=null):c=K;else if("object"!=typeof c)throw Error(j+"Argument not an object: "+c);if(d=e.toFixed(a,b),e.c){var f,g=d.split("."),h=+c.groupSize,i=+c.secondaryGroupSize,k=c.groupSeparator||"",l=g[0],m=g[1],n=e.s<0,o=n?l.slice(1):l,p=o.length;if(i&&(f=h,h=i,i=f,p-=f),h>0&&p>0){for(f=p%h||h,l=o.substr(0,f);f<p;f+=h)l+=k+o.substr(f,h);i>0&&(l+=k+o.slice(f)),n&&(l="-"+l)}d=m?l+(c.decimalSeparator||"")+((i=+c.fractionGroupSize)?m.replace(RegExp("\\d{"+i+"}\\B","g"),"$&"+(c.fractionGroupSeparator||"")):m):l}return(c.prefix||"")+d+(c.suffix||"")},z.toFraction=function(a){var b,c,d,e,f,g,h,i,k,n,o,q,r=this.c;if(null!=a&&(!(h=new N(a)).isInteger()&&(h.c||1!==h.s)||h.lt(A)))throw Error(j+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+S(h));if(!r)return new N(this);for(b=new N(A),k=c=new N(A),d=i=new N(A),q=p(r),f=b.e=q.length-this.e-1,b.c[0]=m[(g=f%l)<0?l+g:g],a=!a||h.comparedTo(b)>0?f>0?b:k:h,g=G,G=1/0,h=new N(q),i.c[0]=0;n=w(h,b,0,1),1!=(e=c.plus(n.times(d))).comparedTo(a);)c=d,d=e,k=i.plus(n.times(e=k)),i=e,b=h.minus(n.times(e=b)),h=e;return e=w(a.minus(c),d,0,1),i=i.plus(e.times(k)),c=c.plus(e.times(d)),i.s=k.s=this.s,f*=2,o=1>w(k,d,f,C).minus(this).abs().comparedTo(w(i,c,f,C).minus(this).abs())?[k,d]:[i,c],G=g,o},z.toNumber=function(){return+S(this)},z.toPrecision=function(a,b){return null!=a&&r(a,1,1e9),O(this,a,b,2)},z.toString=function(a){var b,c=this,d=c.s,e=c.e;return null===e?d?(b="Infinity",d<0&&(b="-"+b)):b="NaN":(null==a?b=e<=D||e>=E?t(p(c.c),e):u(p(c.c),e,"0"):10===a&&M?(c=R(new N(c),B+e+1,C),b=u(p(c.c),c.e,"0")):(r(a,2,L.length,"Base"),b=x(u(p(c.c),e,"0"),10,a,d,!0)),d<0&&c.c[0]&&(b="-"+b)),b},z.valueOf=z.toJSON=function(){return S(this)},z._isBigNumber=!0,null!=a&&N.set(a),N}function o(a){var b=0|a;return a>0||a===b?b:b-1}function p(a){for(var b,c,d=1,e=a.length,f=a[0]+"";d<e;){for(c=l-(b=a[d++]+"").length;c--;b="0"+b);f+=b}for(e=f.length;48===f.charCodeAt(--e););return f.slice(0,e+1||1)}function q(a,b){var c,d,e=a.c,f=b.c,g=a.s,h=b.s,i=a.e,j=b.e;if(!g||!h)return null;if(c=e&&!e[0],d=f&&!f[0],c||d)return c?d?0:-h:g;if(g!=h)return g;if(c=g<0,d=i==j,!e||!f)return d?0:!e^c?1:-1;if(!d)return i>j^c?1:-1;for(g=0,h=(i=e.length)<(j=f.length)?i:j;g<h;g++)if(e[g]!=f[g])return e[g]>f[g]^c?1:-1;return i==j?0:i>j^c?1:-1}function r(a,b,c,d){if(a<b||a>c||a!==i(a))throw Error(j+(d||"Argument")+("number"==typeof a?a<b||a>c?" out of range: ":" not an integer: ":" not a primitive number: ")+String(a))}function s(a){var b=a.c.length-1;return o(a.e/l)==b&&a.c[b]%2!=0}function t(a,b){return(a.length>1?a.charAt(0)+"."+a.slice(1):a)+(b<0?"e":"e+")+b}function u(a,b,c){var d,e;if(b<0){for(e=c+".";++b;e+=c);a=e+a}else if(d=a.length,++b>d){for(e=c,b-=d;--b;e+=c);a+=e}else b<d&&(a=a.slice(0,b)+"."+a.slice(b));return a}(f=n()).default=f.BigNumber=f,void 0!==(d=(function(){return f}).call(b,c,b,a))&&(a.exports=d)}(this)},31905:function(){var a;a="undefined"!=typeof self?self:this,function(b){var c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],e=ArrayBuffer.isView||function(a){return a&&d.indexOf(Object.prototype.toString.call(a))> -1};function f(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw TypeError("Invalid character in header field name");return a.toLowerCase()}function g(a){return"string"!=typeof a&&(a=String(a)),a}function h(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return c.iterable&&(b[Symbol.iterator]=function(){return b}),b}function i(a){this.map={},a instanceof i?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function j(a){if(a.bodyUsed)return Promise.reject(TypeError("Already read"));a.bodyUsed=!0}function k(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function l(a){var b=new FileReader,c=k(b);return b.readAsArrayBuffer(a),c}function m(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function n(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a){if("string"==typeof a)this._bodyText=a;else if(c.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(c.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(c.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else{var b;c.arrayBuffer&&c.blob&&(b=a)&&DataView.prototype.isPrototypeOf(b)?(this._bodyArrayBuffer=m(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||e(a))?this._bodyArrayBuffer=m(a):this._bodyText=a=Object.prototype.toString.call(a)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var a=j(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var a,b,c,d=j(this);if(d)return d;if(this._bodyBlob)return a=this._bodyBlob,b=new FileReader,c=k(b),b.readAsText(a),c;if(this._bodyArrayBuffer)return Promise.resolve(function(a){for(var b=new Uint8Array(a),c=Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},c.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}i.prototype.append=function(a,b){a=f(a),b=g(b);var c=this.map[a];this.map[a]=c?c+", "+b:b},i.prototype.delete=function(a){delete this.map[f(a)]},i.prototype.get=function(a){return a=f(a),this.has(a)?this.map[a]:null},i.prototype.has=function(a){return this.map.hasOwnProperty(f(a))},i.prototype.set=function(a,b){this.map[f(a)]=g(b)},i.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},i.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),h(a)},i.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),h(a)},i.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),h(a)},c.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(a,b){var c,d,e=(b=b||{}).body;if(a instanceof p){if(a.bodyUsed)throw TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new i(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,e||null==a._bodyInit||(e=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"same-origin",(b.headers||!this.headers)&&(this.headers=new i(b.headers)),this.method=(d=(c=b.method||this.method||"GET").toUpperCase(),o.indexOf(d)> -1?d:c),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(e)}function q(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function r(a,b){b||(b={}),this.type="default",this.status=void 0===b.status?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new i(b.headers),this.url=b.url||"",this._initBody(a)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},n.call(p.prototype),n.call(r.prototype),r.prototype.clone=function(){return new r(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},r.error=function(){var a=new r(null,{status:0,statusText:""});return a.type="error",a};var s=[301,302,303,307,308];r.redirect=function(a,b){if(-1===s.indexOf(b))throw RangeError("Invalid status code");return new r(null,{status:b,headers:{location:a}})},b.DOMException=a.DOMException;try{new b.DOMException}catch(t){b.DOMException=function(a,b){this.message=a,this.name=b;var c=Error(a);this.stack=c.stack},b.DOMException.prototype=Object.create(Error.prototype),b.DOMException.prototype.constructor=b.DOMException}function u(a,d){return new Promise(function(e,f){var g=new p(a,d);if(g.signal&&g.signal.aborted)return f(new b.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function j(){h.abort()}h.onload=function(){var a,b,c={status:h.status,statusText:h.statusText,headers:(a=h.getAllResponseHeaders()||"",b=new i,a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b)};c.url="responseURL"in h?h.responseURL:c.headers.get("X-Request-URL");var d="response"in h?h.response:h.responseText;e(new r(d,c))},h.onerror=function(){f(TypeError("Network request failed"))},h.ontimeout=function(){f(TypeError("Network request failed"))},h.onabort=function(){f(new b.DOMException("Aborted","AbortError"))},h.open(g.method,g.url,!0),"include"===g.credentials?h.withCredentials=!0:"omit"===g.credentials&&(h.withCredentials=!1),"responseType"in h&&c.blob&&(h.responseType="blob"),g.headers.forEach(function(a,b){h.setRequestHeader(b,a)}),g.signal&&(g.signal.addEventListener("abort",j),h.onreadystatechange=function(){4===h.readyState&&g.signal.removeEventListener("abort",j)}),h.send(void 0===g._bodyInit?null:g._bodyInit)})}u.polyfill=!0,a.fetch||(a.fetch=u,a.Headers=i,a.Request=p,a.Response=r),b.Headers=i,b.Request=p,b.Response=r,b.fetch=u,Object.defineProperty(b,"__esModule",{value:!0})}({})},17837:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.attributeNames=b.elementNames=void 0,b.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath",].map(function(a){return[a.toLowerCase(),a]})),b.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan",].map(function(a){return[a.toLowerCase(),a]}))},97220:function(a,b,c){"use strict";var d=this&&this.__assign||function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},e=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),f=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),g=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&e(b,a,c);return f(b,a),b};Object.defineProperty(b,"__esModule",{value:!0}),b.render=void 0;var h=g(c(99960)),i=c(45863),j=c(17837),k=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript",]);function l(a){return a.replace(/"/g,"&quot;")}var m=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr",]);function n(a,b){void 0===b&&(b={});for(var c=("length"in a)?a:[a],d="",e=0;e<c.length;e++)d+=o(c[e],b);return d}function o(a,b){switch(a.type){case h.Root:return n(a.children,b);case h.Doctype:case h.Directive:return s(a);case h.Comment:return v(a);case h.CDATA:return u(a);case h.Script:case h.Style:case h.Tag:return r(a,b);case h.Text:return t(a,b)}}b.render=n,b.default=n;var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title",]),q=new Set(["svg","math"]);function r(a,b){"foreign"===b.xmlMode&&(a.name=null!==(c=j.elementNames.get(a.name))&& void 0!==c?c:a.name,a.parent&&p.has(a.parent.name)&&(b=d(d({},b),{xmlMode:!1}))),!b.xmlMode&&q.has(a.name)&&(b=d(d({},b),{xmlMode:"foreign"}));var c,e="<".concat(a.name),f=function a(b,c){if(b){var d,e=(null!==(d=c.encodeEntities)&& void 0!==d?d:c.decodeEntities)=== !1?l:c.xmlMode||"utf8"!==c.encodeEntities?i.encodeXML:i.escapeAttribute;return Object.keys(b).map(function(a){var d,f,g=null!==(d=b[a])&& void 0!==d?d:"";return("foreign"===c.xmlMode&&(a=null!==(f=j.attributeNames.get(a))&& void 0!==f?f:a),c.emptyAttrs||c.xmlMode||""!==g)?"".concat(a,'="').concat(e(g),'"'):a}).join(" ")}}(a.attribs,b);return f&&(e+=" ".concat(f)),0===a.children.length&&(b.xmlMode?!1!==b.selfClosingTags:b.selfClosingTags&&m.has(a.name))?(b.xmlMode||(e+=" "),e+="/>"):(e+=">",a.children.length>0&&(e+=n(a.children,b)),(b.xmlMode||!m.has(a.name))&&(e+="</".concat(a.name,">"))),e}function s(a){return"<".concat(a.data,">")}function t(a,b){var c,d=a.data||"";return(null!==(c=b.encodeEntities)&& void 0!==c?c:b.decodeEntities)=== !1|| !b.xmlMode&&a.parent&&k.has(a.parent.name)||(d=b.xmlMode||"utf8"!==b.encodeEntities?(0,i.encodeXML)(d):(0,i.escapeText)(d)),d}function u(a){return"<![CDATA[".concat(a.children[0].data,"]]>")}function v(a){return"<!--".concat(a.data,"-->")}},99960:function(a,b){"use strict";var c,d;Object.defineProperty(b,"__esModule",{value:!0}),b.Doctype=b.CDATA=b.Tag=b.Style=b.Script=b.Comment=b.Directive=b.Text=b.Root=b.isTag=b.ElementType=void 0,(d=c=b.ElementType||(b.ElementType={})).Root="root",d.Text="text",d.Directive="directive",d.Comment="comment",d.Script="script",d.Style="style",d.Tag="tag",d.CDATA="cdata",d.Doctype="doctype",b.isTag=function(a){return a.type===c.Tag||a.type===c.Script||a.type===c.Style},b.Root=c.Root,b.Text=c.Text,b.Directive=c.Directive,b.Comment=c.Comment,b.Script=c.Script,b.Style=c.Style,b.Tag=c.Tag,b.CDATA=c.CDATA,b.Doctype=c.Doctype},47915:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.DomHandler=void 0;var f=c(99960),g=c(97790);e(c(97790),b);var h={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=function(){function a(a,b,c){this.dom=[],this.root=new g.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof b&&(c=b,b=h),"object"==typeof a&&(b=a,a=void 0),this.callback=null!=a?a:null,this.options=null!=b?b:h,this.elementCB=null!=c?c:null}return a.prototype.onparserinit=function(a){this.parser=a},a.prototype.onreset=function(){this.dom=[],this.root=new g.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(a){this.handleCallback(a)},a.prototype.onclosetag=function(){this.lastNode=null;var a=this.tagStack.pop();this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(a)},a.prototype.onopentag=function(a,b){var c=this.options.xmlMode?f.ElementType.Tag:void 0,d=new g.Element(a,b,void 0,c);this.addNode(d),this.tagStack.push(d)},a.prototype.ontext=function(a){var b=this.lastNode;if(b&&b.type===f.ElementType.Text)b.data+=a,this.options.withEndIndices&&(b.endIndex=this.parser.endIndex);else{var c=new g.Text(a);this.addNode(c),this.lastNode=c}},a.prototype.oncomment=function(a){if(this.lastNode&&this.lastNode.type===f.ElementType.Comment){this.lastNode.data+=a;return}var b=new g.Comment(a);this.addNode(b),this.lastNode=b},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var a=new g.Text(""),b=new g.CDATA([a]);this.addNode(b),a.parent=b,this.lastNode=a},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(a,b){var c=new g.ProcessingInstruction(a,b);this.addNode(c)},a.prototype.handleCallback=function(a){if("function"==typeof this.callback)this.callback(a,this.dom);else if(a)throw a},a.prototype.addNode=function(a){var b=this.tagStack[this.tagStack.length-1],c=b.children[b.children.length-1];this.options.withStartIndices&&(a.startIndex=this.parser.startIndex),this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),b.children.push(a),c&&(a.prev=c,c.next=a),a.parent=b,this.lastNode=null},a}();b.DomHandler=i,b.default=i},97790:function(a,b,c){"use strict";var d,e=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),f=this&&this.__assign||function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(b,"__esModule",{value:!0}),b.cloneNode=b.hasChildren=b.isDocument=b.isDirective=b.isComment=b.isText=b.isCDATA=b.isTag=b.Element=b.Document=b.CDATA=b.NodeWithChildren=b.ProcessingInstruction=b.Comment=b.Text=b.DataNode=b.Node=void 0;var g=c(99960),h=function(){function a(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(a.prototype,"parentNode",{get:function(){return this.parent},set:function(a){this.parent=a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"previousSibling",{get:function(){return this.prev},set:function(a){this.prev=a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"nextSibling",{get:function(){return this.next},set:function(a){this.next=a},enumerable:!1,configurable:!0}),a.prototype.cloneNode=function(a){return void 0===a&&(a=!1),w(this,a)},a}();b.Node=h;var i=function(a){function b(b){var c=a.call(this)||this;return c.data=b,c}return e(b,a),Object.defineProperty(b.prototype,"nodeValue",{get:function(){return this.data},set:function(a){this.data=a},enumerable:!1,configurable:!0}),b}(h);b.DataNode=i;var j=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type=g.ElementType.Text,b}return e(b,a),Object.defineProperty(b.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),b}(i);b.Text=j;var k=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type=g.ElementType.Comment,b}return e(b,a),Object.defineProperty(b.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),b}(i);b.Comment=k;var l=function(a){function b(b,c){var d=a.call(this,c)||this;return d.name=b,d.type=g.ElementType.Directive,d}return e(b,a),Object.defineProperty(b.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),b}(i);b.ProcessingInstruction=l;var m=function(a){function b(b){var c=a.call(this)||this;return c.children=b,c}return e(b,a),Object.defineProperty(b.prototype,"firstChild",{get:function(){var a;return null!==(a=this.children[0])&& void 0!==a?a:null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"childNodes",{get:function(){return this.children},set:function(a){this.children=a},enumerable:!1,configurable:!0}),b}(h);b.NodeWithChildren=m;var n=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type=g.ElementType.CDATA,b}return e(b,a),Object.defineProperty(b.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),b}(m);b.CDATA=n;var o=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type=g.ElementType.Root,b}return e(b,a),Object.defineProperty(b.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),b}(m);b.Document=o;var p=function(a){function b(b,c,d,e){void 0===d&&(d=[]),void 0===e&&(e="script"===b?g.ElementType.Script:"style"===b?g.ElementType.Style:g.ElementType.Tag);var f=a.call(this,d)||this;return f.name=b,f.attribs=c,f.type=e,f}return e(b,a),Object.defineProperty(b.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"tagName",{get:function(){return this.name},set:function(a){this.name=a},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"attributes",{get:function(){var a=this;return Object.keys(this.attribs).map(function(b){var c,d;return{name:b,value:a.attribs[b],namespace:null===(c=a["x-attribsNamespace"])|| void 0===c?void 0:c[b],prefix:null===(d=a["x-attribsPrefix"])|| void 0===d?void 0:d[b]}})},enumerable:!1,configurable:!0}),b}(m);function q(a){return(0,g.isTag)(a)}function r(a){return a.type===g.ElementType.CDATA}function s(a){return a.type===g.ElementType.Text}function t(a){return a.type===g.ElementType.Comment}function u(a){return a.type===g.ElementType.Directive}function v(a){return a.type===g.ElementType.Root}function w(a,b){if(void 0===b&&(b=!1),s(a))c=new j(a.data);else if(t(a))c=new k(a.data);else if(q(a)){var c,d=b?x(a.children):[],e=new p(a.name,f({},a.attribs),d);d.forEach(function(a){return a.parent=e}),null!=a.namespace&&(e.namespace=a.namespace),a["x-attribsNamespace"]&&(e["x-attribsNamespace"]=f({},a["x-attribsNamespace"])),a["x-attribsPrefix"]&&(e["x-attribsPrefix"]=f({},a["x-attribsPrefix"])),c=e}else if(r(a)){var d=b?x(a.children):[],g=new n(d);d.forEach(function(a){return a.parent=g}),c=g}else if(v(a)){var d=b?x(a.children):[],h=new o(d);d.forEach(function(a){return a.parent=h}),a["x-mode"]&&(h["x-mode"]=a["x-mode"]),c=h}else if(u(a)){var i=new l(a.name,a.data);null!=a["x-name"]&&(i["x-name"]=a["x-name"],i["x-publicId"]=a["x-publicId"],i["x-systemId"]=a["x-systemId"]),c=i}else throw Error("Not implemented yet: ".concat(a.type));return c.startIndex=a.startIndex,c.endIndex=a.endIndex,null!=a.sourceCodeLocation&&(c.sourceCodeLocation=a.sourceCodeLocation),c}function x(a){for(var b=a.map(function(a){return w(a,!0)}),c=1;c<b.length;c++)b[c].prev=b[c-1],b[c-1].next=b[c];return b}b.Element=p,b.isTag=q,b.isCDATA=r,b.isText=s,b.isComment=t,b.isDirective=u,b.isDocument=v,b.hasChildren=function(a){return Object.prototype.hasOwnProperty.call(a,"children")},b.cloneNode=w},16996:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getFeed=void 0;var d=c(43346),e=c(23905);b.getFeed=function(a){var b,c,d,f,g,m,n,o,p,q,r,s,t=i(l,a);return t?"feed"===t.name?(b=t,d=b.children,f={type:"atom",items:(0,e.getElementsByTagName)("entry",d).map(function(a){var b,c=a.children,d={media:h(c)};k(d,"id","id",c),k(d,"title","title",c);var e=null===(b=i("link",c))|| void 0===b?void 0:b.attribs.href;e&&(d.link=e);var f=j("summary",c)||j("content",c);f&&(d.description=f);var g=j("updated",c);return g&&(d.pubDate=new Date(g)),d})},k(f,"id","id",d),k(f,"title","title",d),g=null===(c=i("link",d))|| void 0===c?void 0:c.attribs.href,g&&(f.link=g),k(f,"description","subtitle",d),m=j("updated",d),m&&(f.updated=new Date(m)),k(f,"author","email",d,!0),f):(n=t,q=null!==(p=null===(o=i("channel",n.children))|| void 0===o?void 0:o.children)&& void 0!==p?p:[],r={type:n.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",n.children).map(function(a){var b=a.children,c={media:h(b)};k(c,"id","guid",b),k(c,"title","title",b),k(c,"link","link",b),k(c,"description","description",b);var d=j("pubDate",b);return d&&(c.pubDate=new Date(d)),c})},k(r,"title","title",q),k(r,"link","link",q),k(r,"description","description",q),s=j("lastBuildDate",q),s&&(r.updated=new Date(s)),k(r,"author","managingEditor",q,!0),r):null};var f=["url","type","lang"],g=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width",];function h(a){return(0,e.getElementsByTagName)("media:content",a).map(function(a){for(var b=a.attribs,c={medium:b.medium,isDefault:!!b.isDefault},d=0,e=f;d<e.length;d++){var h=e[d];b[h]&&(c[h]=b[h])}for(var i=0,j=g;i<j.length;i++){var h=j[i];b[h]&&(c[h]=parseInt(b[h],10))}return b.expression&&(c.expression=b.expression),c})}function i(a,b){return(0,e.getElementsByTagName)(a,b,!0,1)[0]}function j(a,b,c){return void 0===c&&(c=!1),(0,d.textContent)((0,e.getElementsByTagName)(a,b,c,1)).trim()}function k(a,b,c,d,e){void 0===e&&(e=!1);var f=j(c,d,e);f&&(a[b]=f)}function l(a){return"rss"===a||"feed"===a||"rdf:RDF"===a}},74975:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.uniqueSort=b.compareDocumentPosition=b.DocumentPosition=b.removeSubsets=void 0;var d,e,f=c(47915);function g(a,b){var c=[],e=[];if(a===b)return 0;for(var g=(0,f.hasChildren)(a)?a:a.parent;g;)c.unshift(g),g=g.parent;for(g=(0,f.hasChildren)(b)?b:b.parent;g;)e.unshift(g),g=g.parent;for(var h=Math.min(c.length,e.length),i=0;i<h&&c[i]===e[i];)i++;if(0===i)return d.DISCONNECTED;var j=c[i-1],k=j.children,l=c[i],m=e[i];return k.indexOf(l)>k.indexOf(m)?j===b?d.FOLLOWING|d.CONTAINED_BY:d.FOLLOWING:j===a?d.PRECEDING|d.CONTAINS:d.PRECEDING}b.removeSubsets=function(a){for(var b=a.length;--b>=0;){var c=a[b];if(b>0&&a.lastIndexOf(c,b-1)>=0){a.splice(b,1);continue}for(var d=c.parent;d;d=d.parent)if(a.includes(d)){a.splice(b,1);break}}return a},(e=d=b.DocumentPosition||(b.DocumentPosition={}))[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY",b.compareDocumentPosition=g,b.uniqueSort=function(a){return(a=a.filter(function(a,b,c){return!c.includes(a,b+1)})).sort(function(a,b){var c=g(a,b);return c&d.PRECEDING?-1:c&d.FOLLOWING?1:0}),a}},89432:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.hasChildren=b.isDocument=b.isComment=b.isText=b.isCDATA=b.isTag=void 0,e(c(43346),b),e(c(85010),b),e(c(26765),b),e(c(98043),b),e(c(23905),b),e(c(74975),b),e(c(16996),b);var f=c(47915);Object.defineProperty(b,"isTag",{enumerable:!0,get:function(){return f.isTag}}),Object.defineProperty(b,"isCDATA",{enumerable:!0,get:function(){return f.isCDATA}}),Object.defineProperty(b,"isText",{enumerable:!0,get:function(){return f.isText}}),Object.defineProperty(b,"isComment",{enumerable:!0,get:function(){return f.isComment}}),Object.defineProperty(b,"isDocument",{enumerable:!0,get:function(){return f.isDocument}}),Object.defineProperty(b,"hasChildren",{enumerable:!0,get:function(){return f.hasChildren}})},23905:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getElementsByTagType=b.getElementsByTagName=b.getElementById=b.getElements=b.testElement=void 0;var d=c(47915),e=c(98043),f={tag_name:function(a){return"function"==typeof a?function(b){return(0,d.isTag)(b)&&a(b.name)}:"*"===a?d.isTag:function(b){return(0,d.isTag)(b)&&b.name===a}},tag_type:function(a){return"function"==typeof a?function(b){return a(b.type)}:function(b){return b.type===a}},tag_contains:function(a){return"function"==typeof a?function(b){return(0,d.isText)(b)&&a(b.data)}:function(b){return(0,d.isText)(b)&&b.data===a}}};function g(a,b){return"function"==typeof b?function(c){return(0,d.isTag)(c)&&b(c.attribs[a])}:function(c){return(0,d.isTag)(c)&&c.attribs[a]===b}}function h(a,b){return function(c){return a(c)||b(c)}}function i(a){var b=Object.keys(a).map(function(b){var c=a[b];return Object.prototype.hasOwnProperty.call(f,b)?f[b](c):g(b,c)});return 0===b.length?null:b.reduce(h)}b.testElement=function(a,b){var c=i(a);return!c||c(b)},b.getElements=function(a,b,c,d){void 0===d&&(d=1/0);var f=i(a);return f?(0,e.filter)(f,b,c,d):[]},b.getElementById=function(a,b,c){return void 0===c&&(c=!0),Array.isArray(b)||(b=[b]),(0,e.findOne)(g("id",a),b,c)},b.getElementsByTagName=function(a,b,c,d){return void 0===c&&(c=!0),void 0===d&&(d=1/0),(0,e.filter)(f.tag_name(a),b,c,d)},b.getElementsByTagType=function(a,b,c,d){return void 0===c&&(c=!0),void 0===d&&(d=1/0),(0,e.filter)(f.tag_type(a),b,c,d)}},26765:function(a,b){"use strict";function c(a){if(a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),a.parent){var b=a.parent.children;b.splice(b.lastIndexOf(a),1)}}Object.defineProperty(b,"__esModule",{value:!0}),b.prepend=b.prependChild=b.append=b.appendChild=b.replaceElement=b.removeElement=void 0,b.removeElement=c,b.replaceElement=function(a,b){var c=b.prev=a.prev;c&&(c.next=b);var d=b.next=a.next;d&&(d.prev=b);var e=b.parent=a.parent;if(e){var f=e.children;f[f.lastIndexOf(a)]=b,a.parent=null}},b.appendChild=function(a,b){if(c(b),b.next=null,b.parent=a,a.children.push(b)>1){var d=a.children[a.children.length-2];d.next=b,b.prev=d}else b.prev=null},b.append=function(a,b){c(b);var d=a.parent,e=a.next;if(b.next=e,b.prev=a,a.next=b,b.parent=d,e){if(e.prev=b,d){var f=d.children;f.splice(f.lastIndexOf(e),0,b)}}else d&&d.children.push(b)},b.prependChild=function(a,b){if(c(b),b.parent=a,b.prev=null,1!==a.children.unshift(b)){var d=a.children[1];d.prev=b,b.next=d}else b.next=null},b.prepend=function(a,b){c(b);var d=a.parent;if(d){var e=d.children;e.splice(e.indexOf(a),0,b)}a.prev&&(a.prev.next=b),b.parent=d,b.prev=a.prev,b.next=a,a.prev=b}},98043:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.findAll=b.existsOne=b.findOne=b.findOneChild=b.find=b.filter=void 0;var d=c(47915);function e(a,b,c,f){for(var g=[],h=0,i=b;h<i.length;h++){var j=i[h];if(a(j)&&(g.push(j),--f<=0))break;if(c&&(0,d.hasChildren)(j)&&j.children.length>0){var k=e(a,j.children,c,f);if(g.push.apply(g,k),(f-=k.length)<=0)break}}return g}function f(a,b,c){void 0===c&&(c=!0);for(var e=null,g=0;g<b.length&&!e;g++){var h=b[g];(0,d.isTag)(h)&&(a(h)?e=h:c&&h.children.length>0&&(e=f(a,h.children,!0)))}return e}function g(a,b){return b.some(function(b){return(0,d.isTag)(b)&&(a(b)||b.children.length>0&&g(a,b.children))})}b.filter=function(a,b,c,d){return void 0===c&&(c=!0),void 0===d&&(d=1/0),Array.isArray(b)||(b=[b]),e(a,b,c,d)},b.find=e,b.findOneChild=function(a,b){return b.find(a)},b.findOne=f,b.existsOne=g,b.findAll=function(a,b){for(var c,e,f=[],g=b.filter(d.isTag);e=g.shift();){var h=null===(c=e.children)|| void 0===c?void 0:c.filter(d.isTag);h&&h.length>0&&g.unshift.apply(g,h),a(e)&&f.push(e)}return f}},43346:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.innerText=b.textContent=b.getText=b.getInnerHTML=b.getOuterHTML=void 0;var e=c(47915),f=d(c(97220)),g=c(99960);function h(a,b){return(0,f.default)(a,b)}function i(a){return Array.isArray(a)?a.map(i).join(""):(0,e.isTag)(a)?"br"===a.name?"\n":i(a.children):(0,e.isCDATA)(a)?i(a.children):(0,e.isText)(a)?a.data:""}function j(a){return Array.isArray(a)?a.map(j).join(""):(0,e.hasChildren)(a)&&!(0,e.isComment)(a)?j(a.children):(0,e.isText)(a)?a.data:""}function k(a){return Array.isArray(a)?a.map(k).join(""):(0,e.hasChildren)(a)&&(a.type===g.ElementType.Tag||(0,e.isCDATA)(a))?k(a.children):(0,e.isText)(a)?a.data:""}b.getOuterHTML=h,b.getInnerHTML=function(a,b){return(0,e.hasChildren)(a)?a.children.map(function(a){return h(a,b)}).join(""):""},b.getText=i,b.textContent=j,b.innerText=k},85010:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.prevElementSibling=b.nextElementSibling=b.getName=b.hasAttrib=b.getAttributeValue=b.getSiblings=b.getParent=b.getChildren=void 0;var d=c(47915);function e(a){return(0,d.hasChildren)(a)?a.children:[]}function f(a){return a.parent||null}b.getChildren=e,b.getParent=f,b.getSiblings=function(a){var b,c,d=f(a);if(null!=d)return e(d);for(var g=[a],h=a.prev,i=a.next;null!=h;)g.unshift(h),h=h.prev;for(;null!=i;)g.push(i),i=i.next;return g},b.getAttributeValue=function(a,b){var c;return null===(c=a.attribs)|| void 0===c?void 0:c[b]},b.hasAttrib=function(a,b){return null!=a.attribs&&Object.prototype.hasOwnProperty.call(a.attribs,b)&&null!=a.attribs[b]},b.getName=function(a){return a.name},b.nextElementSibling=function(a){for(var b,c=a.next;null!==c&&!(0,d.isTag)(c);)c=c.next;return c},b.prevElementSibling=function(a){for(var b,c=a.prev;null!==c&&!(0,d.isTag)(c);)c=c.prev;return c}},44076:function(a,b,c){"use strict";var d,e,f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.decodeXML=b.decodeHTMLStrict=b.decodeHTML=b.determineBranch=b.BinTrieFlags=b.fromCodePoint=b.replaceCodePoint=b.decodeCodePoint=b.xmlDecodeTree=b.htmlDecodeTree=void 0;var g=f(c(63704));b.htmlDecodeTree=g.default;var h=f(c(22060));b.xmlDecodeTree=h.default;var i=f(c(26));b.decodeCodePoint=i.default;var j,k,l=c(26);function m(a){return function(b,c){for(var f="",g=0,h=0;(h=b.indexOf("&",h))>=0;){if(f+=b.slice(g,h),g=h,h+=1,b.charCodeAt(h)===d.NUM){var j=h+1,k=10,l=b.charCodeAt(j);(l|d.To_LOWER_BIT)===d.LOWER_X&&(k=16,h+=1,j+=1);do l=b.charCodeAt(++h);while(l>=d.ZERO&&l<=d.NINE||16===k&&(l|d.To_LOWER_BIT)>=d.LOWER_A&&(l|d.To_LOWER_BIT)<=d.LOWER_F);if(j!==h){var m=b.substring(j,h),o=parseInt(m,k);if(b.charCodeAt(h)===d.SEMI)h+=1;else if(c)continue;f+=(0,i.default)(o),g=h}continue}for(var p=0,q=1,r=0,s=a[r];h<b.length&&!((r=n(a,s,r+1,b.charCodeAt(h)))<0);h++,q++){var t=(s=a[r])&e.VALUE_LENGTH;if(t){c&&b.charCodeAt(h)!==d.SEMI||(p=r,q=0);var u=(t>>14)-1;if(0===u)break;r+=u}}if(0!==p){var u=(a[p]&e.VALUE_LENGTH)>>14;f+=1===u?String.fromCharCode(a[p]& ~e.VALUE_LENGTH):2===u?String.fromCharCode(a[p+1]):String.fromCharCode(a[p+1],a[p+2]),g=h-q+1}}return f+b.slice(g)}}function n(a,b,c,d){var f=(b&e.BRANCH_LENGTH)>>7,g=b&e.JUMP_TABLE;if(0===f)return 0!==g&&d===g?c:-1;if(g){var h=d-g;return h<0||h>=f?-1:a[c+h]-1}for(var i=c,j=i+f-1;i<=j;){var k=i+j>>>1,l=a[k];if(l<d)i=k+1;else{if(!(l>d))return a[k+f];j=k-1}}return -1}Object.defineProperty(b,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(b,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}}),(j=d||(d={}))[j.NUM=35]="NUM",j[j.SEMI=59]="SEMI",j[j.ZERO=48]="ZERO",j[j.NINE=57]="NINE",j[j.LOWER_A=97]="LOWER_A",j[j.LOWER_F=102]="LOWER_F",j[j.LOWER_X=120]="LOWER_X",j[j.To_LOWER_BIT=32]="To_LOWER_BIT",(k=e=b.BinTrieFlags||(b.BinTrieFlags={}))[k.VALUE_LENGTH=49152]="VALUE_LENGTH",k[k.BRANCH_LENGTH=16256]="BRANCH_LENGTH",k[k.JUMP_TABLE=127]="JUMP_TABLE",b.determineBranch=n;var o=m(g.default),p=m(h.default);b.decodeHTML=function(a){return o(a,!1)},b.decodeHTMLStrict=function(a){return o(a,!0)},b.decodeXML=function(a){return p(a,!0)}},26:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.replaceCodePoint=b.fromCodePoint=void 0;var c,d=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376],]);function e(a){var b;return a>=55296&&a<=57343||a>1114111?65533:null!==(b=d.get(a))&& void 0!==b?b:a}b.fromCodePoint=null!==(c=String.fromCodePoint)&& void 0!==c?c:function(a){var b="";return a>65535&&(a-=65536,b+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),b+=String.fromCharCode(a)},b.replaceCodePoint=e,b.default=function(a){return(0,b.fromCodePoint)(e(a))}},87322:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.encodeNonAsciiHTML=b.encodeHTML=void 0;var e=d(c(94021)),f=c(24625),g=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function h(a,b){for(var c,d="",g=0;null!==(c=a.exec(b));){var h=c.index;d+=b.substring(g,h);var i=b.charCodeAt(h),j=e.default.get(i);if("object"==typeof j){if(h+1<b.length){var k=b.charCodeAt(h+1),l="number"==typeof j.n?j.n===k?j.o:void 0:j.n.get(k);if(void 0!==l){d+=l,g=a.lastIndex+=1;continue}}j=j.v}if(void 0!==j)d+=j,g=h+1;else{var m=(0,f.getCodePoint)(b,h);d+="&#x".concat(m.toString(16),";"),g=a.lastIndex+=Number(m!==i)}}return d+b.substr(g)}b.encodeHTML=function(a){return h(g,a)},b.encodeNonAsciiHTML=function(a){return h(f.xmlReplacer,a)}},24625:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.escapeText=b.escapeAttribute=b.escapeUTF8=b.escape=b.encodeXML=b.getCodePoint=b.xmlReplacer=void 0,b.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var c=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"],]);function d(a){for(var d,e="",f=0;null!==(d=b.xmlReplacer.exec(a));){var g=d.index,h=a.charCodeAt(g),i=c.get(h);void 0!==i?(e+=a.substring(f,g)+i,f=g+1):(e+="".concat(a.substring(f,g),"&#x").concat((0,b.getCodePoint)(a,g).toString(16),";"),f=b.xmlReplacer.lastIndex+=Number((64512&h)==55296))}return e+a.substr(f)}function e(a,b){return function(c){for(var d,e=0,f="";d=a.exec(c);)e!==d.index&&(f+=c.substring(e,d.index)),f+=b.get(d[0].charCodeAt(0)),e=d.index+1;return f+c.substring(e)}}b.getCodePoint=null!=String.prototype.codePointAt?function(a,b){return a.codePointAt(b)}:function(a,b){return(64512&a.charCodeAt(b))==55296?(a.charCodeAt(b)-55296)*1024+a.charCodeAt(b+1)-56320+65536:a.charCodeAt(b)},b.encodeXML=d,b.escape=d,b.escapeUTF8=e(/[&<>'"]/g,c),b.escapeAttribute=e(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"],])),b.escapeText=e(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"],]))},63704:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=new Uint16Array('<\xd5\0\0\0\0\0\0EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\xc6P&cute\xc1reve;iyx}rc\xc2;r;\ud835\udd04rave\xc0pha;acr;d;gp\x9d\xa1on;f;\ud835\udd38plyFunction;ing\xc5cs\xbe\xc3r;\ud835\udc9cign;ilde\xc3ml\xc4aceforsu\xe5\xfb\xfecr\xea\xf2kslash;\xf6\xf8;ed;y;crtause;noullis;a;r;\ud835\udd05pf;\ud835\udd39eve;c\xf2mpeq;HOacdefhilorsucy;PY\xa9cpyute;;italDifferentialD;leys;aeioron;dil\xc7rc;nint;ot;dnilla;terDot;\xf2i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;\ud835\udc9ep;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;\ud835\udd07afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;\ud835\udd3b;DEot;qual;bleCDLRUVontourIntegra\xeco\0\0\xbbnArrow;eoftARTrrow;ightArrow;e\xe5ngLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;\ud835\udc9frok;NTacdfglmopqstuxG;H\xd0cute\xc9aiyron;rc\xca;ot;r;\ud835\udd08rave\xc8ement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;\ud835\udd3csilon;uail;Tilde;librium;cir;m;a;ml\xcbipsts;onentialE;cfiosy;r;\ud835\udd09lled\0\0mallSquare;erySmallSquare;\0\0\0f;\ud835\udd3dAll;riertrf;c\xf2JTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;\ud835\udd0a;pf;\ud835\udd3eeaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;\ud835\udca2;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ct\xf2rok;mpownHum\xf0qual;EJOacdfgmnostucy;lig;cy;cute\xcdiyrc\xce;ot;r;rave\xcc;apcgr;inaryI;lie\xf3\0;egrral;section;isibleCTomma;imes;gpton;f;\ud835\udd40a;cr;ilde;\0cy;l\xcfcfosuiyrc;;r;\ud835\udd0dpf;\ud835\udd41\0r;\ud835\udca5rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;\ud835\udd0epf;\ud835\udd42cr;\ud835\udca6JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ight\xe1sEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;\ud835\udd0f;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftaright\xe1ight\xe1f;\ud835\udd43erLReftArrow;ightArrow;cht\xf2;rok;;acefiosup;y;dliumSpace;lintrf;r;\ud835\udd10nusPlus;pf;\ud835\udd44c\xf2;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicn\xeberyThi\xeetedGLreaterGreate\xf2essLes\xf3Line;r;\ud835\udd11Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;\ud835\udca9ilde\xd1;Eacdfgmoprstuvlig;cute\xd3iyrc\xd4;blac;r;\ud835\udd12rave\xd2aeicr;ga;cron;pf;\ud835\udd46enCurlyDQoubleQuote;uote;;clr;\ud835\udcaaash\xd8ide\xd5es;ml\xd6erBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;\ud835\udd13i;;usMinus;ipncareplan\xe5f;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;\ud835\udcab;UfosOT"r;\ud835\udd14pf;cr;\ud835\udcacBEacefhiorsuarr;G\xaecnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;r\xbbo;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;\ud835\udd16ortDLRUownArrow\xbbeftArrow\xbbightArrow\xbbpArrow;gma;allCircle;pf;\ud835\udd4a\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;\ud835\udcaear;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th\xe1;;esrset;Equal;et\xbbHRSacfhiorsORN\xdeADE;Hccy;y;bu;;aeyron;dil;;r;\ud835\udd17ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;\ud835\udd4bipleDot;ctr;\ud835\udcafrok;\0\0\0\0\0\0\0crute\xdar;ocir;r\0y;ve;iyrc\xdb;blac;r;\ud835\udd18rave\xd9acr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;\ud835\udd4cADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;own\xe1erLReftArrow;ightArrow;i;lon;ing;cr;\ud835\udcb0ilde;ml\xdcDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;\ud835\udd19pf;\ud835\udd4dcr;\ud835\udcb1dash;cefosirc;dge;r;\ud835\udd1apf;\ud835\udd4ecr;\ud835\udcb2fiosr;\ud835\udd1b;pf;\ud835\udd4fcr;\ud835\udcb3AIUacfosucy;cy;cy;cute\xddiyrc;;r;\ud835\udd1cpf;\ud835\udd50cr;\ud835\udcb4ml;Hacdefoscy;cute;ayron;;ot;\0oWidt\xe8a;r;pf;cr;\ud835\udcb5\0\0\0\0\0\0\0cute\xe1reve;;Ediuy;;rc\xe2te\xb4;lig\xe6;r\xb2;\ud835\udd1erave\xe0epfpsym;\xe8ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;e\xbbsd;a;;;;;;;;t;vb;d;pth;\xbb\xb9arr;gpon;f;\ud835\udd52;Eaeiop;cir;;d;s;rox;e\xf1ing\xe5ctyr;\ud835\udcb6;mp;e\xf1ilde\xe3ml\xe4cionin\xf4nt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;ge\xbbrk;tbrk;oy;quo;cmprtaus;eptyv;s\xe9no\xf5ahw;;een;r;\ud835\udd1fgcostuvwaiu\xf0rc;p\xbbdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;e\xe5\xe5arow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;\ud835\udd53;tom\xbbtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbar\xa6ceior;\ud835\udcb7mi;m;el;bh;sub;l;et\xbbp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;\xeeaeiu\0s;on;dil\xe7rc;ps;sm;ot;dmnil\xb8ptyv;t\xa2;er\xe4r;\ud835\udd20ceiy;ck;mark\xbb;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd\xbb;st;irc;ash;nint;id;cir;ubs;uit\xbb\0on;e;q\xc7\xc6\0\0a;t;;fl\xeeemxent\xbbe\xf3\0;dot;n\xf4fry;\ud835\udd54o\xe4\xa9;sr;aorr;ss;cur;\ud835\udcb8bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0re\xe3u\xe3ee;edge;en\xa4earrowlreft\xbbight\xbbe\xe4cionin\xf4nt;lcty;AHabcdefhijlorstuwzr\xf2ar;glrsger;eth;\xf2h;v\xbbarow;a\xe3ayron;;;aogrr;tseq;glm\xb0ta;ptyv;irsht;;\ud835\udd21arlr\xbb\xbbaegsvm;osnd;suit;amma;in;;iode\xf7;ontimes;n\xf8cy;c\0\0rn;op;lptuwlar;f;\ud835\udd55;empsq;dot;inus;lus;quare;blebarwedg\xe5\xfanadhownarrow\xf3arpoonlref\xf4igh\xf4karo\xf7\0\0rn;op;cotry;\ud835\udcb9;l;rok;drot;i;fahr\xf2a\xf2angle;ciy;grarr;DacdefglmnopqrstuxDoo\xf4csute\xe9ter;aioyron;r;c\xealon;;ot;Drot;;\ud835\udd22;rsave\xe8;dot;;ilsnters;;;dot;apscr;ty;svet\xbbp1;;;gs;p;gpon;f;\ud835\udd56alsr;sl;us;i;lvon\xbb;csuviorc\xbb\0\0\xedantgltr\xbbess\xbbaeils;st;v;DD;parsl;Daot;rr;cdir;o\xf4ah;\xf0mrl\xebo;cipl;s\xf4eoctatio\xeenential\xe5\0\0\0\0\0\0\0llingdotse\xf1y;male;ilrlig;\0\0g;ig;;\ud835\udd23lig;lig;fjaltt;ig;ns;of;\0f;\ud835\udd57ak;v;artint;aocs\0\0\xbd;\xbc;;;\0;;\0\0\xbe;;5;\0;;8;l;wn;cr;\ud835\udcbbEabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan\xf4;cdlc;ot;o;l;;es;r;\ud835\udd24;gmel;cy;;Eaj;;;Eaes;p;prox\xbb;q;qim;pf;\ud835\udd58cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pro\xf8r;qlqles\xf3i\xedenrtneqq;\xc5Aabcefkosyr\xf2ilmrrs\xf0f\xbbil\xf4drcy;;cwir;;ar;irc;alrrts;uit\xbblip;con;r;\ud835\udd25sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;\ud835\udd59bar;cltr;\ud835\udcbdas\xe8rok;bpull;hen\xbb\0\0\0\0\0\0cute\xed;iyrc\xee;cxy;cl\xa1fr;\ud835\udd26rave\xec;inoinnt;t;fin;ta;lig;aopcgtr;elpin\xe5ar\xf4h;f;ed;;cfotare;in;tie;do\xf4;celpal;grer\xf3\xe3arhk;rod;cgpty;on;f;\ud835\udd5aa;uest\xbfcir;\ud835\udcben;Edsv;ot;;v;;ilde;\0cy;l\xefcfmosuiyrc;;r;\ud835\udd27ath;pf;\ud835\udd5b\0r;\ud835\udcbfrcy;kcy;acfghjosppa;v;eydil;;r;\ud835\udd28reen;cy;cy;pf;\ud835\udd5ccr;\ud835\udcc0ABEHabcdefghjlmnoprstuvartr\xf2\xf2ail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;ra\xeebda;g;dl;\xe5;uo\xabr;bfhlpst;fs;s;\xebp;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;\xec\xe2;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;ta\xe9arpoonduown\xbbp\xbbeftarrows;ightahsrrow;sarpoon\xf3quigarro\xf7hreetimes;;qslan\xf4;cdgsc;ot;o;r;;es;adegsppro\xf8ot;qgq\xf4gt\xf2\xf4i\xedilrsht;;\ud835\udd29;E;rdu;l;lk;cy;;achtr\xf2orne\xf2ard;ri;iodot;ust;ache\xbbEaes;p;prox\xbb;q;qim;abnoptwznrg;r;r\xebglmreftaright\xe1apsto;ight\xe1parrowlref\xf4ight;aflr;;\ud835\udd5dus;imes;st;\xe1;efnge\xbbar;lt;achmtr\xf2orne\xf2ar;d;;ri;achiqtquo;r;\ud835\udcc1m;eg;;buo;r;rok;<;cdhilqrci;r;re\xe5mes;arr;uest;Piar;;efrdushar;har;enrtneqq;\xc5DacdefhilnopsuDot;clprr\xafet;;ese\xbb;sto;dluow\xeeef\xf4\xf0ker;oymma;;ash;asuredangle\xbbr;\ud835\udd2ao;cdnro\xb5;acds\xf4ir;ot\xb7us;bd;u;p;\xf2\xf0dpels;f;\ud835\udd5ectr;\ud835\udcc2pos\xbb;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptla\xbbute;g;;Eiop;d;s;ro\xf8ur;al;s\0p\xa0mp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;ui\xf6eiar;\xedist;sr;\ud835\udd2bEest;qs;qslan\xf4i\xed;r\xbbAapr\xf2rr;ar;;sv;d;cy;AEadestr\xf2;rr;r;;fqstarrro\xf7ightarro\xf7;qslan\xf4;s\xbbi\xed;ri;ei\xe4ptf;\ud835\udd5f\xac;inn;Edv;ot;;;i;v;;aorr;astlle\xecl;;lint;;ceu\xe5;c;e\xf1Aaitr\xf2rr;cw;;ghtarrow\xbbri;echimpqu;ceru\xe5;\ud835\udcc3ort\0\0ar\xe1m;e;qsubp\xe5\xe5bcp;Ees;et;eq;qc;e\xf1;Ees;et;eq;qgilr\xeclde\xf1\xe7ianglelreft;e\xf1ight;e\xf1;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csute\xf3iyr;c\xf4;abioslac;v;old;lig;crir;;\ud835\udd2c\0\0\0n;ave\xf2;bmar;acitr\xf2irr;oss;n\xe5;aeicr;ga;cdnron;;pf;\ud835\udd60aelr;rp;;adiosvr\xf2;efmr;of\xbb\xaa\xbagof;r;lope;;clo\xf2ash\xf8l;ide\xf5es;as;ml\xf6bar;\0\0\0\0\0\0\0\0\0r;ast\xb6;lle\xec\0\0m;;y;rcimptnt;od;il;enk;r;\ud835\udd2dimo;v;ma\xf4ne;;tvchfork\xbb;aunckk;h;\xf6s;abcdemstcir;ir;ou;;n\xb1im;wo;ipuntint;f;\ud835\udd61nd\xa3;Eaceinosu;p;u\xe5;c;acensppro\xf8urlye\xf1\xf1aespprox;qq;im;i\xedme;sEas\xf0dfpalslar;ine;urf;;t\xefrel;cir;\ud835\udcc5;ncsp;fiopsur;\ud835\udd2epf;\ud835\udd62rime;cr;\ud835\udcc6aeoteirnion\xf3nt;st;e\xf1\xf4ABHabcdefhilmnoprstuxartr\xf2\xf2ail;ar\xf2ar;cdenqrteu;te;i\xe3mptyv;g;del;;\xe5uo\xbbr;abcfhlpstwp;;fs;;s;\xeb\xf0l;im;l;;aiil;o;nal\xf3abrr\xf2rk;akcek;;es;ldu;;aeuyron;diil;\xec\xe2;clqsa;dhar;uo;rh;acgl;ipsn\xe5ar\xf4t;ilrsht;;\ud835\udd2faordu\xbb;l;;v;gnshtahlrstrrow;ta\xe9arpoonduow\xeep\xbbeftahrrow\xf3arpoon\xf3ightarrows;quigarro\xf7hreetimes;g;ingdotse\xf1ahmr\xf2a\xf2;oust;ache\xbbmid;abptnrg;r;r\xebaflr;;\ud835\udd63us;imes;apr;gt;olint;ar\xf2achqquo;r;\ud835\udcc7buo;rhirre\xe5mes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu\xef;Eaceinpsy;\0;on;u\xe5;dil;rc;Eas;p;im;olint;i\xed;ot;be;Aacmstxrr;rhr\xeb;ot\xa7i;war;min\xf0nu\xf3\xf1t;r;o\ud835\udd30acoyrp;hycy;;rt\0\0i\xe4ara\xec\xadgmma;fv;;deglnprot;;q;E;;E;e;lus;arr;ar\xf2aeitlslsetm\xe9hp;parsl;dle;;e;s;flptcy;;b;ar;f;\ud835\udd64adres;uit\xbbcsuaup;s;p;s;ubp;eset;e\xf1;eset;e\xf1;afr\xbbar\xf2cemtr;\ud835\udcc8tm\xee\xf1i\xecar\xe6arr;fanighteppsilo\xeeh\xe9s\xbbbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acensppro\xf8urlye\xf1\xf1aesppro\xf8q\xf1g;123;Edehlmnps\xb9\xb2\xb3;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr\xeb;owar;lig\xdf\0\0\0\0\0\0\0\0\0\0\0\0get;;r\xebaeyron;dil;;lrec;r;\ud835\udd31eiko\0e4fa;svym;cnkasppro\xf8im\xbbs\xf0as\xf0rn\xfees\xd7;bd;ar;;eps\xe1;bcfot;ir;;o\ud835\udd65rk;\xe1rime;aipd\xe5adempstngle;dlqrown\xbbeft;e\xf1;ight;e\xf1ot;inus;lus;b;ime;ezium;chtry;\ud835\udcc9;cy;rok;iox\xf4headlreftarro\xf7ightarrow\xbbAHabcdfghlmoprstuwr\xf2ar;crute\xfa\xf2r\0y;ve;iyrc\xfb;abhr\xf2lac;a\xf2irsht;;\ud835\udd32rave\xf9rlr\xbb\xbblk;ct\0\0rn;er\xbbop;ri;alcr;\xa8gpon;f;\ud835\udd66adhlsuown\xe1arpoonlref\xf4igh\xf4i;hl\xbbon\xbbparrows;cit\0\0rn;er\xbbop;ng;ri;cr;\ud835\udccadirot;lde;i;f\xbbamr\xf2l\xfcangle;ABDacdeflnoprszr\xf2ar;v;as\xe8nrgrt;eknprstapp\xe1othin\xe7hirop\xf4;h\xefiugm\xe1bpsetneq;q;setneq;q;hret\xe1ianglelreft\xbbight\xbby;ash\xbbelr;bear;q;lip;bta\xf2r;\ud835\udd33tr\xe9subp\xbb\xbbpf;\ud835\udd67ro\xf0tr\xe9cur;\ud835\udccbbpnEe\xbbnEe\xbbigzag;cefoprsirc;dibgar;e;q;erp;r;\ud835\udd34pf;\ud835\udd68;eat\xe8cr;\ud835\udccc\0\0\0\0\0\0\0tr\xe9r;\ud835\udd35Aar\xf2r\xf2;Aar\xf2r\xf2a\xf0is;dptfl;\ud835\udd69im\xe5Aar\xf2r\xf2cqr;\ud835\udccdptr\xe9acefiosucuyte\xfd;iyrc;;n\xa5r;\ud835\udd36cy;pf;\ud835\udd6acr;\ud835\udccecmy;l\xffacdefhioswcute;ayron;;ot;ettr\xe6a;r;\ud835\udd37cy;grarr;pf;\ud835\udd6bcr;\ud835\udccfjn;j;'.split("").map(function(a){return a.charCodeAt(0)}))},22060:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=new Uint16Array("aglq	\x15\x18\x1b\x0f\0\0\x12p;os;t;t;uot;".split("").map(function(a){return a.charCodeAt(0)}))},94021:function(a,b){"use strict";function c(a){for(var b=1;b<a.length;b++)a[b][0]+=a[b-1][0]+1;return a}Object.defineProperty(b,"__esModule",{value:!0}),b.default=new Map(c([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(c([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(c([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(c([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))},45863:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.decodeXMLStrict=b.decodeHTML5Strict=b.decodeHTML4Strict=b.decodeHTML5=b.decodeHTML4=b.decodeHTMLStrict=b.decodeHTML=b.decodeXML=b.encodeHTML5=b.encodeHTML4=b.encodeNonAsciiHTML=b.encodeHTML=b.escapeText=b.escapeAttribute=b.escapeUTF8=b.escape=b.encodeXML=b.encode=b.decodeStrict=b.decode=b.EncodingMode=b.DecodingMode=b.EntityLevel=void 0;var d,e,f,g,h,i,j=c(44076),k=c(87322),l=c(24625);(g=d=b.EntityLevel||(b.EntityLevel={}))[g.XML=0]="XML",g[g.HTML=1]="HTML",(h=e=b.DecodingMode||(b.DecodingMode={}))[h.Legacy=0]="Legacy",h[h.Strict=1]="Strict",(i=f=b.EncodingMode||(b.EncodingMode={}))[i.UTF8=0]="UTF8",i[i.ASCII=1]="ASCII",i[i.Extensive=2]="Extensive",i[i.Attribute=3]="Attribute",i[i.Text=4]="Text",b.decode=function(a,b){void 0===b&&(b=d.XML);var c="number"==typeof b?{level:b}:b;return c.level===d.HTML?c.mode===e.Strict?(0,j.decodeHTMLStrict)(a):(0,j.decodeHTML)(a):(0,j.decodeXML)(a)},b.decodeStrict=function(a,b){void 0===b&&(b=d.XML);var c="number"==typeof b?{level:b}:b;return c.level===d.HTML?c.mode===e.Legacy?(0,j.decodeHTML)(a):(0,j.decodeHTMLStrict)(a):(0,j.decodeXML)(a)},b.encode=function(a,b){void 0===b&&(b=d.XML);var c="number"==typeof b?{level:b}:b;return c.mode===f.UTF8?(0,l.escapeUTF8)(a):c.mode===f.Attribute?(0,l.escapeAttribute)(a):c.mode===f.Text?(0,l.escapeText)(a):c.level===d.HTML?c.mode===f.ASCII?(0,k.encodeNonAsciiHTML)(a):(0,k.encodeHTML)(a):(0,l.encodeXML)(a)};var m=c(24625);Object.defineProperty(b,"encodeXML",{enumerable:!0,get:function(){return m.encodeXML}}),Object.defineProperty(b,"escape",{enumerable:!0,get:function(){return m.escape}}),Object.defineProperty(b,"escapeUTF8",{enumerable:!0,get:function(){return m.escapeUTF8}}),Object.defineProperty(b,"escapeAttribute",{enumerable:!0,get:function(){return m.escapeAttribute}}),Object.defineProperty(b,"escapeText",{enumerable:!0,get:function(){return m.escapeText}});var n=c(87322);Object.defineProperty(b,"encodeHTML",{enumerable:!0,get:function(){return n.encodeHTML}}),Object.defineProperty(b,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return n.encodeNonAsciiHTML}}),Object.defineProperty(b,"encodeHTML4",{enumerable:!0,get:function(){return n.encodeHTML}}),Object.defineProperty(b,"encodeHTML5",{enumerable:!0,get:function(){return n.encodeHTML}});var o=c(44076);Object.defineProperty(b,"decodeXML",{enumerable:!0,get:function(){return o.decodeXML}}),Object.defineProperty(b,"decodeHTML",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(b,"decodeHTMLStrict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(b,"decodeHTML4",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(b,"decodeHTML5",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(b,"decodeHTML4Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(b,"decodeHTML5Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(b,"decodeXMLStrict",{enumerable:!0,get:function(){return o.decodeXML}})},62991:function(a){"use strict";a.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b instanceof Map&&c instanceof Map){if(b.size!==c.size)return!1;for(e of b.entries())if(!c.has(e[0]))return!1;for(e of b.entries())if(!a(e[1],c.get(e[0])))return!1;return!0}if(b instanceof Set&&c instanceof Set){if(b.size!==c.size)return!1;for(e of b.entries())if(!c.has(e[0]))return!1;return!0}if(ArrayBuffer.isView(b)&&ArrayBuffer.isView(c)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(b[e]!==c[e])return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},68954:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(56327),b)},56327:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SparqlEndpointFetcher=void 0,c(31905);let d=c(28599),e=c(9619),f=c(39249),g=c(5271),h=c(83858),i=c(58090),j=c(77686),k=c(24970);class l{constructor(a){a=a||{},this.method=a.method||"POST",this.additionalUrlParams=a.additionalUrlParams||new URLSearchParams,this.fetchCb=a.fetch,this.sparqlJsonParser=new f.SparqlJsonParser(a),this.sparqlXmlParser=new g.SparqlXmlParser(a),this.sparqlParsers={[l.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:a=>this.sparqlJsonParser.parseJsonBooleanStream(a),parseResultsStream:a=>this.sparqlJsonParser.parseJsonResultsStream(a)},[l.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:a=>this.sparqlXmlParser.parseXmlBooleanStream(a),parseResultsStream:a=>this.sparqlXmlParser.parseXmlResultsStream(a)}}}getQueryType(a){let b=new e.Parser().parse(a);return"query"===b.type?"DESCRIBE"===b.queryType?"CONSTRUCT":b.queryType:"UNKNOWN"}getUpdateTypes(a){let b=new e.Parser().parse(a);if("update"!==b.type)return"UNKNOWN";{let c={};for(let d of b.updates)"type"in d?c[d.type]=!0:c[d.updateType]=!0;return c}}async fetchBindings(a,b){let[c,d]=await this.fetchRawStream(a,b,l.CONTENTTYPE_SPARQL),e=this.sparqlParsers[c];if(!e)throw Error("Unknown SPARQL results content type: "+c);return e.parseResultsStream(d)}async fetchAsk(a,b){let[c,d]=await this.fetchRawStream(a,b,l.CONTENTTYPE_SPARQL),e=this.sparqlParsers[c];if(!e)throw Error("Unknown SPARQL results content type: "+c);return e.parseBooleanStream(d)}async fetchTriples(a,b){let c=(await this.fetchRawStream(a,b,l.CONTENTTYPE_TURTLE))[1];return c.pipe(new j.StreamParser({format:l.CONTENTTYPE_TURTLE}))}async fetchUpdate(a,b){let c=new d.default,e={method:"POST",headers:{"content-type":"application/sparql-update"},body:b,signal:c.signal};await this.handleFetchCall(a,e,{ignoreBody:!0}),c.abort()}async fetchRawStream(a,b,c){let d="POST"===this.method?a:a+"?query="+encodeURIComponent(b),e=new Headers,f;return e.append("Accept",c),"POST"===this.method?(e.append("Content-Type","application/x-www-form-urlencoded"),(f=new URLSearchParams).set("query",b),this.additionalUrlParams.forEach((a,b)=>{f.set(b,a)}),e.append("Content-Length",f.toString().length.toString())):""!==this.additionalUrlParams.toString()&&(d+=`&${this.additionalUrlParams.toString()}`),this.handleFetchCall(d,{headers:e,method:this.method,body:f})}async handleFetchCall(a,b,c={}){let d=await (this.fetchCb||fetch)(a,b),e;c.ignoreBody||(e=k(d.body)?d.body:new i.ReadableWebToNodeStream(d.body));let f=d.headers.get("Content-Type")||"";if(f.indexOf(";")>0&&(f=f.substr(0,f.indexOf(";"))),!d.ok){let g=/^[^?]*/u.exec(a)[0],j="empty response";throw e&&(j=await h(e)),Error(`Invalid SPARQL endpoint response from ${g} (HTTP status ${d.status}):
${j}`)}return[f,e]}}b.SparqlEndpointFetcher=l,l.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",l.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",l.CONTENTTYPE_SPARQL=`${l.CONTENTTYPE_SPARQL_JSON};q=1.0,${l.CONTENTTYPE_SPARQL_XML};q=0.7`,l.CONTENTTYPE_TURTLE="text/turtle"},79655:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(62561),b),e(c(17409),b),e(c(63362),b),e(c(22966),b),e(c(37713),b)},17409:function(a,b,c){"use strict";var d=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};Object.defineProperty(b,"__esModule",{value:!0}),b.Converter=void 0;let e=c(80754),f=c(62561),g=c(13266),h=c(63362),i=c(37713);class j{constructor(a){(a=a||{}).variableDelimiter=a.variableDelimiter||"_",a.expressionVariableCounter=a.expressionVariableCounter||0,this.util=new i.Util(a),this.initializeNodeHandlers(a)}static registerNodeHandlers(a,b){a.registerNodeHandler(new f.NodeHandlerDocument(a,b)),a.registerNodeHandler(new f.NodeHandlerDefinitionOperation(a,b)),a.registerNodeHandler(new f.NodeHandlerDefinitionFragment(a,b)),a.registerNodeHandler(new f.NodeHandlerSelectionFragmentSpread(a,b)),a.registerNodeHandler(new f.NodeHandlerSelectionInlineFragment(a,b)),a.registerNodeHandler(new f.NodeHandlerSelectionField(a,b))}static registerNodeValueHandlers(a,b){a.registerNodeValueHandler(new f.NodeValueHandlerVariable(a,b)),a.registerNodeValueHandler(new f.NodeValueHandlerInt(a,b)),a.registerNodeValueHandler(new f.NodeValueHandlerFloat(a,b)),a.registerNodeValueHandler(new f.NodeValueHandlerString(a,b)),a.registerNodeValueHandler(new f.NodeValueHandlerBoolean(a,b)),a.registerNodeValueHandler(new f.NodeValueHandlerNull(a,b)),a.registerNodeValueHandler(new f.NodeValueHandlerEnum(a,b)),a.registerNodeValueHandler(new f.NodeValueHandlerList(a,b)),a.registerNodeValueHandler(new f.NodeValueHandlerObject(a,b))}static registerDirectiveNodeHandlers(a,b){a.registerDirectiveNodeHandler(new g.DirectiveNodeHandlerInclude(a,b)),a.registerDirectiveNodeHandler(new g.DirectiveNodeHandlerOptional(a,b)),a.registerDirectiveNodeHandler(new g.DirectiveNodeHandlerPlural(a,b)),a.registerDirectiveNodeHandler(new g.DirectiveNodeHandlerSingle(a,b)),a.registerDirectiveNodeHandler(new g.DirectiveNodeHandlerSkip(a,b))}graphqlToSparqlAlgebra(a,b,c){return d(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(a,(yield this.util.contextParser.parse(b)),c)})}graphqlToSparqlAlgebraRawContext(a,b,c){c=c||{};let d="string"==typeof a?(0,e.parse)(a):a,f=this.indexFragments(d),g={context:b,fragmentDefinitions:f,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:h.SingularizeState.PLURAL,singularizeVariables:c.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:c.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(d,g)}indexFragments(a){let b={},c=[];for(let d of a.definitions)"FragmentDefinition"===d.kind?b[d.name.value]=d:c.push(d);return a.definitions=c,b}initializeNodeHandlers(a){j.registerNodeHandlers(this.util,a),j.registerNodeValueHandlers(this.util,a),j.registerDirectiveNodeHandlers(this.util,a)}}b.Converter=j},63362:function(a,b){"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.SingularizeState=void 0,(c=b.SingularizeState||(b.SingularizeState={}))[c.SINGLE=0]="SINGLE",c[c.PLURAL=1]="PLURAL"},22966:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},37713:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Util=void 0;let d=c(41640),e=c(11288),f=c(21938);b.Util=class{constructor(a){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=a,this.dataFactory=a.dataFactory||new d.DataFactory,this.operationFactory=new f.Factory(this.dataFactory),this.contextParser=new e.ContextParser}registerNodeHandler(a){this.nodeHandlers[a.targetKind]=a}registerNodeValueHandler(a){this.nodeValueHandlers[a.targetKind]=a}registerDirectiveNodeHandler(a){this.directiveNodeHandlers[a.targetKind]=a}handleNode(a,b){let c=this.nodeHandlers[a.kind];if(!c)throw Error(`Unsupported GraphQL node '${a.kind}'`);return c.handle(a,b)}handleNodeValue(a,b,c){let d=this.nodeValueHandlers[a.kind];if(!d)throw Error(`Unsupported GraphQL value node '${a.kind}'`);return d.handle(a,b,c)}handleDirectiveNode(a,b){let c=this.directiveNodeHandlers[a.directive.name.value];return c?c.handle(a,b):null}joinOperations(a){if(1===a.length)return a[0];let b=[],c=[];for(let d of a)"bgp"===d.type?b.push(d):c.push(d);if(b.length===a.length)return this.joinOperationsAsBgp(b);if(b.length===a.length-1&&"leftjoin"===c[0].type&&"bgp"===c[0].input[0].type){let e=c[0];return b.push(e.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(b),e.input[1])}return c.length===a.length?this.joinOperationsAsNestedJoin(c):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(b),this.joinOperationsAsNestedJoin(c),])}joinOperationsAsBgp(a){return this.operationFactory.createBgp([].concat.apply([],a.map(a=>a.patterns)))}joinOperationsAsNestedJoin(a){return this.operationFactory.createJoin(a)}appendFieldToPath(a,b){return a.concat([b])}getFieldLabel(a){return(a.alias?a.alias:a.name).value}nameToVariable(a,b){return this.dataFactory.variable((b.path.length?b.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+a)}valueToNamedNode(a,b){let c=b.expandTerm(a,!0);if(this.settings.requireContext&&!c)throw Error("No context entry was found for "+a);return this.dataFactory.namedNode(c||a)}getArgument(a,b){if(a){for(let c of a)if(c.name.value===b)return c}}newTypePattern(a,b,c){return this.operationFactory.createPattern(a,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(b.name.value,c.context),c.graph)}createQuadPattern(a,b,c,d,e){let f=this.valueToNamedNode(b.value,e);return e&&e.getContextRaw()[b.value]&&e.getContextRaw()[b.value]["@reverse"]?this.operationFactory.createPattern(c,f,a,d):this.operationFactory.createPattern(a,f,c,d)}createQuadPath(a,b,c,d,e,f){let g=this.valueToNamedNode(b.value,f),h=this.operationFactory.createLink(g);for(let i of c.values){if("EnumValue"!==i.kind)throw Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+i.kind);h=this.operationFactory.createAlt([h,this.operationFactory.createLink(this.valueToNamedNode(i.value,f)),])}return f&&f.getContextRaw()[b.value]&&f.getContextRaw()[b.value]["@reverse"]?this.operationFactory.createPath(d,h,a,e):this.operationFactory.createPath(a,h,d,e)}}},9567:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeHandlerAdapter=void 0,b.NodeHandlerAdapter=class{constructor(a,b,c){this.targetKind=a,this.util=b,this.settings=c}getNodeQuadContextSelectionSet(a,b,c){let d={};if(a){for(let e of a.selections)if("Field"===e.kind){let f=e;this.handleNodeQuadContextField(f,c,d,"id","subject"),this.handleNodeQuadContextField(f,c,d,"graph","graph")}}return d}handleNodeQuadContextField(a,b,c,d,e){if(!c[e]&&a.name.value===d){if(!c[e]){let f=this.util.getArgument(a.arguments,"_");if(f){let g=this.util.handleNodeValue(f.value,a.name.value,b);if(1!==g.terms.length)throw Error(`Only single values can be set as ${d}, but got ${g.terms.length} at ${a.name.value}`);c[e]=g.terms[0],g.auxiliaryPatterns&&(c.auxiliaryPatterns||(c.auxiliaryPatterns=[]),c.auxiliaryPatterns.concat(g.auxiliaryPatterns))}}if(!c[e]){let h=this.util.nameToVariable(this.util.getFieldLabel(a),b);b.terminalVariables.push(h),c[e]=h}}}getDirectiveOutputs(a,b,c){let d=[];if(a)for(let e of a){let f=this.util.handleDirectiveNode({directive:e,fieldLabel:b},c);if(f){if(f.ignore)return null;d.push(f)}}return d}handleDirectiveOutputs(a,b){for(let c of a){if(c.ignore)return this.util.operationFactory.createBgp([]);c.operationOverrider&&(b=c.operationOverrider(b))}return b}}},68580:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeHandlerDefinitionAdapter=void 0;let d=c(9567);class e extends d.NodeHandlerAdapter{constructor(a,b,c){super(a,b,c)}}b.NodeHandlerDefinitionAdapter=e},31833:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeHandlerDefinitionFragment=void 0;let d=c(68580);class e extends d.NodeHandlerDefinitionAdapter{constructor(a,b){super("FragmentDefinition",a,b)}handle(a,b){throw Error("Illegal state: fragment definitions must be indexed and removed before processing")}}b.NodeHandlerDefinitionFragment=e},60745:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeHandlerDefinitionOperation=void 0;let d=c(68580);class e extends d.NodeHandlerDefinitionAdapter{constructor(a,b){super("OperationDefinition",a,b)}handle(a,b){if("query"!==a.operation)throw Error("Unsupported definition operation: "+a.operation);if(a.variableDefinitions)for(let c of a.variableDefinitions){let d=c.variable.name.value;c.defaultValue&&!b.variablesDict[d]&&(b.variablesDict[d]=c.defaultValue);let e=c.type,f="NonNullType"===e.kind;f&&(e=e.type);let g="ListType"===e.kind;g&&(e=e.type);let h=e.name.value;b.variablesMetaDict[d]={mandatory:f,list:g,type:h}}let i=this.getDirectiveOutputs(a.directives,a.name?a.name.value:"",b);if(!i)return this.util.operationFactory.createBgp([]);let j=this.util.joinOperations(a.selectionSet.selections.map(a=>this.util.handleNode(a,b)));return this.handleDirectiveOutputs(i,j)}}b.NodeHandlerDefinitionOperation=e},40974:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeHandlerDocument=void 0;let d=c(21938),e=c(9567);class f extends e.NodeHandlerAdapter{constructor(a,b){super("Document",a,b)}handle(a,b){let c=a.definitions.map(a=>{let c=this.getNodeQuadContextDefinitionNode(a,Object.assign(Object.assign({},b),{ignoreUnknownVariables:!0})),d=Object.assign(Object.assign({},b),{graph:c.graph||b.graph,subject:c.subject||this.util.dataFactory.blankNode()}),e=this.util.handleNode(a,d);return c&&c.auxiliaryPatterns&&(e=this.util.joinOperations([e,this.util.operationFactory.createBgp(c.auxiliaryPatterns),])),e}),d=this.util.operationFactory.createProject(1===c.length?c[0]:this.util.operationFactory.createUnion(c),b.terminalVariables);return this.translateBlankNodesToVariables(d)}getNodeQuadContextDefinitionNode(a,b){if("OperationDefinition"===a.kind)return this.getNodeQuadContextSelectionSet(a.selectionSet,a.name?a.name.value:"",b);throw Error(`Unsupported definition: ${a.kind}`)}translateBlankNodesToVariables(a){let b=this,c={},e=Array.from(a.variables).reduce((a,b)=>(a[b.value]=!0,a),{});return d.Util.mapOperation(a,{path:(a,b)=>({recurse:!1,result:b.createPath(f(a.subject),a.predicate,f(a.object),f(a.graph))}),pattern:(a,b)=>({recurse:!1,result:b.createPattern(f(a.subject),f(a.predicate),f(a.object),f(a.graph))})});function f(a){if("BlankNode"===a.termType){let f=c[a.value];return f||(f=d.Util.createUniqueVariable(a.value,e,b.util.dataFactory),e[f.value]=!0,c[a.value]=f),f}return a}}}b.NodeHandlerDocument=f},21211:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeHandlerSelectionAdapter=void 0;let d=c(21938),e=c(63362),f=c(9567);class g extends f.NodeHandlerAdapter{constructor(a,b,c){super(a,b,c)}getNodeQuadContextFieldNode(a,b,c){return this.getNodeQuadContextSelectionSet(a.selectionSet,b,Object.assign(Object.assign({},c),{path:this.util.appendFieldToPath(c.path,b)}))}fieldToOperation(a,b,c,f){let g=c,h=0,i;if(("id"===b.name.value||"graph"===b.name.value)&&(c=!1,b.arguments))for(let j of b.arguments)"_"===j.name.value&&this.util.handleNodeValue(j.value,b.name.value,a);let k=this.util.getFieldLabel(b);if(a.singularizeState===e.SingularizeState.SINGLE&&(a.singularizeVariables[this.util.nameToVariable(k,a).value]=!0),c){let l=this.handleMetaField(a,k,f);if(l)return l}let m=f?[this.util.operationFactory.createBgp(f)]:[],n=this.getNodeQuadContextFieldNode(b,k,a),o=n.subject||this.util.nameToVariable(k,a),p=n.graph||a.graph;n.auxiliaryPatterns&&m.push(this.util.operationFactory.createBgp(n.auxiliaryPatterns));let q=!0,r=null;if(c&&b.arguments&&b.arguments.length)for(let s of b.arguments){if("_"===s.name.value){let t=this.util.handleNodeValue(s.value,b.name.value,a);r=t.terms,m.push(this.util.operationFactory.createBgp(t.terms.map(c=>this.util.createQuadPattern(a.subject,b.name,c,a.graph,a.context)))),t.auxiliaryPatterns&&m.push(this.util.operationFactory.createBgp(t.auxiliaryPatterns)),c=!1;break}if("graph"===s.name.value){let u=this.util.handleNodeValue(s.value,b.name.value,a);if(1!==u.terms.length)throw Error(`Only single values can be set as graph, but got ${u.terms.length} at ${b.name.value}`);p=u.terms[0],a=Object.assign(Object.assign({},a),{graph:p}),u.auxiliaryPatterns&&m.push(this.util.operationFactory.createBgp(u.auxiliaryPatterns));break}if("alt"===s.name.value){let v=s.value;"ListValue"!==v.kind&&(v={kind:"ListValue",values:[v]}),m.push(this.util.createQuadPath(a.subject,b.name,v,o,a.graph,a.context)),q=!1;break}}if(c&&q&&m.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(a.subject,b.name,o,a.graph,a.context),])),b.arguments&&b.arguments.length)for(let w of b.arguments)if("_"===w.name.value||"graph"===w.name.value||"alt"===w.name.value);else if("first"===w.name.value){if("IntValue"!==w.value.kind)throw Error("Invalid value type for 'first' argument: "+w.value.kind);i=parseInt(w.value.value,10)}else if("offset"===w.name.value){if("IntValue"!==w.value.kind)throw Error("Invalid value type for 'offset' argument: "+w.value.kind);h=parseInt(w.value.value,10)}else{let x=this.util.handleNodeValue(w.value,w.name.value,a);m.push(this.util.operationFactory.createBgp(x.terms.map(b=>this.util.createQuadPattern(o,w.name,b,a.graph,a.context)))),x.auxiliaryPatterns&&m.push(this.util.operationFactory.createBgp(x.auxiliaryPatterns))}let y=this.getDirectiveOutputs(b.directives,k,a);if(!y)return this.util.operationFactory.createBgp([]);let z=this.util.joinOperations(m);if(b.selectionSet&&b.selectionSet.selections.length){if(r){if(1!==r.length)throw Error(`Only single values can be set as id, but got ${r.length} at ${b.name.value}`);o=r[0]}let A=Object.assign(Object.assign(Object.assign({},a),g?{path:this.util.appendFieldToPath(a.path,k)}:{}),{graph:p,subject:g?o:a.subject}),B=!1,C=b.selectionSet.selections.filter(a=>"Field"!==a.kind||"totalCount"!==a.name.value||(B=!0,!1)),D=this.util.joinOperations(m.concat(C.map(a=>this.util.handleNode(a,A))));if(B){let E=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),F=this.util.dataFactory.variable(o.value+this.settings.variableDelimiter+"totalCount"),G=this.util.operationFactory.createBoundAggregate(E,"count",this.util.operationFactory.createTermExpression(o),!1),H=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(z,[],[G]),F,this.util.operationFactory.createTermExpression(E)),[F]);a.terminalVariables.push(F),D=C.length?this.util.operationFactory.createJoin([this.util.operationFactory.createProject(D,[]),H,]):H}z=D}else c&&"Variable"===o.termType&&a.terminalVariables.push(o);return(h||i)&&(z=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(z,d.Util.inScopeVariables(z)),h,i)),this.handleDirectiveOutputs(y,z)}handleMetaField(a,b,c){if("__typename"===b){let d=this.util.nameToVariable(b,a);return a.terminalVariables.push(d),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(a.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(b,a),a.graph),].concat(c||[]))}}}b.NodeHandlerSelectionAdapter=g},81128:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeHandlerSelectionField=void 0;let d=c(21211);class e extends d.NodeHandlerSelectionAdapter{constructor(a,b){super("Field",a,b)}handle(a,b){return this.fieldToOperation(b,a,!0)}}b.NodeHandlerSelectionField=e},77857:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeHandlerSelectionFragmentSpread=void 0;let d=c(21211);class e extends d.NodeHandlerSelectionAdapter{constructor(a,b){super("FragmentSpread",a,b)}handle(a,b){let c=b.fragmentDefinitions[a.name.value];if(!c)throw Error("Undefined fragment definition: "+a.name.value);let d={alias:void 0,arguments:void 0,directives:c.directives,kind:"Field",name:a.name,selectionSet:c.selectionSet},e=[this.util.newTypePattern(b.subject,c.typeCondition,b),];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(b,d,!1,e))}}b.NodeHandlerSelectionFragmentSpread=e},47101:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeHandlerSelectionInlineFragment=void 0;let d=c(21211);class e extends d.NodeHandlerSelectionAdapter{constructor(a,b){super("InlineFragment",a,b)}handle(a,b){let c={alias:void 0,arguments:void 0,directives:a.directives,kind:"Field",name:{kind:"Name",value:b.subject.value},selectionSet:a.selectionSet},d=a.typeCondition?[this.util.newTypePattern(b.subject,a.typeCondition,b)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(b,c,!1,d))}}b.NodeHandlerSelectionInlineFragment=e},90438:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DirectiveNodeHandlerAdapter=void 0,b.DirectiveNodeHandlerAdapter=class{constructor(a,b,c){this.targetKind=a,this.util=b,this.settings=c}getDirectiveConditionalValue(a,b){let c=this.util.getArgument(a.arguments,"if");if(!c)throw Error(`The directive ${a.name.value} is missing an if-argument.`);let d=this.util.handleNodeValue(c.value,c.name.value,b);if(1!==d.terms.length)throw Error(`Can not apply the directive ${a.name.value} with a list.`);return d.terms[0]}isDirectiveScopeAll(a){let b=this.util.getArgument(a.arguments,"scope");return b&&"EnumValue"===b.value.kind&&"all"===b.value.value}}},7395:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DirectiveNodeHandlerInclude=void 0;let d=c(90438);class e extends d.DirectiveNodeHandlerAdapter{constructor(a,b){super("include",a,b)}handle(a,b){let c=this.getDirectiveConditionalValue(a.directive,b);return"Literal"===c.termType&&"false"===c.value?{ignore:!0}:{}}}b.DirectiveNodeHandlerInclude=e},17917:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DirectiveNodeHandlerOptional=void 0;let d=c(90438);class e extends d.DirectiveNodeHandlerAdapter{constructor(a,b){super("optional",a,b)}handle(a,b){return{operationOverrider:a=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),a)}}}b.DirectiveNodeHandlerOptional=e},56442:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DirectiveNodeHandlerPlural=void 0;let d=c(63362),e=c(90438);class f extends e.DirectiveNodeHandlerAdapter{constructor(a,b){super("plural",a,b)}handle(a,b){return this.isDirectiveScopeAll(a.directive)&&(b.singularizeState=d.SingularizeState.PLURAL),delete b.singularizeVariables[this.util.nameToVariable(a.fieldLabel,b).value],{}}}b.DirectiveNodeHandlerPlural=f},3930:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DirectiveNodeHandlerSingle=void 0;let d=c(63362),e=c(90438);class f extends e.DirectiveNodeHandlerAdapter{constructor(a,b){super("single",a,b)}handle(a,b){return this.isDirectiveScopeAll(a.directive)&&(b.singularizeState=d.SingularizeState.SINGLE),b.singularizeVariables[this.util.nameToVariable(a.fieldLabel,b).value]=!0,{}}}b.DirectiveNodeHandlerSingle=f},62690:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DirectiveNodeHandlerSkip=void 0;let d=c(90438);class e extends d.DirectiveNodeHandlerAdapter{constructor(a,b){super("skip",a,b)}handle(a,b){let c=this.getDirectiveConditionalValue(a.directive,b);return"Literal"===c.termType&&"true"===c.value?{ignore:!0}:{}}}b.DirectiveNodeHandlerSkip=e},13266:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(90438),b),e(c(7395),b),e(c(17917),b),e(c(56442),b),e(c(3930),b),e(c(62690),b)},62561:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(13266),b),e(c(60011),b),e(c(9567),b),e(c(68580),b),e(c(31833),b),e(c(60745),b),e(c(40974),b),e(c(21211),b),e(c(81128),b),e(c(77857),b),e(c(47101),b)},15306:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerAdapter=void 0,b.NodeValueHandlerAdapter=class{constructor(a,b,c){this.targetKind=a,this.util=b,this.settings=c}}},71786:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerBoolean=void 0;let d=c(15306);class e extends d.NodeValueHandlerAdapter{constructor(a,b){super("BooleanValue",a,b),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(a,b,c){return{terms:[this.util.dataFactory.literal(a.value?"true":"false",this.datatype)]}}}b.NodeValueHandlerBoolean=e},94154:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerEnum=void 0;let d=c(15306);class e extends d.NodeValueHandlerAdapter{constructor(a,b){super("EnumValue",a,b)}handle(a,b,c){return{terms:[this.util.valueToNamedNode(a.value,c.context)]}}}b.NodeValueHandlerEnum=e},26084:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerFloat=void 0;let d=c(15306);class e extends d.NodeValueHandlerAdapter{constructor(a,b){super("FloatValue",a,b),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(a,b,c){return{terms:[this.util.dataFactory.literal(a.value,this.datatype)]}}}b.NodeValueHandlerFloat=e},61613:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerInt=void 0;let d=c(15306);class e extends d.NodeValueHandlerAdapter{constructor(a,b){super("IntValue",a,b),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(a,b,c){return{terms:[this.util.dataFactory.literal(a.value,this.datatype)]}}}b.NodeValueHandlerInt=e},39370:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerList=void 0;let d=c(15306);class e extends d.NodeValueHandlerAdapter{constructor(a,b){super("ListValue",a,b),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(a,b,c){let d=[],e=[];for(let f of a.values){let g=this.util.handleNodeValue(f,b,c);for(let h of g.terms)d.push(h);g.auxiliaryPatterns&&(e=e.concat(g.auxiliaryPatterns))}if(!this.settings.arraysToRdfLists)return{terms:d,auxiliaryPatterns:e};{let i=this.util.dataFactory.blankNode(),j=i,k=d.length;for(let l of d){e.push(this.util.operationFactory.createPattern(j,this.nodeFirst,l,c.graph));let m=0== --k?this.nodeNil:this.util.dataFactory.blankNode();e.push(this.util.operationFactory.createPattern(j,this.nodeRest,m,c.graph)),j=m}return{terms:[i],auxiliaryPatterns:e}}}}b.NodeValueHandlerList=e},48941:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerNull=void 0;let d=c(15306);class e extends d.NodeValueHandlerAdapter{constructor(a,b){super("NullValue",a,b),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(a,b,c){return{terms:[this.nil]}}}b.NodeValueHandlerNull=e},33610:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerObject=void 0;let d=c(15306);class e extends d.NodeValueHandlerAdapter{constructor(a,b){super("ObjectValue",a,b)}handle(a,b,c){let d=this.util.dataFactory.blankNode(),e=[];for(let f of a.fields){let g=this.util.handleNodeValue(f.value,b,c);for(let h of g.terms)e.push(this.util.createQuadPattern(d,f.name,h,c.graph,c.context));g.auxiliaryPatterns&&(e=e.concat(g.auxiliaryPatterns))}return{terms:[d],auxiliaryPatterns:e}}}b.NodeValueHandlerObject=e},28579:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerString=void 0;let d=c(15306);class e extends d.NodeValueHandlerAdapter{constructor(a,b){super("StringValue",a,b)}handle(a,b,c){let d=c.context.getContextRaw()[b],e,f;return d&&"string"!=typeof d&&(d["@language"]?e=d["@language"]:d["@type"]&&(f=this.util.dataFactory.namedNode(d["@type"]))),{terms:[this.util.dataFactory.literal(a.value,e||f)]}}}b.NodeValueHandlerString=e},69006:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeValueHandlerVariable=void 0;let d=c(15306);class e extends d.NodeValueHandlerAdapter{constructor(a,b){super("Variable",a,b)}handle(a,b,c){let d=a.name.value,e=c.variablesDict[d],f=c.variablesMetaDict[d];if(!e){if(c.ignoreUnknownVariables||f&&!f.mandatory){let g=this.util.dataFactory.variable(d);return 0>c.terminalVariables.map(a=>a.value).indexOf(d)&&c.terminalVariables.push(g),{terms:[g]}}throw Error(`Undefined variable: ${d}`)}if("Variable"===e.kind)throw Error(`Variable refers to another variable: ${d}`);if(f){if(f.list){if("ListValue"!==e.kind)throw Error(`Expected a list, but got ${e.kind} for ${d}`);if(f.type){let h=e;for(let i of h.values)if(i.kind!==f.type)throw Error(`Expected ${f.type}, but got ${i.kind} for ${d}`)}}else f.type}return this.util.handleNodeValue(e,b,c)}}b.NodeValueHandlerVariable=e},60011:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(15306),b),e(c(71786),b),e(c(94154),b),e(c(26084),b),e(c(61613),b),e(c(39370),b),e(c(48941),b),e(c(33610),b),e(c(28579),b),e(c(69006),b)},33715:function(a,b,c){var d=b;d.utils=c(26436),d.common=c(95772),d.sha=c(89041),d.ripemd=c(12949),d.hmac=c(52344),d.sha1=d.sha.sha1,d.sha256=d.sha.sha256,d.sha224=d.sha.sha224,d.sha384=d.sha.sha384,d.sha512=d.sha.sha512,d.ripemd160=d.ripemd.ripemd160},95772:function(a,b,c){"use strict";var d=c(26436),e=c(79746);function f(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}b.BlockHash=f,f.prototype.update=function(a,b){if(a=d.toArray(a,b),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){var c=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-c,a.length),0===this.pending.length&&(this.pending=null),a=d.join32(a,0,a.length-c,this.endian);for(var e=0;e<a.length;e+=this._delta32)this._update(a,e,e+this._delta32)}return this},f.prototype.digest=function(a){return this.update(this._pad()),e(null===this.pending),this._digest(a)},f.prototype._pad=function(){var a=this.pendingTotal,b=this._delta8,c=b-(a+this.padLength)%b,d=Array(c+this.padLength);d[0]=128;for(var e=1;e<c;e++)d[e]=0;if(a<<=3,"big"===this.endian){for(var f=8;f<this.padLength;f++)d[e++]=0;d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=a>>>24&255,d[e++]=a>>>16&255,d[e++]=a>>>8&255,d[e++]=255&a}else for(f=8,d[e++]=255&a,d[e++]=a>>>8&255,d[e++]=a>>>16&255,d[e++]=a>>>24&255,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0;f<this.padLength;f++)d[e++]=0;return d}},52344:function(a,b,c){"use strict";var d=c(26436),e=c(79746);function f(a,b,c){if(!(this instanceof f))return new f(a,b,c);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(d.toArray(b,c))}a.exports=f,f.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var b=a.length;b<this.blockSize;b++)a.push(0);for(b=0;b<a.length;b++)a[b]^=54;for(b=0,this.inner=new this.Hash().update(a);b<a.length;b++)a[b]^=106;this.outer=new this.Hash().update(a)},f.prototype.update=function(a,b){return this.inner.update(a,b),this},f.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)}},12949:function(a,b,c){"use strict";var d=c(26436),e=c(95772),f=d.rotl32,g=d.sum32,h=d.sum32_3,i=d.sum32_4,j=e.BlockHash;function k(){if(!(this instanceof k))return new k;j.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(a,b,c,d){return a<=15?b^c^d:a<=31?b&c| ~b&d:a<=47?(b| ~c)^d:a<=63?b&d|c& ~d:b^(c| ~d)}function m(a){return a<=15?0:a<=31?1518500249:a<=47?1859775393:a<=63?2400959708:2840853838}function n(a){return a<=15?1352829926:a<=31?1548603684:a<=47?1836072691:a<=63?2053994217:0}d.inherits(k,j),b.ripemd160=k,k.blockSize=512,k.outSize=160,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(a,b){for(var c=this.h[0],d=this.h[1],e=this.h[2],j=this.h[3],k=this.h[4],s=c,t=d,u=e,v=j,w=k,x=0;x<80;x++){var y=g(f(i(c,l(x,d,e,j),a[o[x]+b],m(x)),q[x]),k);c=k,k=j,j=f(e,10),e=d,d=y,y=g(f(i(s,l(79-x,t,u,v),a[p[x]+b],n(x)),r[x]),w),s=w,w=v,v=f(u,10),u=t,t=y}y=h(this.h[1],e,v),this.h[1]=h(this.h[2],j,w),this.h[2]=h(this.h[3],k,s),this.h[3]=h(this.h[4],c,t),this.h[4]=h(this.h[0],d,u),this.h[0]=y},k.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h,"little"):d.split32(this.h,"little")};var o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],q=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],r=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:function(a,b,c){"use strict";b.sha1=c(84761),b.sha224=c(10799),b.sha256=c(89344),b.sha384=c(80772),b.sha512=c(45900)},84761:function(a,b,c){"use strict";var d=c(26436),e=c(95772),f=c(37038),g=d.rotl32,h=d.sum32,i=d.sum32_5,j=f.ft_1,k=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function m(){if(!(this instanceof m))return new m;k.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}d.inherits(m,k),a.exports=m,m.blockSize=512,m.outSize=160,m.hmacStrength=80,m.padLength=64,m.prototype._update=function(a,b){for(var c=this.W,d=0;d<16;d++)c[d]=a[b+d];for(;d<c.length;d++)c[d]=g(c[d-3]^c[d-8]^c[d-14]^c[d-16],1);var e=this.h[0],f=this.h[1],k=this.h[2],m=this.h[3],n=this.h[4];for(d=0;d<c.length;d++){var o=~~(d/20),p=i(g(e,5),j(o,f,k,m),n,c[d],l[o]);n=m,m=k,k=g(f,30),f=e,e=p}this.h[0]=h(this.h[0],e),this.h[1]=h(this.h[1],f),this.h[2]=h(this.h[2],k),this.h[3]=h(this.h[3],m),this.h[4]=h(this.h[4],n)},m.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},10799:function(a,b,c){"use strict";var d=c(26436),e=c(89344);function f(){if(!(this instanceof f))return new f;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}d.inherits(f,e),a.exports=f,f.blockSize=512,f.outSize=224,f.hmacStrength=192,f.padLength=64,f.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h.slice(0,7),"big"):d.split32(this.h.slice(0,7),"big")}},89344:function(a,b,c){"use strict";var d=c(26436),e=c(95772),f=c(37038),g=c(79746),h=d.sum32,i=d.sum32_4,j=d.sum32_5,k=f.ch32,l=f.maj32,m=f.s0_256,n=f.s1_256,o=f.g0_256,p=f.g1_256,q=e.BlockHash,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function s(){if(!(this instanceof s))return new s;q.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=r,this.W=Array(64)}d.inherits(s,q),a.exports=s,s.blockSize=512,s.outSize=256,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(a,b){for(var c=this.W,d=0;d<16;d++)c[d]=a[b+d];for(;d<c.length;d++)c[d]=i(p(c[d-2]),c[d-7],o(c[d-15]),c[d-16]);var e=this.h[0],f=this.h[1],q=this.h[2],r=this.h[3],s=this.h[4],t=this.h[5],u=this.h[6],v=this.h[7];for(g(this.k.length===c.length),d=0;d<c.length;d++){var w=j(v,n(s),k(s,t,u),this.k[d],c[d]),x=h(m(e),l(e,f,q));v=u,u=t,t=s,s=h(r,w),r=q,q=f,f=e,e=h(w,x)}this.h[0]=h(this.h[0],e),this.h[1]=h(this.h[1],f),this.h[2]=h(this.h[2],q),this.h[3]=h(this.h[3],r),this.h[4]=h(this.h[4],s),this.h[5]=h(this.h[5],t),this.h[6]=h(this.h[6],u),this.h[7]=h(this.h[7],v)},s.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},80772:function(a,b,c){"use strict";var d=c(26436),e=c(45900);function f(){if(!(this instanceof f))return new f;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}d.inherits(f,e),a.exports=f,f.blockSize=1024,f.outSize=384,f.hmacStrength=192,f.padLength=128,f.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h.slice(0,12),"big"):d.split32(this.h.slice(0,12),"big")}},45900:function(a,b,c){"use strict";var d=c(26436),e=c(95772),f=c(79746),g=d.rotr64_hi,h=d.rotr64_lo,i=d.shr64_hi,j=d.shr64_lo,k=d.sum64,l=d.sum64_hi,m=d.sum64_lo,n=d.sum64_4_hi,o=d.sum64_4_lo,p=d.sum64_5_hi,q=d.sum64_5_lo,r=e.BlockHash,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function t(){if(!(this instanceof t))return new t;r.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=s,this.W=Array(160)}function u(a,b,c,d,e){var f=a&c^ ~a&e;return f<0&&(f+=4294967296),f}function v(a,b,c,d,e,f){var g=b&d^ ~b&f;return g<0&&(g+=4294967296),g}function w(a,b,c,d,e){var f=a&c^a&e^c&e;return f<0&&(f+=4294967296),f}function x(a,b,c,d,e,f){var g=b&d^b&f^d&f;return g<0&&(g+=4294967296),g}function y(a,b){var c=g(a,b,28),d=g(b,a,2),e=g(b,a,7),f=c^d^e;return f<0&&(f+=4294967296),f}function z(a,b){var c=h(a,b,28),d=h(b,a,2),e=h(b,a,7),f=c^d^e;return f<0&&(f+=4294967296),f}function A(a,b){var c=g(a,b,14),d=g(a,b,18),e=g(b,a,9),f=c^d^e;return f<0&&(f+=4294967296),f}function B(a,b){var c=h(a,b,14),d=h(a,b,18),e=h(b,a,9),f=c^d^e;return f<0&&(f+=4294967296),f}function C(a,b){var c=g(a,b,1),d=g(a,b,8),e=i(a,b,7),f=c^d^e;return f<0&&(f+=4294967296),f}function D(a,b){var c=h(a,b,1),d=h(a,b,8),e=j(a,b,7),f=c^d^e;return f<0&&(f+=4294967296),f}function E(a,b){var c=g(a,b,19),d=g(b,a,29),e=i(a,b,6),f=c^d^e;return f<0&&(f+=4294967296),f}function F(a,b){var c=h(a,b,19),d=h(b,a,29),e=j(a,b,6),f=c^d^e;return f<0&&(f+=4294967296),f}d.inherits(t,r),a.exports=t,t.blockSize=1024,t.outSize=512,t.hmacStrength=192,t.padLength=128,t.prototype._prepareBlock=function(a,b){for(var c=this.W,d=0;d<32;d++)c[d]=a[b+d];for(;d<c.length;d+=2){var e=E(c[d-4],c[d-3]),f=F(c[d-4],c[d-3]),g=c[d-14],h=c[d-13],i=C(c[d-30],c[d-29]),j=D(c[d-30],c[d-29]),k=c[d-32],l=c[d-31];c[d]=n(e,f,g,h,i,j,k,l),c[d+1]=o(e,f,g,h,i,j,k,l)}},t.prototype._update=function(a,b){this._prepareBlock(a,b);var c=this.W,d=this.h[0],e=this.h[1],g=this.h[2],h=this.h[3],i=this.h[4],j=this.h[5],n=this.h[6],o=this.h[7],r=this.h[8],s=this.h[9],t=this.h[10],C=this.h[11],D=this.h[12],E=this.h[13],F=this.h[14],G=this.h[15];f(this.k.length===c.length);for(var H=0;H<c.length;H+=2){var I=F,J=G,K=A(r,s),L=B(r,s),M=u(r,s,t,C,D,E),N=v(r,s,t,C,D,E),O=this.k[H],P=this.k[H+1],Q=c[H],R=c[H+1],S=p(I,J,K,L,M,N,O,P,Q,R),T=q(I,J,K,L,M,N,O,P,Q,R);I=y(d,e),J=z(d,e),K=w(d,e,g,h,i,j);var U=l(I,J,K,L=x(d,e,g,h,i,j)),V=m(I,J,K,L);F=D,G=E,D=t,E=C,t=r,C=s,r=l(n,o,S,T),s=m(o,o,S,T),n=i,o=j,i=g,j=h,g=d,h=e,d=l(S,T,U,V),e=m(S,T,U,V)}k(this.h,0,d,e),k(this.h,2,g,h),k(this.h,4,i,j),k(this.h,6,n,o),k(this.h,8,r,s),k(this.h,10,t,C),k(this.h,12,D,E),k(this.h,14,F,G)},t.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},37038:function(a,b,c){"use strict";var d=c(26436).rotr32;function e(a,b,c){return a&b^ ~a&c}function f(a,b,c){return a&b^a&c^b&c}function g(a,b,c){return a^b^c}b.ft_1=function(a,b,c,d){var e,g,h,i,j,k;return 0===a?(e=b,g=c,h=d,e&g^ ~e&h):1===a||3===a?(i=b,j=c,k=d,i^j^k):2===a?f(b,c,d):void 0},b.ch32=e,b.maj32=f,b.p32=g,b.s0_256=function(a){return d(a,2)^d(a,13)^d(a,22)},b.s1_256=function(a){return d(a,6)^d(a,11)^d(a,25)},b.g0_256=function(a){return d(a,7)^d(a,18)^a>>>3},b.g1_256=function(a){return d(a,17)^d(a,19)^a>>>10}},26436:function(a,b,c){"use strict";var d=c(79746),e=c(35717);function f(a,b){return(64512&a.charCodeAt(b))==55296&&!(b<0)&&!(b+1>=a.length)&&(64512&a.charCodeAt(b+1))==56320}function g(a){return(a>>>24|a>>>8&65280|a<<8&16711680|(255&a)<<24)>>>0}function h(a){return 1===a.length?"0"+a:a}function i(a){if(7===a.length)return"0"+a;if(6===a.length)return"00"+a;if(5===a.length)return"000"+a;if(4===a.length)return"0000"+a;if(3===a.length)return"00000"+a;else if(2===a.length)return"000000"+a;else if(1===a.length)return"0000000"+a;else return a}function j(a,b,c,d){return b+d>>>0}function k(a,b,c,d,e,f,g,h){return b+d+f+h>>>0}function l(a,b,c,d,e,f,g,h,i,j){return b+d+f+h+j>>>0}function m(a,b,c){return a>>>c}b.inherits=e,b.toArray=function(a,b){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if("string"==typeof a){if(b){if("hex"===b)for((a=a.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(a="0"+a),e=0;e<a.length;e+=2)c.push(parseInt(a[e]+a[e+1],16))}else for(var d=0,e=0;e<a.length;e++){var g=a.charCodeAt(e);g<128?c[d++]=g:g<2048?(c[d++]=g>>6|192,c[d++]=63&g|128):f(a,e)?(g=65536+((1023&g)<<10)+(1023&a.charCodeAt(++e)),c[d++]=g>>18|240,c[d++]=g>>12&63|128,c[d++]=g>>6&63|128,c[d++]=63&g|128):(c[d++]=g>>12|224,c[d++]=g>>6&63|128,c[d++]=63&g|128)}}else for(e=0;e<a.length;e++)c[e]=0|a[e];return c},b.toHex=function(a){for(var b="",c=0;c<a.length;c++)b+=h(a[c].toString(16));return b},b.htonl=g,b.toHex32=function(a,b){for(var c="",d=0;d<a.length;d++){var e=a[d];"little"===b&&(e=g(e)),c+=i(e.toString(16))}return c},b.zero2=h,b.zero8=i,b.join32=function(a,b,c,e){var f,g=c-b;d(g%4==0);for(var h=Array(g/4),i=0,j=b;i<h.length;i++,j+=4)f="big"===e?a[j]<<24|a[j+1]<<16|a[j+2]<<8|a[j+3]:a[j+3]<<24|a[j+2]<<16|a[j+1]<<8|a[j],h[i]=f>>>0;return h},b.split32=function(a,b){for(var c=Array(4*a.length),d=0,e=0;d<a.length;d++,e+=4){var f=a[d];"big"===b?(c[e]=f>>>24,c[e+1]=f>>>16&255,c[e+2]=f>>>8&255,c[e+3]=255&f):(c[e+3]=f>>>24,c[e+2]=f>>>16&255,c[e+1]=f>>>8&255,c[e]=255&f)}return c},b.rotr32=function(a,b){return a>>>b|a<<32-b},b.rotl32=function(a,b){return a<<b|a>>>32-b},b.sum32=function(a,b){return a+b>>>0},b.sum32_3=function(a,b,c){return a+b+c>>>0},b.sum32_4=function(a,b,c,d){return a+b+c+d>>>0},b.sum32_5=function(a,b,c,d,e){return a+b+c+d+e>>>0},b.sum64=function(a,b,c,d){var e=a[b],f=a[b+1],g=d+f>>>0;a[b]=(g<d?1:0)+c+e>>>0,a[b+1]=g},b.sum64_hi=function(a,b,c,d){return(b+d>>>0<b?1:0)+a+c>>>0},b.sum64_lo=j,b.sum64_4_hi=function(a,b,c,d,e,f,g,h){var i,j=0,k=b;return j+=(k=k+d>>>0)<b?1:0,k=k+f>>>0,j+=k<f?1:0,k=k+h>>>0,a+c+e+g+(j+=k<h?1:0)>>>0},b.sum64_4_lo=k,b.sum64_5_hi=function(a,b,c,d,e,f,g,h,i,j){var k,l=0,m=b;return l+=(m=m+d>>>0)<b?1:0,m=m+f>>>0,l+=m<f?1:0,m=m+h>>>0,l+=m<h?1:0,m=m+j>>>0,a+c+e+g+i+(l+=m<j?1:0)>>>0},b.sum64_5_lo=l,b.rotr64_hi=function(a,b,c){return(b<<32-c|a>>>c)>>>0},b.rotr64_lo=function(a,b,c){return(a<<32-c|b>>>c)>>>0},b.shr64_hi=m,b.shr64_lo=function(a,b,c){return(a<<32-c|b>>>c)>>>0}},50763:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b};Object.defineProperty(b,"__esModule",{value:!0}),b.Parser=void 0;var g=f(c(39889)),h=c(44076),i=new Set(["input","option","optgroup","select","button","datalist","textarea",]),j=new Set(["p"]),k=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),m=new Set(["rt","rp"]),n=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",j],["h1",j],["h2",j],["h3",j],["h4",j],["h5",j],["h6",j],["select",i],["input",i],["output",i],["button",i],["datalist",i],["textarea",i],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",j],["article",j],["aside",j],["blockquote",j],["details",j],["div",j],["dl",j],["fieldset",j],["figcaption",j],["figure",j],["footer",j],["form",j],["header",j],["hr",j],["main",j],["nav",j],["ol",j],["pre",j],["section",j],["table",j],["ul",j],["rt",m],["rp",m],["tbody",k],["tfoot",k],]),o=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr",]),p=new Set(["math","svg"]),q=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title",]),r=/\s|\//,s=function(){function a(a,b){var c,d,e,f,h;void 0===b&&(b={}),this.options=b,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=a?a:{},this.lowerCaseTagNames=null!==(c=b.lowerCaseTags)&& void 0!==c?c:!b.xmlMode,this.lowerCaseAttributeNames=null!==(d=b.lowerCaseAttributeNames)&& void 0!==d?d:!b.xmlMode,this.tokenizer=new(null!==(e=b.Tokenizer)&& void 0!==e?e:g.default)(this.options,this),null===(h=(f=this.cbs).onparserinit)|| void 0===h||h.call(f,this)}return a.prototype.ontext=function(a,b){var c,d,e=this.getSlice(a,b);this.endIndex=b-1,null===(d=(c=this.cbs).ontext)|| void 0===d||d.call(c,e),this.startIndex=b},a.prototype.ontextentity=function(a){var b,c,d=this.tokenizer.getSectionStart();this.endIndex=d-1,null===(c=(b=this.cbs).ontext)|| void 0===c||c.call(b,(0,h.fromCodePoint)(a)),this.startIndex=d},a.prototype.isVoidElement=function(a){return!this.options.xmlMode&&o.has(a)},a.prototype.onopentagname=function(a,b){this.endIndex=b;var c=this.getSlice(a,b);this.lowerCaseTagNames&&(c=c.toLowerCase()),this.emitOpenTag(c)},a.prototype.emitOpenTag=function(a){this.openTagStart=this.startIndex,this.tagname=a;var b,c,d,e,f=!this.options.xmlMode&&n.get(a);if(f)for(;this.stack.length>0&&f.has(this.stack[this.stack.length-1]);){var g=this.stack.pop();null===(c=(b=this.cbs).onclosetag)|| void 0===c||c.call(b,g,!0)}!this.isVoidElement(a)&&(this.stack.push(a),p.has(a)?this.foreignContext.push(!0):q.has(a)&&this.foreignContext.push(!1)),null===(e=(d=this.cbs).onopentagname)|| void 0===e||e.call(d,a),this.cbs.onopentag&&(this.attribs={})},a.prototype.endOpenTag=function(a){var b,c;this.startIndex=this.openTagStart,this.attribs&&(null===(c=(b=this.cbs).onopentag)|| void 0===c||c.call(b,this.tagname,this.attribs,a),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},a.prototype.onopentagend=function(a){this.endIndex=a,this.endOpenTag(!1),this.startIndex=a+1},a.prototype.onclosetag=function(a,b){this.endIndex=b;var c,d,e,f,g,h,i=this.getSlice(a,b);if(this.lowerCaseTagNames&&(i=i.toLowerCase()),(p.has(i)||q.has(i))&&this.foreignContext.pop(),this.isVoidElement(i))this.options.xmlMode||"br"!==i||(null===(d=(c=this.cbs).onopentagname)|| void 0===d||d.call(c,"br"),null===(f=(e=this.cbs).onopentag)|| void 0===f||f.call(e,"br",{},!0),null===(h=(g=this.cbs).onclosetag)|| void 0===h||h.call(g,"br",!1));else{var j=this.stack.lastIndexOf(i);if(-1!==j){if(this.cbs.onclosetag)for(var k=this.stack.length-j;k--;)this.cbs.onclosetag(this.stack.pop(),0!==k);else this.stack.length=j}else this.options.xmlMode||"p"!==i||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=b+1},a.prototype.onselfclosingtag=function(a){this.endIndex=a,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=a+1):this.onopentagend(a)},a.prototype.closeCurrentTag=function(a){var b,c,d=this.tagname;this.endOpenTag(a),this.stack[this.stack.length-1]===d&&(null===(c=(b=this.cbs).onclosetag)|| void 0===c||c.call(b,d,!a),this.stack.pop())},a.prototype.onattribname=function(a,b){this.startIndex=a;var c=this.getSlice(a,b);this.attribname=this.lowerCaseAttributeNames?c.toLowerCase():c},a.prototype.onattribdata=function(a,b){this.attribvalue+=this.getSlice(a,b)},a.prototype.onattribentity=function(a){this.attribvalue+=(0,h.fromCodePoint)(a)},a.prototype.onattribend=function(a,b){var c,d;this.endIndex=b,null===(d=(c=this.cbs).onattribute)|| void 0===d||d.call(c,this.attribname,this.attribvalue,a===g.QuoteType.Double?'"':a===g.QuoteType.Single?"'":a===g.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},a.prototype.getInstructionName=function(a){var b=a.search(r),c=b<0?a:a.substr(0,b);return this.lowerCaseTagNames&&(c=c.toLowerCase()),c},a.prototype.ondeclaration=function(a,b){this.endIndex=b;var c=this.getSlice(a,b);if(this.cbs.onprocessinginstruction){var d=this.getInstructionName(c);this.cbs.onprocessinginstruction("!".concat(d),"!".concat(c))}this.startIndex=b+1},a.prototype.onprocessinginstruction=function(a,b){this.endIndex=b;var c=this.getSlice(a,b);if(this.cbs.onprocessinginstruction){var d=this.getInstructionName(c);this.cbs.onprocessinginstruction("?".concat(d),"?".concat(c))}this.startIndex=b+1},a.prototype.oncomment=function(a,b,c){var d,e,f,g;this.endIndex=b,null===(e=(d=this.cbs).oncomment)|| void 0===e||e.call(d,this.getSlice(a,b-c)),null===(g=(f=this.cbs).oncommentend)|| void 0===g||g.call(f),this.startIndex=b+1},a.prototype.oncdata=function(a,b,c){this.endIndex=b;var d,e,f,g,h,i,j,k,l,m,n=this.getSlice(a,b-c);this.options.xmlMode||this.options.recognizeCDATA?(null===(e=(d=this.cbs).oncdatastart)|| void 0===e||e.call(d),null===(g=(f=this.cbs).ontext)|| void 0===g||g.call(f,n),null===(i=(h=this.cbs).oncdataend)|| void 0===i||i.call(h)):(null===(k=(j=this.cbs).oncomment)|| void 0===k||k.call(j,"[CDATA[".concat(n,"]]")),null===(m=(l=this.cbs).oncommentend)|| void 0===m||m.call(l)),this.startIndex=b+1},a.prototype.onend=function(){var a,b;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var c=this.stack.length;c>0;this.cbs.onclosetag(this.stack[--c],!0));}null===(b=(a=this.cbs).onend)|| void 0===b||b.call(a)},a.prototype.reset=function(){var a,b,c,d;null===(b=(a=this.cbs).onreset)|| void 0===b||b.call(a),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(d=(c=this.cbs).onparserinit)|| void 0===d||d.call(c,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},a.prototype.parseComplete=function(a){this.reset(),this.end(a)},a.prototype.getSlice=function(a,b){for(;a-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var c=this.buffers[0].slice(a-this.bufferOffset,b-this.bufferOffset);b-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),c+=this.buffers[0].slice(0,b-this.bufferOffset);return c},a.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},a.prototype.write=function(a){var b,c;if(this.ended){null===(c=(b=this.cbs).onerror)|| void 0===c||c.call(b,Error(".write() after done!"));return}this.buffers.push(a),this.tokenizer.running&&(this.tokenizer.write(a),this.writeIndex++)},a.prototype.end=function(a){var b,c;if(this.ended){null===(c=(b=this.cbs).onerror)|| void 0===c||c.call(b,Error(".end() after done!"));return}a&&this.write(a),this.ended=!0,this.tokenizer.end()},a.prototype.pause=function(){this.tokenizer.pause()},a.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},a.prototype.parseChunk=function(a){this.write(a)},a.prototype.done=function(a){this.end(a)},a}();b.Parser=s},39889:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QuoteType=void 0;var d,e,f,g,h,i,j=c(44076);function k(a){return a===e.Space||a===e.NewLine||a===e.Tab||a===e.FormFeed||a===e.CarriageReturn}function l(a){return a===e.Slash||a===e.Gt||k(a)}function m(a){return a>=e.Zero&&a<=e.Nine}(h=e||(e={}))[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Num=35]="Num",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket",(i=f||(f={}))[i.Text=1]="Text",i[i.BeforeTagName=2]="BeforeTagName",i[i.InTagName=3]="InTagName",i[i.InSelfClosingTag=4]="InSelfClosingTag",i[i.BeforeClosingTagName=5]="BeforeClosingTagName",i[i.InClosingTagName=6]="InClosingTagName",i[i.AfterClosingTagName=7]="AfterClosingTagName",i[i.BeforeAttributeName=8]="BeforeAttributeName",i[i.InAttributeName=9]="InAttributeName",i[i.AfterAttributeName=10]="AfterAttributeName",i[i.BeforeAttributeValue=11]="BeforeAttributeValue",i[i.InAttributeValueDq=12]="InAttributeValueDq",i[i.InAttributeValueSq=13]="InAttributeValueSq",i[i.InAttributeValueNq=14]="InAttributeValueNq",i[i.BeforeDeclaration=15]="BeforeDeclaration",i[i.InDeclaration=16]="InDeclaration",i[i.InProcessingInstruction=17]="InProcessingInstruction",i[i.BeforeComment=18]="BeforeComment",i[i.CDATASequence=19]="CDATASequence",i[i.InSpecialComment=20]="InSpecialComment",i[i.InCommentLike=21]="InCommentLike",i[i.BeforeSpecialS=22]="BeforeSpecialS",i[i.SpecialStartSequence=23]="SpecialStartSequence",i[i.InSpecialTag=24]="InSpecialTag",i[i.BeforeEntity=25]="BeforeEntity",i[i.BeforeNumericEntity=26]="BeforeNumericEntity",i[i.InNamedEntity=27]="InNamedEntity",i[i.InNumericEntity=28]="InNumericEntity",i[i.InHexEntity=29]="InHexEntity",(d=g=b.QuoteType||(b.QuoteType={}))[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double";var n={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},o=function(){function a(a,b){var c=a.xmlMode,d=void 0!==c&&c,e=a.decodeEntities;this.cbs=b,this.state=f.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=f.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=d,this.decodeEntities=void 0===e||e,this.entityTrie=d?j.xmlDecodeTree:j.htmlDecodeTree}return a.prototype.reset=function(){this.state=f.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=f.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},a.prototype.write=function(a){this.offset+=this.buffer.length,this.buffer=a,this.parse()},a.prototype.end=function(){this.running&&this.finish()},a.prototype.pause=function(){this.running=!1},a.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},a.prototype.getIndex=function(){return this.index},a.prototype.getSectionStart=function(){return this.sectionStart},a.prototype.stateText=function(a){a===e.Lt|| !this.decodeEntities&&this.fastForwardTo(e.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=f.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&a===e.Amp&&(this.state=f.BeforeEntity)},a.prototype.stateSpecialStartSequence=function(a){var b=this.sequenceIndex===this.currentSequence.length;if(b?l(a):(32|a)===this.currentSequence[this.sequenceIndex]){if(!b){this.sequenceIndex++;return}}else this.isSpecial=!1;this.sequenceIndex=0,this.state=f.InTagName,this.stateInTagName(a)},a.prototype.stateInSpecialTag=function(a){if(this.sequenceIndex===this.currentSequence.length){if(a===e.Gt||k(a)){var b=this.index-this.currentSequence.length;if(this.sectionStart<b){var c=this.index;this.index=b,this.cbs.ontext(this.sectionStart,b),this.index=c}this.isSpecial=!1,this.sectionStart=b+2,this.stateInClosingTagName(a);return}this.sequenceIndex=0}(32|a)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===n.TitleEnd?this.decodeEntities&&a===e.Amp&&(this.state=f.BeforeEntity):this.fastForwardTo(e.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(a===e.Lt)},a.prototype.stateCDATASequence=function(a){a===n.Cdata[this.sequenceIndex]?++this.sequenceIndex===n.Cdata.length&&(this.state=f.InCommentLike,this.currentSequence=n.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=f.InDeclaration,this.stateInDeclaration(a))},a.prototype.fastForwardTo=function(a){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===a)return!0;return this.index=this.buffer.length+this.offset-1,!1},a.prototype.stateInCommentLike=function(a){a===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===n.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=f.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):a!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},a.prototype.isTagStartChar=function(a){var b;return this.xmlMode?!l(a):(b=a)>=e.LowerA&&b<=e.LowerZ||b>=e.UpperA&&b<=e.UpperZ},a.prototype.startSpecial=function(a,b){this.isSpecial=!0,this.currentSequence=a,this.sequenceIndex=b,this.state=f.SpecialStartSequence},a.prototype.stateBeforeTagName=function(a){if(a===e.ExclamationMark)this.state=f.BeforeDeclaration,this.sectionStart=this.index+1;else if(a===e.Questionmark)this.state=f.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(a)){var b=32|a;this.sectionStart=this.index,this.xmlMode||b!==n.TitleEnd[2]?this.state=this.xmlMode||b!==n.ScriptEnd[2]?f.InTagName:f.BeforeSpecialS:this.startSpecial(n.TitleEnd,3)}else a===e.Slash?this.state=f.BeforeClosingTagName:(this.state=f.Text,this.stateText(a))},a.prototype.stateInTagName=function(a){l(a)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=f.BeforeAttributeName,this.stateBeforeAttributeName(a))},a.prototype.stateBeforeClosingTagName=function(a){k(a)||(a===e.Gt?this.state=f.Text:(this.state=this.isTagStartChar(a)?f.InClosingTagName:f.InSpecialComment,this.sectionStart=this.index))},a.prototype.stateInClosingTagName=function(a){(a===e.Gt||k(a))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=f.AfterClosingTagName,this.stateAfterClosingTagName(a))},a.prototype.stateAfterClosingTagName=function(a){(a===e.Gt||this.fastForwardTo(e.Gt))&&(this.state=f.Text,this.sectionStart=this.index+1)},a.prototype.stateBeforeAttributeName=function(a){a===e.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=f.InSpecialTag,this.sequenceIndex=0):this.state=f.Text,this.baseState=this.state,this.sectionStart=this.index+1):a===e.Slash?this.state=f.InSelfClosingTag:k(a)||(this.state=f.InAttributeName,this.sectionStart=this.index)},a.prototype.stateInSelfClosingTag=function(a){a===e.Gt?(this.cbs.onselfclosingtag(this.index),this.state=f.Text,this.baseState=f.Text,this.sectionStart=this.index+1,this.isSpecial=!1):k(a)||(this.state=f.BeforeAttributeName,this.stateBeforeAttributeName(a))},a.prototype.stateInAttributeName=function(a){(a===e.Eq||l(a))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=f.AfterAttributeName,this.stateAfterAttributeName(a))},a.prototype.stateAfterAttributeName=function(a){a===e.Eq?this.state=f.BeforeAttributeValue:a===e.Slash||a===e.Gt?(this.cbs.onattribend(g.NoValue,this.index),this.state=f.BeforeAttributeName,this.stateBeforeAttributeName(a)):k(a)||(this.cbs.onattribend(g.NoValue,this.index),this.state=f.InAttributeName,this.sectionStart=this.index)},a.prototype.stateBeforeAttributeValue=function(a){a===e.DoubleQuote?(this.state=f.InAttributeValueDq,this.sectionStart=this.index+1):a===e.SingleQuote?(this.state=f.InAttributeValueSq,this.sectionStart=this.index+1):k(a)||(this.sectionStart=this.index,this.state=f.InAttributeValueNq,this.stateInAttributeValueNoQuotes(a))},a.prototype.handleInAttributeValue=function(a,b){a===b|| !this.decodeEntities&&this.fastForwardTo(b)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(b===e.DoubleQuote?g.Double:g.Single,this.index),this.state=f.BeforeAttributeName):this.decodeEntities&&a===e.Amp&&(this.baseState=this.state,this.state=f.BeforeEntity)},a.prototype.stateInAttributeValueDoubleQuotes=function(a){this.handleInAttributeValue(a,e.DoubleQuote)},a.prototype.stateInAttributeValueSingleQuotes=function(a){this.handleInAttributeValue(a,e.SingleQuote)},a.prototype.stateInAttributeValueNoQuotes=function(a){k(a)||a===e.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(g.Unquoted,this.index),this.state=f.BeforeAttributeName,this.stateBeforeAttributeName(a)):this.decodeEntities&&a===e.Amp&&(this.baseState=this.state,this.state=f.BeforeEntity)},a.prototype.stateBeforeDeclaration=function(a){a===e.OpeningSquareBracket?(this.state=f.CDATASequence,this.sequenceIndex=0):this.state=a===e.Dash?f.BeforeComment:f.InDeclaration},a.prototype.stateInDeclaration=function(a){(a===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=f.Text,this.sectionStart=this.index+1)},a.prototype.stateInProcessingInstruction=function(a){(a===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=f.Text,this.sectionStart=this.index+1)},a.prototype.stateBeforeComment=function(a){a===e.Dash?(this.state=f.InCommentLike,this.currentSequence=n.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=f.InDeclaration},a.prototype.stateInSpecialComment=function(a){(a===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=f.Text,this.sectionStart=this.index+1)},a.prototype.stateBeforeSpecialS=function(a){var b=32|a;b===n.ScriptEnd[3]?this.startSpecial(n.ScriptEnd,4):b===n.StyleEnd[3]?this.startSpecial(n.StyleEnd,4):(this.state=f.InTagName,this.stateInTagName(a))},a.prototype.stateBeforeEntity=function(a){this.entityExcess=1,this.entityResult=0,a===e.Num?this.state=f.BeforeNumericEntity:a===e.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=f.InNamedEntity,this.stateInNamedEntity(a))},a.prototype.stateInNamedEntity=function(a){if(this.entityExcess+=1,this.trieIndex=(0,j.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,a),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var b=this.trieCurrent&j.BinTrieFlags.VALUE_LENGTH;if(b){var c=(b>>14)-1;if(this.allowLegacyEntity()||a===e.Semi){var d=this.index-this.entityExcess+1;d>this.sectionStart&&this.emitPartial(this.sectionStart,d),this.entityResult=this.trieIndex,this.trieIndex+=c,this.entityExcess=0,this.sectionStart=this.index+1,0===c&&this.emitNamedEntity()}else this.trieIndex+=c}},a.prototype.emitNamedEntity=function(){if(this.state=this.baseState,0!==this.entityResult){var a=(this.entityTrie[this.entityResult]&j.BinTrieFlags.VALUE_LENGTH)>>14;switch(a){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]& ~j.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},a.prototype.stateBeforeNumericEntity=function(a){(32|a)===e.LowerX?(this.entityExcess++,this.state=f.InHexEntity):(this.state=f.InNumericEntity,this.stateInNumericEntity(a))},a.prototype.emitNumericEntity=function(a){var b=this.index-this.entityExcess-1;b+2+Number(this.state===f.InHexEntity)!==this.index&&(b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.sectionStart=this.index+Number(a),this.emitCodePoint((0,j.replaceCodePoint)(this.entityResult))),this.state=this.baseState},a.prototype.stateInNumericEntity=function(a){a===e.Semi?this.emitNumericEntity(!0):m(a)?(this.entityResult=10*this.entityResult+(a-e.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},a.prototype.stateInHexEntity=function(a){if(a===e.Semi)this.emitNumericEntity(!0);else if(m(a))this.entityResult=16*this.entityResult+(a-e.Zero),this.entityExcess++;else{var b;(b=a)>=e.UpperA&&b<=e.UpperF||b>=e.LowerA&&b<=e.LowerF?(this.entityResult=16*this.entityResult+((32|a)-e.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}},a.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===f.Text||this.baseState===f.InSpecialTag)},a.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===f.Text||this.state===f.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===f.InAttributeValueDq||this.state===f.InAttributeValueSq||this.state===f.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},a.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},a.prototype.parse=function(){for(;this.shouldContinue();){var a=this.buffer.charCodeAt(this.index-this.offset);this.state===f.Text?this.stateText(a):this.state===f.SpecialStartSequence?this.stateSpecialStartSequence(a):this.state===f.InSpecialTag?this.stateInSpecialTag(a):this.state===f.CDATASequence?this.stateCDATASequence(a):this.state===f.InAttributeValueDq?this.stateInAttributeValueDoubleQuotes(a):this.state===f.InAttributeName?this.stateInAttributeName(a):this.state===f.InCommentLike?this.stateInCommentLike(a):this.state===f.InSpecialComment?this.stateInSpecialComment(a):this.state===f.BeforeAttributeName?this.stateBeforeAttributeName(a):this.state===f.InTagName?this.stateInTagName(a):this.state===f.InClosingTagName?this.stateInClosingTagName(a):this.state===f.BeforeTagName?this.stateBeforeTagName(a):this.state===f.AfterAttributeName?this.stateAfterAttributeName(a):this.state===f.InAttributeValueSq?this.stateInAttributeValueSingleQuotes(a):this.state===f.BeforeAttributeValue?this.stateBeforeAttributeValue(a):this.state===f.BeforeClosingTagName?this.stateBeforeClosingTagName(a):this.state===f.AfterClosingTagName?this.stateAfterClosingTagName(a):this.state===f.BeforeSpecialS?this.stateBeforeSpecialS(a):this.state===f.InAttributeValueNq?this.stateInAttributeValueNoQuotes(a):this.state===f.InSelfClosingTag?this.stateInSelfClosingTag(a):this.state===f.InDeclaration?this.stateInDeclaration(a):this.state===f.BeforeDeclaration?this.stateBeforeDeclaration(a):this.state===f.BeforeComment?this.stateBeforeComment(a):this.state===f.InProcessingInstruction?this.stateInProcessingInstruction(a):this.state===f.InNamedEntity?this.stateInNamedEntity(a):this.state===f.BeforeEntity?this.stateBeforeEntity(a):this.state===f.InHexEntity?this.stateInHexEntity(a):this.state===f.InNumericEntity?this.stateInNumericEntity(a):this.stateBeforeNumericEntity(a),this.index++}this.cleanup()},a.prototype.finish=function(){this.state===f.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},a.prototype.handleTrailingData=function(){var a=this.buffer.length+this.offset;this.state===f.InCommentLike?this.currentSequence===n.CdataEnd?this.cbs.oncdata(this.sectionStart,a,0):this.cbs.oncomment(this.sectionStart,a,0):this.state===f.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===f.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===f.InTagName||this.state===f.BeforeAttributeName||this.state===f.BeforeAttributeValue||this.state===f.AfterAttributeName||this.state===f.InAttributeName||this.state===f.InAttributeValueSq||this.state===f.InAttributeValueDq||this.state===f.InAttributeValueNq||this.state===f.InClosingTagName||this.cbs.ontext(this.sectionStart,a)},a.prototype.emitPartial=function(a,b){this.baseState!==f.Text&&this.baseState!==f.InSpecialTag?this.cbs.onattribdata(a,b):this.cbs.ontext(a,b)},a.prototype.emitCodePoint=function(a){this.baseState!==f.Text&&this.baseState!==f.InSpecialTag?this.cbs.onattribentity(a):this.cbs.ontextentity(a)},a}();b.default=o},23719:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b},g=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.DefaultHandler=b.DomUtils=b.parseFeed=b.getFeed=b.ElementType=b.Tokenizer=b.createDomStream=b.parseDOM=b.parseDocument=b.DomHandler=b.Parser=void 0;var h=c(50763);Object.defineProperty(b,"Parser",{enumerable:!0,get:function(){return h.Parser}});var i=c(47915);function j(a,b){var c=new i.DomHandler(void 0,b);return new h.Parser(c,b).end(a),c.root}function k(a,b){return j(a,b).children}Object.defineProperty(b,"DomHandler",{enumerable:!0,get:function(){return i.DomHandler}}),Object.defineProperty(b,"DefaultHandler",{enumerable:!0,get:function(){return i.DomHandler}}),b.parseDocument=j,b.parseDOM=k,b.createDomStream=function(a,b,c){var d=new i.DomHandler(a,b,c);return new h.Parser(d,b)};var l=c(39889);Object.defineProperty(b,"Tokenizer",{enumerable:!0,get:function(){return g(l).default}});var m=f(c(99960));b.ElementType=m;var n=c(89432);Object.defineProperty(b,"getFeed",{enumerable:!0,get:function(){return n.getFeed}}),b.parseFeed=function(a,b){return void 0===b&&(b={xmlMode:!0}),(0,n.getFeed)(k(a,b))},b.DomUtils=f(c(89432))},35369:function(a,b,c){"use strict";c.r(b),c.d(b,{Collection:function(){return I},Iterable:function(){return dj},List:function(){return cf},Map:function(){return bP},OrderedMap:function(){return cs},OrderedSet:function(){return c4},Range:function(){return cN},Record:function(){return c8},Repeat:function(){return de},Seq:function(){return ad},Set:function(){return cI},Stack:function(){return cy},fromJS:function(){return df},get:function(){return bj},getIn:function(){return cO},has:function(){return bi},hasIn:function(){return cQ},hash:function(){return ax},is:function(){return at},isAssociative:function(){return H},isCollection:function(){return C},isImmutable:function(){return Q},isIndexed:function(){return G},isKeyed:function(){return E},isList:function(){return ce},isMap:function(){return aq},isOrdered:function(){return S},isOrderedMap:function(){return ar},isOrderedSet:function(){return cE},isPlainObject:function(){return bf},isRecord:function(){return P},isSeq:function(){return N},isSet:function(){return cD},isStack:function(){return cx},isValueObject:function(){return as},merge:function(){return bz},mergeDeep:function(){return bB},mergeDeepWith:function(){return bC},mergeWith:function(){return bA},remove:function(){return bl},removeIn:function(){return br},set:function(){return bm},setIn:function(){return bp},update:function(){return bt},updateIn:function(){return bn},version:function(){return di}});var d,e,f,g,h,i,j,k,l,m,n="delete",o=31,p={};function q(){return{value:!1}}function r(a){a&&(a.value=!0)}function s(){}function t(a){return void 0===a.size&&(a.size=a.__iterate(v)),a.size}function u(a,b){if("number"!=typeof b){var c=b>>>0;if(""+c!==b||4294967295===c)return NaN;b=c}return b<0?t(a)+b:b}function v(){return!0}function w(a,b,c){return(0===a&&!A(a)|| void 0!==c&&a<= -c)&&(void 0===b|| void 0!==c&&b>=c)}function x(a,b){return z(a,b,0)}function y(a,b){return z(a,b,b)}function z(a,b,c){return void 0===a?c:A(a)?b===1/0?b:0|Math.max(0,b+a):void 0===b||b===a?a:0|Math.min(b,a)}function A(a){return a<0||0===a&&1/a== -1/0}var B="@@__IMMUTABLE_ITERABLE__@@";function C(a){return Boolean(a&&a[B])}var D="@@__IMMUTABLE_KEYED__@@";function E(a){return Boolean(a&&a[D])}var F="@@__IMMUTABLE_INDEXED__@@";function G(a){return Boolean(a&&a[F])}function H(a){return E(a)||G(a)}var I=function(a){return C(a)?a:ad(a)},J=function(a){function b(a){return E(a)?a:ae(a)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(I),K=function(a){function b(a){return G(a)?a:af(a)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(I),L=function(a){function b(a){return C(a)&&!H(a)?a:ag(a)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(I);I.Keyed=J,I.Indexed=K,I.Set=L;var M="@@__IMMUTABLE_SEQ__@@";function N(a){return Boolean(a&&a[M])}var O="@@__IMMUTABLE_RECORD__@@";function P(a){return Boolean(a&&a[O])}function Q(a){return C(a)||P(a)}var R="@@__IMMUTABLE_ORDERED__@@";function S(a){return Boolean(a&&a[R])}var T="function"==typeof Symbol&&Symbol.iterator,U="@@iterator",V=T||U,W=function(a){this.next=a};function X(a,b,c,d){var e=0===a?b:1===a?c:[b,c];return d?d.value=e:d={value:e,done:!1},d}function Y(){return{value:void 0,done:!0}}function Z(a){return!!Array.isArray(a)||!!aa(a)}function $(a){return a&&"function"==typeof a.next}function _(a){var b=aa(a);return b&&b.call(a)}function aa(a){var b=a&&(T&&a[T]||a[U]);if("function"==typeof b)return b}W.prototype.toString=function(){return"[Iterator]"},W.KEYS=0,W.VALUES=1,W.ENTRIES=2,W.prototype.inspect=W.prototype.toSource=function(){return this.toString()},W.prototype[V]=function(){return this};var ab=Object.prototype.hasOwnProperty;function ac(a){return!!Array.isArray(a)||"string"==typeof a||a&&"object"==typeof a&&Number.isInteger(a.length)&&a.length>=0&&(0===a.length?1===Object.keys(a).length:a.hasOwnProperty(a.length-1))}var ad=function(a){function b(a){return null==a?ak():Q(a)?a.toSeq():an(a)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.toSeq=function(){return this},b.prototype.toString=function(){return this.__toString("Seq {","}")},b.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},b.prototype.__iterate=function(a,b){var c=this._cache;if(c){for(var d=c.length,e=0;e!==d;){var f=c[b?d- ++e:e++];if(!1===a(f[1],f[0],this))break}return e}return this.__iterateUncached(a,b)},b.prototype.__iterator=function(a,b){var c=this._cache;if(c){var d=c.length,e=0;return new W(function(){if(e===d)return Y();var f=c[b?d- ++e:e++];return X(a,f[0],f[1])})}return this.__iteratorUncached(a,b)},b}(I),ae=function(a){function b(a){return null==a?ak().toKeyedSeq():C(a)?E(a)?a.toSeq():a.fromEntrySeq():P(a)?a.toSeq():al(a)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.toKeyedSeq=function(){return this},b}(ad),af=function(a){function b(a){return null==a?ak():C(a)?E(a)?a.entrySeq():a.toIndexedSeq():P(a)?a.toSeq().entrySeq():am(a)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.of=function(){return b(arguments)},b.prototype.toIndexedSeq=function(){return this},b.prototype.toString=function(){return this.__toString("Seq [","]")},b}(ad),ag=function(a){function b(a){return(C(a)&&!H(a)?a:af(a)).toSetSeq()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.of=function(){return b(arguments)},b.prototype.toSetSeq=function(){return this},b}(ad);ad.isSeq=N,ad.Keyed=ae,ad.Set=ag,ad.Indexed=af,ad.prototype[M]=!0;var ah=function(a){function b(a){this._array=a,this.size=a.length}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.get=function(a,b){return this.has(a)?this._array[u(this,a)]:b},b.prototype.__iterate=function(a,b){for(var c=this._array,d=c.length,e=0;e!==d;){var f=b?d- ++e:e++;if(!1===a(c[f],f,this))break}return e},b.prototype.__iterator=function(a,b){var c=this._array,d=c.length,e=0;return new W(function(){if(e===d)return Y();var f=b?d- ++e:e++;return X(a,f,c[f])})},b}(af),ai=function(a){function b(a){var b=Object.keys(a).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a):[]);this._object=a,this._keys=b,this.size=b.length}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.get=function(a,b){return void 0===b||this.has(a)?this._object[a]:b},b.prototype.has=function(a){return ab.call(this._object,a)},b.prototype.__iterate=function(a,b){for(var c=this._object,d=this._keys,e=d.length,f=0;f!==e;){var g=d[b?e- ++f:f++];if(!1===a(c[g],g,this))break}return f},b.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length,f=0;return new W(function(){if(f===e)return Y();var g=d[b?e- ++f:f++];return X(a,g,c[g])})},b}(ae);ai.prototype[R]=!0;var aj=function(a){function b(a){this._collection=a,this.size=a.length||a.size}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);var c,d=_(this._collection),e=0;if($(d))for(;!(c=d.next()).done&& !1!==a(c.value,e++,this););return e},b.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=_(this._collection);if(!$(c))return new W(Y);var d=0;return new W(function(){var b=c.next();return b.done?b:X(a,d++,b.value)})},b}(af);function ak(){return d||(d=new ah([]))}function al(a){var b=ao(a);if(b)return b.fromEntrySeq();if("object"==typeof a)return new ai(a);throw TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+a)}function am(a){var b=ao(a);if(b)return b;throw TypeError("Expected Array or collection object of values: "+a)}function an(a){var b,c,d,e,f=ao(a);if(f)return(c=aa(b=a))&&c===b.entries?f.fromEntrySeq():(e=aa(d=a))&&e===d.keys?f.toSetSeq():f;if("object"==typeof a)return new ai(a);throw TypeError("Expected Array or collection object of values, or keyed object: "+a)}function ao(a){return ac(a)?new ah(a):Z(a)?new aj(a):void 0}var ap="@@__IMMUTABLE_MAP__@@";function aq(a){return Boolean(a&&a[ap])}function ar(a){return aq(a)&&S(a)}function as(a){return Boolean(a&&"function"==typeof a.equals&&"function"==typeof a.hashCode)}function at(a,b){if(a===b||a!=a&&b!=b)return!0;if(!a||!b)return!1;if("function"==typeof a.valueOf&&"function"==typeof b.valueOf){if((a=a.valueOf())===(b=b.valueOf())||a!=a&&b!=b)return!0;if(!a||!b)return!1}return!!(as(a)&&as(b)&&a.equals(b))}var au="function"==typeof Math.imul&& -2===Math.imul(4294967295,2)?Math.imul:function(a,b){var c=65535&(a|=0),d=65535&(b|=0);return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function av(a){return a>>>1&1073741824|3221225471&a}var aw=Object.prototype.valueOf;function ax(a){if(null==a)return ay(a);if("function"==typeof a.hashCode)return av(a.hashCode(a));var b=aH(a);if(null==b)return ay(b);switch(typeof b){case"boolean":return b?1108378657:1108378656;case"number":return az(b);case"string":return b.length>aN?aA(b):aB(b);case"object":case"function":return aD(b);case"symbol":return aC(b);default:if("function"==typeof b.toString)return aB(b.toString());throw Error("Value type "+typeof b+" cannot be hashed.")}}function ay(a){return null===a?1108378658:1108378659}function az(a){if(a!=a||a===1/0)return 0;var b=0|a;for(b!==a&&(b^=4294967295*a);a>4294967295;)a/=4294967295,b^=a;return av(b)}function aA(a){var b=aQ[a];return void 0===b&&(b=aB(a),aP===aO&&(aP=0,aQ={}),aP++,aQ[a]=b),b}function aB(a){for(var b=0,c=0;c<a.length;c++)b=31*b+a.charCodeAt(c)|0;return av(b)}function aC(a){var b=aK[a];return void 0!==b||(b=aI(),aK[a]=b),b}function aD(a){var b;if(aJ&& void 0!==(b=e.get(a))|| void 0!==(b=a[aM])|| !aF&&(void 0!==(b=a.propertyIsEnumerable&&a.propertyIsEnumerable[aM])|| void 0!==(b=aG(a))))return b;if(b=aI(),aJ)e.set(a,b);else if(void 0!==aE&& !1===aE(a))throw Error("Non-extensible objects are not allowed as keys.");else if(aF)Object.defineProperty(a,aM,{enumerable:!1,configurable:!1,writable:!1,value:b});else if(void 0!==a.propertyIsEnumerable&&a.propertyIsEnumerable===a.constructor.prototype.propertyIsEnumerable)a.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},a.propertyIsEnumerable[aM]=b;else if(void 0!==a.nodeType)a[aM]=b;else throw Error("Unable to set a non-enumerable property on object.");return b}var aE=Object.isExtensible,aF=function(){try{return Object.defineProperty({},"@",{}),!0}catch(a){return!1}}();function aG(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}function aH(a){return a.valueOf!==aw&&"function"==typeof a.valueOf?a.valueOf(a):a}function aI(){var a=++aL;return 1073741824&aL&&(aL=0),a}var aJ="function"==typeof WeakMap;aJ&&(e=new WeakMap);var aK=Object.create(null),aL=0,aM="__immutablehash__";"function"==typeof Symbol&&(aM=Symbol(aM));var aN=16,aO=255,aP=0,aQ={},aR=function(a){function b(a,b){this._iter=a,this._useKeys=b,this.size=a.size}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.get=function(a,b){return this._iter.get(a,b)},b.prototype.has=function(a){return this._iter.has(a)},b.prototype.valueSeq=function(){return this._iter.valueSeq()},b.prototype.reverse=function(){var a=this,b=aX(this,!0);return this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()}),b},b.prototype.map=function(a,b){var c=this,d=aW(this,a,b);return this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)}),d},b.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b,d){return a(b,d,c)},b)},b.prototype.__iterator=function(a,b){return this._iter.__iterator(a,b)},b}(ae);aR.prototype[R]=!0;var aS=function(a){function b(a){this._iter=a,this.size=a.size}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.includes=function(a){return this._iter.includes(a)},b.prototype.__iterate=function(a,b){var c=this,d=0;return b&&t(this),this._iter.__iterate(function(e){return a(e,b?c.size- ++d:d++,c)},b)},b.prototype.__iterator=function(a,b){var c=this,d=this._iter.__iterator(1,b),e=0;return b&&t(this),new W(function(){var f=d.next();return f.done?f:X(a,b?c.size- ++e:e++,f.value,f)})},b}(af),aT=function(a){function b(a){this._iter=a,this.size=a.size}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.has=function(a){return this._iter.includes(a)},b.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)},b.prototype.__iterator=function(a,b){var c=this._iter.__iterator(1,b);return new W(function(){var b=c.next();return b.done?b:X(a,b.value,b.value,b)})},b}(ag),aU=function(a){function b(a){this._iter=a,this.size=a.size}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.entrySeq=function(){return this._iter.toSeq()},b.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){a5(b);var d=C(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)},b.prototype.__iterator=function(a,b){var c=this._iter.__iterator(1,b);return new W(function(){for(;;){var b=c.next();if(b.done)return b;var d=b.value;if(d){a5(d);var e=C(d);return X(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})},b}(ae);function aV(a){var b=a7(a);return b._iter=a,b.size=a.size,b.flip=function(){return a},b.reverse=function(){var b=a.reverse.apply(this);return b.flip=function(){return a.reverse()},b},b.has=function(b){return a.includes(b)},b.includes=function(b){return a.has(b)},b.cacheResult=a8,b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return!1!==b(c,a,d)},c)},b.__iteratorUncached=function(b,c){if(2===b){var d=a.__iterator(b,c);return new W(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1],a.value[1]=b}return a})}return a.__iterator(1===b?0:1,c)},b}function aW(a,b,c){var d=a7(a);return d.size=a.size,d.has=function(b){return a.has(b)},d.get=function(d,e){var f=a.get(d,p);return f===p?e:b.call(c,f,d,a)},d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return!1!==d(b.call(c,a,e,g),e,f)},e)},d.__iteratorUncached=function(d,e){var f=a.__iterator(2,e);return new W(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return X(d,h,b.call(c,g[1],h,a),e)})},d}function aX(a,b){var c=this,d=a7(a);return d._iter=a,d.size=a.size,d.reverse=function(){return a},a.flip&&(d.flip=function(){var b=aV(a);return b.reverse=function(){return a.flip()},b}),d.get=function(c,d){return a.get(b?c:-1-c,d)},d.has=function(c){return a.has(b?c:-1-c)},d.includes=function(b){return a.includes(b)},d.cacheResult=a8,d.__iterate=function(c,d){var e=this,f=0;return d&&t(a),a.__iterate(function(a,g){return c(a,b?g:d?e.size- ++f:f++,e)},!d)},d.__iterator=function(d,e){var f=0;e&&t(a);var g=a.__iterator(2,!e);return new W(function(){var a=g.next();if(a.done)return a;var h=a.value;return X(d,b?h[0]:e?c.size- ++f:f++,h[1],a)})},d}function aY(a,b,c,d){var e=a7(a);return d&&(e.has=function(d){var e=a.get(d,p);return e!==p&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,p);return f!==p&&b.call(c,f,d,a)?f:e}),e.__iterateUncached=function(e,f){var g=this,h=0;return a.__iterate(function(a,f,i){if(b.call(c,a,f,i))return h++,e(a,d?f:h-1,g)},f),h},e.__iteratorUncached=function(e,f){var g=a.__iterator(2,f),h=0;return new W(function(){for(;;){var f=g.next();if(f.done)return f;var i=f.value,j=i[0],k=i[1];if(b.call(c,k,j,a))return X(e,d?j:h++,k,f)}})},e}function aZ(a,b,c,d){var e,f=a.size;if(w(b,c,f))return a;var g=x(b,f),h=y(c,f);if(g!=g||h!=h)return aZ(a.toSeq().cacheResult(),b,c,d);var i=h-g;i==i&&(e=i<0?0:i);var j=a7(a);return j.size=0===e?e:a.size&&e||void 0,!d&&N(a)&&e>=0&&(j.get=function(b,c){return(b=u(this,b))>=0&&b<e?a.get(b+g,c):c}),j.__iterateUncached=function(b,c){var f=this;if(0===e)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;return a.__iterate(function(a,c){if(!(i&&(i=(h++)<g)))return j++,!1!==b(a,d?c:j-1,f)&&j!==e}),j},j.__iteratorUncached=function(b,c){if(0!==e&&c)return this.cacheResult().__iterator(b,c);if(0===e)return new W(Y);var f=a.__iterator(b,c),h=0,i=0;return new W(function(){for(;(h++)<g;)f.next();if(++i>e)return Y();var a=f.next();return d||1===b||a.done?a:0===b?X(b,i-1,void 0,a):X(b,i-1,a.value[1],a)})},j}function a$(a,b,c,d){var e=a7(a);return e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;return a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j))))return i++,e(a,d?f:i-1,g)}),i},e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(2,f),i=!0,j=0;return new W(function(){do{if((a=h.next()).done){if(d||1===e)return a;if(0===e)return X(e,j++,void 0,a);return X(e,j++,a.value[1],a)}var a,f,k,l=a.value;f=l[0],k=l[1],i&&(i=b.call(c,k,f,g))}while(i);return 2===e?a:X(e,f,k,a)})},e}function a_(a,b,c){var d=a7(a);return d.__iterateUncached=function(e,f){if(f)return this.cacheResult().__iterate(e,f);var g=0,h=!1;function i(a,j){a.__iterate(function(a,f){return(!b||j<b)&&C(a)?i(a,j+1):(g++,!1===e(a,c?f:g-1,d)&&(h=!0)),!h},f)}return i(a,0),g},d.__iteratorUncached=function(d,e){if(e)return this.cacheResult().__iterator(d,e);var f=a.__iterator(d,e),g=[],h=0;return new W(function(){for(;f;){var a=f.next();if(!1!==a.done){f=g.pop();continue}var i=a.value;if(2===d&&(i=i[1]),!((!b||g.length<b)&&C(i)))return c?a:X(d,h++,i,a);g.push(f),f=i.__iterator(d,e)}return Y()})},d}function a0(a,b,c){b||(b=a9);var d=E(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).valueSeq().toArray();return f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]}),d?ae(f):G(a)?af(f):ag(f)}function a1(a,b,c){if(b||(b=a9),c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return a2(b,a[1],c[1])?c:a});return d&&d[0]}return a.reduce(function(a,c){return a2(b,a,c)?c:a})}function a2(a,b,c){var d=a(c,b);return 0===d&&c!==b&&(null==c||c!=c)||d>0}function a3(a,b,c,d){var e=a7(a),f=new ah(c).map(function(a){return a.size});return e.size=d?f.max():f.min(),e.__iterate=function(a,b){for(var c,d=this.__iterator(1,b),e=0;!(c=d.next()).done&& !1!==a(c.value,e++,this););return e},e.__iteratorUncached=function(a,e){var f=c.map(function(a){return a=I(a),_(e?a.reverse():a)}),g=0,h=!1;return new W(function(){var c;return(h||(c=f.map(function(a){return a.next()}),h=d?c.every(function(a){return a.done}):c.some(function(a){return a.done})),h)?Y():X(a,g++,b.apply(null,c.map(function(a){return a.value})))})},e}function a4(a,b){return a===b?a:N(a)?b:a.constructor(b)}function a5(a){if(a!==Object(a))throw TypeError("Expected [K, V] tuple: "+a)}function a6(a){return E(a)?J:G(a)?K:L}function a7(a){return Object.create((E(a)?ae:G(a)?af:ag).prototype)}function a8(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ad.prototype.cacheResult.call(this)}function a9(a,b){return void 0===a&& void 0===b?0:void 0===a?1:void 0===b?-1:a>b?1:a<b?-1:0}function ba(a,b){b=b||0;for(var c=Math.max(0,a.length-b),d=Array(c),e=0;e<c;e++)d[e]=a[e+b];return d}function bb(a,b){if(!a)throw Error(b)}function bc(a){bb(a!==1/0,"Cannot perform this action with an infinite size.")}function bd(a){if(ac(a)&&"string"!=typeof a)return a;if(S(a))return a.toArray();throw TypeError("Invalid keyPath: expected Ordered Collection or Array: "+a)}aS.prototype.cacheResult=aR.prototype.cacheResult=aT.prototype.cacheResult=aU.prototype.cacheResult=a8;var be=Object.prototype.toString;function bf(a){if(!a||"object"!=typeof a||"[object Object]"!==be.call(a))return!1;var b=Object.getPrototypeOf(a);if(null===b)return!0;for(var c=b,d=Object.getPrototypeOf(b);null!==d;)d=Object.getPrototypeOf(c=d);return c===b}function bg(a){return"object"==typeof a&&(Q(a)||Array.isArray(a)||bf(a))}function bh(a){try{return"string"==typeof a?JSON.stringify(a):String(a)}catch(b){return JSON.stringify(a)}}function bi(a,b){return Q(a)?a.has(b):bg(a)&&ab.call(a,b)}function bj(a,b,c){return Q(a)?a.get(b,c):bi(a,b)?"function"==typeof a.get?a.get(b):a[b]:c}function bk(a){if(Array.isArray(a))return ba(a);var b={};for(var c in a)ab.call(a,c)&&(b[c]=a[c]);return b}function bl(a,b){if(!bg(a))throw TypeError("Cannot update non-data-structure value: "+a);if(Q(a)){if(!a.remove)throw TypeError("Cannot update immutable value without .remove() method: "+a);return a.remove(b)}if(!ab.call(a,b))return a;var c=bk(a);return Array.isArray(c)?c.splice(b,1):delete c[b],c}function bm(a,b,c){if(!bg(a))throw TypeError("Cannot update non-data-structure value: "+a);if(Q(a)){if(!a.set)throw TypeError("Cannot update immutable value without .set() method: "+a);return a.set(b,c)}if(ab.call(a,b)&&c===a[b])return a;var d=bk(a);return d[b]=c,d}function bn(a,b,c,d){d||(d=c,c=void 0);var e=bo(Q(a),a,bd(b),0,c,d);return e===p?c:e}function bo(a,b,c,d,e,f){var g=b===p;if(d===c.length){var h=g?e:b,i=f(h);return i===h?b:i}if(!g&&!bg(b))throw TypeError("Cannot update within non-data-structure value in path ["+c.slice(0,d).map(bh)+"]: "+b);var j=c[d],k=g?p:bj(b,j,p),l=bo(k===p?a:Q(k),k,c,d+1,e,f);return l===k?b:l===p?bl(b,j):bm(g?a?b$():{}:b,j,l)}function bp(a,b,c){return bn(a,b,p,function(){return c})}function bq(a,b){return bp(this,a,b)}function br(a,b){return bn(a,b,function(){return p})}function bs(a){return br(this,a)}function bt(a,b,c,d){return bn(a,[b],c,d)}function bu(a,b,c){return 1===arguments.length?a(this):bt(this,a,b,c)}function bv(a,b,c){return bn(this,a,b,c)}function bw(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return by(this,a)}function bx(a){for(var b=[],c=arguments.length-1;c-- >0;)b[c]=arguments[c+1];if("function"!=typeof a)throw TypeError("Invalid merger function: "+a);return by(this,b,a)}function by(a,b,c){for(var d=[],e=0;e<b.length;e++){var f=J(b[e]);0!==f.size&&d.push(f)}return 0===d.length?a:0!==a.toSeq().size||a.__ownerID||1!==d.length?a.withMutations(function(a){for(var b=c?function(b,d){bt(a,d,p,function(a){return a===p?b:c(a,b,d)})}:function(b,c){a.set(c,b)},e=0;e<d.length;e++)d[e].forEach(b)}):a.constructor(d[0])}function bz(a){for(var b=[],c=arguments.length-1;c-- >0;)b[c]=arguments[c+1];return bE(a,b)}function bA(a,b){for(var c=[],d=arguments.length-2;d-- >0;)c[d]=arguments[d+2];return bE(b,c,a)}function bB(a){for(var b=[],c=arguments.length-1;c-- >0;)b[c]=arguments[c+1];return bD(a,b)}function bC(a,b){for(var c=[],d=arguments.length-2;d-- >0;)c[d]=arguments[d+2];return bD(b,c,a)}function bD(a,b,c){return bE(a,b,bF(c))}function bE(a,b,c){if(!bg(a))throw TypeError("Cannot merge into non-data-structure value: "+a);if(Q(a))return"function"==typeof c&&a.mergeWith?a.mergeWith.apply(a,[c].concat(b)):a.merge?a.merge.apply(a,b):a.concat.apply(a,b);for(var d=Array.isArray(a),e=a,f=d?K:J,g=d?function(b){e===a&&(e=bk(e)),e.push(b)}:function(b,d){var f=ab.call(e,d),g=f&&c?c(e[d],b,d):b;f&&g===e[d]||(e===a&&(e=bk(e)),e[d]=g)},h=0;h<b.length;h++)f(b[h]).forEach(g);return e}function bF(a){function b(c,d,e){return bg(c)&&bg(d)&&bG(c,d)?bE(c,[d],b):a?a(c,d,e):d}return b}function bG(a,b){var c=ad(a),d=ad(b);return G(c)===G(d)&&E(c)===E(d)}function bH(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return bD(this,a)}function bI(a){for(var b=[],c=arguments.length-1;c-- >0;)b[c]=arguments[c+1];return bD(this,b,a)}function bJ(a){for(var b=[],c=arguments.length-1;c-- >0;)b[c]=arguments[c+1];return bn(this,a,b$(),function(a){return bE(a,b)})}function bK(a){for(var b=[],c=arguments.length-1;c-- >0;)b[c]=arguments[c+1];return bn(this,a,b$(),function(a){return bD(a,b)})}function bL(a){var b=this.asMutable();return a(b),b.wasAltered()?b.__ensureOwner(this.__ownerID):this}function bM(){return this.__ownerID?this:this.__ensureOwner(new s)}function bN(){return this.__ensureOwner()}function bO(){return this.__altered}var bP=function(a){function b(b){return null==b?b$():aq(b)&&!S(b)?b:b$().withMutations(function(c){var d=a(b);bc(d.size),d.forEach(function(a,b){return c.set(b,a)})})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.of=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return b$().withMutations(function(b){for(var c=0;c<a.length;c+=2){if(c+1>=a.length)throw Error("Missing value for key: "+a[c]);b.set(a[c],a[c+1])}})},b.prototype.toString=function(){return this.__toString("Map {","}")},b.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b},b.prototype.set=function(a,b){return b_(this,a,b)},b.prototype.remove=function(a){return b_(this,a,p)},b.prototype.deleteAll=function(a){var b=I(a);return 0===b.size?this:this.withMutations(function(a){b.forEach(function(b){return a.remove(b)})})},b.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):b$()},b.prototype.sort=function(a){return cs(a0(this,a))},b.prototype.sortBy=function(a,b){return cs(a0(this,b,a))},b.prototype.map=function(a,b){var c=this;return this.withMutations(function(d){d.forEach(function(e,f){d.set(f,a.call(b,e,f,c))})})},b.prototype.__iterator=function(a,b){return new bW(this,a,b)},b.prototype.__iterate=function(a,b){var c=this,d=0;return this._root&&this._root.iterate(function(b){return d++,a(b[1],b[0],c)},b),d},b.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?bZ(this.size,this._root,a,this.__hash):0===this.size?b$():(this.__ownerID=a,this.__altered=!1,this)},b}(J);bP.isMap=aq;var bQ=bP.prototype;bQ[ap]=!0,bQ[n]=bQ.remove,bQ.removeAll=bQ.deleteAll,bQ.setIn=bq,bQ.removeIn=bQ.deleteIn=bs,bQ.update=bu,bQ.updateIn=bv,bQ.merge=bQ.concat=bw,bQ.mergeWith=bx,bQ.mergeDeep=bH,bQ.mergeDeepWith=bI,bQ.mergeIn=bJ,bQ.mergeDeepIn=bK,bQ.withMutations=bL,bQ.wasAltered=bO,bQ.asImmutable=bN,bQ["@@transducer/init"]=bQ.asMutable=bM,bQ["@@transducer/step"]=function(a,b){return a.set(b[0],b[1])},bQ["@@transducer/result"]=function(a){return a.asImmutable()};var bR=function(a,b){this.ownerID=a,this.entries=b};bR.prototype.get=function(a,b,c,d){for(var e=this.entries,f=0,g=e.length;f<g;f++)if(at(c,e[f][0]))return e[f][1];return d},bR.prototype.update=function(a,b,c,d,e,f,g){for(var h=e===p,i=this.entries,j=0,k=i.length;j<k&&!at(d,i[j][0]);j++);var l=j<k;if(l?i[j][1]===e:h)return this;if(r(g),(h||!l)&&r(f),!h||1!==i.length){if(!l&&!h&&i.length>=ca)return b3(a,i,d,e);var m=a&&a===this.ownerID,n=m?i:ba(i);return(l?h?j===k-1?n.pop():n[j]=n.pop():n[j]=[d,e]:n.push([d,e]),m)?(this.entries=n,this):new bR(a,n)}};var bS=function(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c};bS.prototype.get=function(a,b,c,d){void 0===b&&(b=ax(c));var e=1<<((0===a?b:b>>>a)&o),f=this.bitmap;return(f&e)==0?d:this.nodes[b6(f&e-1)].get(a+5,b,c,d)},bS.prototype.update=function(a,b,c,d,e,f,g){void 0===c&&(c=ax(d));var h=(0===b?c:c>>>b)&o,i=1<<h,j=this.bitmap,k=(j&i)!=0;if(!k&&e===p)return this;var l=b6(j&i-1),m=this.nodes,n=k?m[l]:void 0,q=b0(n,a,b+5,c,d,e,f,g);if(q===n)return this;if(!k&&q&&m.length>=cb)return b5(a,m,j,h,q);if(k&&!q&&2===m.length&&b1(m[1^l]))return m[1^l];if(k&&q&&1===m.length&&b1(q))return q;var r=a&&a===this.ownerID,s=k?q?j:j^i:j|i,t=k?q?b7(m,l,q,r):b9(m,l,r):b8(m,l,q,r);return r?(this.bitmap=s,this.nodes=t,this):new bS(a,s,t)};var bT=function(a,b,c){this.ownerID=a,this.count=b,this.nodes=c};bT.prototype.get=function(a,b,c,d){void 0===b&&(b=ax(c));var e=(0===a?b:b>>>a)&o,f=this.nodes[e];return f?f.get(a+5,b,c,d):d},bT.prototype.update=function(a,b,c,d,e,f,g){void 0===c&&(c=ax(d));var h=(0===b?c:c>>>b)&o,i=this.nodes,j=i[h];if(e===p&&!j)return this;var k=b0(j,a,b+5,c,d,e,f,g);if(k===j)return this;var l=this.count;if(j){if(!k&& --l<cc)return b4(a,i,l,h)}else l++;var m=a&&a===this.ownerID,n=b7(i,h,k,m);return m?(this.count=l,this.nodes=n,this):new bT(a,l,n)};var bU=function(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c};bU.prototype.get=function(a,b,c,d){for(var e=this.entries,f=0,g=e.length;f<g;f++)if(at(c,e[f][0]))return e[f][1];return d},bU.prototype.update=function(a,b,c,d,e,f,g){void 0===c&&(c=ax(d));var h=e===p;if(c!==this.keyHash)return h?this:(r(g),r(f),b2(this,a,b,c,[d,e]));for(var i=this.entries,j=0,k=i.length;j<k&&!at(d,i[j][0]);j++);var l=j<k;if(l?i[j][1]===e:h)return this;if(r(g),(h||!l)&&r(f),h&&2===k)return new bV(a,this.keyHash,i[1^j]);var m=a&&a===this.ownerID,n=m?i:ba(i);return(l?h?j===k-1?n.pop():n[j]=n.pop():n[j]=[d,e]:n.push([d,e]),m)?(this.entries=n,this):new bU(a,this.keyHash,n)};var bV=function(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c};bV.prototype.get=function(a,b,c,d){return at(c,this.entry[0])?this.entry[1]:d},bV.prototype.update=function(a,b,c,d,e,f,g){var h=e===p,i=at(d,this.entry[0]);if(i?e===this.entry[1]:h)return this;if(r(g),h){r(f);return}return i?a&&a===this.ownerID?(this.entry[1]=e,this):new bV(a,this.keyHash,[d,e]):(r(f),b2(this,a,b,ax(d),[d,e]))},bR.prototype.iterate=bU.prototype.iterate=function(a,b){for(var c=this.entries,d=0,e=c.length-1;d<=e;d++)if(!1===a(c[b?e-d:d]))return!1},bS.prototype.iterate=bT.prototype.iterate=function(a,b){for(var c=this.nodes,d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&& !1===f.iterate(a,b))return!1}},bV.prototype.iterate=function(a,b){return a(this.entry)};var bW=function(a){function b(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&bY(a._root)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.next=function(){for(var a=this._type,b=this._stack;b;){var c=b.node,d=b.index++,e=void 0;if(c.entry){if(0===d)return bX(a,c.entry)}else if(c.entries){if(d<=(e=c.entries.length-1))return bX(a,c.entries[this._reverse?e-d:d])}else if(d<=(e=c.nodes.length-1)){var f=c.nodes[this._reverse?e-d:d];if(f){if(f.entry)return bX(a,f.entry);b=this._stack=bY(f,b)}continue}b=this._stack=this._stack.__prev}return Y()},b}(W);function bX(a,b){return X(a,b[0],b[1])}function bY(a,b){return{node:a,index:0,__prev:b}}function bZ(a,b,c,d){var e=Object.create(bQ);return e.size=a,e._root=b,e.__ownerID=c,e.__hash=d,e.__altered=!1,e}function b$(){return f||(f=bZ(0))}function b_(a,b,c){if(a._root){var d,e,f=q(),g=q();if(d=b0(a._root,a.__ownerID,0,void 0,b,c,f,g),!g.value)return a;e=a.size+(f.value?c===p?-1:1:0)}else{if(c===p)return a;e=1,d=new bR(a.__ownerID,[[b,c]])}return a.__ownerID?(a.size=e,a._root=d,a.__hash=void 0,a.__altered=!0,a):d?bZ(e,d):b$()}function b0(a,b,c,d,e,f,g,h){return a?a.update(b,c,d,e,f,g,h):f===p?a:(r(h),r(g),new bV(b,d,[e,f]))}function b1(a){return a.constructor===bV||a.constructor===bU}function b2(a,b,c,d,e){if(a.keyHash===d)return new bU(b,d,[a.entry,e]);var f,g=(0===c?a.keyHash:a.keyHash>>>c)&o,h=(0===c?d:d>>>c)&o,i=g===h?[b2(a,b,c+5,d,e)]:(f=new bV(b,d,e),g<h?[a,f]:[f,a]);return new bS(b,1<<g|1<<h,i)}function b3(a,b,c,d){a||(a=new s);for(var e=new bV(a,ax(c),[c,d]),f=0;f<b.length;f++){var g=b[f];e=e.update(a,0,void 0,g[0],g[1])}return e}function b4(a,b,c,d){for(var e=0,f=0,g=Array(c),h=0,i=1,j=b.length;h<j;h++,i<<=1){var k=b[h];void 0!==k&&h!==d&&(e|=i,g[f++]=k)}return new bS(a,e,g)}function b5(a,b,c,d,e){for(var f=0,g=Array(32),h=0;0!==c;h++,c>>>=1)g[h]=1&c?b[f++]:void 0;return g[d]=e,new bT(a,f+1,g)}function b6(a){return a-=a>>1&1431655765,a=(a=(858993459&a)+(a>>2&858993459))+(a>>4)&252645135,a+=a>>8,127&(a+=a>>16)}function b7(a,b,c,d){var e=d?a:ba(a);return e[b]=c,e}function b8(a,b,c,d){var e=a.length+1;if(d&&b+1===e)return a[b]=c,a;for(var f=Array(e),g=0,h=0;h<e;h++)h===b?(f[h]=c,g=-1):f[h]=a[h+g];return f}function b9(a,b,c){var d=a.length-1;if(c&&b===d)return a.pop(),a;for(var e=Array(d),f=0,g=0;g<d;g++)g===b&&(f=1),e[g]=a[g+f];return e}var ca=8,cb=16,cc=8,cd="@@__IMMUTABLE_LIST__@@";function ce(a){return Boolean(a&&a[cd])}var cf=function(a){function b(b){var c=cl();if(null==b)return c;if(ce(b))return b;var d=a(b),e=d.size;return 0===e?c:(bc(e),e>0&&e<32)?ck(0,e,5,null,new ch(d.toArray())):c.withMutations(function(a){a.setSize(e),d.forEach(function(b,c){return a.set(c,b)})})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.of=function(){return this(arguments)},b.prototype.toString=function(){return this.__toString("List [","]")},b.prototype.get=function(a,b){if((a=u(this,a))>=0&&a<this.size){var c=cp(this,a+=this._origin);return c&&c.array[a&o]}return b},b.prototype.set=function(a,b){return cm(this,a,b)},b.prototype.remove=function(a){return this.has(a)?0===a?this.shift():a===this.size-1?this.pop():this.splice(a,1):this},b.prototype.insert=function(a,b){return this.splice(a,0,b)},b.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):cl()},b.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){cq(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})},b.prototype.pop=function(){return cq(this,0,-1)},b.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){cq(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})},b.prototype.shift=function(){return cq(this,1)},b.prototype.concat=function(){for(var b=arguments,c=[],d=0;d<arguments.length;d++){var e=b[d],f=a("string"!=typeof e&&Z(e)?e:[e]);0!==f.size&&c.push(f)}return 0===c.length?this:0!==this.size||this.__ownerID||1!==c.length?this.withMutations(function(a){c.forEach(function(b){return b.forEach(function(b){return a.push(b)})})}):this.constructor(c[0])},b.prototype.setSize=function(a){return cq(this,0,a)},b.prototype.map=function(a,b){var c=this;return this.withMutations(function(d){for(var e=0;e<c.size;e++)d.set(e,a.call(b,d.get(e),e,c))})},b.prototype.slice=function(a,b){var c=this.size;return w(a,b,c)?this:cq(this,x(a,c),y(b,c))},b.prototype.__iterator=function(a,b){var c=b?this.size:0,d=cj(this,b);return new W(function(){var e=d();return e===ci?Y():X(a,b?--c:c++,e)})},b.prototype.__iterate=function(a,b){for(var c,d=b?this.size:0,e=cj(this,b);(c=e())!==ci&& !1!==a(c,b?--d:d++,this););return d},b.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?ck(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash):0===this.size?cl():(this.__ownerID=a,this.__altered=!1,this)},b}(K);cf.isList=ce;var cg=cf.prototype;cg[cd]=!0,cg[n]=cg.remove,cg.merge=cg.concat,cg.setIn=bq,cg.deleteIn=cg.removeIn=bs,cg.update=bu,cg.updateIn=bv,cg.mergeIn=bJ,cg.mergeDeepIn=bK,cg.withMutations=bL,cg.wasAltered=bO,cg.asImmutable=bN,cg["@@transducer/init"]=cg.asMutable=bM,cg["@@transducer/step"]=function(a,b){return a.push(b)},cg["@@transducer/result"]=function(a){return a.asImmutable()};var ch=function(a,b){this.array=a,this.ownerID=b};ch.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:0===this.array.length)return this;var d,e=c>>>b&o;if(e>=this.array.length)return new ch([],a);var f=0===e;if(b>0){var g=this.array[e];if((d=g&&g.removeBefore(a,b-5,c))===g&&f)return this}if(f&&!d)return this;var h=co(this,a);if(!f)for(var i=0;i<e;i++)h.array[i]=void 0;return d&&(h.array[e]=d),h},ch.prototype.removeAfter=function(a,b,c){if(c===(b?1<<b:0)||0===this.array.length)return this;var d,e=c-1>>>b&o;if(e>=this.array.length)return this;if(b>0){var f=this.array[e];if((d=f&&f.removeAfter(a,b-5,c))===f&&e===this.array.length-1)return this}var g=co(this,a);return g.array.splice(e+1),d&&(g.array[e]=d),g};var ci={};function cj(a,b){var c=a._origin,d=a._capacity,e=cr(d),f=a._tail;return g(a._root,a._level,0);function g(a,b,c){return 0===b?h(a,c):i(a,b,c)}function h(a,g){var h=g===e?f&&f.array:a&&a.array,i=g>c?0:c-g,j=d-g;return j>32&&(j=32),function(){if(i===j)return ci;var a=b?--j:i++;return h&&h[a]}}function i(a,e,f){var h,i=a&&a.array,j=f>c?0:c-f>>e,k=(d-f>>e)+1;return k>32&&(k=32),function(){for(;;){if(h){var a=h();if(a!==ci)return a;h=null}if(j===k)return ci;var c=b?--k:j++;h=g(i&&i[c],e-5,f+(c<<e))}}}}function ck(a,b,c,d,e,f,g){var h=Object.create(cg);return h.size=b-a,h._origin=a,h._capacity=b,h._level=c,h._root=d,h._tail=e,h.__ownerID=f,h.__hash=g,h.__altered=!1,h}function cl(){return g||(g=ck(0,0,5))}function cm(a,b,c){if((b=u(a,b))!=b)return a;if(b>=a.size||b<0)return a.withMutations(function(a){b<0?cq(a,b).set(0,c):cq(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=q();return(b>=cr(a._capacity)?d=cn(d,a.__ownerID,0,b,c,f):e=cn(e,a.__ownerID,a._level,b,c,f),f.value)?a.__ownerID?(a._root=e,a._tail=d,a.__hash=void 0,a.__altered=!0,a):ck(a._origin,a._capacity,a._level,e,d):a}function cn(a,b,c,d,e,f){var g,h=d>>>c&o,i=a&&h<a.array.length;if(!i&& void 0===e)return a;if(c>0){var j=a&&a.array[h],k=cn(j,b,c-5,d,e,f);return k===j?a:((g=co(a,b)).array[h]=k,g)}return i&&a.array[h]===e?a:(f&&r(f),g=co(a,b),void 0===e&&h===g.array.length-1?g.array.pop():g.array[h]=e,g)}function co(a,b){return b&&a&&b===a.ownerID?a:new ch(a?a.array.slice():[],b)}function cp(a,b){if(b>=cr(a._capacity))return a._tail;if(b<1<<a._level+5){for(var c=a._root,d=a._level;c&&d>0;)c=c.array[b>>>d&o],d-=5;return c}}function cq(a,b,c){void 0!==b&&(b|=0),void 0!==c&&(c|=0);var d=a.__ownerID||new s,e=a._origin,f=a._capacity,g=e+b,h=void 0===c?f:c<0?f+c:e+c;if(g===e&&h===f)return a;if(g>=h)return a.clear();for(var i=a._level,j=a._root,k=0;g+k<0;)j=new ch(j&&j.array.length?[void 0,j]:[],d),i+=5,k+=1<<i;k&&(g+=k,e+=k,h+=k,f+=k);for(var l=cr(f),m=cr(h);m>=1<<i+5;)j=new ch(j&&j.array.length?[j]:[],d),i+=5;var n=a._tail,p=m<l?cp(a,h-1):m>l?new ch([],d):n;if(n&&m>l&&g<f&&n.array.length){for(var q=j=co(j,d),r=i;r>5;r-=5){var t=l>>>r&o;q=q.array[t]=co(q.array[t],d)}q.array[l>>>5&o]=n}if(h<f&&(p=p&&p.removeAfter(d,0,h)),g>=m)g-=m,h-=m,i=5,j=null,p=p&&p.removeBefore(d,0,g);else if(g>e||m<l){for(k=0;j;){var u=g>>>i&o;if(u!==m>>>i&o)break;u&&(k+=(1<<i)*u),i-=5,j=j.array[u]}j&&g>e&&(j=j.removeBefore(d,i,g-k)),j&&m<l&&(j=j.removeAfter(d,i,m-k)),k&&(g-=k,h-=k)}return a.__ownerID?(a.size=h-g,a._origin=g,a._capacity=h,a._level=i,a._root=j,a._tail=p,a.__hash=void 0,a.__altered=!0,a):ck(g,h,i,j,p)}function cr(a){return a<32?0:a-1>>>5<<5}var cs=function(a){function b(a){return null==a?cu():ar(a)?a:cu().withMutations(function(b){var c=J(a);bc(c.size),c.forEach(function(a,c){return b.set(c,a)})})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.of=function(){return this(arguments)},b.prototype.toString=function(){return this.__toString("OrderedMap {","}")},b.prototype.get=function(a,b){var c=this._map.get(a);return void 0!==c?this._list.get(c)[1]:b},b.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):cu()},b.prototype.set=function(a,b){return cv(this,a,b)},b.prototype.remove=function(a){return cv(this,a,p)},b.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)},b.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)},b.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);return a?ct(b,c,a,this.__hash):0===this.size?cu():(this.__ownerID=a,this.__altered=!1,this._map=b,this._list=c,this)},b}(bP);function ct(a,b,c,d){var e=Object.create(cs.prototype);return e.size=a?a.size:0,e._map=a,e._list=b,e.__ownerID=c,e.__hash=d,e.__altered=!1,e}function cu(){return h||(h=ct(b$(),cl()))}function cv(a,b,c){var d,e,f=a._map,g=a._list,h=f.get(b),i=void 0!==h;if(c===p){if(!i)return a;g.size>=32&&g.size>=2*f.size?(d=(e=g.filter(function(a,b){return void 0!==a&&h!==b})).toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(d.__ownerID=e.__ownerID=a.__ownerID)):(d=f.remove(b),e=h===g.size-1?g.pop():g.set(h,void 0))}else if(i){if(c===g.get(h)[1])return a;d=f,e=g.set(h,[b,c])}else d=f.set(b,g.size),e=g.set(g.size,[b,c]);return a.__ownerID?(a.size=d.size,a._map=d,a._list=e,a.__hash=void 0,a.__altered=!0,a):ct(d,e)}cs.isOrderedMap=ar,cs.prototype[R]=!0,cs.prototype[n]=cs.prototype.remove;var cw="@@__IMMUTABLE_STACK__@@";function cx(a){return Boolean(a&&a[cw])}var cy=function(a){function b(a){return null==a?cB():cx(a)?a:cB().pushAll(a)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.of=function(){return this(arguments)},b.prototype.toString=function(){return this.__toString("Stack [","]")},b.prototype.get=function(a,b){var c=this._head;for(a=u(this,a);c&&a--;)c=c.next;return c?c.value:b},b.prototype.peek=function(){return this._head&&this._head.value},b.prototype.push=function(){var a=arguments;if(0===arguments.length)return this;for(var b=this.size+arguments.length,c=this._head,d=arguments.length-1;d>=0;d--)c={value:a[d],next:c};return this.__ownerID?(this.size=b,this._head=c,this.__hash=void 0,this.__altered=!0,this):cA(b,c)},b.prototype.pushAll=function(b){if(0===(b=a(b)).size)return this;if(0===this.size&&cx(b))return b;bc(b.size);var c=this.size,d=this._head;return(b.__iterate(function(a){c++,d={value:a,next:d}},!0),this.__ownerID)?(this.size=c,this._head=d,this.__hash=void 0,this.__altered=!0,this):cA(c,d)},b.prototype.pop=function(){return this.slice(1)},b.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):cB()},b.prototype.slice=function(b,c){if(w(b,c,this.size))return this;var d=x(b,this.size);if(y(c,this.size)!==this.size)return a.prototype.slice.call(this,b,c);for(var e=this.size-d,f=this._head;d--;)f=f.next;return this.__ownerID?(this.size=e,this._head=f,this.__hash=void 0,this.__altered=!0,this):cA(e,f)},b.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?cA(this.size,this._head,a,this.__hash):0===this.size?cB():(this.__ownerID=a,this.__altered=!1,this)},b.prototype.__iterate=function(a,b){var c=this;if(b)return new ah(this.toArray()).__iterate(function(b,d){return a(b,d,c)},b);for(var d=0,e=this._head;e&& !1!==a(e.value,d++,this);)e=e.next;return d},b.prototype.__iterator=function(a,b){if(b)return new ah(this.toArray()).__iterator(a,b);var c=0,d=this._head;return new W(function(){if(d){var b=d.value;return d=d.next,X(a,c++,b)}return Y()})},b}(K);cy.isStack=cx;var cz=cy.prototype;function cA(a,b,c,d){var e=Object.create(cz);return e.size=a,e._head=b,e.__ownerID=c,e.__hash=d,e.__altered=!1,e}function cB(){return i||(i=cA(0))}cz[cw]=!0,cz.shift=cz.pop,cz.unshift=cz.push,cz.unshiftAll=cz.pushAll,cz.withMutations=bL,cz.wasAltered=bO,cz.asImmutable=bN,cz["@@transducer/init"]=cz.asMutable=bM,cz["@@transducer/step"]=function(a,b){return a.unshift(b)},cz["@@transducer/result"]=function(a){return a.asImmutable()};var cC="@@__IMMUTABLE_SET__@@";function cD(a){return Boolean(a&&a[cC])}function cE(a){return cD(a)&&S(a)}function cF(a,b){if(a===b)return!0;if(!C(b)|| void 0!==a.size&& void 0!==b.size&&a.size!==b.size|| void 0!==a.__hash&& void 0!==b.__hash&&a.__hash!==b.__hash||E(a)!==E(b)||G(a)!==G(b)||S(a)!==S(b))return!1;if(0===a.size&&0===b.size)return!0;var c=!H(a);if(S(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&at(e[1],a)&&(c||at(e[0],b))})&&d.next().done}var e=!1;if(void 0===a.size){if(void 0===b.size)"function"==typeof a.cacheResult&&a.cacheResult();else{e=!0;var f=a;a=b,b=f}}var g=!0,h=b.__iterate(function(b,d){if(c?!a.has(b):e?!at(b,a.get(d,p)):!at(a.get(d,p),b))return g=!1,!1});return g&&a.size===h}function cG(a,b){var c=function(c){a.prototype[c]=b[c]};return Object.keys(b).forEach(c),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c),a}function cH(a){if(!a||"object"!=typeof a)return a;if(!C(a)){if(!bg(a))return a;a=ad(a)}if(E(a)){var b={};return a.__iterate(function(a,c){b[c]=cH(a)}),b}var c=[];return a.__iterate(function(a){c.push(cH(a))}),c}var cI=function(a){function b(b){return null==b?cM():cD(b)&&!S(b)?b:cM().withMutations(function(c){var d=a(b);bc(d.size),d.forEach(function(a){return c.add(a)})})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.of=function(){return this(arguments)},b.fromKeys=function(a){return this(J(a).keySeq())},b.intersect=function(a){return(a=I(a).toArray()).length?cJ.intersect.apply(b(a.pop()),a):cM()},b.union=function(a){return(a=I(a).toArray()).length?cJ.union.apply(b(a.pop()),a):cM()},b.prototype.toString=function(){return this.__toString("Set {","}")},b.prototype.has=function(a){return this._map.has(a)},b.prototype.add=function(a){return cK(this,this._map.set(a,a))},b.prototype.remove=function(a){return cK(this,this._map.remove(a))},b.prototype.clear=function(){return cK(this,this._map.clear())},b.prototype.map=function(a,b){var c=this,d=!1,e=cK(this,this._map.mapEntries(function(e){var f=e[1],g=a.call(b,f,f,c);return g!==f&&(d=!0),[g,g]},b));return d?e:this},b.prototype.union=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return 0===(b=b.filter(function(a){return 0!==a.size})).length?this:0!==this.size||this.__ownerID||1!==b.length?this.withMutations(function(c){for(var d=0;d<b.length;d++)a(b[d]).forEach(function(a){return c.add(a)})}):this.constructor(b[0])},b.prototype.intersect=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];if(0===b.length)return this;b=b.map(function(b){return a(b)});var d=[];return this.forEach(function(a){b.every(function(b){return b.includes(a)})||d.push(a)}),this.withMutations(function(a){d.forEach(function(b){a.remove(b)})})},b.prototype.subtract=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];if(0===b.length)return this;b=b.map(function(b){return a(b)});var d=[];return this.forEach(function(a){b.some(function(b){return b.includes(a)})&&d.push(a)}),this.withMutations(function(a){d.forEach(function(b){a.remove(b)})})},b.prototype.sort=function(a){return c4(a0(this,a))},b.prototype.sortBy=function(a,b){return c4(a0(this,b,a))},b.prototype.wasAltered=function(){return this._map.wasAltered()},b.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b){return a(b,b,c)},b)},b.prototype.__iterator=function(a,b){return this._map.__iterator(a,b)},b.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);return a?this.__make(b,a):0===this.size?this.__empty():(this.__ownerID=a,this._map=b,this)},b}(L);cI.isSet=cD;var cJ=cI.prototype;function cK(a,b){return a.__ownerID?(a.size=b.size,a._map=b,a):b===a._map?a:0===b.size?a.__empty():a.__make(b)}function cL(a,b){var c=Object.create(cJ);return c.size=a?a.size:0,c._map=a,c.__ownerID=b,c}function cM(){return j||(j=cL(b$()))}cJ[cC]=!0,cJ[n]=cJ.remove,cJ.merge=cJ.concat=cJ.union,cJ.withMutations=bL,cJ.asImmutable=bN,cJ["@@transducer/init"]=cJ.asMutable=bM,cJ["@@transducer/step"]=function(a,b){return a.add(b)},cJ["@@transducer/result"]=function(a){return a.asImmutable()},cJ.__empty=cM,cJ.__make=cL;var cN=function(a){function b(a,c,d){if(!(this instanceof b))return new b(a,c,d);if(bb(0!==d,"Cannot step a Range by 0"),a=a||0,void 0===c&&(c=1/0),d=void 0===d?1:Math.abs(d),c<a&&(d=-d),this._start=a,this._end=c,this._step=d,this.size=Math.max(0,Math.ceil((c-a)/d-1)+1),0===this.size){if(k)return k;k=this}}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},b.prototype.get=function(a,b){return this.has(a)?this._start+u(this,a)*this._step:b},b.prototype.includes=function(a){var b=(a-this._start)/this._step;return b>=0&&b<this.size&&b===Math.floor(b)},b.prototype.slice=function(a,c){return w(a,c,this.size)?this:(a=x(a,this.size),(c=y(c,this.size))<=a)?new b(0,0):new b(this.get(a,this._end),this.get(c,this._end),this._step)},b.prototype.indexOf=function(a){var b=a-this._start;if(b%this._step==0){var c=b/this._step;if(c>=0&&c<this.size)return c}return -1},b.prototype.lastIndexOf=function(a){return this.indexOf(a)},b.prototype.__iterate=function(a,b){for(var c=this.size,d=this._step,e=b?this._start+(c-1)*d:this._start,f=0;f!==c&& !1!==a(e,b?c- ++f:f++,this);)e+=b?-d:d;return f},b.prototype.__iterator=function(a,b){var c=this.size,d=this._step,e=b?this._start+(c-1)*d:this._start,f=0;return new W(function(){if(f===c)return Y();var g=e;return e+=b?-d:d,X(a,b?c- ++f:f++,g)})},b.prototype.equals=function(a){return a instanceof b?this._start===a._start&&this._end===a._end&&this._step===a._step:cF(this,a)},b}(af);function cO(a,b,c){for(var d=bd(b),e=0;e!==d.length;)if((a=bj(a,d[e++],p))===p)return c;return a}function cP(a,b){return cO(this,a,b)}function cQ(a,b){return cO(a,b,p)!==p}function cR(){bc(this.size);var a={};return this.__iterate(function(b,c){a[c]=b}),a}I.isIterable=C,I.isKeyed=E,I.isIndexed=G,I.isAssociative=H,I.isOrdered=S,I.Iterator=W,cG(I,{toArray:function(){bc(this.size);var a=Array(this.size||0),b=E(this),c=0;return this.__iterate(function(d,e){a[c++]=b?[e,d]:d}),a},toIndexedSeq:function(){return new aS(this)},toJS:function(){return cH(this)},toKeyedSeq:function(){return new aR(this,!0)},toMap:function(){return bP(this.toKeyedSeq())},toObject:cR,toOrderedMap:function(){return cs(this.toKeyedSeq())},toOrderedSet:function(){return c4(E(this)?this.valueSeq():this)},toSet:function(){return cI(E(this)?this.valueSeq():this)},toSetSeq:function(){return new aT(this)},toSeq:function(){return G(this)?this.toIndexedSeq():E(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return cy(E(this)?this.valueSeq():this)},toList:function(){return cf(E(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(a,b){return 0===this.size?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return a4(this,function(a,b){var c=E(a),d=[a].concat(b).map(function(a){return C(a)?c&&(a=J(a)):a=c?al(a):am(Array.isArray(a)?a:[a]),a}).filter(function(a){return 0!==a.size});if(0===d.length)return a;if(1===d.length){var e=d[0];if(e===a||c&&E(e)||G(a)&&G(e))return e}var f=new ah(d);return c?f=f.toKeyedSeq():G(a)||(f=f.toSetSeq()),(f=f.flatten(!0)).size=d.reduce(function(a,b){if(void 0!==a){var c=b.size;if(void 0!==c)return a+c}},0),f}(this,a))},includes:function(a){return this.some(function(b){return at(b,a)})},entries:function(){return this.__iterator(2)},every:function(a,b){bc(this.size);var c=!0;return this.__iterate(function(d,e,f){if(!a.call(b,d,e,f))return c=!1,!1}),c},filter:function(a,b){return a4(this,aY(this,a,b,!0))},find:function(a,b,c){var d=this.findEntry(a,b);return d?d[1]:c},forEach:function(a,b){return bc(this.size),this.__iterate(b?a.bind(b):a)},join:function(a){bc(this.size),a=void 0!==a?""+a:",";var b="",c=!0;return this.__iterate(function(d){c?c=!1:b+=a,b+=null!=d?d.toString():""}),b},keys:function(){return this.__iterator(0)},map:function(a,b){return a4(this,aW(this,a,b))},reduce:function(a,b,c){return cW(this,a,b,c,arguments.length<2,!1)},reduceRight:function(a,b,c){return cW(this,a,b,c,arguments.length<2,!0)},reverse:function(){return a4(this,aX(this,!0))},slice:function(a,b){return a4(this,aZ(this,a,b,!0))},some:function(a,b){return!this.every(cZ(a),b)},sort:function(a){return a4(this,a0(this,a))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(a,b){return t(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){var c,d,e,f;return c=this,d=a,e=b,f=bP().asMutable(),c.__iterate(function(a,b){f.update(d.call(e,a,b,c),0,function(a){return a+1})}),f.asImmutable()},equals:function(a){return cF(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ah(a._cache);var b=a.toSeq().map(cY).toIndexedSeq();return b.fromEntrySeq=function(){return a.toSeq()},b},filterNot:function(a,b){return this.filter(cZ(a),b)},findEntry:function(a,b,c){var d=c;return this.__iterate(function(c,e,f){if(a.call(b,c,e,f))return d=[e,c],!1}),d},findKey:function(a,b){var c=this.findEntry(a,b);return c&&c[0]},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},findLastEntry:function(a,b,c){return this.toKeyedSeq().reverse().findEntry(a,b,c)},findLastKey:function(a,b){return this.toKeyedSeq().reverse().findKey(a,b)},first:function(a){return this.find(v,null,a)},flatMap:function(a,b){var c,d,e,f;return a4(this,(c=this,d=a,e=b,f=a6(c),c.toSeq().map(function(a,b){return f(d.call(e,a,b,c))}).flatten(!0)))},flatten:function(a){return a4(this,a_(this,a,!0))},fromEntrySeq:function(){return new aU(this)},get:function(a,b){return this.find(function(b,c){return at(c,a)},void 0,b)},getIn:cP,groupBy:function(a,b){return function(a,b,c){var d=E(a),e=(S(a)?cs():bP()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return(a=a||[]).push(d?[g,f]:f),a})});var f=a6(a);return e.map(function(b){return a4(a,f(b))}).asImmutable()}(this,a,b)},has:function(a){return this.get(a,p)!==p},hasIn:function(a){return cQ(this,a)},isSubset:function(a){return a="function"==typeof a.includes?a:I(a),this.every(function(b){return a.includes(b)})},isSuperset:function(a){return(a="function"==typeof a.isSubset?a:I(a)).isSubset(this)},keyOf:function(a){return this.findKey(function(b){return at(b,a)})},keySeq:function(){return this.toSeq().map(cX).toIndexedSeq()},last:function(a){return this.toSeq().reverse().first(a)},lastKeyOf:function(a){return this.toKeyedSeq().reverse().keyOf(a)},max:function(a){return a1(this,a)},maxBy:function(a,b){return a1(this,b,a)},min:function(a){return a1(this,a?c$(a):c0)},minBy:function(a,b){return a1(this,b?c$(b):c0,a)},rest:function(){return this.slice(1)},skip:function(a){return 0===a?this:this.slice(Math.max(0,a))},skipLast:function(a){return 0===a?this:this.slice(0,-Math.max(0,a))},skipWhile:function(a,b){return a4(this,a$(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cZ(a),b)},sortBy:function(a,b){return a4(this,a0(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return this.slice(-Math.max(0,a))},takeWhile:function(a,b){var c,d,e,f;return a4(this,(c=this,d=a,e=b,(f=a7(c)).__iterateUncached=function(a,b){var f=this;if(b)return this.cacheResult().__iterate(a,b);var g=0;return c.__iterate(function(b,c,h){return d.call(e,b,c,h)&& ++g&&a(b,c,f)}),g},f.__iteratorUncached=function(a,b){var f=this;if(b)return this.cacheResult().__iterator(a,b);var g=c.__iterator(2,b),h=!0;return new W(function(){if(!h)return Y();var b=g.next();if(b.done)return b;var c=b.value,i=c[0],j=c[1];return d.call(e,j,i,f)?2===a?b:X(a,i,j,b):(h=!1,Y())})},f))},takeUntil:function(a,b){return this.takeWhile(cZ(a),b)},update:function(a){return a(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=c1(this))}});var cS=I.prototype;cS[B]=!0,cS[V]=cS.values,cS.toJSON=cS.toArray,cS.__toStringMapper=bh,cS.inspect=cS.toSource=function(){return this.toString()},cS.chain=cS.flatMap,cS.contains=cS.includes,cG(J,{flip:function(){return a4(this,aV(this))},mapEntries:function(a,b){var c=this,d=0;return a4(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return a4(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});var cT=J.prototype;cT[D]=!0,cT[V]=cS.entries,cT.toJSON=cR,cT.__toStringMapper=function(a,b){return bh(b)+": "+bh(a)},cG(K,{toKeyedSeq:function(){return new aR(this,!1)},filter:function(a,b){return a4(this,aY(this,a,b,!1))},findIndex:function(a,b){var c=this.findEntry(a,b);return c?c[0]:-1},indexOf:function(a){var b=this.keyOf(a);return void 0===b?-1:b},lastIndexOf:function(a){var b=this.lastKeyOf(a);return void 0===b?-1:b},reverse:function(){return a4(this,aX(this,!1))},slice:function(a,b){return a4(this,aZ(this,a,b,!1))},splice:function(a,b){var c=arguments.length;if(b=Math.max(b||0,0),0===c||2===c&&!b)return this;a=x(a,a<0?this.count():this.size);var d=this.slice(0,a);return a4(this,1===c?d:d.concat(ba(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){var c=this.findLastEntry(a,b);return c?c[0]:-1},first:function(a){return this.get(0,a)},flatten:function(a){return a4(this,a_(this,a,!1))},get:function(a,b){return(a=u(this,a))<0||this.size===1/0|| void 0!==this.size&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){return(a=u(this,a))>=0&&(void 0!==this.size?this.size===1/0||a<this.size:-1!==this.indexOf(a))},interpose:function(a){var b,c,d;return a4(this,(b=this,c=a,(d=a7(b)).size=b.size&&2*b.size-1,d.__iterateUncached=function(a,d){var e=this,f=0;return b.__iterate(function(b){return(!f|| !1!==a(c,f++,e))&& !1!==a(b,f++,e)},d),f},d.__iteratorUncached=function(a,d){var e,f=b.__iterator(1,d),g=0;return new W(function(){return(!e||g%2)&&(e=f.next()).done?e:g%2?X(a,g++,c):X(a,g++,e.value,e)})},d))},interleave:function(){var a=[this].concat(ba(arguments)),b=a3(this.toSeq(),af.of,a),c=b.flatten(!0);return b.size&&(c.size=b.size*a.length),a4(this,c)},keySeq:function(){return cN(0,this.size)},last:function(a){return this.get(-1,a)},skipWhile:function(a,b){return a4(this,a$(this,a,b,!1))},zip:function(){var a=[this].concat(ba(arguments));return a4(this,a3(this,c_,a))},zipAll:function(){var a=[this].concat(ba(arguments));return a4(this,a3(this,c_,a,!0))},zipWith:function(a){var b=ba(arguments);return b[0]=this,a4(this,a3(this,a,b))}});var cU=K.prototype;cU[F]=!0,cU[R]=!0,cG(L,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});var cV=L.prototype;function cW(a,b,c,d,e,f){return bc(a.size),a.__iterate(function(a,f,g){e?(e=!1,c=a):c=b.call(d,c,a,f,g)},f),c}function cX(a,b){return b}function cY(a,b){return[b,a]}function cZ(a){return function(){return!a.apply(this,arguments)}}function c$(a){return function(){return-a.apply(this,arguments)}}function c_(){return ba(arguments)}function c0(a,b){return a<b?1:a>b?-1:0}function c1(a){if(a.size===1/0)return 0;var b=S(a),c=E(a),d=b?1:0,e=a.__iterate(c?b?function(a,b){d=31*d+c3(ax(a),ax(b))|0}:function(a,b){d=d+c3(ax(a),ax(b))|0}:b?function(a){d=31*d+ax(a)|0}:function(a){d=d+ax(a)|0});return c2(e,d)}function c2(a,b){return b=au(b,3432918353),b=au(b<<15|b>>> -15,461845907),b=au(b<<13|b>>> -13,5),b=(b+3864292196|0)^a,b=au(b^b>>>16,2246822507),b=au(b^b>>>13,3266489909),b=av(b^b>>>16)}function c3(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}cV.has=cS.includes,cV.contains=cV.includes,cV.keys=cV.values,cG(ae,cT),cG(af,cU),cG(ag,cV);var c4=function(a){function b(a){return null==a?c7():cE(a)?a:c7().withMutations(function(b){var c=L(a);bc(c.size),c.forEach(function(a){return b.add(a)})})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.of=function(){return this(arguments)},b.fromKeys=function(a){return this(J(a).keySeq())},b.prototype.toString=function(){return this.__toString("OrderedSet {","}")},b}(cI);c4.isOrderedSet=cE;var c5=c4.prototype;function c6(a,b){var c=Object.create(c5);return c.size=a?a.size:0,c._map=a,c.__ownerID=b,c}function c7(){return l||(l=c6(cu()))}c5[R]=!0,c5.zip=cU.zip,c5.zipWith=cU.zipWith,c5.zipAll=cU.zipAll,c5.__empty=c7,c5.__make=c6;var c8=function(a,b){!function(a){if(P(a))throw Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Q(a))throw Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===a||"object"!=typeof a)throw Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(a);var c,d=function(f){var g=this;if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var h=Object.keys(a),i=e._indices={};e._name=b,e._keys=h,e._defaultValues=a;for(var j=0;j<h.length;j++){var k=h[j];i[k]=j,e[k]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+db(this)+' with property "'+k+'" since that property name is part of the Record API.'):dd(e,k)}}return this.__ownerID=void 0,this._values=cf().withMutations(function(a){a.setSize(g._keys.length),J(f).forEach(function(b,c){a.set(g._indices[c],b===g._defaultValues[c]?void 0:b)})}),this},e=d.prototype=Object.create(c9);return e.constructor=d,b&&(d.displayName=b),d};c8.prototype.toString=function(){for(var a,b=db(this)+" { ",c=this._keys,d=0,e=c.length;d!==e;d++)a=c[d],b+=(d?", ":"")+a+": "+bh(this.get(a));return b+" }"},c8.prototype.equals=function(a){return this===a||P(a)&&dc(this).equals(dc(a))},c8.prototype.hashCode=function(){return dc(this).hashCode()},c8.prototype.has=function(a){return this._indices.hasOwnProperty(a)},c8.prototype.get=function(a,b){if(!this.has(a))return b;var c=this._indices[a],d=this._values.get(c);return void 0===d?this._defaultValues[a]:d},c8.prototype.set=function(a,b){if(this.has(a)){var c=this._values.set(this._indices[a],b===this._defaultValues[a]?void 0:b);if(c!==this._values&&!this.__ownerID)return da(this,c)}return this},c8.prototype.remove=function(a){return this.set(a)},c8.prototype.clear=function(){var a=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:da(this,a)},c8.prototype.wasAltered=function(){return this._values.wasAltered()},c8.prototype.toSeq=function(){return dc(this)},c8.prototype.toJS=function(){return cH(this)},c8.prototype.entries=function(){return this.__iterator(2)},c8.prototype.__iterator=function(a,b){return dc(this).__iterator(a,b)},c8.prototype.__iterate=function(a,b){return dc(this).__iterate(a,b)},c8.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._values.__ensureOwner(a);return a?da(this,b,a):(this.__ownerID=a,this._values=b,this)},c8.isRecord=P,c8.getDescriptiveName=db;var c9=c8.prototype;function da(a,b,c){var d=Object.create(Object.getPrototypeOf(a));return d._values=b,d.__ownerID=c,d}function db(a){return a.constructor.displayName||a.constructor.name||"Record"}function dc(a){return al(a._keys.map(function(b){return[b,a.get(b)]}))}function dd(a,b){try{Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}catch(c){}}c9[O]=!0,c9[n]=c9.remove,c9.deleteIn=c9.removeIn=bs,c9.getIn=cP,c9.hasIn=cS.hasIn,c9.merge=bw,c9.mergeWith=bx,c9.mergeIn=bJ,c9.mergeDeep=bH,c9.mergeDeepWith=bI,c9.mergeDeepIn=bK,c9.setIn=bq,c9.update=bu,c9.updateIn=bv,c9.withMutations=bL,c9.asMutable=bM,c9.asImmutable=bN,c9[V]=c9.entries,c9.toJSON=c9.toObject=cS.toObject,c9.inspect=c9.toSource=function(){return this.toString()};var de=function(a){function b(a,c){if(!(this instanceof b))return new b(a,c);if(this._value=a,this.size=void 0===c?1/0:Math.max(0,c),0===this.size){if(m)return m;m=this}}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},b.prototype.get=function(a,b){return this.has(a)?this._value:b},b.prototype.includes=function(a){return at(this._value,a)},b.prototype.slice=function(a,c){var d=this.size;return w(a,c,d)?this:new b(this._value,y(c,d)-x(a,d))},b.prototype.reverse=function(){return this},b.prototype.indexOf=function(a){return at(this._value,a)?0:-1},b.prototype.lastIndexOf=function(a){return at(this._value,a)?this.size:-1},b.prototype.__iterate=function(a,b){for(var c=this.size,d=0;d!==c&& !1!==a(this._value,b?c- ++d:d++,this););return d},b.prototype.__iterator=function(a,b){var c=this,d=this.size,e=0;return new W(function(){return e===d?Y():X(a,b?d- ++e:e++,c._value)})},b.prototype.equals=function(a){return a instanceof b?at(this._value,a._value):cF(a)},b}(af);function df(a,b){return dg([],b||dh,a,"",b&&b.length>2?[]:void 0,{"":a})}function dg(a,b,c,d,e,f){if("string"!=typeof c&&!Q(c)&&(ac(c)||Z(c)||bf(c))){if(~a.indexOf(c))throw TypeError("Cannot convert circular structure to Immutable");a.push(c),e&&""!==d&&e.push(d);var g=b.call(f,d,ad(c).map(function(d,f){return dg(a,b,d,f,e,c)}),e&&e.slice());return a.pop(),e&&e.pop(),g}return c}function dh(a,b){return G(b)?b.toList():E(b)?b.toMap():b.toSet()}var di="4.1.0",dj=I;b.default={version:di,Collection:I,Iterable:I,Seq:ad,Map:bP,OrderedMap:cs,List:cf,Stack:cy,Set:cI,OrderedSet:c4,Record:c8,Range:cN,Repeat:de,is:at,fromJS:df,hash:ax,isImmutable:Q,isCollection:C,isKeyed:E,isIndexed:G,isAssociative:H,isOrdered:S,isValueObject:as,isPlainObject:bf,isSeq:N,isList:ce,isMap:aq,isOrderedMap:ar,isStack:cx,isSet:cD,isOrderedSet:cE,isRecord:P,get:bj,getIn:cO,has:bi,hasIn:cQ,merge:bz,mergeDeep:bB,mergeWith:bA,mergeDeepWith:bC,remove:bl,removeIn:br,set:bm,setIn:bp,update:bt,updateIn:bn}},24970:function(a){"use strict";let b=a=>null!==a&&"object"==typeof a&&"function"==typeof a.pipe;b.writable=a=>b(a)&& !1!==a.writable&&"function"==typeof a._write&&"object"==typeof a._writableState,b.readable=a=>b(a)&& !1!==a.readable&&"function"==typeof a._read&&"object"==typeof a._readableState,b.duplex=a=>b.writable(a)&&b.readable(a),b.transform=a=>b.duplex(a)&&"function"==typeof a._transform,a.exports=b},11288:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(98931),b),e(c(87011),b),e(c(97378),b),e(c(91891),b),e(c(29e3),b),e(c(35378),b),e(c(24990),b)},98931:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.defaultExpandOptions=b.ContextParser=void 0,c(31905);let d=c(68912),e=c(87011),f=c(97378),g=c(35378),h=c(24990),i=c(95456);class j{constructor(a){a=a||{},this.documentLoader=a.documentLoader||new f.FetchDocumentLoader,this.documentCache={},this.validateContext=!a.skipValidation,this.expandContentTypeToBase=!!a.expandContentTypeToBase,this.remoteContextsDepthLimit=a.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in a)||!!a.redirectSchemaOrgHttps}static validateLanguage(a,b,c){if("string"!=typeof a)throw new e.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(a)}'`,c);if(!h.Util.REGEX_LANGUAGE_TAG.test(a)){if(!b)return!1;throw new e.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(a)}'`,c)}return!0}static validateDirection(a,b){if("string"!=typeof a)throw new e.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(a)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);if(!h.Util.REGEX_DIRECTION_TAG.test(a)){if(!b)return!1;throw new e.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(a)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION)}return!0}idifyReverseTerms(a){for(let b of Object.keys(a)){let c=a[b];if(c&&"object"==typeof c&&c["@reverse"]&&!c["@id"]){if("string"!=typeof c["@reverse"]||h.Util.isValidKeyword(c["@reverse"]))throw new e.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${c["@reverse"]}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);c["@id"]=c["@reverse"],h.Util.isPotentialKeyword(c["@reverse"])?delete c["@reverse"]:c["@reverse"]=!0}}return a}expandPrefixedTerms(a,b){let c=a.getContextRaw();for(let d of Object.keys(c))if(0>h.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)&&!h.Util.isReservedInternalKeyword(d)){let f=c[d];if(h.Util.isPotentialKeyword(d)&&h.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&("@type"!==d||"object"==typeof c[d]&&!(c[d]["@protected"]||"@set"===c[d]["@container"])))throw new e.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.KEYWORD_REDEFINITION);if(h.Util.ALIAS_RANGE_BLACKLIST.indexOf(h.Util.getContextValueId(f))>=0)throw new e.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(f&&h.Util.isPotentialKeyword(h.Util.getContextValueId(f))&& !0===f["@prefix"])throw new e.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);for(;h.Util.isPrefixValue(c[d]);){let g=c[d],i=!1;if("string"==typeof g)c[d]=a.expandTerm(g,!0),i=i||g!==c[d];else{let j=g["@id"],k=g["@type"],l=!("@prefix"in g)||h.Util.isValidIri(d);if("@id"in g)null!=j&&"string"==typeof j&&(c[d]["@id"]=a.expandTerm(j,!0),i=i||j!==c[d]["@id"]);else if(!h.Util.isPotentialKeyword(d)&&l){let m=a.expandTerm(d,!0);m!==d&&(c[d]["@id"]=m,i=!0)}k&&"string"==typeof k&&"@vocab"!==k&&(!g["@container"]||!g["@container"]["@type"])&&l&&(c[d]["@type"]=a.expandTerm(k,!0),b&&k===c[d]["@type"]&&(c[d]["@type"]=a.expandTerm(k,!1)),i=i||k!==c[d]["@type"])}if(!i)break}}}normalize(a,{processingMode:b,normalizeLanguageTags:c}){if(c||1===b)for(let d of Object.keys(a))if("@language"===d&&"string"==typeof a[d])a[d]=a[d].toLowerCase();else{let e=a[d];e&&"object"==typeof e&&"string"==typeof e["@language"]&&(e["@language"]=e["@language"].toLowerCase())}}containersToHash(a){for(let b of Object.keys(a)){let c=a[b];if(c&&"object"==typeof c){if("string"==typeof c["@container"])c["@container"]={[c["@container"]]:!0};else if(Array.isArray(c["@container"])){let d={};for(let e of c["@container"])d[e]=!0;c["@container"]=d}}}}applyScopedProtected(a,{processingMode:b}){if(b&&b>=1.1&&a["@protected"]){for(let c of Object.keys(a))if(!h.Util.isReservedInternalKeyword(c)&& !h.Util.isPotentialKeyword(c)&&!h.Util.isTermProtected(a,c)){let d=a[c];d&&"object"==typeof d?"@protected"in a[c]||(a[c]["@protected"]=!0):a[c]={"@id":d,"@protected":!0}}delete a["@protected"]}}validateKeywordRedefinitions(a,b,c){for(let d of Object.keys(b))if(h.Util.isTermProtected(a,d)){if("string"==typeof b[d]){let f=h.Util.isSimpleTermDefinitionPrefix(b[d],c);b[d]={"@id":b[d]},f&&(b[d]["@prefix"]=!0,a[d]["@prefix"]=!0)}let g=i(a[d]);b[d]["@protected"]=!0;let j=i(b[d]);if(g!==j)throw new e.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(h.Util.getContextValueId(a[d]))} to ${JSON.stringify(h.Util.getContextValueId(b[d]))}`,e.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(a,{processingMode:b}){for(let c of Object.keys(a)){if(h.Util.isReservedInternalKeyword(c))continue;if(""===c)throw new e.ErrorCoded(`The empty term is not allowed, got: '${c}': '${JSON.stringify(a[c])}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);let d=a[c],f=typeof d;if(h.Util.isPotentialKeyword(c)){switch(c.substr(1)){case"vocab":if(null!==d&&"string"!==f)throw new e.ErrorCoded(`Found an invalid @vocab IRI: ${d}`,e.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==d&&"string"!==f)throw new e.ErrorCoded(`Found an invalid @base IRI: ${a[c]}`,e.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==d&&j.validateLanguage(d,!0,e.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==d&&"number"!==f)throw new e.ErrorCoded(`Found an invalid @version number: ${d}`,e.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==d&&j.validateDirection(d,!0);break;case"propagate":if(1===b)throw new e.ErrorCoded(`Found an illegal @propagate keyword: ${d}`,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==d&&"boolean"!==f)throw new e.ErrorCoded(`Found an invalid @propagate value: ${d}`,e.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(h.Util.isValidKeyword(c)&&h.Util.isValidKeyword(h.Util.getContextValueId(d)))throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${h.Util.getContextValueId(d)}'`,e.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(null!==d)switch(f){case"string":if(h.Util.getPrefix(d,a)===c)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);if(h.Util.isValidIriWeak(c)){if("@type"===d)throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${d}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(h.Util.isValidIri(d)&&d!==new g.JsonLdContextNormalized(a).expandTerm(c))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${d}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!h.Util.isCompactIri(c)&&!("@id"in d)&&("@id"===d["@type"]?!a["@base"]:!a["@vocab"]))throw new e.ErrorCoded(`Missing @id in context entry: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);for(let i of Object.keys(d)){let k=d[i];if(k)switch(i){case"@id":if(h.Util.isValidKeyword(k)&&"@type"!==k&&"@id"!==k&&"@graph"!==k)throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(h.Util.isValidIriWeak(c)){if("@type"===k)throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(h.Util.isValidIri(k)&&k!==new g.JsonLdContextNormalized(a).expandTerm(c))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!=typeof k)throw new e.ErrorCoded(`Detected non-string @id in context entry: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(h.Util.getPrefix(k,a)===c)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===d["@container"]&&"@id"!==k&&"@vocab"!==k)throw new e.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${c}': '${k}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!=typeof k)throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if("@id"!==k&&"@vocab"!==k&&(1===b||"@json"!==k)&&(1===b||"@none"!==k)&&("_"===k[0]||!h.Util.isValidIri(k)))throw new e.ErrorCoded(`A context @type must be an absolute IRI, found: '${c}': '${k}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"==typeof k&&d["@id"]&&d["@id"]!==k)throw new e.ErrorCoded(`Found non-matching @id and @reverse term values in '${c}':\
'${k}' and '${d["@id"]}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in d)throw new e.ErrorCoded(`@nest is not allowed in the reverse property '${c}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===b&&(Object.keys(k).length>1||0>h.Util.CONTAINERS_1_0.indexOf(Object.keys(k)[0])))throw new e.ErrorCoded(`Invalid term @container for '${c}' ('${Object.keys(k)}') in 1.0, \
must be only one of ${h.Util.CONTAINERS_1_0.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(let l of Object.keys(k)){if("@list"===l&&d["@reverse"])throw new e.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${c}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(0>h.Util.CONTAINERS.indexOf(l))throw new e.ErrorCoded(`Invalid term @container for '${c}' ('${l}'), \
must be one of ${h.Util.CONTAINERS.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":j.validateLanguage(k,!0,e.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":j.validateDirection(k,!0);break;case"@prefix":if(null!==k&&"boolean"!=typeof k)throw new e.ErrorCoded(`Found an invalid term @prefix boolean in: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in d)&&!h.Util.isValidIri(c))throw new e.ErrorCoded(`Invalid @prefix definition for '${c}' ('${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===b||!d["@container"]||!d["@container"]["@index"])throw new e.ErrorCoded(`Attempt to add illegal key to value object: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(h.Util.isPotentialKeyword(k)&&"@nest"!==k)throw new e.ErrorCoded(`Found an invalid term @nest value in: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new e.ErrorCoded(`Found an invalid term value: '${c}': '${d}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(a,b,c){return"string"==typeof a||(c&&!("@base"in a)&&b.parentContext&&"object"==typeof b.parentContext&&"@base"in b.parentContext&&(a["@base"]=b.parentContext["@base"],b.parentContext["@__baseDocument"]&&(a["@__baseDocument"]=!0)),!b.baseIRI||b.external||("@base"in a?null===a["@base"]||"string"!=typeof a["@base"]||h.Util.isValidIri(a["@base"])||(a["@base"]=(0,d.resolve)(a["@base"],b.parentContext&&b.parentContext["@base"]||b.baseIRI)):(a["@base"]=b.baseIRI,a["@__baseDocument"]=!0))),a}normalizeContextIri(a,b){if(!h.Util.isValidIri(a))try{a=(0,d.resolve)(a,b)}catch(c){throw Error(`Invalid context IRI: ${a}`)}return this.redirectSchemaOrgHttps&&a.startsWith("http://schema.org")&&(a="https://schema.org/"),a}async parseInnerContexts(a,b){for(let c of Object.keys(a)){let d=a[c];if(d&&"object"==typeof d&&"@context"in d&&null!==d["@context"]&&!b.ignoreScopedContexts){if(this.validateContext)try{let f=Object.assign({},a);f[c]=Object.assign({},f[c]),delete f[c]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},b),{parentContext:f,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(g){throw new e.ErrorCoded(g.message,e.ERROR_CODES.INVALID_SCOPED_CONTEXT)}d["@context"]=(await this.parse(d["@context"],Object.assign(Object.assign({},b),{minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:a}))).getContextRaw()}}return a}async parse(a,c={}){let{baseIRI:d,parentContext:f,external:i,processingMode:k=j.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:l,ignoreProtection:m,minimalProcessing:n}=c,o=f,p=c.remoteContexts||{};if(Object.keys(p).length>=this.remoteContextsDepthLimit)throw new e.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(p),e.ERROR_CODES.CONTEXT_OVERFLOW);if(null==a){if(!m&&o&&h.Util.hasProtectedTerms(o))throw new e.ErrorCoded("Illegal context nullification when terms are protected",e.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new g.JsonLdContextNormalized(this.applyBaseEntry({},c,!1))}if("string"==typeof a){let q=this.normalizeContextIri(a,d),r=this.getOverriddenLoad(q,c);if(r)return new g.JsonLdContextNormalized(r);let s=await this.parse(await this.load(q),Object.assign(Object.assign({},c),{baseIRI:q,external:!0,remoteContexts:Object.assign(Object.assign({},p),{[q]:!0})}));return this.applyBaseEntry(s.getContextRaw(),c,!0),s}if(Array.isArray(a)){let t=[],u=await Promise.all(a.map((a,b)=>{if("string"!=typeof a)return a;{let e=this.normalizeContextIri(a,d);t[b]=e;let f=this.getOverriddenLoad(e,c);return f||this.load(e)}}));if(n)return new g.JsonLdContextNormalized(u);let v=await u.reduce((a,b,d)=>a.then(a=>this.parse(b,Object.assign(Object.assign({},c),{baseIRI:t[d]||c.baseIRI,external:!!t[d]||c.external,parentContext:a.getContextRaw(),remoteContexts:t[d]?Object.assign(Object.assign({},p),{[t[d]]:!0}):p}))),Promise.resolve(new g.JsonLdContextNormalized(o||{})));return this.applyBaseEntry(v.getContextRaw(),c,!0),v}if("object"==typeof a){if("@context"in a)return await this.parse(a["@context"],c);a=JSON.parse(JSON.stringify(a)),o&&!n&&(o=JSON.parse(JSON.stringify(o)));let w={};if(i&&delete a["@base"],this.applyBaseEntry(a,c,!0),this.containersToHash(a),n)return new g.JsonLdContextNormalized(a);let x={};if("@import"in a){if(k>=1.1){if("string"!=typeof a["@import"])throw new e.ErrorCoded("An @import value must be a string, but got "+typeof a["@import"],e.ERROR_CODES.INVALID_IMPORT_VALUE);x=await this.loadImportContext(this.normalizeContextIri(a["@import"],d)),delete a["@import"]}else throw new e.ErrorCoded("Context importing is not supported in JSON-LD 1.0",e.ERROR_CODES.INVALID_CONTEXT_ENTRY)}w=Object.assign(Object.assign(Object.assign(Object.assign({},w),"object"==typeof o?o:{}),x),a);let y=new g.JsonLdContextNormalized(w);return await this.parseInnerContexts(w,c),(w&&w["@version"]||j.DEFAULT_PROCESSING_MODE)>=1.1&&(a["@vocab"]&&"string"==typeof a["@vocab"]||""===a["@vocab"])&&0>a["@vocab"].indexOf(":")&&o&&"@vocab"in o&&(w["@vocab"]=o["@vocab"]+a["@vocab"]),this.idifyReverseTerms(w),this.expandPrefixedTerms(y,this.expandContentTypeToBase),!m&&o&&k>=1.1&&this.validateKeywordRedefinitions(o,w,b.defaultExpandOptions),this.normalize(w,{processingMode:k,normalizeLanguageTags:l}),this.applyScopedProtected(w,{processingMode:k}),this.validateContext&&this.validate(w,{processingMode:k}),y}throw new e.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${a}`,e.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(a){let b=this.documentCache[a];if(b)return"string"==typeof b?b:Array.isArray(b)?b.slice():Object.assign({},b);let c;try{c=await this.documentLoader.load(a)}catch(d){throw new e.ErrorCoded(`Failed to load remote context ${a}: ${d.message}`,e.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in c))throw new e.ErrorCoded(`Missing @context in remote context at ${a}`,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[a]=c["@context"]}getOverriddenLoad(a,b){if(a in(b.remoteContexts||{})){if(b.ignoreRemoteScopedContexts)return a;throw new e.ErrorCoded("Detected a cyclic context inclusion of "+a,e.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(a){let b=await this.load(a);if("object"!=typeof b||Array.isArray(b))throw new e.ErrorCoded("An imported context must be a single object: "+a,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in b)throw new e.ErrorCoded("An imported context can not import another context: "+a,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);return this.containersToHash(b),b}}b.ContextParser=j,j.DEFAULT_PROCESSING_MODE=1.1,b.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},87011:function(a,b){"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.ERROR_CODES=b.ErrorCoded=void 0,b.ErrorCoded=class extends Error{constructor(a,b){super(a),this.code=b}},(c=b.ERROR_CODES||(b.ERROR_CODES={})).COLLIDING_KEYWORDS="colliding keywords",c.CONFLICTING_INDEXES="conflicting indexes",c.CYCLIC_IRI_MAPPING="cyclic IRI mapping",c.INVALID_ID_VALUE="invalid @id value",c.INVALID_INDEX_VALUE="invalid @index value",c.INVALID_NEST_VALUE="invalid @nest value",c.INVALID_PREFIX_VALUE="invalid @prefix value",c.INVALID_PROPAGATE_VALUE="invalid @propagate value",c.INVALID_REVERSE_VALUE="invalid @reverse value",c.INVALID_IMPORT_VALUE="invalid @import value",c.INVALID_VERSION_VALUE="invalid @version value",c.INVALID_BASE_IRI="invalid base IRI",c.INVALID_CONTAINER_MAPPING="invalid container mapping",c.INVALID_CONTEXT_ENTRY="invalid context entry",c.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",c.INVALID_DEFAULT_LANGUAGE="invalid default language",c.INVALID_INCLUDED_VALUE="invalid @included value",c.INVALID_IRI_MAPPING="invalid IRI mapping",c.INVALID_JSON_LITERAL="invalid JSON literal",c.INVALID_KEYWORD_ALIAS="invalid keyword alias",c.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",c.INVALID_LANGUAGE_MAPPING="invalid language mapping",c.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",c.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",c.INVALID_LOCAL_CONTEXT="invalid local context",c.INVALID_REMOTE_CONTEXT="invalid remote context",c.INVALID_REVERSE_PROPERTY="invalid reverse property",c.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",c.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",c.INVALID_SCOPED_CONTEXT="invalid scoped context",c.INVALID_SCRIPT_ELEMENT="invalid script element",c.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",c.INVALID_TERM_DEFINITION="invalid term definition",c.INVALID_TYPE_MAPPING="invalid type mapping",c.INVALID_TYPE_VALUE="invalid type value",c.INVALID_TYPED_VALUE="invalid typed value",c.INVALID_VALUE_OBJECT="invalid value object",c.INVALID_VALUE_OBJECT_VALUE="invalid value object value",c.INVALID_VOCAB_MAPPING="invalid vocab mapping",c.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",c.KEYWORD_REDEFINITION="keyword redefinition",c.LOADING_DOCUMENT_FAILED="loading document failed",c.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",c.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",c.PROCESSING_MODE_CONFLICT="processing mode conflict",c.PROTECTED_TERM_REDEFINITION="protected term redefinition",c.CONTEXT_OVERFLOW="context overflow",c.INVALID_BASE_DIRECTION="invalid base direction",c.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",c.INVALID_STREAMING_KEY_ORDER="invalid streaming key order"},97378:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FetchDocumentLoader=void 0,c(31905);let d=c(87011),e=c(12475),f=c(68912);b.FetchDocumentLoader=class{constructor(a){this.fetcher=a}async load(a){let b=await (this.fetcher||fetch)(a,{headers:new Headers({accept:"application/ld+json"})});if(b.ok&&b.headers){let c=b.headers.get("Content-Type");if(c){let g=c.indexOf(";");g>0&&(c=c.substr(0,g))}if("application/ld+json"===c)return await b.json();if(b.headers.has("Link")){let h;if(b.headers.forEach((b,c)=>{if("link"===c){let d=(0,e.parse)(b);for(let g of d.get("type","application/ld+json"))if("alternate"===g.rel){if(h)throw Error("Multiple JSON-LD alternate links were found on "+a);h=(0,f.resolve)(g.uri,a)}}}),h)return this.load(h)}throw new d.ErrorCoded(`Unsupported JSON-LD media type ${c}`,d.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw Error(b.statusText||`Status code: ${b.status}`)}}},91891:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},29e3:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},35378:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JsonLdContextNormalized=void 0;let d=c(68912),e=c(98931),f=c(87011),g=c(24990);b.JsonLdContextNormalized=class{constructor(a){this.contextRaw=a}getContextRaw(){return this.contextRaw}expandTerm(a,b,c=e.defaultExpandOptions){let h=this.contextRaw[a];if(null===h||h&&null===h["@id"])return null;let i=!0;if(h&&b){let j=g.Util.getContextValueId(h);if(j&&j!==a){if("string"==typeof j&&(g.Util.isValidIri(j)||g.Util.isValidKeyword(j)))return j;g.Util.isPotentialKeyword(j)||(i=!1)}}let k=g.Util.getPrefix(a,this.contextRaw),l=this.contextRaw["@vocab"],m=(!!l||""===l)&&0>l.indexOf(":"),n=this.contextRaw["@base"],o=g.Util.isPotentialKeyword(a);if(k){let p=this.contextRaw[k],q=g.Util.getContextValueId(p);if(q){if("string"!=typeof p&&c.allowPrefixForcing){if("_"!==q[0]&&!o&&!p["@prefix"]&&!(a in this.contextRaw))return a}else if(!g.Util.isSimpleTermDefinitionPrefix(q,c))return a;return q+a.substr(k.length+1)}}else if(b&&(l||""===l||c.allowVocabRelativeToBase&&n&&m)&&!o&&!g.Util.isCompactIri(a)){if(!m)return l+a;if(c.allowVocabRelativeToBase)return(l||n?(0,d.resolve)(l,n):"")+a;throw new f.ErrorCoded(`Relative vocab expansion for term '${a}' with vocab '${l}' is not allowed.`,f.ERROR_CODES.INVALID_VOCAB_MAPPING)}else if(!b&&n&&!o&&!g.Util.isCompactIri(a))return(0,d.resolve)(a,n);if(i)return a;throw new f.ErrorCoded(`Invalid IRI mapping found for context entry '${a}': '${JSON.stringify(h)}'`,f.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(a,b){if(b&&this.contextRaw["@vocab"]&&a.startsWith(this.contextRaw["@vocab"]))return a.substr(this.contextRaw["@vocab"].length);if(!b&&this.contextRaw["@base"]&&a.startsWith(this.contextRaw["@base"]))return a.substr(this.contextRaw["@base"].length);let c={prefix:"",suffix:a};for(let d in this.contextRaw){let e=this.contextRaw[d];if(e&&!g.Util.isPotentialKeyword(d)){let f=g.Util.getContextValueId(e);if(a.startsWith(f)){let h=a.substr(f.length);if(h)h.length<c.suffix.length&&(c.prefix=d,c.suffix=h);else if(b)return d}}}return c.prefix?c.prefix+":"+c.suffix:a}}},24990:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Util=void 0;class c{static isCompactIri(a){return a.indexOf(":")>0&&!(a&&"#"===a[0])}static getPrefix(a,b){if(a&&"#"===a[0])return null;let c=a.indexOf(":");if(c>=0){if(a.length>c+1&&"/"===a.charAt(c+1)&&"/"===a.charAt(c+2))return null;let d=a.substr(0,c);if("_"===d)return null;if(b[d])return d}return null}static getContextValueId(a){if(null===a||"string"==typeof a)return a;let b=a["@id"];return b||null}static isSimpleTermDefinitionPrefix(a,b){return!c.isPotentialKeyword(a)&&("_"===a[0]||b.allowPrefixNonGenDelims||c.isPrefixIriEndingWithGenDelim(a))}static isPotentialKeyword(a){return"string"==typeof a&&c.KEYWORD_REGEX.test(a)}static isPrefixIriEndingWithGenDelim(a){return c.ENDS_WITH_GEN_DELIM.test(a)}static isPrefixValue(a){return a&&("string"==typeof a||a&&"object"==typeof a)}static isValidIri(a){return Boolean(a&&c.IRI_REGEX.test(a))}static isValidIriWeak(a){return!!a&&":"!==a[0]&&c.IRI_REGEX_WEAK.test(a)}static isValidKeyword(a){return c.VALID_KEYWORDS[a]}static isTermProtected(a,b){let c=a[b];return"string"!=typeof c&&c&&c["@protected"]}static hasProtectedTerms(a){for(let b of Object.keys(a))if(c.isTermProtected(a,b))return!0;return!1}static isReservedInternalKeyword(a){return a.startsWith("@__")}}b.Util=c,c.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,c.IRI_REGEX_WEAK=/(?::[^:])|\//,c.KEYWORD_REGEX=/^@[a-z]+$/i,c.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,c.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,c.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,c.VALID_KEYWORDS={"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},c.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction",],c.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version",],c.ALIAS_RANGE_BLACKLIST=["@context","@preserve",],c.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type",],c.CONTAINERS_1_0=["@list","@set","@index",]},95758:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(55170),b)},98386:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ContextTree=void 0;class c{constructor(){this.subTrees={}}getContext(a){if(a.length>0){let[b,...c]=a,d=this.subTrees[b];if(d){let e=d.getContext(c);if(e)return e.then(({context:a,depth:b})=>({context:a,depth:b+1}))}}return this.context?this.context.then(a=>({context:a,depth:0})):null}setContext(a,b){if(0===a.length)this.context=b;else{let[d,...e]=a,f=this.subTrees[d];f||(f=this.subTrees[d]=new c),f.setContext(e,b)}}removeContext(a){this.setContext(a,null)}}b.ContextTree=c},55170:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JsonLdParser=void 0;let d=c(2222),e=c(11288),f=c(89827),g=c(81889),h=c(36753),i=c(38215),j=c(49488),k=c(42613),l=c(73330),m=c(52709),n=c(67406),o=c(61323),p=c(51820),q=c(72963),r=c(93322),s=c(51478),t=c(22754),u=c(12475);class v extends f.Transform{constructor(a){super({readableObjectMode:!0}),a=a||{},this.options=a,this.parsingContext=new s.ParsingContext(Object.assign({parser:this},a)),this.util=new t.Util({dataFactory:a.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new d,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{void 0!==this.jsonParser.mode&&this.emit("error",Error("Unclosed document"))})}static fromHttpResponse(a,b,c,d){let f;if("application/ld+json"!==b){if("application/json"!==b&&!b.endsWith("+json"))throw new e.ErrorCoded(`Unsupported JSON-LD media type ${b}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(c&&c.has("Link")&&c.forEach((b,c)=>{if("link"===c){let d=(0,u.parse)(b);for(let g of d.get("rel","http://www.w3.org/ns/json-ld#context")){if(f)throw new e.ErrorCoded("Multiple JSON-LD context link headers were found on "+a,e.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);f=g.uri}}}),!f&&!(null==d?void 0:d.ignoreMissingContextLinkHeader))throw new e.ErrorCoded(`Missing context link header for media type ${b} on ${a}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let g;if(c&&c.has("Content-Type")){let h=c.get("Content-Type"),i=/; *profile=([^"]*)/.exec(h);i&&"http://www.w3.org/ns/json-ld#streaming"===i[1]&&(g=!0)}return new v(Object.assign({baseIRI:a,context:f,streamingProfile:g},d||{}))}import(a){let b=new f.PassThrough({readableObjectMode:!0});a.on("error",a=>c.emit("error",a)),a.on("data",a=>b.push(a)),a.on("end",()=>b.push(null));let c=b.pipe(new v(this.options));return c}_transform(a,b,c){this.jsonParser.write(a),this.lastOnValueJob.then(()=>c(),a=>c(a))}async newOnValueJob(a,b,c,d){let f=!0;if(d&&c<this.lastDepth){let g=this.parsingContext.listPointerStack[this.lastDepth];g&&(g.value&&this.emit("data",this.util.dataFactory.quad(g.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),g.listId.listHead=!0,this.parsingContext.idStack[g.listRootDepth+1]=[g.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await h.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),f=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}let i=await this.util.unaliasKeyword(a[c],a,c),j=await this.util.unaliasKeywordParent(a,c);this.parsingContext.emittedStack[c]=!0;let k=!0;e.Util.isValidKeyword(i)&&"@reverse"===j&&"@context"!==i&&this.emit("error",new e.ErrorCoded(`Found the @id '${b}' inside an @reverse property`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let l=!1;this.parsingContext.validationStack.length>1&&(l=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let m=Math.max(1,this.parsingContext.validationStack.length-1);m<a.length-1;m++){let n=this.parsingContext.validationStack[m]||(this.parsingContext.validationStack[m]=await this.validateKey(a.slice(0,m+1),m,l));if(n.valid)!l&&n.property&&(l=!0);else{this.parsingContext.emittedStack[c]=!1,k=!1;break}}if(this.util.isLiteral(c)&&(k=!1),k)for(let o of v.ENTRY_HANDLERS){let p=await o.test(this.parsingContext,this.util,i,a,c);if(p){await o.handle(this.parsingContext,this.util,i,a,b,c,p),o.isStackProcessor()&&(this.parsingContext.processingStack[c]=!0);break}}0===c&&Array.isArray(b)&&await this.util.validateValueIndexes(b),f&&c<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=c,this.lastKeys=a,this.parsingContext.unaliasedKeywordCacheStack.splice(c-1)}flushStacks(a){this.parsingContext.processingStack.splice(a,1),this.parsingContext.processingType.splice(a,1),this.parsingContext.emittedStack.splice(a,1),this.parsingContext.idStack.splice(a,1),this.parsingContext.graphStack.splice(a+1,1),this.parsingContext.graphContainerTermStack.splice(a,1),this.parsingContext.jsonLiteralStack.splice(a,1),this.parsingContext.validationStack.splice(a-1,2),this.parsingContext.literalStack.splice(a,this.parsingContext.literalStack.length-a)}async flushBuffer(a,b){let c=this.parsingContext.idStack[a];c||(c=this.parsingContext.idStack[a]=[this.util.dataFactory.blankNode()]);let d=this.parsingContext.unidentifiedValuesBuffer[a];if(d){for(let e of c){let f=await this.util.getDepthOffsetGraph(a,b),g=this.parsingContext.graphStack[a]||f>=0?this.parsingContext.idStack[a-f-1]:[await this.util.getGraphContainerValue(b,a)];if(g)for(let h of g)for(let i of(this.parsingContext.emittedStack[a]=!0,d))i.reverse?this.parsingContext.emitQuad(a,this.util.dataFactory.quad(i.object,i.predicate,e,h)):this.parsingContext.emitQuad(a,this.util.dataFactory.quad(e,i.predicate,i.object,h));else{let j=this.parsingContext.getUnidentifiedGraphBufferSafe(a-await this.util.getDepthOffsetGraph(a,b)-1);for(let k of d)k.reverse?j.push({object:e,predicate:k.predicate,subject:k.object}):j.push({object:k.object,predicate:k.predicate,subject:e})}}this.parsingContext.unidentifiedValuesBuffer.splice(a,1),this.parsingContext.literalStack.splice(a,1),this.parsingContext.jsonLiteralStack.splice(a,1)}let l=this.parsingContext.unidentifiedGraphsBuffer[a];if(l){for(let m of c){let n=1!==a||"BlankNode"!==m.termType||this.parsingContext.topLevelProperties?m:this.util.getDefaultGraph();for(let o of(this.parsingContext.emittedStack[a]=!0,l))this.parsingContext.emitQuad(a,this.util.dataFactory.quad(o.subject,o.predicate,o.object,n))}this.parsingContext.unidentifiedGraphsBuffer.splice(a,1)}}async validateKey(a,b,c){for(let d of v.ENTRY_HANDLERS)if(await d.validate(this.parsingContext,this.util,a,b,c))return{valid:!0,property:c||d.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=a=>{let b=this.jsonParser.stack.length,c=Array(b+1).fill(0).map((a,c)=>c===b?this.jsonParser.key:this.jsonParser.stack[c].key);if(!this.isParsingContextInner(b)){let d=()=>this.newOnValueJob(c,a,b,!0);if(this.parsingContext.streamingProfile||this.parsingContext.contextTree.getContext(c.slice(0,-1)))this.lastOnValueJob=this.lastOnValueJob.then(d);else if("@context"===c[b]){let e=this.contextJobs[b];e||(e=this.contextJobs[b]=[]),e.push(d)}else"@type"===c[b]||"number"==typeof c[b]&&"@type"===c[b-1]?this.typeJobs.push({job:d,keys:c.slice(0,c.length-1)}):this.contextAwaitingJobs.push({job:d,keys:c});this.parsingContext.streamingProfile||0!==b||(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=a=>{this.emit("error",a)}}isParsingContextInner(a){for(let b=a;b>0;b--)if("@context"===this.jsonParser.stack[b-1].key)return!0;return!1}async executeBufferedJobs(){for(let a of this.contextJobs)if(a)for(let b of a)await b();for(let c of(this.parsingContext.unaliasedKeywordCacheStack.splice(0),this.contextAwaitingJobs)){if(this.typeJobs.length>0){let d=[],e=[];for(let f=0;f<this.typeJobs.length;f++){let g=this.typeJobs[f];t.Util.isPrefixArray(g.keys,c.keys)&&(d.push(g),e.push(f))}let h=d.sort((a,b)=>a.keys.length-b.keys.length);for(let i of h)await i.job();let j=e.sort().reverse();for(let k of j)this.typeJobs.splice(k,1)}await c.job()}}}b.JsonLdParser=v,v.DEFAULT_PROCESSING_MODE="1.1",v.ENTRY_HANDLERS=[new g.EntryHandlerArrayValue,new k.EntryHandlerKeywordContext,new m.EntryHandlerKeywordId,new n.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new o.EntryHandlerKeywordNest,new p.EntryHandlerKeywordType,new r.EntryHandlerKeywordValue,new h.EntryHandlerContainer,new q.EntryHandlerKeywordUnknownFallback,new j.EntryHandlerPredicate,new i.EntryHandlerInvalidFallback,]},51478:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ParsingContext=void 0;let d=c(11288),e=c(87011),f=c(98386),g=c(55170);class h{constructor(a){this.contextParser=new d.ContextParser({documentLoader:a.documentLoader,skipValidation:a.skipContextValidation}),this.streamingProfile=!!a.streamingProfile,this.baseIRI=a.baseIRI,this.produceGeneralizedRdf=!!a.produceGeneralizedRdf,this.allowSubjectList=!!a.allowSubjectList,this.processingMode=a.processingMode||g.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!a.strictValues,this.validateValueIndexes=!!a.validateValueIndexes,this.defaultGraph=a.defaultGraph,this.rdfDirection=a.rdfDirection,this.normalizeLanguageTags=a.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=a.streamingProfileAllowOutOfOrderPlainType,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new f.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=a.parser,a.context?(this.rootContext=this.parseContext(a.context),this.rootContext.then(a=>this.validateContext(a))):this.rootContext=Promise.resolve(new d.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(a,b,c){return this.contextParser.parse(a,{baseIRI:this.baseIRI,ignoreProtection:c,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:b,processingMode:this.activeProcessingMode})}validateContext(a){let b=a.getContextRaw()["@version"];if(b){if(this.activeProcessingMode&&b>this.activeProcessingMode)throw new e.ErrorCoded(`Unsupported JSON-LD version '${b}' under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&b<this.activeProcessingMode)throw new e.ErrorCoded(`Invalid JSON-LD version ${b} under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=b}}async getContext(a,b=1){let c=a;for(;"number"==typeof a[a.length-1];)a=a.slice(0,a.length-1);b&&(a=a.slice(0,-b));let e=await this.getContextPropagationAware(a),f=e.context,g=f.getContextRaw();for(let h=e.depth;h<c.length-b;h++){let i=c[h],j=g[i];if(j&&"object"==typeof j&&"@context"in j){let k=(await this.parseContext(j,g,!0)).getContextRaw(),l=!(i in k)||k[i]["@context"]["@propagate"];(!1!==l||h===c.length-1-b)&&(delete(g=k)["@propagate"],g[i]=Object.assign({},g[i]),"@id"in j&&(g[i]["@id"]=j["@id"]),delete g[i]["@context"],!1!==l&&this.contextTree.setContext(c.slice(0,h+b),Promise.resolve(new d.JsonLdContextNormalized(g))))}}return new d.JsonLdContextNormalized(g)}async getContextPropagationAware(a){let b=a.length,c=null,e;do{e=!1,c&&"@__propagateFallback"in c.context.getContextRaw()?c.context=new d.JsonLdContextNormalized(c.context.getContextRaw()["@__propagateFallback"]):(c&&(a=a.slice(0,c.depth-1)),c=await this.contextTree.getContext(a)||{context:await this.rootContext,depth:0});let f=a[a.length-1];if(f in c.context.getContextRaw()){let g=c.context.getContextRaw()[f];g&&"object"==typeof g&&"@context"in g&&(e=!0)}}while(c.depth>0&& !1===c.context.getContextRaw()["@propagate"]&&c.depth!==b&&!e);return 0===c.depth&& !1===c.context.getContextRaw()["@propagate"]&&c.depth!==b&&(c.context=new d.JsonLdContextNormalized({})),c}async newOnValueJob(a,b,c,d){await this.parser.newOnValueJob(a,b,c,d)}async handlePendingContainerFlushBuffers(){if(!(this.pendingContainerFlushBuffers.length>0))return!1;for(let a of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(a.depth,a.keys),this.parser.flushStacks(a.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}emitQuad(a,b){1===a&&(this.topLevelProperties=!0),this.parser.push(b)}emitError(a){this.parser.emit("error",a)}emitContext(a){this.parser.emit("context",a)}getUnidentifiedValueBufferSafe(a){let b=this.unidentifiedValuesBuffer[a];return b||(b=[],this.unidentifiedValuesBuffer[a]=b),b}getUnidentifiedGraphBufferSafe(a){let b=this.unidentifiedGraphsBuffer[a];return b||(b=[],this.unidentifiedGraphsBuffer[a]=b),b}getExpandOptions(){return h.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(a,b){let c=this.idStack[a+b];if(c&&(this.idStack[a]=c,this.emittedStack[a]=!0,delete this.idStack[a+b]),this.pendingContainerFlushBuffers.length)for(let d of this.pendingContainerFlushBuffers)d.depth>=a+b&&(d.depth-=b,d.keys.splice(a,b));this.unidentifiedValuesBuffer[a+b]&&(this.unidentifiedValuesBuffer[a]=this.unidentifiedValuesBuffer[a+b],delete this.unidentifiedValuesBuffer[a+b])}}b.ParsingContext=h,h.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}},22754:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Util=void 0;let d=c(11288),e=c(41640),f=c(36753),g=c(95456);class h{constructor(a){this.parsingContext=a.parsingContext,this.dataFactory=a.dataFactory||new e.DataFactory,this.rdfFirst=this.dataFactory.namedNode(h.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(h.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(h.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(h.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(h.RDF+"JSON")}static getContextValue(a,b,c,d){let e=a.getContextRaw()[c];if(!e)return d;let f=e[b];return void 0===f?d:f}static getContextValueContainer(a,b){return h.getContextValue(a,"@container",b,{"@set":!0})}static getContextValueType(a,b){let c=h.getContextValue(a,"@type",b,null);return"@none"===c?null:c}static getContextValueLanguage(a,b){return h.getContextValue(a,"@language",b,a.getContextRaw()["@language"]||null)}static getContextValueDirection(a,b){return h.getContextValue(a,"@direction",b,a.getContextRaw()["@direction"]||null)}static isContextValueReverse(a,b){return!!h.getContextValue(a,"@reverse",b,null)}static getContextValueIndex(a,b){return h.getContextValue(a,"@index",b,a.getContextRaw()["@index"]||null)}static isPropertyReverse(a,b,c){return"@reverse"===c!==h.isContextValueReverse(a,b)}static isValidIri(a){return null!==a&&d.Util.isValidIri(a)}static isPrefixArray(a,b){if(a.length>b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}async validateValueIndexes(a){if(this.parsingContext.validateValueIndexes){let b={};for(let c of a)if(c&&"object"==typeof c){let e=c["@id"],f=c["@index"];if(e&&f){let g=b[e];if(g&&g!==f)throw new d.ErrorCoded(`Conflicting @index value for ${e}`,d.ERROR_CODES.CONFLICTING_INDEXES);b[e]=f}}}}async valueToTerm(a,b,c,e,f){if("@json"===h.getContextValueType(a,b))return[this.dataFactory.literal(this.valueToJsonString(c),this.rdfJson)];let g=typeof c;switch(g){case"object":if(null==c)return[];if(Array.isArray(c)){if("@list"in h.getContextValueContainer(a,b)){if(0===c.length)return[this.rdfNil];return this.parsingContext.idStack[e+1]||[]}return await this.validateValueIndexes(c),[]}if(a=await this.getContextSelfOrPropertyScoped(a,b),"@context"in c&&(a=await this.parsingContext.parseContext(c["@context"],(await this.parsingContext.getContext(f,0)).getContextRaw())),"@value"in(c=await this.unaliasKeywords(c,f,e,a))){let i,j,k,l,m;for(b in c){let n=c[b];switch(b){case"@value":i=n;break;case"@language":j=n;break;case"@direction":k=n;break;case"@type":l=n;break;case"@index":m=n;break;default:throw new d.ErrorCoded(`Unknown value entry '${b}' in @value: ${JSON.stringify(c)}`,d.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(l,f,e,!0,a)==="@json")return[this.dataFactory.literal(this.valueToJsonString(i),this.rdfJson)];if(null===i)return[];if("object"==typeof i)throw new d.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(i)}'`,d.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&m&&"string"!=typeof m)throw new d.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(m)}'`,d.ERROR_CODES.INVALID_INDEX_VALUE);if(j){if("string"!=typeof i)throw new d.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(i)}'`,d.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!d.ContextParser.validateLanguage(j,this.parsingContext.strictValues,d.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||1===this.parsingContext.activeProcessingMode)&&(j=j.toLowerCase())}if(k){if("string"!=typeof i)throw Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(i)}'`);if(!d.ContextParser.validateDirection(k,this.parsingContext.strictValues))return[]}if(j&&k&&this.parsingContext.rdfDirection){if(l)throw new d.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,d.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(e,i,j,k))}if(j){if(l)throw new d.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(c)}'`,d.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(i,j)]}if(k&&this.parsingContext.rdfDirection){if(l)throw new d.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,d.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(e,i,j,k))}else if(l){if("string"!=typeof l)throw new d.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(l)}'`,d.ERROR_CODES.INVALID_TYPED_VALUE);let o=this.createVocabOrBaseTerm(a,l);if(!o)throw new d.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(l)}'`,d.ERROR_CODES.INVALID_TYPED_VALUE);if("NamedNode"!==o.termType)throw new d.ErrorCoded(`Illegal value type (${o.termType}): ${l}`,d.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(i,o)]}return await this.valueToTerm(new d.JsonLdContextNormalized({}),b,i,e,f)}if("@set"in c){if(Object.keys(c).length>1)throw new d.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${b}'`,d.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}if("@list"in c){if(Object.keys(c).length>1)throw new d.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${b}'`,d.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);let p=c["@list"];if(!Array.isArray(p))return await this.valueToTerm(await this.parsingContext.getContext(f),b,p,e-1,f.slice(0,-1));if(0===p.length)return[this.rdfNil];return this.parsingContext.idStack[e+1]||[]}else if("@reverse"in c&&"boolean"==typeof c["@reverse"])return[];else if("@graph"in h.getContextValueContainer(await this.parsingContext.getContext(f),b)){let q=this.parsingContext.graphContainerTermStack[e+1];return q?Object.values(q):[this.dataFactory.blankNode()]}else if("@id"in c){if(Object.keys(c).length>1&&(a=await this.parsingContext.getContext(f,0)),"@context"in c&&(a=await this.parsingContext.parseContext(c["@context"],a.getContextRaw())),"@vocab"===c["@type"])return this.nullableTermToArray(this.createVocabOrBaseTerm(a,c["@id"]));return this.nullableTermToArray(this.resourceToTerm(a,c["@id"]))}else{if(this.parsingContext.emittedStack[e+1]||c&&"object"==typeof c&&0===Object.keys(c).length)return this.parsingContext.idStack[e+1]||(this.parsingContext.idStack[e+1]=[this.dataFactory.blankNode()]);return[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(e,await this.getContextSelfOrPropertyScoped(a,b),b,c,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(e,await this.getContextSelfOrPropertyScoped(a,b),b,Boolean(c).toString(),this.dataFactory.namedNode(h.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(e,await this.getContextSelfOrPropertyScoped(a,b),b,c,this.dataFactory.namedNode(c%1==0&&c<1e21?h.XSD_INTEGER:h.XSD_DOUBLE)));default:return this.parsingContext.emitError(Error(`Could not determine the RDF type of a ${g}`)),[]}}async getContextSelfOrPropertyScoped(a,b){let c=a.getContextRaw()[b];return c&&"object"==typeof c&&"@context"in c&&(a=await this.parsingContext.parseContext(c,a.getContextRaw(),!0)),a}nullableTermToArray(a){return a?[a]:[]}predicateToTerm(a,b){let c=a.expandTerm(b,!0,this.parsingContext.getExpandOptions());return c?"_"===c[0]&&":"===c[1]?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(c.substr(2)):null:h.isValidIri(c)?this.dataFactory.namedNode(c):(c&&this.parsingContext.strictValues&&this.parsingContext.emitError(new d.ErrorCoded(`Invalid predicate IRI: ${c}`,d.ERROR_CODES.INVALID_IRI_MAPPING)),null):null}resourceToTerm(a,b){if(b.startsWith("_:"))return this.dataFactory.blankNode(b.substr(2));let c=a.expandTerm(b,!1,this.parsingContext.getExpandOptions());if(!h.isValidIri(c)){if(!c||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(Error(`Invalid resource IRI: ${c}`))}return this.dataFactory.namedNode(c)}createVocabOrBaseTerm(a,b){if(b.startsWith("_:"))return this.dataFactory.blankNode(b.substr(2));let c=this.parsingContext.getExpandOptions(),d=a.expandTerm(b,!0,c);if(d===b&&(d=a.expandTerm(b,!1,c)),!h.isValidIri(d)){if(!d||!this.parsingContext.strictValues||d.startsWith("@"))return null;this.parsingContext.emitError(Error(`Invalid term IRI: ${d}`))}return this.dataFactory.namedNode(d)}intToString(a,b){if("number"!=typeof a)return a;if(!Number.isFinite(a))return a>0?"INF":"-INF";{let c=a%1==0;return c&&(!b||b.value!==h.XSD_DOUBLE)?Number(a).toString():a.toExponential(15).replace(/(\d)0*e\+?/,"$1E")}}stringValueToTerm(a,b,c,d,e){let f=h.getContextValueType(b,c);if(f){if("@id"===f){if(!e)return this.resourceToTerm(b,this.intToString(d,e))}else if("@vocab"===f){if(!e)return this.createVocabOrBaseTerm(b,this.intToString(d,e))}else e=this.dataFactory.namedNode(f)}if(!e){let g=h.getContextValueLanguage(b,c),i=h.getContextValueDirection(b,c);return i&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(a,this.intToString(d,e),g,i):this.dataFactory.literal(this.intToString(d,e),g)}return this.dataFactory.literal(this.intToString(d,e),e)}createLanguageDirectionLiteral(a,b,c,d){if("i18n-datatype"===this.parsingContext.rdfDirection)return c||(c=""),this.dataFactory.literal(b,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${c}_${d}`));{let e=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(a,this.dataFactory.quad(e,this.dataFactory.namedNode(h.RDF+"value"),this.dataFactory.literal(b),f)),c&&this.parsingContext.emitQuad(a,this.dataFactory.quad(e,this.dataFactory.namedNode(h.RDF+"language"),this.dataFactory.literal(c),f)),this.parsingContext.emitQuad(a,this.dataFactory.quad(e,this.dataFactory.namedNode(h.RDF+"direction"),this.dataFactory.literal(d),f)),e}}valueToJsonString(a){return g(a)}async unaliasKeyword(a,b,c,e,f){if(Number.isInteger(a))return a;if(!e){let g=this.parsingContext.unaliasedKeywordCacheStack[c];if(g)return g}if(!d.Util.isPotentialKeyword(a)){let h=(f=f||await this.parsingContext.getContext(b)).getContextRaw()[a];h&&"object"==typeof h&&(h=h["@id"]),d.Util.isValidKeyword(h)&&(a=h)}return e?a:this.parsingContext.unaliasedKeywordCacheStack[c]=a}async unaliasKeywordParent(a,b){return await this.unaliasKeyword(b>0&&a[b-1],a,b-1)}async unaliasKeywords(a,b,c,d){let e={};for(let f in a)e[await this.unaliasKeyword(f,b,c+1,!0,d)]=a[f];return e}isLiteral(a){for(let b=a;b>=0;b--)if(this.parsingContext.literalStack[b]||this.parsingContext.jsonLiteralStack[b])return!0;return!1}async getDepthOffsetGraph(a,b){for(let c=a-1;c>0;c--)if(await this.unaliasKeyword(b[c],b,c)==="@graph"){let d=(await f.EntryHandlerContainer.getContainerHandler(this.parsingContext,b,c)).containers;if(f.EntryHandlerContainer.isComplexGraphContainer(d))return -1;return a-c-1}return -1}validateReverseSubject(a){if("Literal"===a.termType)throw new d.ErrorCoded(`Found illegal literal in subject position: ${a.value}`,d.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(a,b){let c=this.getDefaultGraph(),{containers:d,depth:e}=await f.EntryHandlerContainer.getContainerHandler(this.parsingContext,a,b);if("@graph"in d){let g=f.EntryHandlerContainer.getContainerGraphIndex(d,e,a),h=this.parsingContext.graphContainerTermStack[e];if(!(c=h?h[g]:null)){let i=null;if("@id"in d){let j=await this.getContainerKey(a[e],a,e);null!==j&&(i=await this.resourceToTerm(await this.parsingContext.getContext(a),j))}i||(i=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[e]||(this.parsingContext.graphContainerTermStack[e]={}),c=this.parsingContext.graphContainerTermStack[e][g]=i}}return c}async getPropertiesDepth(a,b){let c=b;for(let d=b-1;d>0;d--)if("number"!=typeof a[d]){let e=await this.unaliasKeyword(a[d],a,d);if("@reverse"===e)return d;if("@nest"===e)c=d;else break}return c}async getContainerKey(a,b,c){let d=await this.unaliasKeyword(a,b,c);return"@none"===d?null:d}}b.Util=h,h.XSD="http://www.w3.org/2001/XMLSchema#",h.XSD_BOOLEAN=h.XSD+"boolean",h.XSD_INTEGER=h.XSD+"integer",h.XSD_DOUBLE=h.XSD+"double",h.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#"},70496:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ContainerHandlerIdentifier=void 0,b.ContainerHandlerIdentifier=class{canCombineWithGraph(){return!0}async handle(a,b,c,d,e,f){let g;if(b.emittedStack[f+1]&&b.idStack[f+1])g=b.idStack[f+1][0];else{let h=await c.getContainerKey(d[f],d,f),i=null!==h?await c.resourceToTerm(await b.getContext(d),d[f]):c.dataFactory.blankNode();if(!i){b.emittedStack[f]=!1;return}g=i,b.idStack[f+1]=[g]}let j=b.idStack[f];j||(j=b.idStack[f]=[]),j.some(a=>a.equals(g))||j.push(g),await b.handlePendingContainerFlushBuffers()||(b.emittedStack[f]=!1)}}},34910:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ContainerHandlerIndex=void 0;let d=c(11288),e=c(49488),f=c(22754);b.ContainerHandlerIndex=class{canCombineWithGraph(){return!0}async handle(a,b,c,g,h,i){if(!Array.isArray(h)){let j="@graph"in a,k=await b.getContext(g),l=g[i-1],m=f.Util.getContextValueIndex(k,l);if(m){if(d.Util.isPotentialKeyword(m))throw new d.ErrorCoded(`Keywords can not be used as @index value, got: ${m}`,d.ERROR_CODES.INVALID_TERM_DEFINITION);if("string"!=typeof m)throw new d.ErrorCoded(`@index values must be strings, got: ${m}`,d.ERROR_CODES.INVALID_TERM_DEFINITION);if("object"!=typeof h){if("@id"!==f.Util.getContextValueType(k,l))throw new d.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${h}`,d.ERROR_CODES.INVALID_VALUE_OBJECT);let n=c.resourceToTerm(k,h);n&&(b.idStack[i+1]=[n])}let o=c.createVocabOrBaseTerm(k,m);if(o){let p=await c.valueToTerm(k,m,await c.getContainerKey(g[i],g,i),i,g);if(j){let q=await c.getGraphContainerValue(g,i+1);for(let r of p)b.emitQuad(i,c.dataFactory.quad(q,o,r,c.getDefaultGraph()))}else for(let s of p)await e.EntryHandlerPredicate.handlePredicateObject(b,c,g,i+1,o,s,!1)}}let t=j?2:1;await b.newOnValueJob(g.slice(0,g.length-t),h,i-t,!0),await b.handlePendingContainerFlushBuffers()}b.emittedStack[i]=!1}}},33275:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ContainerHandlerLanguage=void 0;let d=c(11288);b.ContainerHandlerLanguage=class{canCombineWithGraph(){return!1}async handle(a,b,c,e,f,g){let h=await c.getContainerKey(e[g],e,g);if(Array.isArray(f))f=f.map(a=>({"@value":a,"@language":h}));else{if("string"!=typeof f)throw new d.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(f)}', but expected string`,d.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);f={"@value":f,"@language":h}}await b.newOnValueJob(e.slice(0,e.length-1),f,g-1,!0),b.emittedStack[g]=!1}}},8358:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ContainerHandlerType=void 0;let d=c(49488),e=c(22754);b.ContainerHandlerType=class{canCombineWithGraph(){return!1}async handle(a,b,c,f,g,h){if(!Array.isArray(g)){if("string"==typeof g){let i=await b.getContext(f),j=e.Util.getContextValueType(i,f[h-1]),k="@vocab"===j?await c.createVocabOrBaseTerm(i,g):await c.resourceToTerm(i,g);if(k){let l={"@id":"NamedNode"===k.termType?k.value:g};await b.newOnValueJob(f.slice(0,f.length-1),l,h-1,!0),b.idStack[h+1]=[k]}}else{let m=!!b.idStack[h+1];m||delete b.idStack[h],await b.newOnValueJob(f.slice(0,f.length-1),g,h-1,!0),m||(b.idStack[h+1]=b.idStack[h])}let n=await c.getContainerKey(f[h],f,h),o=null!==n?c.createVocabOrBaseTerm(await b.getContext(f),n):null;o&&await d.EntryHandlerPredicate.handlePredicateObject(b,c,f,h+1,c.rdfType,o,!1),await b.handlePendingContainerFlushBuffers()}b.emittedStack[h]=!1}}},81889:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerArrayValue=void 0;let d=c(22754);b.EntryHandlerArrayValue=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,b,c,d,e){return this.test(a,b,null,c,d)}async test(a,b,c,d,e){return"number"==typeof d[e]}async handle(a,b,c,e,f,g){let h=await b.unaliasKeywordParent(e,g);if("@list"===h){let i=null,j=0;for(let k=g-2;k>0;k--){let l=e[k];if("string"==typeof l||"number"==typeof l){j=k,i=l;break}}if(null!==i){let m=await b.valueToTerm(await a.getContext(e),i,f,g,e);for(let n of m)await this.handleListElement(a,b,n,f,g,e.slice(0,j),j);0===m.length&&await this.handleListElement(a,b,null,f,g,e.slice(0,j),j)}}else if("@set"===h)await a.newOnValueJob(e.slice(0,-2),f,g-2,!1);else if(void 0!==h&&"@type"!==h){for(let o=g-1;o>0;o--)if("number"!=typeof e[o]){h=await b.unaliasKeyword(e[o],e,o);break}let p=await a.getContext(e.slice(0,-1));if("@list"in d.Util.getContextValueContainer(p,h)){a.emittedStack[g+1]=!0;let q=await b.valueToTerm(await a.getContext(e),h,f,g,e);for(let r of q)await this.handleListElement(a,b,r,f,g,e.slice(0,-1),g-1);0===q.length&&await this.handleListElement(a,b,null,f,g,e.slice(0,-1),g-1)}else a.shiftStack(g,1),await a.newOnValueJob(e.slice(0,-1),f,g-1,!1),a.contextTree.removeContext(e.slice(0,-1))}}async handleListElement(a,b,c,d,e,f,g){let h=a.listPointerStack[e];if(null!==d&&null!==(await b.unaliasKeywords(d,f,e))["@value"]){if(h&&h.value){let i=b.dataFactory.blankNode();a.emitQuad(e,b.dataFactory.quad(h.value,b.rdfRest,i,b.getDefaultGraph())),h.value=i}else{let j=b.dataFactory.blankNode();h={value:j,listRootDepth:g,listId:j}}c&&a.emitQuad(e,b.dataFactory.quad(h.value,b.rdfFirst,c,b.getDefaultGraph()))}else h||(h={listRootDepth:g,listId:b.rdfNil});a.listPointerStack[e]=h}}},36753:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerContainer=void 0;let d=c(70496),e=c(34910),f=c(33275),g=c(8358),h=c(22754);class i{static isSimpleGraphContainer(a){return"@graph"in a&&("@set"in a&&2===Object.keys(a).length||1===Object.keys(a).length)}static isComplexGraphContainer(a){return"@graph"in a&&("@set"in a&&Object.keys(a).length>2|| !("@set"in a)&&Object.keys(a).length>1)}static getContainerGraphIndex(a,b,c){let d=i.isSimpleGraphContainer(a),e="";for(let f=b;f<c.length;f++)d&&"number"!=typeof c[f]||(e+=":"+c[f]),d||"number"==typeof c[f]||(d=!0);return e}static async getContainerHandler(a,b,c){let d={containers:{"@set":!0},depth:c,fallback:!0},e=!1,f=await a.getContext(b,2);for(let g=c-1;g>=0;g--)if("number"!=typeof b[g]){let j=h.Util.getContextValue(f,"@container",b[g],!1);if(j&&i.isSimpleGraphContainer(j))return{containers:j,depth:g+1,fallback:!1};let k=h.Util.getContextValue(f,"@container",b[g-1],!1);if(k){let l="@graph"in k;for(let m in i.CONTAINER_HANDLERS)if(k[m]){if(l){if(i.CONTAINER_HANDLERS[m].canCombineWithGraph())return{containers:k,depth:g,fallback:!1};break}if(!e)return{containers:k,depth:g,fallback:!1};break}break}if(e)return d;e=!0}return d}static async isBufferableContainerHandler(a,b,c){let d=await i.getContainerHandler(a,b,c);return!d.fallback&&!("@graph"in d.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,b,c,d,e){return!!await this.test(a,b,null,c,d)}async test(a,b,c,d,e){let f=h.Util.getContextValueContainer(await a.getContext(d,2),d[e-1]);for(let g in i.CONTAINER_HANDLERS)if(f[g])return{containers:f,handler:i.CONTAINER_HANDLERS[g]};return null}async handle(a,b,c,d,e,f,g){return g.handler.handle(g.containers,a,b,d,e,f)}}b.EntryHandlerContainer=i,i.CONTAINER_HANDLERS={"@id":new d.ContainerHandlerIdentifier,"@index":new e.ContainerHandlerIndex,"@language":new f.ContainerHandlerLanguage,"@type":new g.ContainerHandlerType}},38215:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerInvalidFallback=void 0,b.EntryHandlerInvalidFallback=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,b,c,d,e){return!1}async test(a,b,c,d,e){return!0}async handle(a,b,c,d,e,f){a.emittedStack[f]=!1}}},49488:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerPredicate=void 0;let d=c(11288),e=c(22754);class f{static async handlePredicateObject(a,b,c,d,e,f,g){let h=await b.getPropertiesDepth(c,d),i=await b.getDepthOffsetGraph(d,c),j=d-i,k=a.idStack[h];if(k)for(let l of k){let m=i>=0;if(m){let n=a.idStack[j-1];if(n)for(let o of n)g?(b.validateReverseSubject(f),a.emitQuad(d,b.dataFactory.quad(f,e,l,o))):a.emitQuad(d,b.dataFactory.quad(l,e,f,o));else g?(b.validateReverseSubject(f),a.getUnidentifiedGraphBufferSafe(j-1).push({subject:f,predicate:e,object:l})):a.getUnidentifiedGraphBufferSafe(j-1).push({subject:l,predicate:e,object:f})}else{let p=await b.getGraphContainerValue(c,h);g?(b.validateReverseSubject(f),a.emitQuad(d,b.dataFactory.quad(f,e,l,p))):a.emitQuad(d,b.dataFactory.quad(l,e,f,p))}}else g&&b.validateReverseSubject(f),a.getUnidentifiedValueBufferSafe(h).push({predicate:e,object:f,reverse:g})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,b,c,d,f){let g=c[d];if(g){let h=await a.getContext(c);if(!a.jsonLiteralStack[d]&&await b.predicateToTerm(h,c[d]))return"@json"===e.Util.getContextValueType(h,g)&&(a.jsonLiteralStack[d+1]=!0),!0}return!1}async test(a,b,c,d,e){return d[e]}async handle(a,b,c,g,h,i,j){let k=g[i],l=await a.getContext(g),m=await b.predicateToTerm(l,c);if(m){let n=await b.valueToTerm(l,c,h,i,g);if(n.length)for(let o of n){let p=e.Util.isPropertyReverse(l,k,await b.unaliasKeywordParent(g,i));if(h){let q="@list"in e.Util.getContextValueContainer(l,c);if(q||h["@list"]){if((q&&!Array.isArray(h)&&!h["@list"]||h["@list"]&&!Array.isArray(h["@list"]))&&o!==b.rdfNil){let r=b.dataFactory.blankNode();a.emitQuad(i,b.dataFactory.quad(r,b.rdfRest,b.rdfNil,b.getDefaultGraph())),a.emitQuad(i,b.dataFactory.quad(r,b.rdfFirst,o,b.getDefaultGraph())),o=r}if(p&&!a.allowSubjectList)throw new d.ErrorCoded(`Found illegal list value in subject position at ${c}`,d.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await f.handlePredicateObject(a,b,g,i,m,o,p)}}}}b.EntryHandlerPredicate=f},4479:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerKeyword=void 0,b.EntryHandlerKeyword=class{constructor(a){this.keyword=a}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,b,c,d,e){return!1}async test(a,b,c,d,e){return c===this.keyword}}},42613:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerKeywordContext=void 0;let d=c(11288),e=c(4479);class f extends e.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(a,b,c,e,f,g){a.streamingProfile&&(a.processingStack[g]||a.processingType[g]|| void 0!==a.idStack[g])&&a.emitError(new d.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",d.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));let h=a.getContext(e),i=a.parseContext(f,(await h).getContextRaw());a.contextTree.setContext(e.slice(0,-1),i),a.emitContext(f),await a.validateContext(await i)}}b.EntryHandlerKeywordContext=f},73330:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerKeywordGraph=void 0;let d=c(4479);class e extends d.EntryHandlerKeyword{constructor(){super("@graph")}async handle(a,b,c,d,e,f){a.graphStack[f+1]=!0}}b.EntryHandlerKeywordGraph=e},52709:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerKeywordId=void 0;let d=c(11288),e=c(4479);class f extends e.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(a,b,c,e,f,g){"string"!=typeof f&&a.emitError(new d.ErrorCoded(`Found illegal @id '${f}'`,d.ERROR_CODES.INVALID_ID_VALUE));let h=await b.getPropertiesDepth(e,g);void 0!==a.idStack[h]&&(a.idStack[h][0].listHead?a.emitError(new d.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${e[g-1]}'`,d.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):a.emitError(new d.ErrorCoded(`Found duplicate @ids '${a.idStack[h][0].value}' and '${f}'`,d.ERROR_CODES.COLLIDING_KEYWORDS))),a.idStack[h]=b.nullableTermToArray(await b.resourceToTerm(await a.getContext(e),f))}}b.EntryHandlerKeywordId=f},67406:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerKeywordIncluded=void 0;let d=c(11288),e=c(4479);class f extends e.EntryHandlerKeyword{constructor(){super("@included")}async handle(a,b,c,e,f,g){"object"!=typeof f&&a.emitError(new d.ErrorCoded(`Found illegal @included '${f}'`,d.ERROR_CODES.INVALID_INCLUDED_VALUE));let h=await b.unaliasKeywords(f,e,g,await a.getContext(e));"@value"in h&&a.emitError(new d.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(f)}'`,d.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in h&&a.emitError(new d.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(f)}'`,d.ERROR_CODES.INVALID_INCLUDED_VALUE)),a.emittedStack[g]=!1}}b.EntryHandlerKeywordIncluded=f},61323:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerKeywordNest=void 0;let d=c(11288),e=c(4479);class f extends e.EntryHandlerKeyword{constructor(){super("@nest")}async handle(a,b,c,e,f,g){"object"!=typeof f&&a.emitError(new d.ErrorCoded(`Found invalid @nest entry for '${c}': '${f}'`,d.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await b.unaliasKeywords(f,e,g,await a.getContext(e))&&a.emitError(new d.ErrorCoded(`Found an invalid @value node for '${c}'`,d.ERROR_CODES.INVALID_NEST_VALUE)),a.emittedStack[g]=!1}}b.EntryHandlerKeywordNest=f},51820:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerKeywordType=void 0;let d=c(11288),e=c(22754),f=c(49488),g=c(4479);class h extends g.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(a,b,c,g,h,i){let j=g[i],k=await a.getContext(g),l=b.rdfType,m=e.Util.isPropertyReverse(k,j,await b.unaliasKeywordParent(g,i)),n=Array.isArray(h)?h:[h];for(let o of n){"string"!=typeof o&&a.emitError(new d.ErrorCoded(`Found illegal @type '${o}'`,d.ERROR_CODES.INVALID_TYPE_VALUE));let p=b.createVocabOrBaseTerm(k,o);p&&await f.EntryHandlerPredicate.handlePredicateObject(a,b,g,i,l,p,m)}let q=Promise.resolve(k),r=!1;for(let s of n.sort()){let t=e.Util.getContextValue(k,"@context",s,null);t&&(r=!0,q=q.then(b=>a.parseContext(t,b.getContextRaw())))}a.streamingProfile&&(r||!a.streamingProfileAllowOutOfOrderPlainType)&&(a.processingStack[i]||a.idStack[i])&&a.emitError(new d.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",d.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),r&&(q=q.then(a=>("@propagate"in a.getContextRaw()||(a.getContextRaw()["@propagate"]=!1),!1===a.getContextRaw()["@propagate"]&&(a.getContextRaw()["@__propagateFallback"]=k.getContextRaw()),a)),a.contextTree.setContext(g.slice(0,g.length-1),q)),a.processingType[i]=!0}}b.EntryHandlerKeywordType=h},72963:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerKeywordUnknownFallback=void 0;let d=c(11288);class e{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,b,c,e,f){let g=await b.unaliasKeyword(c[e],c,e);return!!d.Util.isPotentialKeyword(g)&&(!!f||"@list"!==g)}async test(a,b,c,e,f){return d.Util.isPotentialKeyword(c)}async handle(a,b,c,f,g,h){let i=e.VALID_KEYWORDS_TYPES[c];void 0!==i?i&& typeof g!==i.type&&a.emitError(new d.ErrorCoded(`Invalid value type for '${c}' with value '${g}'`,i.errorCode)):a.strictValues&&a.emitError(Error(`Unknown keyword '${c}' with value '${g}'`)),a.emittedStack[h]=!1}}b.EntryHandlerKeywordUnknownFallback=e,e.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:d.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:d.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null}},93322:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EntryHandlerKeywordValue=void 0;let d=c(4479);class e extends d.EntryHandlerKeyword{constructor(){super("@value")}async validate(a,b,c,d,e){let f=c[d];return f&&!a.literalStack[d]&&await this.test(a,b,f,c,d)&&(a.literalStack[d]=!0),super.validate(a,b,c,d,e)}async test(a,b,c,d,e){return await b.unaliasKeyword(d[e],d.slice(0,d.length-1),e-1,!0)==="@value"}async handle(a,b,c,d,e,f){a.literalStack[f]=!0,delete a.unidentifiedValuesBuffer[f],delete a.unidentifiedGraphsBuffer[f],a.emittedStack[f]=!1}}b.EntryHandlerKeywordValue=e},6900:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(90575),b),e(c(85448),b)},90575:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JsonLdSerializer=void 0;let d=c(11288),e=c(75601),f=c(85448),g=c(89827);class h extends g.Transform{constructor(a={}){super({objectMode:!0}),this.indentation=0,this.options=a,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new d.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new d.JsonLdContextNormalized({}))}import(a){let b=new g.PassThrough({objectMode:!0});a.on("error",a=>c.emit("error",a)),a.on("data",a=>b.push(a)),a.on("end",()=>b.push(null));let c=b.pipe(new h(this.options));return c}_transform(a,b,c){this.context.then(b=>{this.transformQuad(a,b),c()}).catch(c)}async list(a){let b=await this.context;return{"@list":a.map(a=>f.Util.termToValue(a,b,this.options))}}_flush(a){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&"DefaultGraph"!==this.lastGraph.termType&&this.endGraph(),this.endDocument(),a(null,null)}transformQuad(a,b){this.opened||this.pushDocumentStart();let c=this.lastGraph&&"DefaultGraph"!==this.lastGraph.termType&&this.lastGraph.equals(a.subject);if(!c&&(!this.lastGraph||!a.graph.equals(this.lastGraph))){let d="DefaultGraph"!==a.graph.termType&&this.lastSubject&&this.lastSubject.equals(a.graph);this.lastGraph&&("DefaultGraph"!==this.lastGraph.termType?(this.endPredicate(),this.endSubject(),this.endGraph(!0),d=!1):d?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),"DefaultGraph"!==a.graph.termType&&(d||this.pushId(a.graph,b),this.pushSeparator(this.options.space?e.SeparatorType.GRAPH_FIELD_NONCOMPACT:e.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=a.graph}this.lastSubject&&a.subject.equals(this.lastSubject)||(c?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END_COMMA),this.lastGraph=a.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(a.subject,b)),this.lastSubject=a.subject),this.lastPredicate&&a.predicate.equals(this.lastPredicate)||(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(a.predicate,b)),this.pushObject(a.object,b)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(e.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(e.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?e.SeparatorType.GRAPH_FIELD_NONCOMPACT:e.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(e.SeparatorType.ARRAY_START),this.indentation++)}pushId(a,b){let c="BlankNode"===a.termType?"_:"+a.value:b.compactIri(a.value,!1);this.pushSeparator(e.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?`"@id": "${c}",`:`"@id":"${c}",`)}pushPredicate(a,b){let c=a.value;this.options.useRdfType||c!==f.Util.RDF_TYPE||(c="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));let d=b.compactIri(c,!0);this.pushIndented(this.options.space?`"${d}": [`:`"${d}":[`),this.indentation++,this.lastPredicate=a}pushObject(a,b){this.hadObjectForPredicate?this.pushSeparator(e.SeparatorType.COMMA):this.hadObjectForPredicate=!0;let c;try{c=a["@list"]?a:f.Util.termToValue(a,b,this.objectOptions||this.options)}catch(d){return this.emit("error",d)}this.pushIndented(JSON.stringify(c,null,this.options.space))}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(e.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END))}endPredicate(a){this.indentation--,this.pushSeparator(a?e.SeparatorType.ARRAY_END_COMMA:e.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(a){this.indentation--,this.pushSeparator(a?e.SeparatorType.OBJECT_END_COMMA:e.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(a){this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(a?e.SeparatorType.OBJECT_END_COMMA:e.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(a){this.pushIndented(a.label)}pushIndented(a){let b=this.getIndentPrefix(),c=a.split("\n").map(a=>b+a).join("\n");this.push(c),this.options.space&&this.push("\n")}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}}b.JsonLdSerializer=h},75601:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SeparatorType=void 0;class c{constructor(a){this.label=a}}b.SeparatorType=c,c.COMMA=new c(","),c.OBJECT_START=new c("{"),c.OBJECT_END=new c("}"),c.OBJECT_END_COMMA=new c("},"),c.ARRAY_START=new c("["),c.ARRAY_END=new c("]"),c.ARRAY_END_COMMA=new c("],"),c.GRAPH_FIELD_NONCOMPACT=new c('"@graph": ['),c.GRAPH_FIELD_COMPACT=new c('"@graph":['),c.CONTEXT_FIELD=new c('"@context":')},85448:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Util=void 0;let d=c(11288);class e{static termToValue(a,b,c={compactIds:!1,useNativeTypes:!1}){switch(a.termType){case"NamedNode":let f=b.compactIri(a.value,c.vocab);return c.compactIds?f:{"@id":f};case"DefaultGraph":return c.compactIds?a.value:{"@id":a.value};case"BlankNode":let g=`_:${a.value}`;return c.compactIds?g:{"@id":g};case"Literal":if(a.datatype.value===e.RDF_JSON){let h;try{h=JSON.parse(a.value)}catch(i){throw new d.ErrorCoded("Invalid JSON literal: "+i.message,d.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":h,"@type":"@json"}}if("i18n-datatype"===c.rdfDirection&&a.datatype.value.startsWith(e.I18N)){let[j,k]=a.datatype.value.substr(e.I18N.length,a.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":a.value},j?{"@language":j}:{}),k?{"@direction":k}:{})}let l=a.datatype.value===e.XSD_STRING,m={"@value":!l&&c.useNativeTypes?e.stringToNativeType(a.value,a.datatype.value):a.value};if(a.language)return Object.assign(Object.assign({},m),{"@language":a.language});if(!l&&"string"==typeof m["@value"])return Object.assign(Object.assign({},m),{"@type":a.datatype.value});return m}}static stringToNativeType(a,b){if(b.startsWith(e.XSD)){let c=b.substr(e.XSD.length);switch(c){case"boolean":if("true"===a)return!0;if("false"===a)return!1;throw Error(`Invalid xsd:boolean value '${a}'`);case"integer":case"number":case"int":case"byte":case"long":let d=parseInt(a,10);if(isNaN(d))throw Error(`Invalid xsd:integer value '${a}'`);return d;case"float":case"double":let f=parseFloat(a);if(isNaN(f))throw Error(`Invalid xsd:float value '${a}'`);return f}}return a}}b.Util=e,e.XSD="http://www.w3.org/2001/XMLSchema#",e.XSD_STRING=e.XSD+"string",e.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e.RDF_TYPE=e.RDF+"type",e.RDF_JSON=e.RDF+"JSON",e.I18N="https://www.w3.org/ns/i18n#"},2222:function(a,b,c){var d=c(48764).Buffer,e={},f=e.LEFT_BRACE=1,g=e.RIGHT_BRACE=2,h=e.LEFT_BRACKET=3,i=e.RIGHT_BRACKET=4,j=e.COLON=5,k=e.COMMA=6,l=e.TRUE=7,m=e.FALSE=8,n=e.NULL=9,o=e.STRING=10,p=e.NUMBER=11,q=e.START=17,r=e.STOP=18,s=e.TRUE1=33,t=e.TRUE2=34,u=e.TRUE3=35,v=e.FALSE1=49,w=e.FALSE2=50,x=e.FALSE3=51,y=e.FALSE4=52,z=e.NULL1=65,A=e.NULL2=66,B=e.NULL3=67,C=e.NUMBER1=81,D=e.NUMBER3=83,E=e.STRING1=97,F=e.STRING2=98,G=e.STRING3=99,H=e.STRING4=100,I=e.STRING5=101,J=e.STRING6=102,K=e.VALUE=113,L=e.KEY=114,M=e.OBJECT=129,N=e.ARRAY=130;function O(){this.tState=q,this.value=void 0,this.string=void 0,this.stringBuffer=d.alloc?d.alloc(65536):new d(65536),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=K,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={"2":new d(2),"3":new d(3),"4":new d(4)},this.offset=-1}O.toknam=function(a){for(var b=Object.keys(e),c=0,d=b.length;c<d;c++){var f=b[c];if(e[f]===a)return f}return a&&"0x"+a.toString(16)};var P=O.prototype;P.onError=function(a){throw a},P.charError=function(a,b){this.tState=r,this.onError(Error("Unexpected "+JSON.stringify(String.fromCharCode(a[b]))+" at position "+b+" in state "+O.toknam(this.tState)))},P.appendStringChar=function(a){this.stringBufferOffset>=65536&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=a},P.appendStringBuf=function(a,b,c){var d=a.length;"number"==typeof b&&(d="number"==typeof c?c<0?a.length-b+c:c-b:a.length-b),d<0&&(d=0),this.stringBufferOffset+d>65536&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),a.copy(this.stringBuffer,this.stringBufferOffset,b,c),this.stringBufferOffset+=d},P.write=function(a){"string"==typeof a&&(a=new d(a));for(var b,c=0,e=a.length;c<e;c++)if(this.tState===q){if(b=a[c],this.offset++,123===b)this.onToken(f,"{");else if(125===b)this.onToken(g,"}");else if(91===b)this.onToken(h,"[");else if(93===b)this.onToken(i,"]");else if(58===b)this.onToken(j,":");else if(44===b)this.onToken(k,",");else if(116===b)this.tState=s;else if(102===b)this.tState=v;else if(110===b)this.tState=z;else if(34===b)this.string="",this.stringBufferOffset=0,this.tState=E;else if(45===b)this.string="-",this.tState=C;else if(b>=48&&b<64)this.string=String.fromCharCode(b),this.tState=D;else if(32!==b&&9!==b&&10!==b&&13!==b)return this.charError(a,c)}else if(this.tState===E){if(b=a[c],this.bytes_remaining>0){for(var r=0;r<this.bytes_remaining;r++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+r]=a[r];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,c=c+r-1}else if(0===this.bytes_remaining&&b>=128){if(b<=193||b>244)return this.onError(Error("Invalid UTF-8 character at position "+c+" in state "+O.toknam(this.tState)));if(b>=194&&b<=223&&(this.bytes_in_sequence=2),b>=224&&b<=239&&(this.bytes_in_sequence=3),b>=240&&b<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+c>a.length){for(var K=0;K<=a.length-1-c;K++)this.temp_buffs[this.bytes_in_sequence][K]=a[c+K];this.bytes_remaining=c+this.bytes_in_sequence-a.length,c=a.length-1}else this.appendStringBuf(a,c,c+this.bytes_in_sequence),c=c+this.bytes_in_sequence-1}else if(34===b)this.tState=q,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(o,this.string),this.offset+=d.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===b)this.tState=F;else{if(!(b>=32))return this.charError(a,c);this.appendStringChar(b)}}else if(this.tState===F){if(34===(b=a[c]))this.appendStringChar(b),this.tState=E;else if(92===b)this.appendStringChar(92),this.tState=E;else if(47===b)this.appendStringChar(47),this.tState=E;else if(98===b)this.appendStringChar(8),this.tState=E;else if(102===b)this.appendStringChar(12),this.tState=E;else if(110===b)this.appendStringChar(10),this.tState=E;else if(114===b)this.appendStringChar(13),this.tState=E;else if(116===b)this.appendStringChar(9),this.tState=E;else{if(117!==b)return this.charError(a,c);this.unicode="",this.tState=G}}else if(this.tState===G||this.tState===H||this.tState===I||this.tState===J){if((!((b=a[c])>=48)||!(b<64))&&(!(b>64)||!(b<=70))&&(!(b>96)||!(b<=102)))return this.charError(a,c);if(this.unicode+=String.fromCharCode(b),(this.tState++)===J){var L=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&L>=56320&&L<57344?(this.appendStringBuf(new d(String.fromCharCode(this.highSurrogate,L))),this.highSurrogate=void 0):void 0===this.highSurrogate&&L>=55296&&L<56320?this.highSurrogate=L:(void 0!==this.highSurrogate&&(this.appendStringBuf(new d(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new d(String.fromCharCode(L)))),this.tState=E}}else if(this.tState===C||this.tState===D)switch(b=a[c]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(b),this.tState=D;break;default:this.tState=q;var M=Number(this.string);if(isNaN(M))return this.charError(a,c);this.string.match(/[0-9]+/)==this.string&&M.toString()!=this.string?this.onToken(o,this.string):this.onToken(p,M),this.offset+=this.string.length-1,this.string=void 0,c--}else if(this.tState===s){if(114!==a[c])return this.charError(a,c);this.tState=t}else if(this.tState===t){if(117!==a[c])return this.charError(a,c);this.tState=u}else if(this.tState===u){if(101!==a[c])return this.charError(a,c);this.tState=q,this.onToken(l,!0),this.offset+=3}else if(this.tState===v){if(97!==a[c])return this.charError(a,c);this.tState=w}else if(this.tState===w){if(108!==a[c])return this.charError(a,c);this.tState=x}else if(this.tState===x){if(115!==a[c])return this.charError(a,c);this.tState=y}else if(this.tState===y){if(101!==a[c])return this.charError(a,c);this.tState=q,this.onToken(m,!1),this.offset+=4}else if(this.tState===z){if(117!==a[c])return this.charError(a,c);this.tState=A}else if(this.tState===A){if(108!==a[c])return this.charError(a,c);this.tState=B}else if(this.tState===B){if(108!==a[c])return this.charError(a,c);this.tState=q,this.onToken(n,null),this.offset+=3}},P.onToken=function(a,b){},P.parseError=function(a,b){this.tState=r,this.onError(Error("Unexpected "+O.toknam(a)+(b?"("+JSON.stringify(b)+")":"")+" in state "+O.toknam(this.state)))},P.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},P.pop=function(){var a=this.value,b=this.stack.pop();this.value=b.value,this.key=b.key,this.mode=b.mode,this.emit(a),this.mode||(this.state=K)},P.emit=function(a){this.mode&&(this.state=k),this.onValue(a)},P.onValue=function(a){},P.onToken=function(a,b){if(this.state===K){if(a===o||a===p||a===l||a===m||a===n)this.value&&(this.value[this.key]=b),this.emit(b);else if(a===f)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=L,this.mode=M;else if(a===h)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=N,this.state=K;else if(a===g){if(this.mode!==M)return this.parseError(a,b);this.pop()}else{if(a!==i||this.mode!==N)return this.parseError(a,b);this.pop()}}else if(this.state===L){if(a===o)this.key=b,this.state=j;else{if(a!==g)return this.parseError(a,b);this.pop()}}else if(this.state===j){if(a!==j)return this.parseError(a,b);this.state=K}else if(this.state!==k)return this.parseError(a,b);else if(a===k)this.mode===N?(this.key++,this.state=K):this.mode===M&&(this.state=L);else{if((a!==i||this.mode!==N)&&(a!==g||this.mode!==M))return this.parseError(a,b);this.pop()}},O.C=e,a.exports=O},15956:function(a,b,c){"use strict";c.d(b,{ZP:function(){return af}});let d=Object.create(null);var e=c(11288),f=c(68825);class g{constructor(){this._context=Promise.resolve({}),this.extendContext(...arguments)}async extendContext(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];await (this._context=this._context.then(a=>{let{contextRaw:c}=a;return new e.ContextParser().parse([c,...b])}))}}let h={};async function i(a){let b=[];for await(let c of a)b.push(c);return b}function j(a){let b=a[Symbol.asyncIterator]();return b.next().then(a=>a.value)}function k(a){return{then:l(a)}}function l(a){return(b,c)=>a().then(b,c)}let m="http://www.w3.org/2001/XMLSchema#",n=`${m}boolean`,o=`${m}dateTime`,p=`${m}decimal`,q=`${m}double`,r=`${m}float`,s=`${m}integer`,t=(0,f.namedNode)(n),u=(0,f.namedNode)(o),v=(0,f.namedNode)(p),w=(0,f.namedNode)(q),x=(0,f.namedNode)(s),y=(0,f.literal)("true",t),z=(0,f.literal)("false",t),A=(0,f.literal)("NaN",w),B=(0,f.literal)("INF",w),C=(0,f.literal)("-INF",w),D={NaN,INF:1/0,"-INF":-1/0};function E(a){return a&&"function"==typeof a[Symbol.asyncIterator]}function F(a){return null!==a&&"object"==typeof a&&!Array.isArray(a)&&!(a instanceof Date)&&"function"!=typeof a.then&&"string"!=typeof a.termType&&!E(a)}function G(a){let b=arguments.length>1&& void 0!==arguments[1]&&arguments[1],c=a.some(F);if(c&&!b&&1!==a.length)throw Error(`Expected only 1 plain object, but got ${a.length} arguments`);return c}function H(a){switch(typeof a){case"string":return(0,f.literal)(a);case"boolean":return a?y:z;case"number":if(Number.isInteger(a))return(0,f.literal)(a.toString(),x);if(Number.isFinite(a))return(0,f.literal)(a.toString(),v);if(a===1/0)return B;else if(a=== -1/0)return C;return A;default:if(a){if("string"==typeof a.termType)return a;if(a instanceof Date)return(0,f.literal)(a.toISOString(),u)}}throw Error(`Invalid object: ${a}`)}class I{get _context(){return this._contextProvider._context}async extendContext(){await this._contextProvider.extendContext(...arguments)}constructor(a){this._contextProvider=new g;for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];a instanceof g?(this._contextProvider=a,this.extendContext(...c)):this.extendContext(a,...c)}supports(a){return"string"==typeof a}resolve(a,b){let c=k(()=>this.expandProperty(a)),d=k(()=>this._context.then(b=>{let{contextRaw:c}=b;return c[a]&&c[a]["@reverse"]})),e=this.getResultsCache(b,c,d),f={property:a,predicate:c,resultsCache:e,reverse:d,apply:this.apply};return b.extendPath(f)}apply(a,b,c){if(0===a.length){let{property:d}=b;throw Error(`Specify at least one term when calling .${d}() on a path`)}return b.values=a.map(H),c}async expandProperty(a){return this.lookupProperty(a.replace(/^([a-z][a-z0-9]*)[_$]/i,"$1:"))}getResultsCache(a,b,c){let{propertyCache:d}=a;return d&&k(async()=>(d=!await c&&await d)&&d[(await b).value])}}var J=c(21938);function K(a){if("join"===a.type)return a.input.map(a=>K(a)).join("/");if("bgp"===a.type&&a.patterns.every(a=>"NamedNode"===a.predicate.termType)&&a.patterns.length>=0){let b="s";return a.patterns.map(a=>{let c=`<${a.predicate.value}>`;return a.object.value===b?(b=a.subject.value,`^${c}`):(b=a.object.value,c)}).join("/")}if("path"===a.type){let c=(0,J.toSparql)({type:"project",input:a});return c.replace(/^SELECT WHERE \{ \?[0-9a-z]+ \(|\) \?[0-9a-z]+\. \}$/ig,"")}throw Error(`Unhandled algebra ${a.type}`)}function L(a){return{handle:a}}let M="http://www.w3.org/1999/02/22-rdf-syntax-ns#";function N(){return L((a,b)=>async()=>{let a=await b,c=[];for(;a&&a.value!==`${M}nil`;)c.push(a[`${M}first`]),a=await a[`${M}rest`];return(await Promise.all(c)).filter(a=>void 0!==a)})}function O(a){return L((b,c)=>async()=>{let b=[],d,e=0;for(;d=await c[`${M}_${++e}`];)b.push(d);return b=await Promise.all(b),a?new Set(b):b})}class P{constructor(a){this._isAsync=a.async,this._isFunction=a.function;for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this._dataProperties=c}static sync(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new P({async:!1},...b)}static syncFunction(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new P({async:!1,function:!0},...b)}static async(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new P({async:!0},...b)}static asyncFunction(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new P({async:!0,function:!0},...b)}handle(a){return this._isFunction?()=>this._resolveDataPath(a):this._resolveDataPath(a)}_resolveDataPath(a){return this._isAsync?this._resolveAsyncDataPath(a):this._resolveSyncDataPath(a)}_resolveSyncDataPath(a){for(let b of this._dataProperties)a=a&&a[b];return a}async _resolveAsyncDataPath(a){for(let b of this._dataProperties)a=a&&await a[b];return a}}class Q{constructor(a,b){this._mutationType=a,this._allowZeroArgs=b}handle(a,b){var c=this;return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];if(!c._allowZeroArgs&&!e.length)throw Error("Mutation cannot be invoked without arguments");let g=k(()=>c.createMutationExpressions(a,b,e));return a.extendPath({mutationExpressions:g})}}async createMutationExpressions(a,b,c){var d;if(!G(c))return[await this.createMutationExpression(a,b,c)];let e=Object.entries(c[0]),f=await Promise.all(e.map(c=>{var d;let[e,f]=c;return this.createMutationExpression(a,b[e],Array.isArray(d=f)?d:d?[d]:[])}));return[0===f.length?{}:{...f[0],predicateObjects:[].concat(...d=f.map(a=>a.predicateObjects))}]}async createMutationExpression(a,b,c){let d=await b.pathExpression;if(!Array.isArray(d))throw Error(`${a} has no pathExpression property`);if(d.length<2)throw Error(`${a} should at least contain a subject and a predicate`);let{predicate:e,reverse:f}=d[d.length-1];if(!e)throw Error(`Expected predicate in ${a}`);let g=await this.extractObjects(a,b,c);return null!==g&&0===g.length?{}:{mutationType:this._mutationType,conditions:d.slice(0,-1),predicateObjects:[{predicate:e,reverse:f,objects:g}]}}async extractObjects(a,b,c){if(0===c.length)return null;let d=[];for(let e of c)E(e)?d.push(...await i(e)):d.push(await e);return d.map(H)}}let R=/(SELECT\s+)(\?\S+)/,S=/\}[^}]*$/;function T(a){let{termType:b,value:c}=a;switch(b){case"NamedNode":return c;case"Literal":let{language:d,datatype:e}=a;return`${b}|${d}|${e.value}|${c}`;default:return`${b}|${c}`}}class U{constructor(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"ASC";this.order=a}handle(a,b){var c=this;return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];if(0===e.length)return b;let[g,...h]=e,{predicate:i}=b[g],j={property:g,predicate:i,sort:c.order},k=a.extendPath(j);return 0===h.length?k:k.sort(...h)}}}let V=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,W=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,X={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function Y(a){let b=X[a];return void 0===b&&(1===a.length?(b=a.charCodeAt(0).toString(16),b="\\u0000".substr(0,6-b.length)+b):(b=((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)+9216).toString(16),b="\\U00000000".substr(0,10-b.length)+b)),b}let Z=0;function $(a,b){if((null==a?void 0:a.termType)!=="NamedNode")return;let c=a.value.lastIndexOf("#");return b(a.value,-1===c?a.value.lastIndexOf("/"):c)}let _=L(a=>{let{subject:b}=a;return $(b,(a,b)=>a.slice(0,b+1))}),aa=L(a=>{let{subject:b}=a;return $(b,(a,b)=>a.slice(b+1))}),ab=L(async a=>{let b=await a.settings.parsedContext,c=_.handle(a);for(let d in b)if("string"==typeof d&&b[d]===c)return d});var ac={__esModule:()=>void 0,then:new class{handle(a,b){let{subject:c}=a;return c?c.then&&l(()=>b.subject):l(()=>j(b.results))}},[Symbol.asyncIterator]:new class{handle(a,b){let{subject:c}=a;return c?()=>{var a;return a=b.subject,{async next(){if(a!==h){let b=await a;return a=h,{value:b}}return{done:!0}}}}:()=>b.results[Symbol.asyncIterator]()}},list:N(),container:O(!1),containerAsSet:O(!0),collection:L((a,b)=>async()=>{var c;switch(null===(c=await b[`${M}type`])|| void 0===c?void 0:c.value){case`${M}List`:return N().handle(a,b)();case`${M}Bag`:return O(!0).handle(a,b)();case`${M}Alt`:case`${M}Seq`:case`${M}Container`:return O(!1).handle(a,b)();default:return b}}),get:new class{handle(a,b){var c=this;return function(){for(var a=arguments.length,d=Array(a),e=0;e<a;e++)d[e]=arguments[e];return c.readProperties(b,1===d.length?d[0]:d,!0)}}async readProperties(a,b){let c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];if(E(b)&&(b=await i(b)),Array.isArray(b)){let d=b.map(b=>this.readProperties(a,b));return Promise.all(d)}if(F(b)){let e=Object.keys(b);b=e.map(a=>b[a]||a);let f={},g=await this.readProperties(a,b);for(let h=0;h<e.length;h++)f[e[h]]=g[h];return f}let j=a[b];return c?[j]:j}},subject:new class{handle(a){let{subject:b,parent:c}=a;for(;!b&&c;)({subject:b,parent:c}=c);return b?Promise.resolve(b).then(b=>a.extendPath({subject:b},null)):void 0}},predicate:new class{handle(a){let{predicate:b}=a;return b?Promise.resolve(b).then(b=>a.extendPath({subject:b},null)):void 0}},properties:new class{handle(a,b){var c;return"function"==typeof(c=this._handle(a,b))&&(c=function a(b){let c=[],d=b[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){let a=0;return{async next(){if(a<c.length)return c[a++];if(!d)return{done:!0};let b=c[a++]=d.next();return(await b).done&&(d=null),b}}}}}(c())),{[Symbol.asyncIterator](){return c[Symbol.asyncIterator]()},get then(){return l(()=>j(this))},catch(a){return this.then(null,a)},finally(a){return this.then().finally(a)}}}async *_handle(a,b){let c=await a.settings.parsedContext||{},d=new e.JsonLdContextNormalized(c);for await(let f of b.predicates)yield d.compactIri(`${await f}`,!0)}},predicates:new class{handle(a){return a.extendPath({distinct:!0,select:"?predicate",finalClause:a=>`${a} ?predicate ?object.`,property:a.property})}},pathExpression:new class{async handle(a){let b=[],c=a;for(;c.parent;)c.predicate&&b.unshift({predicate:await c.predicate,reverse:await c.reverse,sort:c.sort,values:c.values}),c=c.parent;if(!c.subject)throw Error(`Expected root subject in ${c}`);let d=await c.subject;return b.unshift({subject:d}),b}},sparql:new class{async handle(a,b){let c=await b.mutationExpressions;if(Array.isArray(c)&&c.length)return c.map(a=>this.mutationExpressionToQuery(a)).filter(Boolean).join("\n;\n");let d=await b.pathExpression;if(!Array.isArray(d))throw Error(`${a} has no pathExpression property`);return this.pathExpressionToQuery(a,b,d)}pathExpressionToQuery(a,b,c){if(c.length<2&&!a.finalClause)throw Error(`${a} should at least contain a subject and a predicate`);let d="?subject",e=[],f=[];c.length>1&&(d=this.createVar(a.property),{queryVar:d,sorts:e,clauses:f}=this.expressionToTriplePatterns(c,d)),a.finalClause&&f.push(a.finalClause(d));let g=a.distinct?"DISTINCT ":"",h=`SELECT ${g}${a.select?a.select:d}`,i=` WHERE {
  ${f.join("\n  ")}
}`,j=e.map(a=>{let{order:b,variable:c}=a;return`${b}(${c})`}),k=0===j.length?"":`
ORDER BY ${j.join(" ")}`;return`${h}${i}${k}`}mutationExpressionToQuery(a){let{mutationType:b,conditions:c,predicateObjects:d}=a;if(!b||!c||d&&0===d.length)return"";let e={},f,g;if(1===c.length)f=this.termToString(c[0].subject),g=[];else{let h=c[c.length-1].predicate;f=this.createVar(h.value,e),{queryVar:f,clauses:g}=this.expressionToTriplePatterns(c,f,e)}let i=[];for(let{predicate:j,reverse:k,objects:l}of d){let m=l?l.map(a=>this.termToString(a)):[this.createVar(j.value,e)];i.push(...this.triplePatterns(f,j,m,k))}let n=`{
  ${i.join("\n  ")}
}`;return 0===g.length?`${b} DATA ${n}`:`${b} ${n} WHERE {
  ${g.join("\n  ")}
}`}expressionToTriplePatterns(a,b){var c;let[d,...e]=a,g=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},h=e.length-1,i=[],j=[],k=this.termToString((c=d.subject,"BlankNode"!==c.termType?c:(c.skolemized||(c.skolemized=(0,f.namedNode)(`urn:ldflex:sk${Z++}`)),c.skolemized))),l=k,m=!1;return e.forEach((a,c)=>{let d=k,{predicate:e,reverse:f,sort:n,values:o}=a,p;if(o&&o.length>0){if(!m)throw Error("Specifying fixed values is not allowed here");p=o.map(this.termToString),m=!1}else p=[k=c<h?this.createVar(`v${c}`,g):b],m=!0;i.push(...this.triplePatterns(d,e,p,f)),n?(j.push({variable:k,order:n}),k=l):l=k}),{queryVar:l,sorts:j,clauses:i}}createVar(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1?arguments[1]:void 0,c=0,d=`?${a.match(/[a-z0-9]*$/i)[0]||"result"}`;if(b){for(a=d;b[d];)d=`${a}_${c++}`;b[d]=!0}return d}termToString(a){let{value:b}=a;switch(V.test(b)&&(b=b.replace(W,Y)),a.termType){case"NamedNode":return`<${b}>`;case"BlankNode":return`_:${b}`;case"Literal":let c="";return a.language?c=`@${a.language}`:"http://www.w3.org/2001/XMLSchema#string"!==a.datatype.value&&(c=`^^<${a.datatype.value}>`),`"${b}"${c}`;default:throw Error(`Could not convert a term of type ${a.termType}`)}}triplePatterns(a,b,c){let d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e=[a];d&&([e,c]=[c,e]);let f=c.join(", "),g="path"===b.termType?b.value:`<${b.value}>`;return e.map(a=>`${a} ${g} ${f}.`)}},subjects:new class{handle(a){return a.extendPath({distinct:!0,select:"?subject",finalClause:()=>"?subject ?predicate ?object.",property:a.property})}},results:new class{async *handle(a,b){let c=await a.resultsCache;if(c){for(let d of c)yield d;return}let{queryEngine:e}=a.settings;if(!e)throw Error(`${a} has no queryEngine setting`);let f=await b.sparql;if(null==f)throw Error(`${a} has no sparql property`);if(0!==f.length)for await(let g of e.execute(f))yield this.extractTerm(g,a)}extractTerm(a,b){if(1!==a.size)throw Error("Only single-variable queries are supported");let c=a.values().next().value;return b.extendPath({subject:c},null)}},sort:new U("ASC"),sortDesc:new U("DESC"),preload:new class{handle(a,b){var c=this;return async function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];if(e.length>0){let g=await Promise.all(e.map(async a=>(await b[a].predicate).value));a.resultsCache=await c.createResultsCache(g,a,b)}return b}}async createResultsCache(a,b,c){let{query:d,vars:e,resultVar:f}=await this.createQuery(a,c),{settings:{queryEngine:g}}=b,h=g.execute(d),i={},j={};for await(let k of h){let l=k.get(f),m=T(l);if(!(m in i)){let n=j[m]={};for(let o of a)n[o]=[];let p={subject:l,propertyCache:n};i[m]=b.extendPath(p,null)}let q=j[m];for(let r=0;r<e.length;r++){let s=k.get(e[r]);if(s){let t=b.extendPath({subject:s},null);q[a[r]].push(t)}}}return Object.values(i)}async createQuery(a,b){let c=await b.sparql,d=R.exec(c);if(!d)throw Error(`Unexpected path query: ${c}`);let e=d[2],f=a.map((a,b)=>`?preload_${b}`),g=a.map((a,b)=>`    { ${e} <${a}> ${f[b]}. }`).join("\n    UNION\n"),h=c.replace(R,`$1$2 ${f.join(" ")}`).replace(S,`  OPTIONAL {
${g}
  }
$&`);return{query:h,vars:f,resultVar:e}}},mutationExpressions:new class{async handle(a){let b=[],c=a;for(;c;)c.mutationExpressions&&b.unshift(...await c.mutationExpressions),c=c.parent;return b}},add:new class extends Q{constructor(){super("INSERT",!1)}},set:new class extends Q{handle(a,b){return function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];let e=G(c)?Object.keys(c[0]).reduce((a,b)=>a.delete({[b]:[]}),b):b.delete();return e.add(...c)}}},replace:new class{handle(a,b){return function(a){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(!a||!d.length)throw Error("Replacing values requires at least two arguments, old value followed by all new values");return b.delete(a).add(...d)}}},delete:new class extends Q{constructor(){super("DELETE",!0)}},termType:ad("termType"),value:ad("value"),datatype:ad("datatype"),language:ad("language"),canonical:ad("canonical"),equals:P.sync("subject","equals"),toString:P.syncFunction("subject","value"),valueOf:ae(),toPrimitive:ae(),prefix:ab,namespace:_,fragment:aa,toArray:new class{handle(a,b){return async a=>{let c=[];if(E(b)){"function"!=typeof a&&(a=a=>a);let d=0;for await(let e of b)c.push(await a(e,d++))}return c}}},termTypes:L((a,b)=>b.toArray(a=>a.termType)),values:L((a,b)=>b.toArray(a=>a.value)),datatypes:L((a,b)=>b.toArray(a=>a.datatype)),languages:L((a,b)=>b.toArray(a=>a.language)),resolve:new class{handle(a,b){return function(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:b,d=a.replace(/^(https?:\/\/[^()[\]'"]+)$/,'["$1"]').replace(/^(?=[a-z$_])/i,".").replace(/\[([^'"`\](]*)\]/g,'["$1"]'),e=`"use strict";return ldflex${d}`,f;try{f=Function("ldflex",e)}catch({message:g}){throw Error(`Expression "${a}" is invalid: ${g}`)}return f(c)}}}};function ad(a){return L((b,c)=>{let{subject:d}=b;return d&&a in d?d[a]:c.then&&c.then(b=>null==b?void 0:b[a])})}function ae(){return L(a=>{let{subject:b}=a;return()=>"string"!=typeof(null==b?void 0:b.termType)?void 0:function(a){let{termType:b,value:c}=a;if("Literal"===b){let d=a.datatype.value;if(d.startsWith(m))switch(d){case n:return"true"===c||"1"===c;case s:return Number.parseInt(c,10);case p:return Number.parseFloat(c);case q:case r:if(c in D)return D[c];return Number.parseFloat(c);case o:return new Date(Date.parse(c))}}return c}(b)})}class af{constructor(a,b){this._settings=a={...a},this._data=b={...b};let c=a.handlers||ac;for(let h in c)c[h]=ag(c[h]);for(let i of Object.getOwnPropertySymbols(c))c[i]=ag(c[i]);let j=(a.resolvers||[]).map(function(a){return"function"==typeof a.resolve?a:{supports:ah,resolve:a}});if(a.context){let k=new g(a.context);j.push(new class extends I{supports(a){return super.supports(a)&&/((^|[/|])[\^])|(([a-z:>)])[*+?])|([)>*+?]|[a-z]*[:][a-z]*)[|/]([<(^]|[a-z]*[:][a-z]*)|(((^[(<])|([)>]$)))/i.test(a)}async lookupProperty(a){let b=await this._context,c={};for(let d in b.contextRaw)"string"==typeof b.contextRaw[d]&&(c[d]=b.contextRaw[d]);let e;try{e=(0,J.translate)(`SELECT ?s ?o WHERE { ?s ${a} ?o. }`,{prefixes:c})}catch(g){throw Error(`The Complex Path Resolver cannot expand the '${a}' path`)}if("bgp"===e.input.type&&1===e.input.patterns.length&&"NamedNode"===e.input.patterns[0].predicate.termType&&"s"===e.input.patterns[0].subject.value)return(0,f.namedNode)(e.input.patterns[0].predicate.value);try{return{termType:"path",value:K(e.input)}}catch(h){throw Error(`The Complex Path Resolver cannot expand the '${a}' path`)}}}(k)),j.push(this._jsonldResolver=new class extends I{async lookupProperty(a){let b=await this._context,c=b.expandTerm(a,!0);if(!e.Util.isValidIri(c))throw Error(`The JSON-LD context cannot expand the '${a}' property`);return(0,f.namedNode)(c)}}(k)),a.parsedContext=new e.ContextParser().parse(a.context).then(a=>{let{contextRaw:b}=a;return b})}else a.context=a.parsedContext={};this._pathProxy=new class{constructor(){let{handlers:a=d,resolvers:b=[]}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};this._handlers=a,this._resolvers=b}createPath(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0;void 0===b&&([b,a]=[a,{}]);let{apply:c,...d}=b,e=c?Object.assign(function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b,e,f)},d):d,f=new Proxy(e,this);if(e.proxy=f,e.settings=a,!e.extendPath){let g=this;e.extendPath=function b(c){let d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:this;return g.createPath(a,{parent:d,extendPath:b,...c})}}return f}get(a,b){let c=this._handlers[b];if(c&&"function"==typeof c.handle)return c.handle(a,a.proxy);for(let d of this._resolvers)if(d.supports(b))return d.resolve(b,a,a.proxy)}}({handlers:c,resolvers:j}),delete a.handlers,delete a.resolvers}create(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0;b||([b,a]=[a,null]),"string"==typeof b&&(b={subject:b});let c={...this._data,...b};if("string"==typeof c.subject){if(this._jsonldResolver)c.subject=this._jsonldResolver.lookupProperty(c.subject);else throw Error("Unable to resolve string subject - try providing a context to the PathFactory")}return this._pathProxy.createPath({...this._settings,...a},c)}}function ag(a){return"function"==typeof a.handle?a:{handle:a}}function ah(){return!0}af.defaultHandlers=ac},38793:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(55431),b),e(c(6057),b),e(c(53626),b),e(c(17975),b),e(c(63879),b),e(c(29151),b),e(c(414),b),e(c(247),b),e(c(31268),b),e(c(61468),b)},29151:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},414:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},247:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},31268:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MicrodataRdfParser=void 0;let d=c(23719),e=c(89827),f=c(6057),g=c(53626),h=c(17975),i=c(63879),j=c(61468),k=c(1084);class l extends e.Transform{constructor(a){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},a=a||{},this.options=a,this.util=new j.Util(a.dataFactory,a.baseIRI),this.defaultGraph=a.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=a.htmlParseListener,this.vocabRegistry=a.vocabRegistry||k,this.parser=this.initializeParser(!!a.xmlMode)}import(a){let b=new e.PassThrough({readableObjectMode:!0});a.on("error",a=>c.emit("error",a)),a.on("data",a=>b.push(a)),a.on("end",()=>b.push(null));let c=b.pipe(new l(this.options));return c}_transform(a,b,c){this.parser.write(a.toString()),c()}_flush(a){this.parser.end(),a()}getItemScope(a){let b=this.itemScopeStack.length-(a?2:1);for(;b>0&&!this.itemScopeStack[b];)b--;return this.itemScopeStack[b]}getDepth(){return this.itemScopeStack.length}onTagOpen(a,b){if(!this.isEmittingReferences){if("id"in b){let c=b.id;this.pendingItemRefsRangeCollecting[c]={events:[],counter:0,ids:[]}}for(let d of Object.values(this.pendingItemRefsRangeCollecting))d.counter++,d.events.push({type:"open",name:a,attributes:b})}this.textBufferStack.push(void 0);let e;if("itemscope"in b){let f;if(this.emittingReferencesItemScopeIdGenerator)f=this.emittingReferencesItemScopeIdGenerator();else for(let g of(f="itemid"in b&&this.util.createSubject(b.itemid)||this.util.dataFactory.blankNode(),Object.values(this.pendingItemRefsRangeCollecting)))g.ids.push(f);e={subject:f},this.isEmittingReferences&&(e.blockEmission=!0);let h=this.getItemScope();h&&h.vocab&&(e.vocab=h.vocab),this.itemScopeStack.push(e)}else e=this.getItemScope(),this.itemScopeStack.push(void 0);if(e){if("itemtype"in b)for(let i of this.util.createVocabIris(b.itemtype,e,!1))e.vocab||(e.vocab=this.util.deriveVocab(i.value,this.vocabRegistry)),e.blockEmission||this.emitTriple(e.subject,this.util.dataFactory.namedNode(`${j.Util.RDF}type`),i);if("lang"in b&&(e.language=b.lang),"xml:lang"in b&&(e.language=b["xml:lang"]),"itemscope"in b&&!this.isEmittingReferences&&"itemref"in b)for(let k of b.itemref.split(/\s+/u))k in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[k]=[]),this.pendingItemRefsDomain[k].push(e),this.tryToEmitReferences(k,e)}"itemprop"in b&&this.handleItemProperties(b.itemprop,!1,e,a,b),"itemprop-reverse"in b&&this.handleItemProperties(b["itemprop-reverse"],!0,e,a,b)}onText(a){if(!this.isEmittingReferences)for(let b of Object.values(this.pendingItemRefsRangeCollecting))b.events.push({type:"text",data:a});for(let c of this.textBufferStack)c&&c.push(a)}onTagClose(){if(!this.isEmittingReferences)for(let[a,b]of Object.entries(this.pendingItemRefsRangeCollecting))b.counter--,b.events.push({type:"close"}),0===b.counter&&(this.pendingItemRefsRangeFinalized[a]=b,delete this.pendingItemRefsRangeCollecting[a],this.tryToEmitReferences(a));let c=this.getItemScope(!0);if(c){let d=this.getDepth();if(c.predicates&&d in c.predicates)for(let[e,f]of Object.entries(c.predicates[d])){let g=this.util.createLiteral(this.textBufferStack[d].join(""),c);this.emitPredicateTriples(c,f,g,"reverse"===e),delete c.predicates[d][e]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(a){return new d.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(a){this.emit("error",a)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(a){this.emit("error",a)}},onopentag:(a,b)=>{try{this.onTagOpen(a,b),this.htmlParseListener&&this.htmlParseListener.onTagOpen(a,b)}catch(c){this.emit("error",c)}},ontext:a=>{try{this.onText(a),this.htmlParseListener&&this.htmlParseListener.onText(a)}catch(b){this.emit("error",b)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:a})}handleItemProperties(a,b,c,d,e){let f=this.getItemScope(!0);if(f){let g=this.getDepth(),h=this.util.createVocabIris(a,f,!0);f.predicates||(f.predicates={}),f.predicates[g]||(f.predicates[g]={});let i=b?"reverse":"forward";for(let j of(f.predicates[g][i]=h,this.util.getVocabularyExpansionType(a,f,this.vocabRegistry)))h.push(j);if(c&&"itemscope"in e)this.emitPredicateTriples(f,h,c.subject,b),delete f.predicates[g][i];else for(let k of l.ITEM_PROPERTY_HANDLERS)if(k.canHandle(d,e)){let m=k.getObject(e,this.util,f);this.emitPredicateTriples(f,h,m,b),delete f.predicates[g][i]}f.predicates[g][i]&&(this.textBufferStack[g]=[])}}emitPredicateTriples(a,b,c,d){if(!a.blockEmission)for(let e of b)d?"Literal"!==c.termType&&this.emitTriple(c,e,a.subject):this.emitTriple(a.subject,e,c)}emitTriple(a,b,c){this.push(this.util.dataFactory.quad(a,b,c,this.defaultGraph))}tryToEmitReferences(a,b){let c=this.pendingItemRefsRangeFinalized[a];if(c){let d;if(b){d=[b];let e=this.pendingItemRefsDomain[a].indexOf(b);this.pendingItemRefsDomain[a].splice(e,1)}else d=this.pendingItemRefsDomain[a],delete this.pendingItemRefsDomain[a];if(d){let f=this.itemScopeStack,g=this.textBufferStack;for(let h of(this.isEmittingReferences=!0,d)){this.itemScopeStack=[h],this.textBufferStack=[void 0];let i=[...c.ids];for(let j of(this.emittingReferencesItemScopeIdGenerator=()=>i.shift(),c.events))switch(j.type){case"open":this.onTagOpen(j.name,j.attributes);break;case"text":this.onText(j.data);break;case"close":this.onTagClose()}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=f,this.textBufferStack=g,this.isEmittingReferences=!1}}}}b.MicrodataRdfParser=l,l.ITEM_PROPERTY_HANDLERS=[new f.ItemPropertyHandlerContent,new i.ItemPropertyHandlerUrl("a","href"),new i.ItemPropertyHandlerUrl("area","href"),new i.ItemPropertyHandlerUrl("audio","src"),new i.ItemPropertyHandlerUrl("embed","src"),new i.ItemPropertyHandlerUrl("iframe","src"),new i.ItemPropertyHandlerUrl("img","src"),new i.ItemPropertyHandlerUrl("link","href"),new i.ItemPropertyHandlerUrl("object","data"),new i.ItemPropertyHandlerUrl("source","src"),new i.ItemPropertyHandlerUrl("track","src"),new i.ItemPropertyHandlerUrl("video","src"),new g.ItemPropertyHandlerNumber("data","value"),new g.ItemPropertyHandlerNumber("meter","value"),new h.ItemPropertyHandlerTime,]},61468:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Util=void 0;let d=c(41640),e=c(68912);class f{constructor(a,b){this.dataFactory=a||new d.DataFactory,this.baseIRI=b||""}static isValidIri(a){return f.IRI_REGEX.test(a)}createVocabIris(a,b,c){return a.split(/\s+/u).filter(a=>!!a).map(a=>{if(!f.isValidIri(a)){if(!c)return;a=`${b.vocab||`${this.baseIRI}#`}${a}`}return this.dataFactory.namedNode(a)}).filter(a=>!!a)}getVocabularyExpansionType(a,b,c){let d=a.split(/\s+/u);if(d.includes("subPropertyOf")||d.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${f.RDF}type`)];if(b.vocab&&b.vocab in c&&c[b.vocab].properties){let e=[];for(let[g,h]of Object.entries(c[b.vocab].properties))d.includes(g)&&(e=[...Object.values(h).map(a=>this.dataFactory.namedNode(a))]);return e}return[]}createSubject(a){if(!f.isValidIri(a))try{a=(0,e.resolve)(a,this.baseIRI)}catch(b){return}return this.dataFactory.namedNode(a)}createLiteral(a,b){return this.dataFactory.literal(a,b.language)}deriveVocab(a,b){let c;for(let d in b)if(a.startsWith(d)){(c=d).endsWith("/")||(c+="#");break}if(!c){let f=a.indexOf("#");c=f>0?a.slice(0,f+1):(0,e.resolve)(".",a)}return c}}b.Util=f,f.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",f.XSD="http://www.w3.org/2001/XMLSchema#",f.RDFA="http://www.w3.org/ns/rdfa#",f.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u},55431:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},6057:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ItemPropertyHandlerContent=void 0,b.ItemPropertyHandlerContent=class{canHandle(a,b){return"content"in b}getObject(a,b,c){return b.createLiteral(a.content,c)}}},53626:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ItemPropertyHandlerNumber=void 0;let d=c(61468);b.ItemPropertyHandlerNumber=class{constructor(a,b){this.tagName=a,this.attributeName=b}canHandle(a,b){return this.tagName===a&&this.attributeName in b}getObject(a,b,c){let e=a[this.attributeName],f;return Number.isNaN(Number.parseInt(e,10))||e.includes(".")?Number.isNaN(Number.parseFloat(e))||(f=`${d.Util.XSD}double`):f=`${d.Util.XSD}integer`,b.dataFactory.literal(e,f&&b.dataFactory.namedNode(f))}}},17975:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ItemPropertyHandlerTime=void 0;let d=c(61468);class e{canHandle(a,b){return"time"===a&&"datetime"in b}getObject(a,b,c){let f=a.datetime,g;for(let h of e.TIME_REGEXES)if(h.regex.test(f)){g=b.dataFactory.namedNode(d.Util.XSD+h.type);break}return b.dataFactory.literal(f,g)}}b.ItemPropertyHandlerTime=e,e.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"},]},63879:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ItemPropertyHandlerUrl=void 0;let d=c(68912);b.ItemPropertyHandlerUrl=class{constructor(a,b){this.tagName=a,this.attributeName=b}canHandle(a,b){return this.tagName===a&&this.attributeName in b}getObject(a,b,c){return b.dataFactory.namedNode((0,d.resolve)(a[this.attributeName],b.baseIRI))}}},79746:function(a){function b(a,b){if(!a)throw Error(b||"Assertion failed")}a.exports=b,b.equal=function(a,b,c){if(a!=b)throw Error(c||"Assertion failed: "+a+" != "+b)}},99306:function(a,b,c){!function(){b="object"==typeof window&&window?window:c.g,a.exports?a.exports=b.Promise?b.Promise:g:b.Promise||(b.Promise=g);var b,d=b.setImmediate||function(a){setTimeout(a,1)};function e(a,b){return function(){a.apply(b,arguments)}}var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function g(a){if("object"!=typeof this)throw TypeError("Promises must be constructed via new");if("function"!=typeof a)throw TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],m(a,e(i,this),e(j,this))}function h(a){var b=this;if(null===this._state){this._deferreds.push(a);return}d(function(){var c,d=b._state?a.onFulfilled:a.onRejected;if(null===d){(b._state?a.resolve:a.reject)(b._value);return}try{c=d(b._value)}catch(e){a.reject(e);return}a.resolve(c)})}function i(a){try{if(a===this)throw TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b){m(e(b,a),e(i,this),e(j,this));return}}this._state=!0,this._value=a,k.call(this)}catch(c){j.call(this,c)}}function j(a){this._state=!1,this._value=a,k.call(this)}function k(){for(var a=0,b=this._deferreds.length;a<b;a++)h.call(this,this._deferreds[a]);this._deferreds=null}function l(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function m(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}g.prototype.catch=function(a){return this.then(null,a)},g.prototype.then=function(a,b){var c=this;return new g(function(d,e){h.call(c,new l(a,b,d,e))})},g.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);return new g(function(b,c){if(0===a.length)return b([]);var d=a.length;function e(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h){h.call(g,function(a){e(f,a)},c);return}}a[f]=g,0== --d&&b(a)}catch(i){c(i)}}for(var f=0;f<a.length;f++)e(f,a[f])})},g.resolve=function(a){return a&&"object"==typeof a&&a.constructor===g?a:new g(function(b){b(a)})},g.reject=function(a){return new g(function(b,c){c(a)})},g.race=function(a){return new g(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})}}()},41640:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(7970),b),e(c(37498),b),e(c(16381),b),e(c(72808),b),e(c(92016),b),e(c(63387),b),e(c(71573),b)},7970:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BlankNode=void 0,b.BlankNode=class{constructor(a){this.termType="BlankNode",this.value=a}equals(a){return!!a&&"BlankNode"===a.termType&&a.value===this.value}}},37498:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DataFactory=void 0;let d=c(7970),e=c(16381),f=c(72808),g=c(92016),h=c(63387),i=c(71573),j=0;b.DataFactory=class{constructor(a){this.blankNodeCounter=0,a=a||{},this.blankNodePrefix=a.blankNodePrefix||`df_${j++}_`}namedNode(a){return new g.NamedNode(a)}blankNode(a){return new d.BlankNode(a||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(a,b){return new f.Literal(a,b)}variable(a){return new i.Variable(a)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(a,b,c,d){return new h.Quad(a,b,c,d||this.defaultGraph())}fromTerm(a){switch(a.termType){case"NamedNode":return this.namedNode(a.value);case"BlankNode":return this.blankNode(a.value);case"Literal":if(a.language)return this.literal(a.value,a.language);if(!a.datatype.equals(f.Literal.XSD_STRING))return this.literal(a.value,this.fromTerm(a.datatype));return this.literal(a.value);case"Variable":return this.variable(a.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(a.subject),this.fromTerm(a.predicate),this.fromTerm(a.object),this.fromTerm(a.graph))}}fromQuad(a){return this.fromTerm(a)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},16381:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DefaultGraph=void 0;class c{constructor(){this.termType="DefaultGraph",this.value=""}equals(a){return!!a&&"DefaultGraph"===a.termType}}b.DefaultGraph=c,c.INSTANCE=new c},72808:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Literal=void 0;let d=c(92016);class e{constructor(a,b){this.termType="Literal",this.value=a,"string"==typeof b?(this.language=b,this.datatype=e.RDF_LANGUAGE_STRING):b?(this.language="",this.datatype=b):(this.language="",this.datatype=e.XSD_STRING)}equals(a){return!!a&&"Literal"===a.termType&&a.value===this.value&&a.language===this.language&&a.datatype.equals(this.datatype)}}b.Literal=e,e.RDF_LANGUAGE_STRING=new d.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new d.NamedNode("http://www.w3.org/2001/XMLSchema#string")},92016:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NamedNode=void 0,b.NamedNode=class{constructor(a){this.termType="NamedNode",this.value=a}equals(a){return!!a&&"NamedNode"===a.termType&&a.value===this.value}}},63387:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Quad=void 0,b.Quad=class{constructor(a,b,c,d){this.termType="Quad",this.value="",this.subject=a,this.predicate=b,this.object=c,this.graph=d}equals(a){return!!a&&("Quad"===a.termType||!a.termType)&&this.subject.equals(a.subject)&&this.predicate.equals(a.predicate)&&this.object.equals(a.object)&&this.graph.equals(a.graph)}}},71573:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Variable=void 0,b.Variable=class{constructor(a){this.termType="Variable",this.value=a}equals(a){return!!a&&"Variable"===a.termType&&a.value===this.value}}},76065:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(64542),b)},64542:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isTermGrounded=b.termToSignature=b.quadToSignature=b.sha1hex=b.hashTerm=b.hashTerms=b.getGraphBlankNodes=b.uniqGraph=b.deindexGraph=b.indexGraph=b.getQuadsWithoutBlankNodes=b.getQuadsWithBlankNodes=b.hasValue=b.hashValues=b.getBijectionInner=b.getBijection=b.isomorphic=void 0;let d=c(33715),e=c(22086),f=c(11234);function g(a,b){let c=n(m(a)),d=n(m(b));if(Object.keys(c).length!==Object.keys(d).length)return null;for(let e in c)if(c[e]!==d[e])return null;let f=p(l(a)),g=p(l(b)),i=q(a),j=q(b);return h(f,g,i,j)}function h(a,b,c,d,f,g){f||(f={}),g||(g={});let[l,m]=r(a,c,f),[n,o]=r(b,d,g);if(Object.keys(l).length!==Object.keys(n).length)return null;for(let p in l)if(!k(n,l[p]))return null;let q={};for(let s of c){let u=e.termToString(s),v=m[u];for(let w in o)if(o[w]===v){q[u]=w,delete o[w];break}}if(!i(Object.keys(q).sort(),c.map(e.termToString).sort())||!i(j(q).sort(),d.map(e.termToString).sort()))for(let x of(q=null,c)){let y=e.termToString(x);if(!l[y])for(let z of d){let A=e.termToString(z);if(!n[A]&&m[y]===o[A]){let B=t(y);q=h(a,b,c,d,Object.assign(Object.assign({},l),{[y]:B}),Object.assign(Object.assign({},n),{[A]:B}))}}}return q}function i(a,b){if(a.length!==b.length)return!1;for(let c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function j(a){let b=[];for(let c in a)b.push(a[c]);return b}function k(a,b){for(let c in a)if(a[c]===b)return!0;return!1}function l(a){return a.filter(a=>f.someTerms(a,a=>"BlankNode"===a.termType||"Quad"===a.termType&&f.getTermsNested(a).some(a=>"BlankNode"===a.termType)))}function m(a){return a.filter(a=>f.everyTerms(a,a=>"BlankNode"!==a.termType&&!("Quad"===a.termType&&f.getTermsNested(a).some(a=>"BlankNode"===a.termType))))}function n(a){let b={};for(let c of a)b[JSON.stringify(e.quadToStringQuad(c))]=!0;return b}function o(a){return Object.keys(a).map(a=>e.stringQuadToQuad(JSON.parse(a)))}function p(a){return o(n(a))}function q(a){return f.uniqTerms(a.map(a=>f.getBlankNodes(f.getTermsNested(a))).reduce((a,b)=>a.concat(b),[]))}function r(a,b,c){let d=Object.assign({},c),f={},g=!0;for(;g;){let h=Object.keys(d).length;for(let i of b){let j=e.termToString(i);if(!d[j]){let[k,l]=s(i,a,d);k&&(d[j]=l),f[j]=l}}let m={};for(let n in f){let o=f[n];void 0===m[o]?m[o]=n:m[o]=!1}for(let p in m){let q=m[p];q&&(d[q]=p)}g=h!==Object.keys(d).length}return[d,f]}function s(a,b,c){let d=[],e=!0;for(let g of b){let h=f.getTermsNested(g);if(h.some(b=>b.equals(a)))for(let i of(d.push(u(g,c,a)),h))w(i,c)||i.equals(a)||(e=!1)}let j=t(d.sort().join(""));return[e,j]}function t(a){return d.sha1().update(a).digest("hex")}function u(a,b,c){return f.getTerms(a).map(a=>v(a,b,c)).join("|")}function v(a,b,c){return a.equals(c)?"@self":"BlankNode"===a.termType?b[e.termToString(a)]||"@blank":"Quad"===a.termType?`<${u(a,b,c)}>`:e.termToString(a)}function w(a,b){return"BlankNode"!==a.termType&&!("Quad"===a.termType&&f.getTermsNested(a).some(a=>!w(a,b)))||!!b[e.termToString(a)]}b.isomorphic=function(a,b){return!!g(a,b)},b.getBijection=g,b.getBijectionInner=h,b.hashValues=j,b.hasValue=k,b.getQuadsWithBlankNodes=l,b.getQuadsWithoutBlankNodes=m,b.indexGraph=n,b.deindexGraph=o,b.uniqGraph=p,b.getGraphBlankNodes=q,b.hashTerms=r,b.hashTerm=s,b.sha1hex=t,b.quadToSignature=u,b.termToSignature=v,b.isTermGrounded=w},57945:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.getSupportedJavaScriptPrimitives=b.getSupportedRdfDatatypes=b.getTermRaw=b.toRdf=b.fromRdf=void 0;let f=c(41640),g=c(23295),h=c(80038);e(c(23295),b),e(c(15425),b),e(c(80038),b);let i=new f.DataFactory,j=new h.Translator;function k(a,b){return j.fromRdf(a,b)}j.registerHandler(new g.TypeHandlerString,g.TypeHandlerString.TYPES.map(a=>i.namedNode(a)),["string"]),j.registerHandler(new g.TypeHandlerBoolean,[g.TypeHandlerBoolean.TYPE].map(a=>i.namedNode(a)),["boolean"]),j.registerHandler(new g.TypeHandlerNumberDouble,g.TypeHandlerNumberDouble.TYPES.map(a=>i.namedNode(a)),["number"]),j.registerHandler(new g.TypeHandlerNumberInteger,g.TypeHandlerNumberInteger.TYPES.map(a=>i.namedNode(a)),["number"]),j.registerHandler(new g.TypeHandlerDate,g.TypeHandlerDate.TYPES.map(a=>i.namedNode(a)),["object"]),b.fromRdf=k,b.toRdf=function(a,b){return b&&"namedNode"in b&&(b={dataFactory:b}),(b=b||{}).dataFactory||(b.dataFactory=i),j.toRdf(a,b)},b.getTermRaw=function(a,b){return"Literal"===a.termType?k(a,b):a.value},b.getSupportedRdfDatatypes=function(){return j.getSupportedRdfDatatypes()},b.getSupportedJavaScriptPrimitives=function(){return j.getSupportedJavaScriptPrimitives()}},15425:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},80038:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Translator=void 0,b.Translator=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(a){throw Error(`Invalid RDF ${a.datatype.value} value: '${a.value}'`)}registerHandler(a,b,c){for(let d of b)this.supportedRdfDatatypes.push(d),this.fromRdfHandlers[d.value]=a;for(let e of c){let f=this.toRdfHandlers[e];f||(this.toRdfHandlers[e]=f=[]),f.push(a)}}fromRdf(a,b){let c=this.fromRdfHandlers[a.datatype.value];return c?c.fromRdf(a,b):a.value}toRdf(a,b){let c=this.toRdfHandlers[typeof a];if(c)for(let d of c){let e=d.toRdf(a,b);if(e)return e}throw Error(`Invalid JavaScript value: '${a}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},83737:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TypeHandlerBoolean=void 0;let d=c(80038);class e{fromRdf(a,b){switch(a.value){case"true":case"1":return!0;case"false":case"0":return!1}return b&&d.Translator.incorrectRdfDataType(a),!1}toRdf(a,{datatype:b,dataFactory:c}){return c.literal(a?"true":"false",b||c.namedNode(e.TYPE))}}b.TypeHandlerBoolean=e,e.TYPE="http://www.w3.org/2001/XMLSchema#boolean"},23896:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TypeHandlerDate=void 0;let d=c(80038);class e{fromRdf(a,b){switch(b&&!a.value.match(e.VALIDATORS[a.datatype.value.substr(33,a.datatype.value.length)])&&d.Translator.incorrectRdfDataType(a),a.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(a.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":let c=a.value.split("-");return new Date(0,parseInt(c[0],10)-1,parseInt(c[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(a.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(a.value+"-01");default:return new Date(a.value)}}toRdf(a,{datatype:b,dataFactory:c}){if(b=b||c.namedNode(e.TYPES[0]),!(a instanceof Date))return null;let d=a,f;switch(b.value){case"http://www.w3.org/2001/XMLSchema#gDay":f=String(d.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":f=d.getUTCMonth()+1+"-"+d.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":f=String(d.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":f=d.getUTCFullYear()+"-"+(d.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":f=d.toISOString().replace(/T.*$/,"");break;default:f=d.toISOString()}return c.literal(f,b)}}b.TypeHandlerDate=e,e.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth",],e.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/}},20340:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TypeHandlerNumberDouble=void 0;let d=c(80038);class e{fromRdf(a,b){let c=parseFloat(a.value);return b&&isNaN(c)&&d.Translator.incorrectRdfDataType(a),c}toRdf(a,{datatype:b,dataFactory:c}){return(b=b||c.namedNode(e.TYPES[0]),isNaN(a))?c.literal("NaN",b):isFinite(a)?a%1==0?null:c.literal(a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),b):c.literal(a>0?"INF":"-INF",b)}}b.TypeHandlerNumberDouble=e,e.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float",]},39736:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TypeHandlerNumberInteger=void 0;let d=c(80038);class e{fromRdf(a,b){let c=parseInt(a.value,10);return b&&(isNaN(c)||a.value.indexOf(".")>=0)&&d.Translator.incorrectRdfDataType(a),c}toRdf(a,{datatype:b,dataFactory:c}){return c.literal(String(a),b||(a<=e.MAX_INT&&a>=e.MIN_INT?c.namedNode(e.TYPES[0]):c.namedNode(e.TYPES[1])))}}b.TypeHandlerNumberInteger=e,e.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort",],e.MAX_INT=2147483647,e.MIN_INT=-2147483648},27968:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TypeHandlerString=void 0;class c{fromRdf(a){return a.value}toRdf(a,{datatype:b,dataFactory:c}){return c.literal(a,b)}}b.TypeHandlerString=c,c.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration",]},23295:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(83737),b),e(c(23896),b),e(c(20340),b),e(c(39736),b),e(c(27968),b)},65751:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.storeStream=void 0;let d=c(77686);b.storeStream=function(a){let b=new d.Store;return new Promise((c,d)=>b.import(a).on("error",d).once("end",()=>c(b)))}},71367:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.termToString=b.stringToTerm=b.stringQuadToQuad=b.quadToStringQuad=b.getLiteralValue=b.getLiteralType=b.getLiteralLanguage=void 0;let d=c(49803);Object.defineProperty(b,"getLiteralLanguage",{enumerable:!0,get:function(){return d.getLiteralLanguage}}),Object.defineProperty(b,"getLiteralType",{enumerable:!0,get:function(){return d.getLiteralType}}),Object.defineProperty(b,"getLiteralValue",{enumerable:!0,get:function(){return d.getLiteralValue}}),Object.defineProperty(b,"quadToStringQuad",{enumerable:!0,get:function(){return d.quadToStringQuad}}),Object.defineProperty(b,"stringQuadToQuad",{enumerable:!0,get:function(){return d.stringQuadToQuad}}),Object.defineProperty(b,"stringToTerm",{enumerable:!0,get:function(){return d.stringToTerm}}),Object.defineProperty(b,"termToString",{enumerable:!0,get:function(){return d.termToString}})},49803:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.stringQuadToQuad=b.quadToStringQuad=b.stringToTerm=b.getLiteralLanguage=b.getLiteralType=b.getLiteralValue=b.termToString=void 0;let d=c(41640),e=new d.DataFactory;function f(a){if(a)switch(a.termType){case"NamedNode":return"<"+a.value+">";case"BlankNode":return"_:"+a.value;case"Literal":let b=a;return'"'+b.value.replace(/"/ug,'\\"')+'"'+(b.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==b.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==b.datatype.value?"^^<"+b.datatype.value+">":"")+(b.language?"@"+b.language:"");case"Quad":return`<<${f(a.subject)} ${f(a.predicate)} ${f(a.object)}${"DefaultGraph"===a.graph.termType?"":" "+f(a.graph)}>>`;case"Variable":return"?"+a.value;case"DefaultGraph":return a.value}}function g(a){let b=/^"([^]*)"((\^\^.*)|(@.*))?$/.exec(a);if(!b)throw Error(a+" is not a literal");return b[1].replace(/\\"/ug,'"')}function h(a){let b=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/.exec(a);if(!b)throw Error(a+" is not a literal");return b[1]||(b[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function i(a){let b=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(a);if(!b)throw Error(a+" is not a literal");return b[1]?b[1].toLowerCase():""}function j(a,b){if(b=b||e,!a||!a.length)return b.defaultGraph();switch(a[0]){case"_":return b.blankNode(a.substr(2));case"?":if(!b.variable)throw Error("Missing 'variable()' method on the given DataFactory");return b.variable(a.substr(1));case'"':let c=i(a),d=b.namedNode(h(a));return b.literal(g(a),c||d);default:if(a.startsWith("<<")&&a.endsWith(">>")){let f=a.slice(2,-2),k=[],l=0,m=0;for(let n=0;n<f.length;n++){let o=f[n];if("<"===o&&l++,">"===o){if(0===l)throw Error("Found closing tag without opening tag in "+a);l--}" "===o&&0===l&&(k.push(f.slice(m,n)),m=n+1)}if(0!==l)throw Error("Found opening tag without closing tag in "+a);if(k.push(f.slice(m,f.length)),3!==k.length&&4!==k.length)throw Error("Nested quad syntax error "+a);return b.quad(j(k[0]),j(k[1]),j(k[2]),k[3]?j(k[3]):void 0)}if("<"!==a.charAt(0)||">"!==a.charAt(a.length-1))throw Error(`Detected invalid iri for named node (must be wrapped in <>): ${a}`);return b.namedNode(a.substring(1,a.length-1))}}b.termToString=f,b.getLiteralValue=g,b.getLiteralType=h,b.getLiteralLanguage=i,b.stringToTerm=j,b.quadToStringQuad=function(a){return{subject:f(a.subject),predicate:f(a.predicate),object:f(a.object),graph:f(a.graph)}},b.stringQuadToQuad=function(a,b){return(b=b||e).quad(j(a.subject,b),j(a.predicate,b),j(a.object,b),j(a.graph,b))}},22086:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.termToString=b.stringToTerm=b.stringQuadToQuad=b.quadToStringQuad=b.getLiteralValue=b.getLiteralType=b.getLiteralLanguage=void 0;let d=c(5121);Object.defineProperty(b,"getLiteralLanguage",{enumerable:!0,get:function(){return d.getLiteralLanguage}}),Object.defineProperty(b,"getLiteralType",{enumerable:!0,get:function(){return d.getLiteralType}}),Object.defineProperty(b,"getLiteralValue",{enumerable:!0,get:function(){return d.getLiteralValue}}),Object.defineProperty(b,"quadToStringQuad",{enumerable:!0,get:function(){return d.quadToStringQuad}}),Object.defineProperty(b,"stringQuadToQuad",{enumerable:!0,get:function(){return d.stringQuadToQuad}}),Object.defineProperty(b,"stringToTerm",{enumerable:!0,get:function(){return d.stringToTerm}}),Object.defineProperty(b,"termToString",{enumerable:!0,get:function(){return d.termToString}})},5121:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.stringQuadToQuad=b.quadToStringQuad=b.stringToTerm=b.getLiteralLanguage=b.getLiteralType=b.getLiteralValue=b.termToString=void 0;let d=c(41640),e=new d.DataFactory;function f(a){if(a)switch(a.termType){case"NamedNode":case"DefaultGraph":return a.value;case"BlankNode":return"_:"+a.value;case"Literal":let b=a;return'"'+b.value+'"'+(b.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==b.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==b.datatype.value?"^^"+b.datatype.value:"")+(b.language?"@"+b.language:"");case"Quad":return`<<${f(a.subject)} ${f(a.predicate)} ${f(a.object)}${"DefaultGraph"===a.graph.termType?"":" "+f(a.graph)}>>`;case"Variable":return"?"+a.value}}function g(a){let b=/^"([^]*)"/.exec(a);if(!b)throw Error(a+" is not a literal");return b[1]}function h(a){let b=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(a);if(!b)throw Error(a+" is not a literal");return b[1]||(b[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function i(a){let b=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(a);if(!b)throw Error(a+" is not a literal");return b[1]?b[1].toLowerCase():""}function j(a,b){if(b=b||e,!a||!a.length)return b.defaultGraph();switch(a[0]){case"_":return b.blankNode(a.substr(2));case"?":if(!b.variable)throw Error("Missing 'variable()' method on the given DataFactory");return b.variable(a.substr(1));case'"':let c=i(a),d=b.namedNode(h(a));return b.literal(g(a),c||d);default:if(a.startsWith("<<")&&a.endsWith(">>")){let f=a.slice(2,-2),k=[],l=0,m=0;for(let n=0;n<f.length;n++){let o=f[n];if("<"===o&&l++,">"===o){if(0===l)throw Error("Found closing tag without opening tag in "+a);l--}" "===o&&0===l&&(k.push(f.slice(m,n)),m=n+1)}if(0!==l)throw Error("Found opening tag without closing tag in "+a);if(k.push(f.slice(m,f.length)),3!==k.length&&4!==k.length)throw Error("Nested quad syntax error "+a);return b.quad(j(k[0]),j(k[1]),j(k[2]),k[3]?j(k[3]):void 0)}return b.namedNode(a)}}b.termToString=f,b.getLiteralValue=g,b.getLiteralType=h,b.getLiteralLanguage=i,b.stringToTerm=j,b.quadToStringQuad=function(a){return{subject:f(a.subject),predicate:f(a.predicate),object:f(a.object),graph:f(a.graph)}},b.stringQuadToQuad=function(a,b){return(b=b||e).quad(j(a.subject,b),j(a.predicate,b),j(a.object,b),j(a.graph,b))}},11234:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(82682),b),e(c(90462),b)},82682:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.matchPatternMappings=b.matchPatternComplete=b.matchPattern=b.matchTerm=b.someTerms=b.everyTerms=b.reduceTerms=b.mapTerms=b.filterQuadTermNames=b.filterTerms=b.forEachTerms=b.collectNamedTerms=b.getNamedTerms=b.getTermsNested=b.getTerms=b.TRIPLE_TERM_NAMES=b.QUAD_TERM_NAMES=void 0;let d=c(41640),e=new d.DataFactory;function f(a,b){return b&&"DefaultGraph"===a.graph.termType?[a.subject,a.predicate,a.object]:[a.subject,a.predicate,a.object,a.graph]}function g(a,b){let c=[];for(let d of f(a,b))"Quad"===d.termType?g(d,b).forEach(a=>c.push(a)):c.push(d);return c}function h(a,b){return b(a.subject,"subject")&&b(a.predicate,"predicate")&&b(a.object,"object")&&b(a.graph,"graph")}function i(a,b){return!b||"Variable"===b.termType||"Quad"===b.termType&&"Quad"===a.termType&&k(a,b)||b.equals(a)}function j(a,b,c,d,e){return i(a.subject,b)&&i(a.predicate,c)&&i(a.object,d)&&i(a.graph,e)}function k(a,b){return j(a,b.subject,b.predicate,b.object,b.graph)}b.QUAD_TERM_NAMES=["subject","predicate","object","graph"],b.TRIPLE_TERM_NAMES=["subject","predicate","object"],b.getTerms=f,b.getTermsNested=g,b.getNamedTerms=function(a){return[{key:"subject",value:a.subject},{key:"predicate",value:a.predicate},{key:"object",value:a.object},{key:"graph",value:a.graph},]},b.collectNamedTerms=function(a,b,c){let d={};return a.forEach(a=>d[a.key]=a.value),b&&(d.subject=d.subject||b("subject"),d.predicate=d.predicate||b("predicate"),d.object=d.object||b("object"),d.graph=d.graph||b("graph")),(c||e).quad(d.subject,d.predicate,d.object,d.graph)},b.forEachTerms=function(a,b){b(a.subject,"subject"),b(a.predicate,"predicate"),b(a.object,"object"),b(a.graph,"graph")},b.filterTerms=function(a,b){let c=[];return b(a.subject,"subject")&&c.push(a.subject),b(a.predicate,"predicate")&&c.push(a.predicate),b(a.object,"object")&&c.push(a.object),b(a.graph,"graph")&&c.push(a.graph),c},b.filterQuadTermNames=function(a,b){let c=[];return b(a.subject,"subject")&&c.push("subject"),b(a.predicate,"predicate")&&c.push("predicate"),b(a.object,"object")&&c.push("object"),b(a.graph,"graph")&&c.push("graph"),c},b.mapTerms=function(a,b,c){return(c||e).quad(b(a.subject,"subject"),b(a.predicate,"predicate"),b(a.object,"object"),b(a.graph,"graph"))},b.reduceTerms=function(a,b,c){let d=c;return d=b(d,a.subject,"subject"),d=b(d,a.predicate,"predicate"),d=b(d,a.object,"object"),b(d,a.graph,"graph")},b.everyTerms=h,b.someTerms=function(a,b){return b(a.subject,"subject")||b(a.predicate,"predicate")||b(a.object,"object")||b(a.graph,"graph")},b.matchTerm=i,b.matchPattern=j,b.matchPatternComplete=k,b.matchPatternMappings=function(a,b,c={}){let d={};function e(a,b){return h(a,(a,f)=>{var g,h;let i=b[f];switch(a.termType){case"Variable":return c.skipVarMapping&&"Variable"===i.termType||(null!==(h=null===(g=d[a.value])|| void 0===g?void 0:g.equals(i))&& void 0!==h?h:(d[a.value]=i,!0));case"Quad":return"Quad"===i.termType&&e(a,i);default:return a.equals(i)}})}return e(b,a)&&(!c.returnMappings||d)}},90462:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getQuads=b.getDefaultGraphs=b.getVariables=b.getLiterals=b.getBlankNodes=b.getNamedNodes=b.getTermsOfType=b.uniqTerms=b.TERM_TYPES=void 0;let d=c(22086);function e(a,b){return a.filter(a=>a.termType===b)}b.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],b.uniqTerms=function(a){let b={};return a.filter(a=>{let c=d.termToString(a);return!(c in b)&&(b[c]=!0)})},b.getTermsOfType=e,b.getNamedNodes=function(a){return e(a,"NamedNode")},b.getBlankNodes=function(a){return e(a,"BlankNode")},b.getLiterals=function(a){return e(a,"Literal")},b.getVariables=function(a){return e(a,"Variable")},b.getDefaultGraphs=function(a){return e(a,"DefaultGraph")},b.getQuads=function(a){return e(a,"Quad")}},30494:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(23867),b),e(c(95316),b),e(c(20485),b),e(c(58300),b),e(c(26438),b),e(c(873),b)},23867:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},95316:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},20485:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0})},58300:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RdfaParser=void 0;let d=c(23719),e=c(89827),f=c(99653),g=c(43104),h=c(26438),i=c(873);class j extends e.Transform{constructor(a){super({readableObjectMode:!0}),this.activeTagStack=[],a=a||{},this.options=a,this.util=new i.Util(a.dataFactory,a.baseIRI),this.defaultGraph=a.defaultGraph||this.util.dataFactory.defaultGraph();let b=a.contentType?i.Util.contentTypeToProfile(a.contentType):a.profile||"";this.features=a.features||h.RDFA_FEATURES[b],this.htmlParseListener=a.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser("xml"===b),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:a.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},g["@context"]),this.features.xhtmlInitialContext?f["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:a.vocab})}import(a){let b=new e.PassThrough({readableObjectMode:!0});a.on("error",a=>c.emit("error",a)),a.on("data",a=>b.push(a)),a.on("end",()=>b.push(null));let c=b.pipe(new j(this.options));return c}_transform(a,b,c){this.parser.write(a.toString()),c()}_flush(a){this.parser.end(),a()}onTagOpen(a,b){let c=this.activeTagStack.length-1;for(;c>0&&this.activeTagStack[c].skipElement;)c--;let d=this.activeTagStack[c];c!==this.activeTagStack.length-1&&(d=Object.assign(Object.assign({},d),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));let e={collectChildTags:d.collectChildTags,incompleteTriples:[],inlist:"inlist"in b,listMapping:[],listMappingLocal:d.listMapping,localBaseIRI:d.localBaseIRI,name:a,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(e),e.collectChildTags){for(let f of Object.keys(d.prefixesCustom).sort()){let g=d.prefixesCustom[f],h=""===f?"xmlns":"xmlns:"+f;h in b||(b[h]=g)}let j=Object.keys(b).map(a=>`${a}="${b[a]}"`).join(" ");if(e.text=[`<${a}${j?" "+j:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let k=!0,l=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in b&&"rel"in b&&(k=!1,0>b.rel.indexOf(":")&&delete b.rel),"property"in b&&"rev"in b&&(l=!1,0>b.rev.indexOf(":")&&delete b.rev)),this.features.copyRdfaPatterns){if(d.collectedPatternTag){let m={attributes:b,children:[],name:a,referenced:!1,rootPattern:!1,text:[]};d.collectedPatternTag.children.push(m),e.collectedPatternTag=m;return}if("rdfa:Pattern"===b.typeof){e.collectedPatternTag={attributes:b,children:[],name:a,parentTag:d,referenced:!1,rootPattern:!0,text:[]};return}if("rdfa:copy"===b.property){let n=b.resource||b.href||b.src;this.rdfaPatterns[n]?this.emitPatternCopy(d,this.rdfaPatterns[n],n):(this.pendingRdfaPatternCopies[n]||(this.pendingRdfaPatternCopies[n]=[]),this.pendingRdfaPatternCopies[n].push(d));return}}this.features.baseTag&&"base"===a&&b.href&&(this.util.baseIRI=this.util.getBaseIRI(b.href)),this.features.xmlBase&&b["xml:base"]&&(e.localBaseIRI=this.util.getBaseIRI(b["xml:base"])),this.features.timeTag&&"time"===a&&!b.datatype&&(e.interpretObjectAsTime=!0);let o,p,q;if("vocab"in b?b.vocab?(e.vocab=b.vocab,this.emitTriple(this.util.getBaseIriTerm(e),this.util.dataFactory.namedNode(i.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(e.vocab))):e.vocab=this.activeTagStack[0].vocab:e.vocab=d.vocab,e.prefixesCustom=i.Util.parsePrefixes(b,d.prefixesCustom,this.features.xmlnsPrefixMappings),e.prefixesAll=Object.keys(e.prefixesCustom).length>0?Object.assign(Object.assign({},d.prefixesAll),e.prefixesCustom):d.prefixesAll,this.features.roleAttribute&&b.role){let r=b.id?this.util.createIri("#"+b.id,e,!1,!1,!1):this.util.createBlankNode(),s=e.vocab;for(let t of(e.vocab="http://www.w3.org/1999/xhtml/vocab#",this.util.createVocabIris(b.role,e,!0,!1)))this.emitTriple(r,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),t);e.vocab=s}"xml:lang"in b||this.features.langAttribute&&"lang"in b?e.language=b["xml:lang"]||b.lang:e.language=d.language;let u=2===this.activeTagStack.length;if("rel"in b||"rev"in b?("about"in b?(o=this.util.createIri(b.about,e,!1,!0,!0),e.explicitNewSubject=!!o,"typeof"in b&&(q=o)):u?o=!0:d.object&&(o=d.object),"resource"in b&&(p=this.util.createIri(b.resource,e,!1,!0,!0)),p||("href"in b||"src"in b?p=this.util.createIri(b.href||b.src,e,!1,!1,!0):!("typeof"in b)||"about"in b||this.isInheritSubjectInHeadBody(a)||(p=this.util.createBlankNode())),"typeof"in b&&!("about"in b)&&(q=this.isInheritSubjectInHeadBody(a)?o:p)):!("property"in b)||"content"in b||"datatype"in b?(("about"in b||"resource"in b)&&(o=this.util.createIri(b.about||b.resource,e,!1,!0,!0),e.explicitNewSubject=!!o),!o&&("href"in b||"src"in b)&&(o=this.util.createIri(b.href||b.src,e,!1,!1,!0),e.explicitNewSubject=!!o),o||(u?o=!0:this.isInheritSubjectInHeadBody(a)?o=d.object:"typeof"in b?(o=this.util.createBlankNode(),e.explicitNewSubject=!0):!d.object||(o=d.object,"property"in b||(e.skipElement=!0))),"typeof"in b&&(q=o)):("about"in b?(o=this.util.createIri(b.about,e,!1,!0,!0),e.explicitNewSubject=!!o):u?o=!0:d.object&&(o=d.object),"typeof"in b&&("about"in b&&(q=this.util.createIri(b.about,e,!1,!0,!0)),!q&&u&&(q=!0),!q&&"resource"in b&&(q=this.util.createIri(b.resource,e,!1,!0,!0)),!q&&("href"in b||"src"in b)&&(q=this.util.createIri(b.href||b.src,e,!1,!1,!0)),!q&&this.isInheritSubjectInHeadBody(a)&&(q=o),q||(q=this.util.createBlankNode()),p=q)),q)for(let v of this.util.createVocabIris(b.typeof,e,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(q,e),this.util.dataFactory.namedNode(i.Util.RDF+"type"),v);if(o&&(e.listMapping={}),p){if("rel"in b&&"inlist"in b)for(let w of this.util.createVocabIris(b.rel,e,k,!1))this.addListMapping(e,o,w,p);if(!("rel"in b&&"inlist"in b)){if("rel"in b)for(let x of this.util.createVocabIris(b.rel,e,k,!1))this.emitTriple(this.util.getResourceOrBaseIri(o,e),x,this.util.getResourceOrBaseIri(p,e));if("rev"in b)for(let y of this.util.createVocabIris(b.rev,e,l,!1))this.emitTriple(this.util.getResourceOrBaseIri(p,e),y,this.util.getResourceOrBaseIri(o,e))}}if(!p){if("rel"in b){if("inlist"in b)for(let z of this.util.createVocabIris(b.rel,e,k,!1))this.addListMapping(e,o,z,null),e.incompleteTriples.push({predicate:z,reverse:!1,list:!0});else for(let A of this.util.createVocabIris(b.rel,e,k,!1))e.incompleteTriples.push({predicate:A,reverse:!1})}if("rev"in b)for(let B of this.util.createVocabIris(b.rev,e,l,!1))e.incompleteTriples.push({predicate:B,reverse:!0});e.incompleteTriples.length>0&&(p=this.util.createBlankNode())}if("property"in b){e.predicates=this.util.createVocabIris(b.property,e,!0,!1);let C;if("datatype"in b?(e.datatype=this.util.createIri(b.datatype,e,!0,!0,!1),e.datatype&&(e.datatype.value===i.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&e.datatype.value===i.Util.RDF+"HTML")&&(e.collectChildTags=!0)):("rev"in b||"rel"in b||"content"in b||("resource"in b&&(C=this.util.createIri(b.resource,e,!1,!0,!0)),!C&&"href"in b&&(C=this.util.createIri(b.href,e,!1,!1,!0)),!C&&"src"in b&&(C=this.util.createIri(b.src,e,!1,!1,!0))),"typeof"in b&&!("about"in b)&&(C=q)),"content"in b){let D=this.util.createLiteral(b.content,e);if("inlist"in b)for(let E of e.predicates)this.addListMapping(e,o,E,D);else{let F=this.util.getResourceOrBaseIri(o,e);for(let G of e.predicates)this.emitTriple(F,G,D)}e.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in b){e.interpretObjectAsTime=!0;let H=this.util.createLiteral(b.datetime,e);if("inlist"in b)for(let I of e.predicates)this.addListMapping(e,o,I,H);else{let J=this.util.getResourceOrBaseIri(o,e);for(let K of e.predicates)this.emitTriple(J,K,H)}e.predicates=null}else if(C){let L=this.util.getResourceOrBaseIri(C,e);if("inlist"in b)for(let M of e.predicates)this.addListMapping(e,o,M,L);else{let N=this.util.getResourceOrBaseIri(o,e);for(let O of e.predicates)this.emitTriple(N,O,L)}e.predicates=null}}let P=!1;if(!e.skipElement&&o&&d.incompleteTriples.length>0){P=!0;let Q=this.util.getResourceOrBaseIri(d.subject,e),R=this.util.getResourceOrBaseIri(o,e);for(let S of d.incompleteTriples)if(S.reverse)this.emitTriple(R,S.predicate,Q);else if(S.list){let T=null;for(let U=this.activeTagStack.length-1;U>=0;U--)if(this.activeTagStack[U].inlist){T=this.activeTagStack[U];break}this.addListMapping(T,o,S.predicate,R)}else this.emitTriple(Q,S.predicate,R)}!P&&d.incompleteTriples.length>0&&(e.incompleteTriples=e.incompleteTriples.concat(d.incompleteTriples)),e.subject=o||d.subject,e.object=p||o}onText(a){let b=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&b.collectedPatternTag){b.collectedPatternTag.text.push(a);return}b.text||(b.text=[]),b.text.push(a)}onTagClose(){let a=this.activeTagStack[this.activeTagStack.length-1],b=this.activeTagStack[this.activeTagStack.length-2];if(!(a.collectChildTags&&b.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&a.collectedPatternTag&&a.collectedPatternTag.rootPattern){let c=a.collectedPatternTag.attributes.resource;if(delete a.collectedPatternTag.attributes.resource,delete a.collectedPatternTag.attributes.typeof,this.rdfaPatterns[c]=a.collectedPatternTag,this.pendingRdfaPatternCopies[c]){for(let d of this.pendingRdfaPatternCopies[c])this.emitPatternCopy(d,a.collectedPatternTag,c);delete this.pendingRdfaPatternCopies[c]}this.activeTagStack.pop();return}if(a.predicates){let e=this.util.getResourceOrBaseIri(a.subject,a),f=a.text||[];a.collectChildTags&&b.collectChildTags&&(f=f.slice(1));let g=this.util.createLiteral(f.join(""),a);if(a.inlist)for(let h of a.predicates)this.addListMapping(a,e,h,g);else for(let j of a.predicates)this.emitTriple(e,j,g);b.predicates||(a.text=null)}if(a.object&&Object.keys(a.listMapping).length>0){let k=this.util.getResourceOrBaseIri(a.object,a);for(let l in a.listMapping){let m=this.util.dataFactory.namedNode(l),n=a.listMapping[l];if(n.length>0){let o=n.map(()=>this.util.createBlankNode());for(let p=0;p<n.length;p++){let q=this.util.getResourceOrBaseIri(n[p],a);this.emitTriple(o[p],this.util.dataFactory.namedNode(i.Util.RDF+"first"),q),this.emitTriple(o[p],this.util.dataFactory.namedNode(i.Util.RDF+"rest"),p<n.length-1?o[p+1]:this.util.dataFactory.namedNode(i.Util.RDF+"nil"))}this.emitTriple(k,m,o[0])}else this.emitTriple(k,m,this.util.dataFactory.namedNode(i.Util.RDF+"nil"))}}}this.activeTagStack.pop(),a.collectChildTags&&a.text&&a.text.push(`</${a.name}>`),a.text&&b&&(b.text?b.text=b.text.concat(a.text):b.text=a.text)}onEnd(){if(this.features.copyRdfaPatterns){for(let a in this.features.copyRdfaPatterns=!1,this.rdfaPatterns){let b=this.rdfaPatterns[a];b.referenced||(b.attributes.typeof="rdfa:Pattern",b.attributes.resource=a,this.emitPatternCopy(b.parentTag,b,a),b.referenced=!1,delete b.attributes.typeof,delete b.attributes.resource)}for(let c in this.pendingRdfaPatternCopies)for(let d of this.pendingRdfaPatternCopies[c])this.activeTagStack.push(d),this.onTagOpen("link",{property:"rdfa:copy",href:c}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(a){return this.features.inheritSubjectInHeadBody&&("head"===a||"body"===a)}addListMapping(a,b,c,d){if(a.explicitNewSubject){let e=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(b,a),c,e),this.emitTriple(e,this.util.dataFactory.namedNode(i.Util.RDF+"first"),this.util.getResourceOrBaseIri(d,a)),this.emitTriple(e,this.util.dataFactory.namedNode(i.Util.RDF+"rest"),this.util.dataFactory.namedNode(i.Util.RDF+"nil"))}else{let f=a.listMappingLocal[c.value];f||(a.listMappingLocal[c.value]=f=[]),d&&f.push(d)}}emitTriple(a,b,c){!("NamedNode"===a.termType&&0>a.value.indexOf(":")||"NamedNode"===b.termType&&0>b.value.indexOf(":")||"NamedNode"===c.termType&&0>c.value.indexOf(":"))&&this.push(this.util.dataFactory.quad(a,b,c,this.defaultGraph))}emitPatternCopy(a,b,c){if(this.activeTagStack.push(a),b.referenced=!0,b.constructedBlankNodes){let d=0;this.util.blankNodeFactory=()=>b.constructedBlankNodes[d++]}else b.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{let a=this.util.dataFactory.blankNode();return b.constructedBlankNodes.push(a),a};this.emitPatternCopyAbsolute(b,!0,c),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(a,b,c){if(b||"rdfa:copy"!==a.attributes.property||a.attributes.href!==c){for(let d of(this.onTagOpen(a.name,a.attributes),a.text))this.onText(d);for(let e of a.children)this.emitPatternCopyAbsolute(e,!1,c);this.onTagClose()}}initializeParser(a){return new d.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(a){this.emit("error",a)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(a){this.emit("error",a)}},onopentag:(a,b)=>{try{this.onTagOpen(a,b),this.htmlParseListener&&this.htmlParseListener.onTagOpen(a,b)}catch(c){this.emit("error",c)}},ontext:a=>{try{this.onText(a),this.htmlParseListener&&this.htmlParseListener.onText(a)}catch(b){this.emit("error",b)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:a})}}b.RdfaParser=j},26438:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RDFA_CONTENTTYPES=b.RDFA_FEATURES=void 0,b.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},b.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}},873:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Util=void 0;let d=c(68912),e=c(26438),f=c(41640);class g{constructor(a,b){this.dataFactory=a||new f.DataFactory,this.baseIRI=this.dataFactory.namedNode(b||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(a,b,c){let d={};if(c)for(let e in a)e.startsWith("xmlns")&&(d[e.substr(6)]=a[e]);if(!a.prefix&&!(Object.keys(d).length>0))return b;{let f=Object.assign(Object.assign({},b),d);if(a.prefix){let h;for(;h=g.PREFIX_REGEX.exec(a.prefix);)f[h[1]]=h[2]}return f}}static expandPrefixedTerm(a,b){let c=a.indexOf(":"),d,e;if(c>=0&&(d=a.substr(0,c),e=a.substr(c+1)),""===d)return"http://www.w3.org/1999/xhtml/vocab#"+e;if(d){let f=b.prefixesAll[d];if(f)return f+e}if(a){let g=b.prefixesAll[a.toLocaleLowerCase()];if(g)return g}return a}static isValidIri(a){return g.IRI_REGEX.test(a)}static contentTypeToProfile(a){return e.RDFA_CONTENTTYPES[a]||""}getBaseIRI(a){let b=a,c=b.indexOf("#");return c>=0&&(b=b.substr(0,c)),this.dataFactory.namedNode((0,d.resolve)(b,this.baseIRI.value))}getResourceOrBaseIri(a,b){return!0===a?this.getBaseIriTerm(b):a}getBaseIriTerm(a){return a.localBaseIRI||this.baseIRI}createVocabIris(a,b,c,d){return a.split(/\s+/).filter(a=>a&&(c||a.indexOf(":")>=0)).map(a=>this.createIri(a,b,!0,!0,d)).filter(a=>null!=a)}createLiteral(a,b){if(b.interpretObjectAsTime&&!b.datatype){for(let c of g.TIME_REGEXES)if(a.match(c.regex)){b.datatype=this.dataFactory.namedNode(g.XSD+c.type);break}}return this.dataFactory.literal(a,b.datatype||b.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(a,b,c,e,f){if(a=a||"",!e)return(c||(a=(0,d.resolve)(a,this.getBaseIriTerm(b).value)),g.isValidIri(a))?this.dataFactory.namedNode(a):null;if(a.length>0&&"["===a[0]&&"]"===a[a.length-1]&&0>(a=a.substr(1,a.length-2)).indexOf(":"))return null;if(a.startsWith("_:"))return f?this.dataFactory.blankNode(a.substr(2)||"b_identity"):null;if(c&&b.vocab&&0>a.indexOf(":"))return this.dataFactory.namedNode(b.vocab+a);let h=g.expandPrefixedTerm(a,b);return(c?a!==h&&(h=(0,d.resolve)(h,this.baseIRIDocument.value)):h=(0,d.resolve)(h,this.getBaseIriTerm(b).value),g.isValidIri(h))?this.dataFactory.namedNode(h):null}}b.Util=g,g.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",g.XSD="http://www.w3.org/2001/XMLSchema#",g.RDFA="http://www.w3.org/ns/rdfa#",g.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,g.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"},],g.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/},25787:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(99568),b)},9966:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ParseError=void 0,b.ParseError=class extends Error{constructor(a,b){let c=a.saxParser;super(a.trackPosition?`Line ${c.line} column ${c.column+1}: ${b}`:b)}}},99568:function(a,b,c){"use strict";var d,e;Object.defineProperty(b,"__esModule",{value:!0}),b.ParseType=b.RdfXmlParser=void 0;let f=c(68912),g=c(92208),h=c(89827),i=c(9966),j=c(41640),k=c(21017);class l extends h.Transform{constructor(a){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},a&&(Object.assign(this,a),this.options=a),this.dataFactory||(this.dataFactory=new j.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),!1!==this.validateUri&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?k.IriValidationStrategy.Pragmatic:k.IriValidationStrategy.None),this.saxParser=new g.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(a){let b=new h.PassThrough({readableObjectMode:!0});a.on("error",a=>c.emit("error",a)),a.on("data",a=>b.push(a)),a.on("end",()=>b.push(null));let c=b.pipe(new l(this.options));return c}_transform(a,b,c){try{this.saxParser.write(a)}catch(d){return c(d)}c()}newParseError(a){return new i.ParseError(this,a)}valueToUri(a,b){return this.uriToNamedNode((0,f.resolve)(a,b.baseIRI))}uriToNamedNode(a){let b=(0,k.validateIri)(a,this.iriValidationStrategy);if(b instanceof Error)throw this.newParseError(b.message);return this.dataFactory.namedNode(a)}validateNcname(a){if(!l.NCNAME_MATCHER.test(a))throw this.newParseError(`Not a valid NCName: ${a}`)}attachSaxListeners(){this.saxParser.on("error",a=>this.emit("error",a)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(a){let b=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null,c=d.RESOURCE;if(b&&(b.hadChildren=!0,c=b.childrenParseType),b&&b.childrenStringTags){let e=a.name,f="";for(let g in a.attributes)f+=` ${g}="${a.attributes[g].value}"`;let h=`${e}${f}`,i=`<${h}>`;b.childrenStringTags.push(i);let j={childrenStringTags:b.childrenStringTags};j.childrenStringEmitClosingTag=`</${e}>`,this.activeTagStack.push(j);return}let k={};b?(k.language=b.language,k.baseIRI=b.baseIRI):k.baseIRI=this.baseIRI,this.activeTagStack.push(k),c===d.RESOURCE?this.onTagResource(a,k,b,!b):this.onTagProperty(a,k,b)}onTagResource(a,b,c,e){b.childrenParseType=d.PROPERTY;let g=!0;if(a.uri===l.RDF){if(!e&&l.FORBIDDEN_NODE_ELEMENTS.indexOf(a.local)>=0)throw this.newParseError(`Illegal node element name: ${a.local}`);switch(a.local){case"RDF":b.childrenParseType=d.RESOURCE;case"Description":g=!1}}let h=[],i=[],j=null,k=!1,m=!1,n=null;for(let o in a.attributes){let p=a.attributes[o];if(c&&p.uri===l.RDF)switch(p.local){case"about":if(j)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, \
while ${p.value} and ${j} where found.`);j=p.value;continue;case"ID":if(j)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, \
while ${p.value} and ${j} where found.`);this.validateNcname(p.value),j="#"+p.value,k=!0;continue;case"nodeID":if(j)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, \
while ${p.value} and ${j} where found.`);this.validateNcname(p.value),j=p.value,m=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":n=p.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(p.uri===l.XML){if("lang"===p.local){b.language=""===p.value?null:p.value.toLowerCase();continue}if("base"===p.local){b.baseIRI=(0,f.resolve)(p.value,b.baseIRI);continue}}"xml"!==p.prefix&&p.uri&&(h.push(this.uriToNamedNode(p.uri+p.local)),i.push(p.value))}if(null!==j&&(b.subject=m?this.dataFactory.blankNode(j):this.valueToUri(j,b),k&&this.claimNodeId(b.subject)),b.subject||(b.subject=this.dataFactory.blankNode()),g){let q=this.uriToNamedNode(a.uri+a.local);this.emitTriple(b.subject,this.dataFactory.namedNode(l.RDF+"type"),q,c?c.reifiedStatementId:null)}if(c){if(c.predicate){if(c.childrenCollectionSubject){let r=this.dataFactory.blankNode();this.emitTriple(c.childrenCollectionSubject,c.childrenCollectionPredicate,r,c.reifiedStatementId),this.emitTriple(r,this.dataFactory.namedNode(l.RDF+"first"),b.subject,b.reifiedStatementId),c.childrenCollectionSubject=r,c.childrenCollectionPredicate=this.dataFactory.namedNode(l.RDF+"rest")}else{this.emitTriple(c.subject,c.predicate,b.subject,c.reifiedStatementId);for(let s=0;s<c.predicateSubPredicates.length;s++)this.emitTriple(b.subject,c.predicateSubPredicates[s],c.predicateSubObjects[s],null);c.predicateSubPredicates=[],c.predicateSubObjects=[],c.predicateEmitted=!0}}for(let t=0;t<h.length;t++){let u=this.dataFactory.literal(i[t],b.datatype||b.language);this.emitTriple(b.subject,h[t],u,c.reifiedStatementId)}n&&this.emitTriple(b.subject,this.dataFactory.namedNode(l.RDF+"type"),this.uriToNamedNode(n),null)}}onTagProperty(a,b,c){if(b.childrenParseType=d.RESOURCE,b.subject=c.subject,a.uri===l.RDF&&"li"===a.local?(c.listItemCounter||(c.listItemCounter=1),b.predicate=this.uriToNamedNode(a.uri+"_"+c.listItemCounter++)):b.predicate=this.uriToNamedNode(a.uri+a.local),a.uri===l.RDF&&l.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(a.local)>=0)throw this.newParseError(`Illegal property element name: ${a.local}`);b.predicateSubPredicates=[],b.predicateSubObjects=[];let e=!1,f=!1,g=null,h=!0,i=[],j=[];for(let k in a.attributes){let m=a.attributes[k];if(m.uri===l.RDF)switch(m.local){case"resource":if(g)throw this.newParseError(`Found both rdf:resource (${m.value}) and rdf:nodeID (${g}).`);if(e)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${m.value})`);b.hadChildren=!0,g=m.value,h=!1;continue;case"datatype":if(f)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${m.value}).`);if(e)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${m.value})`);b.datatype=this.valueToUri(m.value,b);continue;case"nodeID":if(f)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${m.value}).`);if(b.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${m.value}).`);if(e)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${m.value})`);this.validateNcname(m.value),b.hadChildren=!0,g=m.value,h=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(f)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(b.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${b.datatype.value})`);if(g)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${g})`);if("Resource"===m.value){e=!0,b.childrenParseType=d.PROPERTY;let n=this.dataFactory.blankNode();this.emitTriple(b.subject,b.predicate,n,b.reifiedStatementId),b.subject=n,b.predicate=null}else"Collection"===m.value?(e=!0,b.hadChildren=!0,b.childrenCollectionSubject=b.subject,b.childrenCollectionPredicate=b.predicate,h=!1):"Literal"===m.value&&(e=!0,b.childrenTagsToString=!0,b.childrenStringTags=[]);continue;case"ID":this.validateNcname(m.value),b.reifiedStatementId=this.valueToUri("#"+m.value,b),this.claimNodeId(b.reifiedStatementId);continue}else if(m.uri===l.XML&&"lang"===m.local){b.language=""===m.value?null:m.value.toLowerCase();continue}if("xml"!==m.prefix&&"xmlns"!==m.prefix&&m.uri){if(e||b.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${m.value}`);b.hadChildren=!0,f=!0,i.push(this.uriToNamedNode(m.uri+m.local)),j.push(this.dataFactory.literal(m.value,b.datatype||b.language))}}if(null!==g){let o=b.subject;b.subject=h?this.dataFactory.blankNode(g):this.valueToUri(g,b),this.emitTriple(o,b.predicate,b.subject,b.reifiedStatementId);for(let p=0;p<i.length;p++)this.emitTriple(b.subject,i[p],j[p],null);b.predicateEmitted=!0}else h&&(b.predicateSubPredicates=i,b.predicateSubObjects=j,b.predicateEmitted=!1)}emitTriple(a,b,c,d){this.push(this.dataFactory.quad(a,b,c,this.defaultGraph)),d&&(this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(l.RDF+"type"),this.dataFactory.namedNode(l.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(l.RDF+"subject"),a,this.defaultGraph)),this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(l.RDF+"predicate"),b,this.defaultGraph)),this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(l.RDF+"object"),c,this.defaultGraph)))}claimNodeId(a){if(!this.allowDuplicateRdfIds){if(this.nodeIds[a.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${a.value}'.`);this.nodeIds[a.value]=!0}}onText(a){let b=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;b&&(b.childrenStringTags?b.childrenStringTags.push(a):b.predicate&&(b.text=a))}onCloseTag(){let a=this.activeTagStack.pop();if(a.childrenStringEmitClosingTag&&a.childrenStringTags.push(a.childrenStringEmitClosingTag),a.childrenTagsToString&&(a.datatype=this.dataFactory.namedNode(l.RDF+"XMLLiteral"),a.text=a.childrenStringTags.join(""),a.hadChildren=!1),a.childrenCollectionSubject)this.emitTriple(a.childrenCollectionSubject,a.childrenCollectionPredicate,this.dataFactory.namedNode(l.RDF+"nil"),a.reifiedStatementId);else if(a.predicate){if(a.hadChildren||a.childrenParseType===d.PROPERTY){if(!a.predicateEmitted){let b=this.dataFactory.blankNode();this.emitTriple(a.subject,a.predicate,b,a.reifiedStatementId);for(let c=0;c<a.predicateSubPredicates.length;c++)this.emitTriple(b,a.predicateSubPredicates[c],a.predicateSubObjects[c],null)}}else this.emitTriple(a.subject,a.predicate,this.dataFactory.literal(a.text||"",a.datatype||a.language),a.reifiedStatementId)}}onDoctype(a){a.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(a,b,c)=>(this.saxParser.ENTITIES[b]=c,""))}}b.RdfXmlParser=l,l.MIME_TYPE="application/rdf+xml",l.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",l.XML="http://www.w3.org/XML/1998/namespace",l.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix",],l.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix",],l.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,(e=d=b.ParseType||(b.ParseType={}))[e.RESOURCE=0]="RESOURCE",e[e.PROPERTY=1]="PROPERTY"},91742:function(a){a.exports=function(b){if(!a.exports.WEBSTREAM_SUPPORT)throw Error("No web ReadableStream support");var c=!1,d={};return new ReadableStream({start:function(a){for(var e in d.data=f,d.end=f,d.end=g,d.close=g,d.error=g,d)b.on(e,d[e]);function f(d){c||(a.enqueue(d),b.pause())}function g(e){if(!c){for(var f in c=!0,d)b.removeListener(f,d[f]);e?a.error(e):a.close()}}b.pause()},pull:function(){c||b.resume()},cancel:function(){for(var a in c=!0,d)b.removeListener(a,d[a]);b.push(null),b.pause(),b.destroy?b.destroy():b.close&&b.close()}})},a.exports.WEBSTREAM_SUPPORT="undefined"!=typeof ReadableStream},80196:function(a,b,c){"use strict";let{AbortError:d,codes:e}=c(64381),f=c(8610),{ERR_INVALID_ARG_TYPE:g}=e,h=(a,b)=>{if("object"!=typeof a||!("aborted"in a))throw new g(b,"AbortSignal",a)};a.exports.addAbortSignal=function(b,c){var d;if(h(b,"signal"),!(d=c)||"function"!=typeof d.pipe)throw new g("stream","stream.Stream",c);return a.exports.addAbortSignalNoValidate(b,c)},a.exports.addAbortSignalNoValidate=function(a,b){if("object"!=typeof a||!("aborted"in a))return b;let c=()=>{b.destroy(new d(void 0,{cause:a.reason}))};return a.aborted?c():(a.addEventListener("abort",c),f(b,()=>a.removeEventListener("abort",c))),b}},57327:function(a,b,c){"use strict";var d=c(48764).Buffer;let{StringPrototypeSlice:e,SymbolIterator:f,TypedArrayPrototypeSet:g,Uint8Array:h}=c(29061),{inspect:i}=c(66087);a.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){let b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}unshift(a){let b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length}shift(){if(0===this.length)return;let a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(0===this.length)return"";let b=this.head,c=""+b.data;for(;null!==(b=b.next);)c+=a+b.data;return c}concat(a){if(0===this.length)return d.alloc(0);let b=d.allocUnsafe(a>>>0),c=this.head,e=0;for(;c;)g(b,c.data,e),e+=c.data.length,c=c.next;return b}consume(a,b){let c=this.head.data;if(a<c.length){let d=c.slice(0,a);return this.head.data=c.slice(a),d}return a===c.length?this.shift():b?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[f](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let b="",c=this.head,d=0;do{let f=c.data;if(a>f.length)b+=f,a-=f.length;else{a===f.length?(b+=f,++d,c.next?this.head=c.next:this.head=this.tail=null):(b+=e(f,0,a),this.head=c,c.data=e(f,a));break}++d}while(null!==(c=c.next));return this.length-=d,b}_getBuffer(a){let b=d.allocUnsafe(a),c=a,e=this.head,f=0;do{let i=e.data;if(a>i.length)g(b,i,c-a),a-=i.length;else{a===i.length?(g(b,i,c-a),++f,e.next?this.head=e.next:this.head=this.tail=null):(g(b,new h(i.buffer,i.byteOffset,a),c-a),this.head=e,e.data=i.slice(a));break}++f}while(null!==(e=e.next));return this.length-=f,b}[Symbol.for("nodejs.util.inspect.custom")](a,b){return i(this,{...b,depth:0,customInspect:!1})}}},20299:function(a,b,c){"use strict";let{pipeline:d}=c(59946),e=c(58672),{destroyer:f}=c(61195),{isNodeStream:g,isReadable:h,isWritable:i}=c(15874),{AbortError:j,codes:{ERR_INVALID_ARG_VALUE:k,ERR_MISSING_ARGS:l}}=c(64381);a.exports=function(...a){if(0===a.length)throw new l("streams");if(1===a.length)return e.from(a[0]);let b=[...a];if("function"==typeof a[0]&&(a[0]=e.from(a[0])),"function"==typeof a[a.length-1]){let c=a.length-1;a[c]=e.from(a[c])}for(let m=0;m<a.length;++m)if(g(a[m])){if(m<a.length-1&&!h(a[m]))throw new k(`streams[${m}]`,b[m],"must be readable");if(m>0&&!i(a[m]))throw new k(`streams[${m}]`,b[m],"must be writable")}let n,o,p,q,r,s=a[0],t=d(a,function(a){let b=q;q=null,b?b(a):a?r.destroy(a):v||u||r.destroy()}),u=!!i(s),v=!!h(t);return r=new e({writableObjectMode:!!(null!=s&&s.writableObjectMode),readableObjectMode:!!(null!=t&&t.writableObjectMode),writable:u,readable:v}),u&&(r._write=function(a,b,c){s.write(a,b)?c():n=c},r._final=function(a){s.end(),o=a},s.on("drain",function(){if(n){let a=n;n=null,a()}}),t.on("finish",function(){if(o){let a=o;o=null,a()}})),v&&(t.on("readable",function(){if(p){let a=p;p=null,a()}}),t.on("end",function(){r.push(null)}),r._read=function(){for(;;){let a=t.read();if(null===a){p=r._read;return}if(!r.push(a))return}}),r._destroy=function(a,b){a||null===q||(a=new j),p=null,n=null,o=null,null===q?b(a):(q=b,f(t,a))},r}},61195:function(a,b,c){"use strict";var d=c(34155);let{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:f},AbortError:g}=c(64381),{Symbol:h}=c(29061),{kDestroyed:i,isDestroyed:j,isFinished:k,isServerRequest:l}=c(15874),m=h("kDestroy"),n=h("kConstruct");function o(a,b,c){a&&(a.stack,b&&!b.errored&&(b.errored=a),c&&!c.errored&&(c.errored=a))}function p(a,b,c){let e=!1;function f(b){if(e)return;e=!0;let f=a._readableState,g=a._writableState;o(b,g,f),g&&(g.closed=!0),f&&(f.closed=!0),"function"==typeof c&&c(b),b?d.nextTick(q,a,b):d.nextTick(r,a)}try{a._destroy(b||null,f)}catch(g){f(g)}}function q(a,b){s(a,b),r(a)}function r(a){let b=a._readableState,c=a._writableState;c&&(c.closeEmitted=!0),b&&(b.closeEmitted=!0),(c&&c.emitClose||b&&b.emitClose)&&a.emit("close")}function s(a,b){let c=a._readableState,d=a._writableState;(!d||!d.errorEmitted)&&(!c||!c.errorEmitted)&&(d&&(d.errorEmitted=!0),c&&(c.errorEmitted=!0),a.emit("error",b))}function t(a,b,c){let e=a._readableState,f=a._writableState;if(f&&f.destroyed||e&&e.destroyed)return this;e&&e.autoDestroy||f&&f.autoDestroy?a.destroy(b):b&&(b.stack,f&&!f.errored&&(f.errored=b),e&&!e.errored&&(e.errored=b),c?d.nextTick(s,a,b):s(a,b))}function u(a){let b=!1;function c(c){if(b){t(a,null!=c?c:new f);return}b=!0;let e=a._readableState,g=a._writableState;e&&(e.constructed=!0),g&&(g.constructed=!0),(g||e).destroyed?a.emit(m,c):c?t(a,c,!0):d.nextTick(v,a)}try{a._construct(c)}catch(e){c(e)}}function v(a){a.emit(n)}function w(a){return a&&a.setHeader&&"function"==typeof a.abort}function x(a){a.emit("close")}function y(a,b){a.emit("error",b),d.nextTick(x,a)}a.exports={construct:function(a,b){if("function"!=typeof a._construct)return;let c=a._readableState,e=a._writableState;c&&(c.constructed=!1),e&&(e.constructed=!1),a.once(n,b),!(a.listenerCount(n)>1)&&d.nextTick(u,a)},destroyer:function(a,b){!(!a||j(a))&&(b||k(a)||(b=new g),l(a)?(a.socket=null,a.destroy(b)):w(a)?a.abort():w(a.req)?a.req.abort():"function"==typeof a.destroy?a.destroy(b):"function"==typeof a.close?a.close():b?d.nextTick(y,a):d.nextTick(x,a),a.destroyed||(a[i]=!0))},destroy:function(a,b){let c=this._readableState,d=this._writableState;return d&&d.destroyed||c&&c.destroyed?("function"==typeof b&&b(),this):(o(a,d,c),d&&(d.destroyed=!0),c&&(c.destroyed=!0),(d||c).constructed?p(this,a,b):this.once(m,function(c){p(this,e(c,a),b)}),this)},undestroy:function(){let a=this._readableState,b=this._writableState;a&&(a.constructed=!0,a.closed=!1,a.closeEmitted=!1,a.destroyed=!1,a.errored=null,a.errorEmitted=!1,a.reading=!1,a.ended=!1===a.readable,a.endEmitted=!1===a.readable),b&&(b.constructed=!0,b.destroyed=!1,b.closed=!1,b.closeEmitted=!1,b.errored=null,b.errorEmitted=!1,b.finalCalled=!1,b.prefinished=!1,b.ended=!1===b.writable,b.ending=!1===b.writable,b.finished=!1===b.writable)},errorOrDestroy:t}},58672:function(a,b,c){"use strict";let{ObjectDefineProperties:d,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:f,ObjectSetPrototypeOf:g}=c(29061);a.exports=m;let h=c(70911),i=c(6304);g(m.prototype,h.prototype),g(m,h);{let j=f(i.prototype);for(let k=0;k<j.length;k++){let l=j[k];m.prototype[l]||(m.prototype[l]=i.prototype[l])}}function m(a){if(!(this instanceof m))return new m(a);h.call(this,a),i.call(this,a),a?(this.allowHalfOpen=!1!==a.allowHalfOpen,!1===a.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===a.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}d(m.prototype,{writable:e(i.prototype,"writable"),writableHighWaterMark:e(i.prototype,"writableHighWaterMark"),writableObjectMode:e(i.prototype,"writableObjectMode"),writableBuffer:e(i.prototype,"writableBuffer"),writableLength:e(i.prototype,"writableLength"),writableFinished:e(i.prototype,"writableFinished"),writableCorked:e(i.prototype,"writableCorked"),writableEnded:e(i.prototype,"writableEnded"),writableNeedDrain:e(i.prototype,"writableNeedDrain"),destroyed:{get(){return void 0!==this._readableState&& void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(a){this._readableState&&this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}});let n;function o(){return void 0===n&&(n={}),n}m.fromWeb=function(a,b){return o().newStreamDuplexFromReadableWritablePair(a,b)},m.toWeb=function(a){return o().newReadableWritablePairFromDuplex(a)};let p;m.from=function(a){return p||(p=c(67946)),p(a,"body")}},67946:function(a,b,c){"use strict";var d=c(34155);let e=c(48764),{isReadable:f,isWritable:g,isIterable:h,isNodeStream:i,isReadableNodeStream:j,isWritableNodeStream:k,isDuplexNodeStream:l}=c(15874),m=c(8610),{AbortError:n,codes:{ERR_INVALID_ARG_TYPE:o,ERR_INVALID_RETURN_VALUE:p}}=c(64381),{destroyer:q}=c(61195),r=c(58672),s=c(70911),{createDeferredPromise:t}=c(66087),u=c(96307),v=globalThis.Blob||e.Blob,w=void 0!==v?function(a){return a instanceof v}:function(a){return!1},x=globalThis.AbortController||c(28599).AbortController,{FunctionPrototypeCall:y}=c(29061);class z extends r{constructor(a){super(a),(null==a?void 0:a.readable)=== !1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==a?void 0:a.writable)=== !1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function A(a){let b=a.readable&&"function"!=typeof a.readable.read?s.wrap(a.readable):a.readable,c=a.writable,d=!!f(b),e=!!g(c),h,i,j,k,l;function o(a){let b=k;k=null,b?b(a):a?l.destroy(a):d||e||l.destroy()}return l=new z({readableObjectMode:!!(null!=b&&b.readableObjectMode),writableObjectMode:!!(null!=c&&c.writableObjectMode),readable:d,writable:e}),e&&(m(c,a=>{e=!1,a&&q(b,a),o(a)}),l._write=function(a,b,d){c.write(a,b)?d():h=d},l._final=function(a){c.end(),i=a},c.on("drain",function(){if(h){let a=h;h=null,a()}}),c.on("finish",function(){if(i){let a=i;i=null,a()}})),d&&(m(b,a=>{d=!1,a&&q(b,a),o(a)}),b.on("readable",function(){if(j){let a=j;j=null,a()}}),b.on("end",function(){l.push(null)}),l._read=function(){for(;;){let a=b.read();if(null===a){j=l._read;return}if(!l.push(a))return}}),l._destroy=function(a,d){a||null===k||(a=new n),j=null,h=null,i=null,null===k?d(a):(k=d,q(c,a),q(b,a))},l}a.exports=function a(b,c){if(l(b))return b;if(j(b))return A({readable:b});if(k(b))return A({writable:b});if(i(b))return A({writable:!1,readable:!1});if("function"==typeof b){let{value:e,write:f,final:g,destroy:m}=function a(b){let{promise:c,resolve:e}=t(),f=new x,g=f.signal,h=b(async function*(){for(;;){let a=c;c=null;let{chunk:b,done:f,cb:h}=await a;if(d.nextTick(h),f)return;if(g.aborted)throw new n(void 0,{cause:g.reason});({promise:c,resolve:e}=t()),yield b}}(),{signal:g});return{value:h,write(a,b,c){let d=e;e=null,d({chunk:a,done:!1,cb:c})},final(a){let b=e;e=null,b({done:!0,cb:a})},destroy(a,b){f.abort(),b(a)}}}(b);if(h(e))return u(z,e,{objectMode:!0,write:f,final:g,destroy:m});let r=null==e?void 0:e.then;if("function"==typeof r){let s,v=y(r,e,a=>{if(null!=a)throw new p("nully","body",a)},a=>{q(s,a)});return s=new z({objectMode:!0,readable:!1,write:f,final(a){g(async()=>{try{await v,d.nextTick(a,null)}catch(b){d.nextTick(a,b)}})},destroy:m})}throw new p("Iterable, AsyncIterable or AsyncFunction",c,e)}if(w(b))return a(b.arrayBuffer());if(h(b))return u(z,b,{objectMode:!0,writable:!1});if("object"==typeof(null==b?void 0:b.writable)||"object"==typeof(null==b?void 0:b.readable)){let B=null!=b&&b.readable?j(null==b?void 0:b.readable)?null==b?void 0:b.readable:a(b.readable):void 0,C=null!=b&&b.writable?k(null==b?void 0:b.writable)?null==b?void 0:b.writable:a(b.writable):void 0;return A({readable:B,writable:C})}let D=null==b?void 0:b.then;if("function"==typeof D){let E;return y(D,b,a=>{null!=a&&E.push(a),E.push(null)},a=>{q(E,a)}),E=new z({objectMode:!0,writable:!1,read(){}})}throw new o(c,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],b)}},8610:function(a,b,c){"use strict";var d=c(34155);let{AbortError:e,codes:f}=c(64381),{ERR_INVALID_ARG_TYPE:g,ERR_STREAM_PREMATURE_CLOSE:h}=f,{once:i}=c(66087),{validateAbortSignal:j,validateFunction:k,validateObject:l}=c(6547),{Promise:m}=c(29061),{isClosed:n,isReadable:o,isReadableNodeStream:p,isReadableFinished:q,isReadableErrored:r,isWritable:s,isWritableNodeStream:t,isWritableFinished:u,isWritableErrored:v,isNodeStream:w,willEmitClose:x}=c(15874),y=()=>{};function z(a,b,c){var f,m,z;2===arguments.length?(c=b,b={}):null==b?b={}:l(b,"options"),k(c,"callback"),j(b.signal,"options.signal"),c=i(c);let A=null!==(f=b.readable)&& void 0!==f?f:p(a),B=null!==(m=b.writable)&& void 0!==m?m:t(a);if(!w(a))throw new g("stream","Stream",a);let C=a._writableState,D=a._readableState,E=()=>{a.writable||H()},F=x(a)&&p(a)===A&&t(a)===B,G=u(a,!1),H=()=>{G=!0,a.destroyed&&(F=!1),(!F||a.readable&&!A)&&(!A||I)&&c.call(a)},I=q(a,!1),J=()=>{I=!0,a.destroyed&&(F=!1),(!F||a.writable&&!B)&&(!B||G)&&c.call(a)},K=b=>{c.call(a,b)},L=n(a),M=()=>{L=!0;let b=v(a)||r(a);return b&&"boolean"!=typeof b?c.call(a,b):A&&!I&&p(a,!0)&&!q(a,!1)||B&&!G&&!u(a,!1)?c.call(a,new h):void c.call(a)},N=()=>{a.req.on("finish",H)};(z=a).setHeader&&"function"==typeof z.abort?(a.on("complete",H),F||a.on("abort",M),a.req?N():a.on("request",N)):B&&!C&&(a.on("end",E),a.on("close",E)),F||"boolean"!=typeof a.aborted||a.on("aborted",M),a.on("end",J),a.on("finish",H),!1!==b.error&&a.on("error",K),a.on("close",M),L?d.nextTick(M):null!=C&&C.errorEmitted||null!=D&&D.errorEmitted?F||d.nextTick(M):!A&&(!F||o(a))&&(G|| !1===s(a))?d.nextTick(M):!B&&(!F||s(a))&&(I|| !1===o(a))?d.nextTick(M):D&&a.req&&a.aborted&&d.nextTick(M);let O=()=>{c=y,a.removeListener("aborted",M),a.removeListener("complete",H),a.removeListener("abort",M),a.removeListener("request",N),a.req&&a.req.removeListener("finish",H),a.removeListener("end",E),a.removeListener("close",E),a.removeListener("finish",H),a.removeListener("end",J),a.removeListener("error",K),a.removeListener("close",M)};if(b.signal&&!L){let P=()=>{let d=c;O(),d.call(a,new e(void 0,{cause:b.signal.reason}))};if(b.signal.aborted)d.nextTick(P);else{let Q=c;c=i((...c)=>{b.signal.removeEventListener("abort",P),Q.apply(a,c)}),b.signal.addEventListener("abort",P)}}return O}a.exports=z,a.exports.finished=function(a,b){return new m((c,d)=>{z(a,b,a=>{a?d(a):c()})})}},96307:function(a,b,c){"use strict";var d=c(48764).Buffer,e=c(34155);let{PromisePrototypeThen:f,SymbolAsyncIterator:g,SymbolIterator:h}=c(29061),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_NULL_VALUES:j}=c(64381).codes;a.exports=function(a,b,c){let k;if("string"==typeof b||b instanceof d)return new a({objectMode:!0,...c,read(){this.push(b),this.push(null)}});let l;if(b&&b[g])l=!0,k=b[g]();else if(b&&b[h])l=!1,k=b[h]();else throw new i("iterable",["Iterable"],b);let m=new a({objectMode:!0,highWaterMark:1,...c}),n=!1;async function o(a){let b="function"==typeof k.throw;if(null!=a&&b){let{value:c,done:d}=await k.throw(a);if(await c,d)return}if("function"==typeof k.return){let{value:e}=await k.return();await e}}async function p(){for(;;){try{let{value:a,done:b}=l?await k.next():k.next();if(b)m.push(null);else{let c=a&&"function"==typeof a.then?await a:a;if(null===c)throw n=!1,new j;if(m.push(c))continue;n=!1}}catch(d){m.destroy(d)}break}}return m._read=function(){n||(n=!0,p())},m._destroy=function(a,b){f(o(a),()=>e.nextTick(b,a),c=>e.nextTick(b,c||a))},m}},64870:function(a,b,c){"use strict";let{ArrayIsArray:d,ObjectSetPrototypeOf:e}=c(29061),{EventEmitter:f}=c(17187);function g(a){f.call(this,a)}function h(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?d(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}e(g.prototype,f.prototype),e(g,f),g.prototype.pipe=function(a,b){let c=this;function d(b){a.writable&& !1===a.write(b)&&c.pause&&c.pause()}function e(){c.readable&&c.resume&&c.resume()}c.on("data",d),a.on("drain",e),a._isStdio||b&& !1===b.end||(c.on("end",i),c.on("close",j));let g=!1;function i(){g||(g=!0,a.end())}function j(){g||(g=!0,"function"==typeof a.destroy&&a.destroy())}function k(a){l(),0===f.listenerCount(this,"error")&&this.emit("error",a)}function l(){c.removeListener("data",d),a.removeListener("drain",e),c.removeListener("end",i),c.removeListener("close",j),c.removeListener("error",k),a.removeListener("error",k),c.removeListener("end",l),c.removeListener("close",l),a.removeListener("close",l)}return h(c,"error",k),h(a,"error",k),c.on("end",l),c.on("close",l),a.on("close",l),a.emit("pipe",c),a},a.exports={Stream:g,prependListener:h}},54382:function(a,b,c){"use strict";let d=globalThis.AbortController||c(28599).AbortController,{codes:{ERR_INVALID_ARG_TYPE:e,ERR_MISSING_ARGS:f,ERR_OUT_OF_RANGE:g},AbortError:h}=c(64381),{validateAbortSignal:i,validateInteger:j,validateObject:k}=c(6547),l=c(29061).Symbol("kWeak"),{finished:m}=c(8610),{ArrayPrototypePush:n,MathFloor:o,Number:p,NumberIsNaN:q,Promise:r,PromiseReject:s,PromisePrototypeCatch:t,Symbol:u}=c(29061),v=u("kEmpty"),w=u("kEof");function x(a,b){if("function"!=typeof a)throw new e("fn",["Function","AsyncFunction"],a);null!=b&&k(b,"options"),(null==b?void 0:b.signal)!=null&&i(b.signal,"options.signal");let c=1;return(null==b?void 0:b.concurrency)!=null&&(c=o(b.concurrency)),j(c,"concurrency",1),(async function*(){var e,f;let g=new d,i=this,j=[],k=g.signal,l={signal:k},m=()=>g.abort();null!=b&&null!==(e=b.signal)&& void 0!==e&&e.aborted&&m(),null==b||null===(f=b.signal)|| void 0===f||f.addEventListener("abort",m);let n,o,p=!1;function q(){p=!0}async function u(){var d,e;try{for await(let f of i){if(p)return;if(k.aborted)throw new h;try{f=a(f,l)}catch(g){f=s(g)}f!==v&&("function"==typeof(null===(d=f)|| void 0===d?void 0:d.catch)&&f.catch(q),j.push(f),n&&(n(),n=null),!p&&j.length&&j.length>=c&&await new r(a=>{o=a}))}j.push(w)}catch(u){let x=s(u);t(x,q),j.push(x)}finally{p=!0,n&&(n(),n=null),null==b||null===(e=b.signal)|| void 0===e||e.removeEventListener("abort",m)}}u();try{for(;;){for(;j.length>0;){let x=await j[0];if(x===w)return;if(k.aborted)throw new h;x!==v&&(yield x),j.shift(),o&&(o(),o=null)}await new r(a=>{n=a})}}finally{g.abort(),p=!0,o&&(o(),o=null)}}).call(this)}async function y(a,b){for await(let c of C.call(this,a,b))return!0;return!1}async function z(a,b){if("function"!=typeof a)throw new e("fn",["Function","AsyncFunction"],a);return!await y.call(this,async(...b)=>!await a(...b),b)}async function A(a,b){for await(let c of C.call(this,a,b))return c}async function B(a,b){if("function"!=typeof a)throw new e("fn",["Function","AsyncFunction"],a);async function c(b,c){return await a(b,c),v}for await(let d of x.call(this,c,b));}function C(a,b){if("function"!=typeof a)throw new e("fn",["Function","AsyncFunction"],a);async function c(b,c){return await a(b,c)?b:v}return x.call(this,c,b)}class D extends f{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function E(a,b,c){var f,g;if("function"!=typeof a)throw new e("reducer",["Function","AsyncFunction"],a);null!=c&&k(c,"options"),(null==c?void 0:c.signal)!=null&&i(c.signal,"options.signal");let j=arguments.length>1;if(null!=c&&null!==(f=c.signal)&& void 0!==f&&f.aborted){let n=new h(void 0,{cause:c.signal.reason});throw this.once("error",()=>{}),await m(this.destroy(n)),n}let o=new d,p=o.signal;if(null!=c&&c.signal){let q={once:!0,[l]:this};c.signal.addEventListener("abort",()=>o.abort(),q)}let r=!1;try{for await(let s of this){if(r=!0,null!=c&&null!==(g=c.signal)&& void 0!==g&&g.aborted)throw new h;j?b=await a(b,s,{signal:p}):(b=s,j=!0)}if(!r&&!j)throw new D}finally{o.abort()}return b}async function F(a){null!=a&&k(a,"options"),(null==a?void 0:a.signal)!=null&&i(a.signal,"options.signal");let b=[];for await(let c of this){var d;if(null!=a&&null!==(d=a.signal)&& void 0!==d&&d.aborted)throw new h(void 0,{cause:a.signal.reason});n(b,c)}return b}function G(a){if(q(a=p(a)))return 0;if(a<0)throw new g("number",">= 0",a);return a}a.exports.streamReturningOperators={asIndexedPairs:function(a){return null!=a&&k(a,"options"),(null==a?void 0:a.signal)!=null&&i(a.signal,"options.signal"),(async function*(){let b=0;for await(let c of this){var d;if(null!=a&&null!==(d=a.signal)&& void 0!==d&&d.aborted)throw new h({cause:a.signal.reason});yield[b++,c]}}).call(this)},drop:function(a,b){return null!=b&&k(b,"options"),(null==b?void 0:b.signal)!=null&&i(b.signal,"options.signal"),a=G(a),(async function*(){var c,d;if(null!=b&&null!==(c=b.signal)&& void 0!==c&&c.aborted)throw new h;for await(let e of this){if(null!=b&&null!==(d=b.signal)&& void 0!==d&&d.aborted)throw new h;a-- <=0&&(yield e)}}).call(this)},filter:C,flatMap:function(a,b){let c=x.call(this,a,b);return(async function*(){for await(let a of c)yield*a}).call(this)},map:x,take:function(a,b){return null!=b&&k(b,"options"),(null==b?void 0:b.signal)!=null&&i(b.signal,"options.signal"),a=G(a),(async function*(){var c,d;if(null!=b&&null!==(c=b.signal)&& void 0!==c&&c.aborted)throw new h;for await(let e of this){if(null!=b&&null!==(d=b.signal)&& void 0!==d&&d.aborted)throw new h;if(!(a-- >0))return;yield e}}).call(this)}},a.exports.promiseReturningOperators={every:z,forEach:B,reduce:E,toArray:F,some:y,find:A}},60917:function(a,b,c){"use strict";let{ObjectSetPrototypeOf:d}=c(29061);a.exports=f;let e=c(81161);function f(a){if(!(this instanceof f))return new f(a);e.call(this,a)}d(f.prototype,e.prototype),d(f,e),f.prototype._transform=function(a,b,c){c(null,a)}},59946:function(a,b,c){"use strict";var d=c(34155);let{ArrayIsArray:e,Promise:f,SymbolAsyncIterator:g}=c(29061),h=c(8610),{once:i}=c(66087),j=c(61195),k=c(58672),{aggregateTwoErrors:l,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:n,ERR_MISSING_ARGS:o,ERR_STREAM_DESTROYED:p},AbortError:q}=c(64381),{validateFunction:r,validateAbortSignal:s}=c(6547),{isIterable:t,isReadable:u,isReadableNodeStream:v,isNodeStream:w}=c(15874),x=globalThis.AbortController||c(28599).AbortController,y,z;function A(a,b,c){let d=!1;a.on("close",()=>{d=!0});let e=h(a,{readable:b,writable:c},a=>{d=!a});return{destroy:b=>{d||(d=!0,j.destroyer(a,b||new p("pipe")))},cleanup:e}}function B(a){if(t(a))return a;if(v(a))return C(a);throw new m("val",["Readable","Iterable","AsyncIterable"],a)}async function*C(a){z||(z=c(70911)),yield*z.prototype[g].call(a)}async function D(a,b,c,{end:d}){let e,g=null,i=a=>{if(a&&(e=a),g){let b=g;g=null,b()}},j=()=>new f((a,b)=>{e?b(e):g=()=>{e?b(e):a()}});b.on("drain",i);let k=h(b,{readable:!1},i);try{for await(let m of(b.writableNeedDrain&&await j(),a))b.write(m)||await j();d&&b.end(),await j(),c()}catch(n){c(e!==n?l(e,n):n)}finally{k(),b.off("drain",i)}}function E(a,b,f){if(1===a.length&&e(a[0])&&(a=a[0]),a.length<2)throw new o("streams");let g=new x,h=g.signal,i=null==f?void 0:f.signal,j=[];function l(){G(new q)}s(i,"options.signal"),null==i||i.addEventListener("abort",l);let p,r,z=[],C=0;function E(a){G(a,0== --C)}function G(a,c){if(a&&(!p||"ERR_STREAM_PREMATURE_CLOSE"===p.code)&&(p=a),p||c){for(;z.length;)z.shift()(p);null==i||i.removeEventListener("abort",l),g.abort(),c&&(p||j.forEach(a=>a()),d.nextTick(b,p,r))}}let H;for(let I=0;I<a.length;I++){let J=a[I],K=I<a.length-1,L=I>0,M=K||(null==f?void 0:f.end)!== !1,N=I===a.length-1;if(w(J)){if(M){let{destroy:O,cleanup:P}=A(J,K,L);z.push(O),u(J)&&N&&j.push(P)}function Q(a){a&&"AbortError"!==a.name&&"ERR_STREAM_PREMATURE_CLOSE"!==a.code&&E(a)}J.on("error",Q),u(J)&&N&&j.push(()=>{J.removeListener("error",Q)})}if(0===I){if("function"==typeof J){if(H=J({signal:h}),!t(H))throw new n("Iterable, AsyncIterable or Stream","source",H)}else H=t(J)||v(J)?J:k.from(J)}else if("function"==typeof J){if(H=B(H),H=J(H,{signal:h}),K){if(!t(H,!0))throw new n("AsyncIterable",`transform[${I-1}]`,H)}else{var R;y||(y=c(60917));let S=new y({objectMode:!0}),T=null===(R=H)|| void 0===R?void 0:R.then;if("function"==typeof T)C++,T.call(H,a=>{r=a,null!=a&&S.write(a),M&&S.end(),d.nextTick(E)},a=>{S.destroy(a),d.nextTick(E,a)});else if(t(H,!0))C++,D(H,S,E,{end:M});else throw new n("AsyncIterable or Promise","destination",H);H=S;let{destroy:U,cleanup:V}=A(H,!1,!0);z.push(U),N&&j.push(V)}}else if(w(J)){if(v(H)){C+=2;let W=F(H,J,E,{end:M});u(J)&&N&&j.push(W)}else if(t(H))C++,D(H,J,E,{end:M});else throw new m("val",["Readable","Iterable","AsyncIterable"],H);H=J}else H=k.from(J)}return(null!=h&&h.aborted||null!=i&&i.aborted)&&d.nextTick(l),H}function F(a,b,c,{end:d}){return a.pipe(b,{end:d}),d?a.once("end",()=>b.end()):c(),h(a,{readable:!0,writable:!1},b=>{let d=a._readableState;b&&"ERR_STREAM_PREMATURE_CLOSE"===b.code&&d&&d.ended&&!d.errored&&!d.errorEmitted?a.once("end",c).once("error",c):c(b)}),h(b,{readable:!1,writable:!0},c)}a.exports={pipelineImpl:E,pipeline:function(...a){var b;return E(a,i((r((b=a)[b.length-1],"streams[stream.length - 1]"),b.pop())))}}},70911:function(a,b,c){"use strict";var d=c(48764).Buffer,e=c(34155);let{ArrayPrototypeIndexOf:f,NumberIsInteger:g,NumberIsNaN:h,NumberParseInt:i,ObjectDefineProperties:j,ObjectKeys:k,ObjectSetPrototypeOf:l,Promise:m,SafeSet:n,SymbolAsyncIterator:o,Symbol:p}=c(29061);a.exports=N,N.ReadableState=M;let{EventEmitter:q}=c(17187),{Stream:r,prependListener:s}=c(64870),{addAbortSignal:t}=c(80196),u=c(8610),v=c(66087).debuglog("stream",a=>{v=a}),w=c(57327),x=c(61195),{getHighWaterMark:y,getDefaultHighWaterMark:z}=c(82457),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:D,ERR_STREAM_PUSH_AFTER_EOF:E,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:F}}=c(64381),{validateObject:G}=c(6547),H=p("kPaused"),{StringDecoder:I}=c(32553),J=c(96307);l(N.prototype,r.prototype),l(N,r);let K=()=>{},{errorOrDestroy:L}=x;function M(a,b,d){"boolean"!=typeof d&&(d=b instanceof c(58672)),this.objectMode=!!(a&&a.objectMode),d&&(this.objectMode=this.objectMode||!!(a&&a.readableObjectMode)),this.highWaterMark=a?y(this,a,"readableHighWaterMark",d):z(!1),this.buffer=new w,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[H]=null,this.errorEmitted=!1,this.emitClose=!a|| !1!==a.emitClose,this.autoDestroy=!a|| !1!==a.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=a&&a.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,a&&a.encoding&&(this.decoder=new I(a.encoding),this.encoding=a.encoding)}function N(a){if(!(this instanceof N))return new N(a);let b=this instanceof c(58672);this._readableState=new M(a,this,b),a&&("function"==typeof a.read&&(this._read=a.read),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.construct&&(this._construct=a.construct),a.signal&&!b&&t(a.signal,this)),r.call(this,a),x.construct(this,()=>{this._readableState.needReadable&&U(this,this._readableState)})}function O(a,b,c,e){v("readableAddChunk",b);let f=a._readableState,g;if(f.objectMode||("string"==typeof b?(c=c||f.defaultEncoding,f.encoding!==c&&(e&&f.encoding?b=d.from(b,c).toString(f.encoding):(b=d.from(b,c),c=""))):b instanceof d?c="":r._isUint8Array(b)?(b=r._uint8ArrayToBuffer(b),c=""):null!=b&&(g=new B("chunk",["string","Buffer","Uint8Array"],b))),g)L(a,g);else if(null===b)f.reading=!1,R(a,f);else if(f.objectMode||b&&b.length>0){if(e){if(f.endEmitted)L(a,new F);else{if(f.destroyed||f.errored)return!1;P(a,f,b,!0)}}else if(f.ended)L(a,new E);else{if(f.destroyed||f.errored)return!1;f.reading=!1,f.decoder&&!c?(b=f.decoder.write(b),f.objectMode||0!==b.length?P(a,f,b,!1):U(a,f)):P(a,f,b,!1)}}else e||(f.reading=!1,U(a,f));return!f.ended&&(f.length<f.highWaterMark||0===f.length)}function P(a,b,c,d){b.flowing&&0===b.length&&!b.sync&&a.listenerCount("data")>0?(b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,a.emit("data",c)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&S(a)),U(a,b)}function Q(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:h(a)?b.flowing&&b.length?b.buffer.first().length:b.length:a<=b.length?a:b.ended?b.length:0}function R(a,b){if(v("onEofChunk"),!b.ended){if(b.decoder){let c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,b.sync?S(a):(b.needReadable=!1,b.emittedReadable=!0,T(a))}}function S(a){let b=a._readableState;v("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(v("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(T,a))}function T(a){let b=a._readableState;v("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(a.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,Z(a)}function U(a,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(V,a,b))}function V(a,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&0===b.length);){let c=b.length;if(v("maybeReadMore read 0"),a.read(0),c===b.length)break}b.readingMore=!1}N.prototype.destroy=x.destroy,N.prototype._undestroy=x.undestroy,N.prototype._destroy=function(a,b){b(a)},N.prototype[q.captureRejectionSymbol]=function(a){this.destroy(a)},N.prototype.push=function(a,b){return O(this,a,b,!1)},N.prototype.unshift=function(a,b){return O(this,a,b,!0)},N.prototype.isPaused=function(){let a=this._readableState;return!0===a[H]|| !1===a.flowing},N.prototype.setEncoding=function(a){let b=new I(a);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;let c=this._readableState.buffer,d="";for(let e of c)d+=b.write(e);return c.clear(),""!==d&&c.push(d),this._readableState.length=d.length,this};function W(a){let b=a._readableState;b.readableListening=a.listenerCount("readable")>0,b.resumeScheduled&& !1===b[H]?b.flowing=!0:a.listenerCount("data")>0?a.resume():b.readableListening||(b.flowing=null)}function X(a){v("readable nexttick read 0"),a.read(0)}function Y(a,b){v("resume",b.reading),b.reading||a.read(0),b.resumeScheduled=!1,a.emit("resume"),Z(a),b.flowing&&!b.reading&&a.read(0)}function Z(a){let b=a._readableState;for(v("flow",b.flowing);b.flowing&&null!==a.read(););}function $(a,b){"function"!=typeof a.read&&(a=N.wrap(a,{objectMode:!0}));let c=_(a,b);return c.stream=a,c}async function*_(a,b){let c=K;function d(b){this===a?(c(),c=K):c=b}a.on("readable",d);let e,f=u(a,{writable:!1},a=>{e=a?A(e,a):null,c(),c=K});try{for(;;){let g=a.destroyed?null:a.read();if(null!==g)yield g;else if(e)throw e;else{if(null===e)return;await new m(d)}}}catch(h){throw e=A(e,h)}finally{(e||(null==b?void 0:b.destroyOnReturn)!== !1)&&(void 0===e||a._readableState.autoDestroy)?x.destroyer(a,null):(a.off("readable",d),f())}}function aa(a,b){if(0===b.length)return null;let c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.first():b.buffer.concat(b.length),b.buffer.clear()):c=b.buffer.consume(a,b.decoder),c}function ab(a){let b=a._readableState;v("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(ac,b,a))}function ac(a,b){if(v("endReadableNT",a.endEmitted,a.length),!a.errored&&!a.closeEmitted&&!a.endEmitted&&0===a.length){if(a.endEmitted=!0,b.emit("end"),b.writable&& !1===b.allowHalfOpen)e.nextTick(ad,b);else if(a.autoDestroy){let c=b._writableState,d=!c||c.autoDestroy&&(c.finished|| !1===c.writable);d&&b.destroy()}}}function ad(a){let b=a.writable&&!a.writableEnded&&!a.destroyed;b&&a.end()}N.prototype.read=function(a){v("read",a),void 0===a?a=NaN:g(a)||(a=i(a,10));let b=this._readableState,c=a;if(a>b.highWaterMark&&(b.highWaterMark=function(a){if(a>1073741824)throw new D("size","<= 1GiB",a);return a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,++a}(a)),0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&((0!==b.highWaterMark?b.length>=b.highWaterMark:b.length>0)||b.ended))return v("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?ab(this):S(this),null;if(0===(a=Q(a,b))&&b.ended)return 0===b.length&&ab(this),null;let d=b.needReadable;if(v("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&v("length less than watermark",d=!0),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)v("reading, ended or constructing",d=!1);else if(d){v("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0);try{this._read(b.highWaterMark)}catch(e){L(this,e)}b.sync=!1,b.reading||(a=Q(c,b))}let f;return null===(f=a>0?aa(a,b):null)?(b.needReadable=b.length<=b.highWaterMark,a=0):(b.length-=a,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&ab(this)),null===f||b.errorEmitted||b.closeEmitted||(b.dataEmitted=!0,this.emit("data",f)),f},N.prototype._read=function(a){throw new C("_read()")},N.prototype.pipe=function(a,b){let c=this,d=this._readableState;1!==d.pipes.length||d.multiAwaitDrain||(d.multiAwaitDrain=!0,d.awaitDrainWriters=new n(d.awaitDrainWriters?[d.awaitDrainWriters]:[])),d.pipes.push(a),v("pipe count=%d opts=%j",d.pipes.length,b);let f=(!b|| !1!==b.end)&&a!==e.stdout&&a!==e.stderr,g=f?i:t;function h(a,b){v("onunpipe"),a===c&&b&& !1===b.hasUnpiped&&(b.hasUnpiped=!0,l())}function i(){v("onend"),a.end()}d.endEmitted?e.nextTick(g):c.once("end",g),a.on("unpipe",h);let j,k=!1;function l(){v("cleanup"),a.removeListener("close",q),a.removeListener("finish",r),j&&a.removeListener("drain",j),a.removeListener("error",p),a.removeListener("unpipe",h),c.removeListener("end",i),c.removeListener("end",t),c.removeListener("data",o),k=!0,j&&d.awaitDrainWriters&&(!a._writableState||a._writableState.needDrain)&&j()}function m(){var b,e;k||(1===d.pipes.length&&d.pipes[0]===a?(v("false write response, pause",0),d.awaitDrainWriters=a,d.multiAwaitDrain=!1):d.pipes.length>1&&d.pipes.includes(a)&&(v("false write response, pause",d.awaitDrainWriters.size),d.awaitDrainWriters.add(a)),c.pause()),j||(j=(b=c,e=a,function(){let a=b._readableState;a.awaitDrainWriters===e?(v("pipeOnDrain",1),a.awaitDrainWriters=null):a.multiAwaitDrain&&(v("pipeOnDrain",a.awaitDrainWriters.size),a.awaitDrainWriters.delete(e)),(!a.awaitDrainWriters||0===a.awaitDrainWriters.size)&&b.listenerCount("data")&&b.resume()}),a.on("drain",j))}function o(b){v("ondata");let c=a.write(b);v("dest.write",c),!1===c&&m()}function p(b){if(v("onerror",b),t(),a.removeListener("error",p),0===a.listenerCount("error")){let c=a._writableState||a._readableState;c&&!c.errorEmitted?L(a,b):a.emit("error",b)}}function q(){a.removeListener("finish",r),t()}function r(){v("onfinish"),a.removeListener("close",q),t()}function t(){v("unpipe"),c.unpipe(a)}return c.on("data",o),s(a,"error",p),a.once("close",q),a.once("finish",r),a.emit("pipe",c),!0===a.writableNeedDrain?d.flowing&&m():d.flowing||(v("pipe resume"),c.resume()),a},N.prototype.unpipe=function(a){let b=this._readableState;if(0===b.pipes.length)return this;if(!a){let c=b.pipes;b.pipes=[],this.pause();for(let d=0;d<c.length;d++)c[d].emit("unpipe",this,{hasUnpiped:!1});return this}let e=f(b.pipes,a);return -1===e||(b.pipes.splice(e,1),0===b.pipes.length&&this.pause(),a.emit("unpipe",this,{hasUnpiped:!1})),this},N.prototype.on=function(a,b){let c=r.prototype.on.call(this,a,b),d=this._readableState;return"data"===a?(d.readableListening=this.listenerCount("readable")>0,!1!==d.flowing&&this.resume()):"readable"!==a||d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.flowing=!1,d.emittedReadable=!1,v("on readable",d.length,d.reading),d.length?S(this):d.reading||e.nextTick(X,this)),c},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(a,b){let c=r.prototype.removeListener.call(this,a,b);return"readable"===a&&e.nextTick(W,this),c},N.prototype.off=N.prototype.removeListener,N.prototype.removeAllListeners=function(a){let b=r.prototype.removeAllListeners.apply(this,arguments);return("readable"===a|| void 0===a)&&e.nextTick(W,this),b},N.prototype.resume=function(){var a,b;let c=this._readableState;return c.flowing||(v("resume"),c.flowing=!c.readableListening,a=this,(b=c).resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Y,a,b))),c[H]=!1,this},N.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this},N.prototype.wrap=function(a){let b=!1;a.on("data",c=>{!this.push(c)&&a.pause&&(b=!0,a.pause())}),a.on("end",()=>{this.push(null)}),a.on("error",a=>{L(this,a)}),a.on("close",()=>{this.destroy()}),a.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&a.resume&&(b=!1,a.resume())};let c=k(a);for(let d=1;d<c.length;d++){let e=c[d];void 0===this[e]&&"function"==typeof a[e]&&(this[e]=a[e].bind(a))}return this},N.prototype[o]=function(){return $(this)},N.prototype.iterator=function(a){return void 0!==a&&G(a,"options"),$(this,a)},j(N.prototype,{readable:{get(){let a=this._readableState;return!!a&& !1!==a.readable&&!a.destroyed&&!a.errorEmitted&&!a.endEmitted},set(a){this._readableState&&(this._readableState.readable=!!a)}},readableDidRead:{enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{enumerable:!1,get:function(){return this._readableState.flowing},set:function(a){this._readableState&&(this._readableState.flowing=a)}},readableLength:{enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{get(){return!!this._readableState&&this._readableState.closed}},destroyed:{enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(a){this._readableState&&(this._readableState.destroyed=a)}},readableEnded:{enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),j(M.prototype,{pipesCount:{get(){return this.pipes.length}},paused:{get(){return!1!==this[H]},set(a){this[H]=!!a}}}),N._fromList=aa,N.from=function(a,b){return J(N,a,b)};let ae;function af(){return void 0===ae&&(ae={}),ae}N.fromWeb=function(a,b){return af().newStreamReadableFromReadableStream(a,b)},N.toWeb=function(a){return af().newReadableStreamFromStreamReadable(a)},N.wrap=function(a,b){var c,d;return new N({objectMode:null===(c=null!==(d=a.readableObjectMode)&& void 0!==d?d:a.objectMode)|| void 0===c||c,...b,destroy(b,c){x.destroyer(a,b),c(b)}}).wrap(a)}},82457:function(a,b,c){"use strict";let{MathFloor:d,NumberIsInteger:e}=c(29061),{ERR_INVALID_ARG_VALUE:f}=c(64381).codes;function g(a){return a?16:16384}a.exports={getHighWaterMark:function(a,b,c,h){var i,j,k;let l=(i=b,j=h,k=c,null!=i.highWaterMark?i.highWaterMark:j?i[k]:null);if(null!=l){if(!e(l)||l<0){let m=h?`options.${c}`:"options.highWaterMark";throw new f(m,l)}return d(l)}return g(a.objectMode)},getDefaultHighWaterMark:g}},81161:function(a,b,c){"use strict";let{ObjectSetPrototypeOf:d,Symbol:e}=c(29061);a.exports=i;let{ERR_METHOD_NOT_IMPLEMENTED:f}=c(64381).codes,g=c(58672);d(i.prototype,g.prototype),d(i,g);let h=e("kCallback");function i(a){if(!(this instanceof i))return new i(a);g.call(this,a),this._readableState.sync=!1,this[h]=null,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",k)}function j(a){"function"!=typeof this._flush||this.destroyed?(this.push(null),a&&a()):this._flush((b,c)=>{if(b){a?a(b):this.destroy(b);return}null!=c&&this.push(c),this.push(null),a&&a()})}function k(){this._final!==j&&j.call(this)}i.prototype._final=j,i.prototype._transform=function(a,b,c){throw new f("_transform()")},i.prototype._write=function(a,b,c){let d=this._readableState,e=this._writableState,f=d.length;this._transform(a,b,(a,b)=>{if(a){c(a);return}null!=b&&this.push(b),e.ended||f===d.length||d.length<d.highWaterMark||0===d.highWaterMark||0===d.length?c():this[h]=c})},i.prototype._read=function(){if(this[h]){let a=this[h];this[h]=null,a()}}},15874:function(a,b,c){"use strict";let{Symbol:d,SymbolAsyncIterator:e,SymbolIterator:f}=c(29061),g=d("kDestroyed"),h=d("kIsErrored"),i=d("kIsReadable"),j=d("kIsDisturbed");function k(a,b=!1){var c;return!!(a&&"function"==typeof a.pipe&&"function"==typeof a.on&&(!b||"function"==typeof a.pause&&"function"==typeof a.resume)&&(!a._writableState||(null===(c=a._readableState)|| void 0===c?void 0:c.readable)!== !1)&&(!a._writableState||a._readableState))}function l(a){var b;return!!(a&&"function"==typeof a.write&&"function"==typeof a.on&&(!a._readableState||(null===(b=a._writableState)|| void 0===b?void 0:b.writable)!== !1))}function m(a){return a&&(a._readableState||a._writableState||"function"==typeof a.write&&"function"==typeof a.on||"function"==typeof a.pipe&&"function"==typeof a.on)}function n(a){if(!m(a))return null;let b=a._writableState,c=a._readableState,d=b||c;return!!(a.destroyed||a[g]||null!=d&&d.destroyed)}function o(a){if(!l(a))return null;if(!0===a.writableEnded)return!0;let b=a._writableState;return(null==b||!b.errored)&&("boolean"!=typeof(null==b?void 0:b.ended)?null:b.ended)}function p(a,b){if(!k(a))return null;let c=a._readableState;return(null==c||!c.errored)&&("boolean"!=typeof(null==c?void 0:c.endEmitted)?null:!!(c.endEmitted|| !1===b&& !0===c.ended&&0===c.length))}function q(a){return a&&null!=a[i]?a[i]:"boolean"!=typeof(null==a?void 0:a.readable)?null:!n(a)&&k(a)&&a.readable&&!p(a)}function r(a){return"boolean"!=typeof(null==a?void 0:a.writable)?null:!n(a)&&l(a)&&a.writable&&!o(a)}function s(a){return"boolean"==typeof a._closed&&"boolean"==typeof a._defaultKeepAlive&&"boolean"==typeof a._removedConnection&&"boolean"==typeof a._removedContLen}function t(a){return"boolean"==typeof a._sent100&&s(a)}a.exports={kDestroyed:g,isDisturbed:function(a){var b;return!!(a&&(null!==(b=a[j])&& void 0!==b?b:a.readableDidRead||a.readableAborted))},kIsDisturbed:j,isErrored:function(a){var b,c,d,e,f,g,i,j,k,l;return!!(a&&(null!==(b=null!==(c=null!==(d=null!==(e=null!==(f=null!==(g=a[h])&& void 0!==g?g:a.readableErrored)&& void 0!==f?f:a.writableErrored)&& void 0!==e?e:null===(i=a._readableState)|| void 0===i?void 0:i.errorEmitted)&& void 0!==d?d:null===(j=a._writableState)|| void 0===j?void 0:j.errorEmitted)&& void 0!==c?c:null===(k=a._readableState)|| void 0===k?void 0:k.errored)&& void 0!==b?b:null===(l=a._writableState)|| void 0===l?void 0:l.errored))},kIsErrored:h,isReadable:q,kIsReadable:i,isClosed:function(a){if(!m(a))return null;if("boolean"==typeof a.closed)return a.closed;let b=a._writableState,c=a._readableState;return"boolean"==typeof(null==b?void 0:b.closed)||"boolean"==typeof(null==c?void 0:c.closed)?(null==b?void 0:b.closed)||(null==c?void 0:c.closed):"boolean"==typeof a._closed&&s(a)?a._closed:null},isDestroyed:n,isDuplexNodeStream:function(a){return!!(a&&"function"==typeof a.pipe&&a._readableState&&"function"==typeof a.on&&"function"==typeof a.write)},isFinished:function(a,b){return m(a)?!!n(a)||!((null==b?void 0:b.readable)!== !1&&q(a)||(null==b?void 0:b.writable)!== !1&&r(a)):null},isIterable:function(a,b){return null!=a&&(!0===b?"function"==typeof a[e]:!1===b?"function"==typeof a[f]:"function"==typeof a[e]||"function"==typeof a[f])},isReadableNodeStream:k,isReadableEnded:function(a){if(!k(a))return null;if(!0===a.readableEnded)return!0;let b=a._readableState;return!!b&&!b.errored&&("boolean"!=typeof(null==b?void 0:b.ended)?null:b.ended)},isReadableFinished:p,isReadableErrored:function(a){var b,c;return m(a)?a.readableErrored?a.readableErrored:null!==(b=null===(c=a._readableState)|| void 0===c?void 0:c.errored)&& void 0!==b?b:null:null},isNodeStream:m,isWritable:r,isWritableNodeStream:l,isWritableEnded:o,isWritableFinished:function(a,b){if(!l(a))return null;if(!0===a.writableFinished)return!0;let c=a._writableState;return(null==c||!c.errored)&&("boolean"!=typeof(null==c?void 0:c.finished)?null:!!(c.finished|| !1===b&& !0===c.ended&&0===c.length))},isWritableErrored:function(a){var b,c;return m(a)?a.writableErrored?a.writableErrored:null!==(b=null===(c=a._writableState)|| void 0===c?void 0:c.errored)&& void 0!==b?b:null:null},isServerRequest:function(a){var b;return"boolean"==typeof a._consuming&&"boolean"==typeof a._dumped&&(null===(b=a.req)|| void 0===b?void 0:b.upgradeOrConnect)===void 0},isServerResponse:t,willEmitClose:function(a){if(!m(a))return null;let b=a._writableState,c=a._readableState,d=b||c;return!d&&t(a)||!!(d&&d.autoDestroy&&d.emitClose&& !1===d.closed)}}},6304:function(a,b,c){"use strict";var d=c(48764).Buffer,e=c(34155);let{ArrayPrototypeSlice:f,Error:g,FunctionPrototypeSymbolHasInstance:h,ObjectDefineProperty:i,ObjectDefineProperties:j,ObjectSetPrototypeOf:k,StringPrototypeToLowerCase:l,Symbol:m,SymbolHasInstance:n}=c(29061);a.exports=I,I.WritableState=G;let{EventEmitter:o}=c(17187),p=c(64870).Stream,q=c(61195),{addAbortSignal:r}=c(80196),{getHighWaterMark:s,getDefaultHighWaterMark:t}=c(82457),{ERR_INVALID_ARG_TYPE:u,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:w,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:y,ERR_STREAM_ALREADY_FINISHED:z,ERR_STREAM_NULL_VALUES:A,ERR_STREAM_WRITE_AFTER_END:B,ERR_UNKNOWN_ENCODING:C}=c(64381).codes,{errorOrDestroy:D}=q;function E(){}k(I.prototype,p.prototype),k(I,p);let F=m("kOnFinished");function G(a,b,d){"boolean"!=typeof d&&(d=b instanceof c(58672)),this.objectMode=!!(a&&a.objectMode),d&&(this.objectMode=this.objectMode||!!(a&&a.writableObjectMode)),this.highWaterMark=a?s(this,a,"writableHighWaterMark",d):t(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let e=!!(a&& !1===a.decodeStrings);this.decodeStrings=!e,this.defaultEncoding=a&&a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=N.bind(void 0,b),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,H(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!a|| !1!==a.emitClose,this.autoDestroy=!a|| !1!==a.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[F]=[]}function H(a){a.buffered=[],a.bufferedIndex=0,a.allBuffers=!0,a.allNoop=!0}function I(a){let b=this instanceof c(58672);if(!b&&!h(I,this))return new I(a);this._writableState=new G(a,this,b),a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.final&&(this._final=a.final),"function"==typeof a.construct&&(this._construct=a.construct),a.signal&&r(a.signal,this)),p.call(this,a),q.construct(this,()=>{let a=this._writableState;a.writing||R(this,a),T(this,a)})}function J(a,b,c,f){let g=a._writableState;if("function"==typeof c)f=c,c=g.defaultEncoding;else{if(c){if("buffer"!==c&&!d.isEncoding(c))throw new C(c)}else c=g.defaultEncoding;"function"!=typeof f&&(f=E)}if(null===b)throw new A;if(!g.objectMode){if("string"==typeof b)!1!==g.decodeStrings&&(b=d.from(b,c),c="buffer");else if(b instanceof d)c="buffer";else if(p._isUint8Array(b))b=p._uint8ArrayToBuffer(b),c="buffer";else throw new u("chunk",["string","Buffer","Uint8Array"],b)}let h;return(g.ending?h=new B:g.destroyed&&(h=new y("write")),h)?(e.nextTick(f,h),D(a,h,!0),h):(g.pendingcb++,K(a,g,b,c,f))}function K(a,b,c,d,e){let f=b.objectMode?1:c.length;b.length+=f;let g=b.length<b.highWaterMark;return g||(b.needDrain=!0),b.writing||b.corked||b.errored||!b.constructed?(b.buffered.push({chunk:c,encoding:d,callback:e}),b.allBuffers&&"buffer"!==d&&(b.allBuffers=!1),b.allNoop&&e!==E&&(b.allNoop=!1)):(b.writelen=f,b.writecb=e,b.writing=!0,b.sync=!0,a._write(c,d,b.onwrite),b.sync=!1),g&&!b.errored&&!b.destroyed}function L(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,b.destroyed?b.onwrite(new y("write")):c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function M(a,b,c,d){--b.pendingcb,d(c),Q(b),D(a,c)}function N(a,b){let c=a._writableState,d=c.sync,f=c.writecb;if("function"!=typeof f){D(a,new w);return}c.writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0,b?(b.stack,c.errored||(c.errored=b),a._readableState&&!a._readableState.errored&&(a._readableState.errored=b),d?e.nextTick(M,a,c,b,f):M(a,c,b,f)):(c.buffered.length>c.bufferedIndex&&R(a,c),d?null!==c.afterWriteTickInfo&&c.afterWriteTickInfo.cb===f?c.afterWriteTickInfo.count++:(c.afterWriteTickInfo={count:1,cb:f,stream:a,state:c},e.nextTick(O,c.afterWriteTickInfo)):P(a,c,1,f))}function O({stream:a,state:b,count:c,cb:d}){return b.afterWriteTickInfo=null,P(a,b,c,d)}function P(a,b,c,d){let e=!b.ending&&!a.destroyed&&0===b.length&&b.needDrain;for(e&&(b.needDrain=!1,a.emit("drain"));c-- >0;)b.pendingcb--,d();b.destroyed&&Q(b),T(a,b)}function Q(a){var b,c;if(a.writing)return;for(let d=a.bufferedIndex;d<a.buffered.length;++d){let{chunk:e,callback:f}=a.buffered[d],g=a.objectMode?1:e.length;a.length-=g,f(null!==(b=a.errored)&& void 0!==b?b:new y("write"))}let h=a[F].splice(0);for(let i=0;i<h.length;i++)h[i](null!==(c=a.errored)&& void 0!==c?c:new y("end"));H(a)}function R(a,b){if(b.corked||b.bufferProcessing||b.destroyed||!b.constructed)return;let{buffered:c,bufferedIndex:d,objectMode:e}=b,g=c.length-d;if(!g)return;let h=d;if(b.bufferProcessing=!0,g>1&&a._writev){b.pendingcb-=g-1;let i=b.allNoop?E:a=>{for(let b=h;b<c.length;++b)c[b].callback(a)},j=b.allNoop&&0===h?c:f(c,h);j.allBuffers=b.allBuffers,L(a,b,!0,b.length,j,"",i),H(b)}else{do{let{chunk:k,encoding:l,callback:m}=c[h];c[h++]=null;let n=e?1:k.length;L(a,b,!1,n,k,l,m)}while(h<c.length&&!b.writing);h===c.length?H(b):h>256?(c.splice(0,h),b.bufferedIndex=0):b.bufferedIndex=h}b.bufferProcessing=!1}function S(a){return a.ending&&!a.destroyed&&a.constructed&&0===a.length&&!a.errored&&0===a.buffered.length&&!a.finished&&!a.writing&&!a.errorEmitted&&!a.closeEmitted}function T(a,b,c){if(S(b)){var d,f;d=a,(f=b).prefinished||f.finalCalled||("function"!=typeof d._final||f.destroyed?(f.prefinished=!0,d.emit("prefinish")):(f.finalCalled=!0,function(a,b){let c=!1;function d(d){if(c){D(a,null!=d?d:w());return}if(c=!0,b.pendingcb--,d){let f=b[F].splice(0);for(let g=0;g<f.length;g++)f[g](d);D(a,d,b.sync)}else S(b)&&(b.prefinished=!0,a.emit("prefinish"),b.pendingcb++,e.nextTick(U,a,b))}b.sync=!0,b.pendingcb++;try{a._final(d)}catch(f){d(f)}b.sync=!1}(d,f))),0===b.pendingcb&&(c?(b.pendingcb++,e.nextTick((a,b)=>{S(b)?U(a,b):b.pendingcb--},a,b)):S(b)&&(b.pendingcb++,U(a,b)))}}function U(a,b){b.pendingcb--,b.finished=!0;let c=b[F].splice(0);for(let d=0;d<c.length;d++)c[d]();if(a.emit("finish"),b.autoDestroy){let e=a._readableState,f=!e||e.autoDestroy&&(e.endEmitted|| !1===e.readable);f&&a.destroy()}}G.prototype.getBuffer=function(){return f(this.buffered,this.bufferedIndex)},i(G.prototype,"bufferedRequestCount",{get(){return this.buffered.length-this.bufferedIndex}}),i(I,n,{value:function(a){return!!h(this,a)||this===I&&a&&a._writableState instanceof G}}),I.prototype.pipe=function(){D(this,new x)},I.prototype.write=function(a,b,c){return!0===J(this,a,b,c)},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){let a=this._writableState;a.corked&&(a.corked--,a.writing||R(this,a))},I.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=l(a)),!d.isEncoding(a))throw new C(a);return this._writableState.defaultEncoding=a,this},I.prototype._write=function(a,b,c){if(this._writev)this._writev([{chunk:a,encoding:b}],c);else throw new v("_write()")},I.prototype._writev=null,I.prototype.end=function(a,b,c){let d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null);let f;if(null!=a){let h=J(this,a,b);h instanceof g&&(f=h)}return d.corked&&(d.corked=1,this.uncork()),f||(d.errored||d.ending?d.finished?f=new z("end"):d.destroyed&&(f=new y("end")):(d.ending=!0,T(this,d,!0),d.ended=!0)),"function"==typeof c&&(f||d.finished?e.nextTick(c,f):d[F].push(c)),this},j(I.prototype,{closed:{get(){return!!this._writableState&&this._writableState.closed}},destroyed:{get(){return!!this._writableState&&this._writableState.destroyed},set(a){this._writableState&&(this._writableState.destroyed=a)}},writable:{get(){let a=this._writableState;return!!a&& !1!==a.writable&&!a.destroyed&&!a.errored&&!a.ending&&!a.ended},set(a){this._writableState&&(this._writableState.writable=!!a)}},writableFinished:{get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{get(){let a=this._writableState;return!!a&& !a.destroyed&&!a.ending&&a.needDrain}},writableHighWaterMark:{get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{get(){return this._writableState?this._writableState.corked:0}},writableLength:{get(){return this._writableState&&this._writableState.length}},errored:{enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let V=q.destroy;I.prototype.destroy=function(a,b){let c=this._writableState;return!c.destroyed&&(c.bufferedIndex<c.buffered.length||c[F].length)&&e.nextTick(Q,c),V.call(this,a,b),this},I.prototype._undestroy=q.undestroy,I.prototype._destroy=function(a,b){b(a)},I.prototype[o.captureRejectionSymbol]=function(a){this.destroy(a)};let W;function X(){return void 0===W&&(W={}),W}I.fromWeb=function(a,b){return X().newStreamWritableFromWritableStream(a,b)},I.toWeb=function(a){return X().newWritableStreamFromStreamWritable(a)}},6547:function(a,b,c){"use strict";let{ArrayIsArray:d,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:f,ArrayPrototypeMap:g,NumberIsInteger:h,NumberMAX_SAFE_INTEGER:i,NumberMIN_SAFE_INTEGER:j,NumberParseInt:k,RegExpPrototypeTest:l,String:m,StringPrototypeToUpperCase:n,StringPrototypeTrim:o}=c(29061),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:r,ERR_INVALID_ARG_VALUE:s,ERR_OUT_OF_RANGE:t,ERR_UNKNOWN_SIGNAL:u}}=c(64381),{normalizeEncoding:v}=c(66087),{isAsyncFunction:w,isArrayBufferView:x}=c(66087).types,y={};function z(a){return a===(0|a)}function A(a){return a===a>>>0}let B=/^[0-7]+$/,C=p((a,b,c=j,d=i)=>{if("number"!=typeof a)throw new r(b,"number",a);if(!h(a))throw new t(b,"an integer",a);if(a<c||a>d)throw new t(b,`>= ${c} && <= ${d}`,a)}),D=p((a,b,c=-2147483648,d=2147483647)=>{if("number"!=typeof a)throw new r(b,"number",a);if(!z(a)){if(!h(a))throw new t(b,"an integer",a);throw new t(b,`>= ${c} && <= ${d}`,a)}if(a<c||a>d)throw new t(b,`>= ${c} && <= ${d}`,a)}),E=p((a,b,c)=>{if("number"!=typeof a)throw new r(b,"number",a);if(!A(a)){if(!h(a))throw new t(b,"an integer",a);let d=c?1:0;throw new t(b,`>= ${d} && < 4294967296`,a)}if(c&&0===a)throw new t(b,">= 1 && < 4294967296",a)});function F(a,b){if("string"!=typeof a)throw new r(b,"string",a)}let G=p((a,b,c)=>{if(!e(c,a)){let d=f(g(c,a=>"string"==typeof a?`'${a}'`:m(a)),", "),h="must be one of: "+d;throw new s(b,a,h)}}),H=p((a,b,c)=>{let e=null==c,f=!e&&c.allowArray,g=!e&&c.allowFunction,h=!e&&c.nullable;if(!h&&null===a|| !f&&d(a)||"object"!=typeof a&&(!g||"function"!=typeof a))throw new r(b,"Object",a)}),I=p((a,b,c=0)=>{if(!d(a))throw new r(b,"Array",a);if(a.length<c){let e=`must be longer than ${c}`;throw new s(b,a,e)}}),J=p((a,b="buffer")=>{if(!x(a))throw new r(b,["Buffer","TypedArray","DataView"],a)}),K=p((a,b)=>{if(void 0!==a&&(null===a||"object"!=typeof a||!("aborted"in a)))throw new r(b,"AbortSignal",a)}),L=p((a,b)=>{if("function"!=typeof a)throw new r(b,"Function",a)}),M=p((a,b)=>{if("function"!=typeof a||w(a))throw new r(b,"Function",a)}),N=p((a,b)=>{if(void 0!==a)throw new r(b,"undefined",a)});a.exports={isInt32:z,isUint32:A,parseFileMode:function(a,b,c){if(void 0===a&&(a=c),"string"==typeof a){if(!l(B,a))throw new s(b,a,"must be a 32-bit unsigned integer or an octal string");a=k(a,8)}return D(a,b,0,4294967296-1),a},validateArray:I,validateBoolean:function(a,b){if("boolean"!=typeof a)throw new r(b,"boolean",a)},validateBuffer:J,validateEncoding:function(a,b){let c=v(b),d=a.length;if("hex"===c&&d%2!=0)throw new s("encoding",b,`is invalid for data of length ${d}`)},validateFunction:L,validateInt32:D,validateInteger:C,validateNumber:function(a,b){if("number"!=typeof a)throw new r(b,"number",a)},validateObject:H,validateOneOf:G,validatePlainFunction:M,validatePort:function(a,b="Port",c=!0){if("number"!=typeof a&&"string"!=typeof a||"string"==typeof a&&0===o(a).length|| +a!= +a>>>0||a>65535||0===a&&!c)throw new q(b,a,c);return 0|a},validateSignalName:function(a,b="signal"){if(F(a,b),void 0===y[a]){if(void 0!==y[n(a)])throw new u(a+" (signals must use all capital letters)");throw new u(a)}},validateString:F,validateUint32:E,validateUndefined:N,validateAbortSignal:K}},89827:function(a,b,c){"use strict";let d=c(85099),e=c(97854),f=d.Readable.destroy;a.exports=d.Readable,a.exports._uint8ArrayToBuffer=d._uint8ArrayToBuffer,a.exports._isUint8Array=d._isUint8Array,a.exports.isDisturbed=d.isDisturbed,a.exports.isErrored=d.isErrored,a.exports.isReadable=d.isReadable,a.exports.Readable=d.Readable,a.exports.Writable=d.Writable,a.exports.Duplex=d.Duplex,a.exports.Transform=d.Transform,a.exports.PassThrough=d.PassThrough,a.exports.addAbortSignal=d.addAbortSignal,a.exports.finished=d.finished,a.exports.destroy=d.destroy,a.exports.destroy=f,a.exports.pipeline=d.pipeline,a.exports.compose=d.compose,Object.defineProperty(d,"promises",{configurable:!0,enumerable:!0,get(){return e}}),a.exports.Stream=d.Stream,a.exports.default=a.exports},64381:function(a,b,c){"use strict";let{format:d,inspect:e,AggregateError:f}=c(66087),g=globalThis.AggregateError||f,h=Symbol("kIsNodeError"),i=["string","function","number","object","Function","Object","boolean","bigint","symbol"],j=/^([A-Z][a-z0-9]*)+$/,k={};function l(a,b){if(!a)throw new k.ERR_INTERNAL_ASSERTION(b)}function m(a){let b="",c=a.length,d="-"===a[0]?1:0;for(;c>=d+4;c-=3)b=`_${a.slice(c-3,c)}${b}`;return`${a.slice(0,c)}${b}`}function n(a,b,c){c||(c=Error);class e extends c{constructor(...c){super(function(a,b,c){if("function"==typeof b)return l(b.length<=c.length,`Code: ${a}; The provided arguments length (${c.length}) does not match the required ones (${b.length}).`),b(...c);let e=(b.match(/%[dfijoOs]/g)||[]).length;return(l(e===c.length,`Code: ${a}; The provided arguments length (${c.length}) does not match the required ones (${e}).`),0===c.length)?b:d(b,...c)}(a,b,c))}toString(){return`${this.name} [${a}]: ${this.message}`}}Object.defineProperties(e.prototype,{name:{value:c.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${a}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),e.prototype.code=a,e.prototype[h]=!0,k[a]=e}function o(a){let b="__node_internal_"+a.name;return Object.defineProperty(a,"name",{value:b}),a}n("ERR_ASSERTION","%s",Error),n("ERR_INVALID_ARG_TYPE",(a,b,c)=>{l("string"==typeof a,"'name' must be a string"),Array.isArray(b)||(b=[b]);let d="The ";a.endsWith(" argument")?d+=`${a} `:d+=`"${a}" ${a.includes(".")?"property":"argument"} `,d+="must be ";let f=[],g=[],h=[];for(let k of b)l("string"==typeof k,"All expected entries have to be of type string"),i.includes(k)?f.push(k.toLowerCase()):j.test(k)?g.push(k):(l("object"!==k,'The value "object" should be written as "Object"'),h.push(k));if(g.length>0){let m=f.indexOf("object");-1!==m&&(f.splice(f,m,1),g.push("Object"))}if(f.length>0){switch(f.length){case 1:d+=`of type ${f[0]}`;break;case 2:d+=`one of type ${f[0]} or ${f[1]}`;break;default:{let n=f.pop();d+=`one of type ${f.join(", ")}, or ${n}`}}(g.length>0||h.length>0)&&(d+=" or ")}if(g.length>0){switch(g.length){case 1:d+=`an instance of ${g[0]}`;break;case 2:d+=`an instance of ${g[0]} or ${g[1]}`;break;default:{let o=g.pop();d+=`an instance of ${g.join(", ")}, or ${o}`}}h.length>0&&(d+=" or ")}switch(h.length){case 0:break;case 1:h[0].toLowerCase()!==h[0]&&(d+="an "),d+=`${h[0]}`;break;case 2:d+=`one of ${h[0]} or ${h[1]}`;break;default:{let p=h.pop();d+=`one of ${h.join(", ")}, or ${p}`}}if(null==c)d+=`. Received ${c}`;else if("function"==typeof c&&c.name)d+=`. Received function ${c.name}`;else if("object"==typeof c){var q;if(null!==(q=c.constructor)&& void 0!==q&&q.name)d+=`. Received an instance of ${c.constructor.name}`;else{let r=e(c,{depth:-1});d+=`. Received ${r}`}}else{let s=e(c,{colors:!1});s.length>25&&(s=`${s.slice(0,25)}...`),d+=`. Received type ${typeof c} (${s})`}return d},TypeError),n("ERR_INVALID_ARG_VALUE",(a,b,c="is invalid")=>{let d=e(b);d.length>128&&(d=d.slice(0,128)+"...");let f=a.includes(".")?"property":"argument";return`The ${f} '${a}' ${c}. Received ${d}`},TypeError),n("ERR_INVALID_RETURN_VALUE",(a,b,c)=>{var d;let e=null!=c&&null!==(d=c.constructor)&& void 0!==d&&d.name?`instance of ${c.constructor.name}`:`type ${typeof c}`;return`Expected ${a} to be returned from the "${b}" function but got ${e}.`},TypeError),n("ERR_MISSING_ARGS",(...a)=>{l(a.length>0,"At least one arg needs to be specified");let b,c=a.length;switch(a=(Array.isArray(a)?a:[a]).map(a=>`"${a}"`).join(" or "),c){case 1:b+=`The ${a[0]} argument`;break;case 2:b+=`The ${a[0]} and ${a[1]} arguments`;break;default:{let d=a.pop();b+=`The ${a.join(", ")}, and ${d} arguments`}}return`${b} must be specified`},TypeError),n("ERR_OUT_OF_RANGE",(a,b,c)=>{l(b,'Missing "range" argument');let d;return Number.isInteger(c)&&Math.abs(c)>4294967296?d=m(String(c)):"bigint"==typeof c?(d=String(c),(c>2n**32n||c< -(2n**32n))&&(d=m(d)),d+="n"):d=e(c),`The value of "${a}" is out of range. It must be ${b}. Received ${d}`},RangeError),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),n("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),n("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),n("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),n("ERR_STREAM_WRITE_AFTER_END","write after end",Error),n("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),a.exports={AbortError:class extends Error{constructor(a="The operation was aborted",b){if(void 0!==b&&"object"!=typeof b)throw new k.ERR_INVALID_ARG_TYPE("options","Object",b);super(a,b),this.code="ABORT_ERR",this.name="AbortError"}},aggregateTwoErrors:o(function(a,b){if(a&&b&&a!==b){if(Array.isArray(b.errors))return b.errors.push(a),b;let c=new g([b,a],b.message);return c.code=b.code,c}return a||b}),hideStackFrames:o,codes:k}},29061:function(a){"use strict";a.exports={ArrayIsArray(a){return Array.isArray(a)},ArrayPrototypeIncludes(a,b){return a.includes(b)},ArrayPrototypeIndexOf(a,b){return a.indexOf(b)},ArrayPrototypeJoin(a,b){return a.join(b)},ArrayPrototypeMap(a,b){return a.map(b)},ArrayPrototypePop(a,b){return a.pop(b)},ArrayPrototypePush(a,b){return a.push(b)},ArrayPrototypeSlice(a,b,c){return a.slice(b,c)},Error,FunctionPrototypeCall(a,b,...c){return a.call(b,...c)},FunctionPrototypeSymbolHasInstance(a,b){return Function.prototype[Symbol.hasInstance].call(a,b)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(a,b){return Object.defineProperties(a,b)},ObjectDefineProperty(a,b,c){return Object.defineProperty(a,b,c)},ObjectGetOwnPropertyDescriptor(a,b){return Object.getOwnPropertyDescriptor(a,b)},ObjectKeys(a){return Object.keys(a)},ObjectSetPrototypeOf(a,b){return Object.setPrototypeOf(a,b)},Promise,PromisePrototypeCatch(a,b){return a.catch(b)},PromisePrototypeThen(a,b,c){return a.then(b,c)},PromiseReject(a){return Promise.reject(a)},ReflectApply:Reflect.apply,RegExpPrototypeTest(a,b){return a.test(b)},SafeSet:Set,String,StringPrototypeSlice(a,b,c){return a.slice(b,c)},StringPrototypeToLowerCase(a){return a.toLowerCase()},StringPrototypeToUpperCase(a){return a.toUpperCase()},StringPrototypeTrim(a){return a.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(a,b,c){return a.set(b,c)},Uint8Array}},66087:function(a,b,c){"use strict";let d=c(48764),e=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||d.Blob;a.exports={AggregateError:class extends Error{constructor(a){if(!Array.isArray(a))throw TypeError(`Expected input to be an Array, got ${typeof a}`);let b="";for(let c=0;c<a.length;c++)b+=`    ${a[c].stack}
`;super(b),this.name="AggregateError",this.errors=a}},once(a){let b=!1;return function(...c){!b&&(b=!0,a.apply(this,c))}},createDeferredPromise:function(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{promise:c,resolve:a,reject:b}},promisify(a){return new Promise((b,c)=>{a((a,...d)=>a?c(a):b(...d))})},debuglog(){return function(){}},format(a,...b){return a.replace(/%([sdifj])/g,function(...[a,c]){let d=b.shift();if("f"===c)return d.toFixed(6);if("j"===c)return JSON.stringify(d);if("s"!==c||"object"!=typeof d)return d.toString();{let e=d.constructor!==Object?d.constructor.name:"";return`${e} {}`.trim()}})},inspect(a){switch(typeof a){case"string":if(a.includes("'")){if(!a.includes('"'))return`"${a}"`;if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}return`'${a}'`;case"number":if(isNaN(a))return"NaN";if(Object.is(a,-0))return String(a);return a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}},types:{isAsyncFunction(a){return a instanceof e},isArrayBufferView(a){return ArrayBuffer.isView(a)}},isBlob:void 0!==f?function(a){return a instanceof f}:function(a){return!1}},a.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},85099:function(a,b,c){"use strict";var d=c(48764).Buffer;let{ObjectDefineProperty:e,ObjectKeys:f,ReflectApply:g}=c(29061),{promisify:{custom:h}}=c(66087),{streamReturningOperators:i,promiseReturningOperators:j}=c(54382),{codes:{ERR_ILLEGAL_CONSTRUCTOR:k}}=c(64381),l=c(20299),{pipeline:m}=c(59946),{destroyer:n}=c(61195),o=c(8610),p=c(97854),q=c(15874),r=a.exports=c(64870).Stream;for(let s of(r.isDisturbed=q.isDisturbed,r.isErrored=q.isErrored,r.isReadable=q.isReadable,r.Readable=c(70911),f(i))){let t=i[s];function u(...a){if(new.target)throw k();return r.Readable.from(g(t,this,a))}e(u,"name",{value:t.name}),e(u,"length",{value:t.length}),e(r.Readable.prototype,s,{value:u,enumerable:!1,configurable:!0,writable:!0})}for(let v of f(j)){let w=j[v];function x(...a){if(new.target)throw k();return g(w,this,a)}e(x,"name",{value:w.name}),e(x,"length",{value:w.length}),e(r.Readable.prototype,v,{value:x,enumerable:!1,configurable:!0,writable:!0})}r.Writable=c(6304),r.Duplex=c(58672),r.Transform=c(81161),r.PassThrough=c(60917),r.pipeline=m;let{addAbortSignal:y}=c(80196);r.addAbortSignal=y,r.finished=o,r.destroy=n,r.compose=l,e(r,"promises",{configurable:!0,enumerable:!0,get(){return p}}),e(m,h,{enumerable:!0,get(){return p.pipeline}}),e(o,h,{enumerable:!0,get(){return p.finished}}),r.Stream=r,r._isUint8Array=function(a){return a instanceof Uint8Array},r._uint8ArrayToBuffer=function(a){return d.from(a.buffer,a.byteOffset,a.byteLength)}},97854:function(a,b,c){"use strict";let{ArrayPrototypePop:d,Promise:e}=c(29061),{isIterable:f,isNodeStream:g}=c(15874),{pipelineImpl:h}=c(59946),{finished:i}=c(8610);a.exports={finished:i,pipeline:function(...a){return new e((b,c)=>{let e,i,j=a[a.length-1];if(j&&"object"==typeof j&&!g(j)&&!f(j)){let k=d(a);e=k.signal,i=k.end}h(a,(a,d)=>{a?c(a):b(d)},{signal:e,end:i})})}}},58090:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ReadableWebToNodeStream=void 0;let d=c(95507);class e extends d.Readable{constructor(a){super(),this.bytesRead=0,this.released=!1,this.reader=a.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();let a=await this.pendingRead;delete this.pendingRead,a.done||this.released?this.push(null):(this.bytesRead+=a.value.length,this.push(a.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}b.ReadableWebToNodeStream=e},11281:function(a){"use strict";var b={};function c(a,c,d){d||(d=Error);var e=function(a){var b,d;function e(b,d,e){var f,g,h;return a.call(this,(f=b,g=d,h=e,"string"==typeof c?c:c(f,g,h)))||this}return b=e,d=a,b.prototype=Object.create(d.prototype),b.prototype.constructor=b,b.__proto__=d,e}(d);e.prototype.name=d.name,e.prototype.code=a,b[a]=e}function d(a,b){if(!Array.isArray(a))return"of ".concat(b," ").concat(String(a));var c=a.length;return(a=a.map(function(a){return String(a)}),c>2)?"one of ".concat(b," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:2===c?"one of ".concat(b," ").concat(a[0]," or ").concat(a[1]):"of ".concat(b," ").concat(a[0])}c("ERR_INVALID_OPT_VALUE",function(a,b){return'The value "'+b+'" is invalid for option "'+a+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(a,b,c){if("string"==typeof b&&(f="not ",(e=b).substr(!g||g<0?0:+g,f.length)===f)?(n="must not be",b=b.replace(/^not /,"")):n="must be",h=a,i=" argument",(void 0===j||j>h.length)&&(j=h.length),h.substring(j-i.length,j)===i)o="The ".concat(a," ").concat(n," ").concat(d(b,"type"));else{var e,f,g,h,i,j,k,l,m,n,o,p=(k=a,"number"!=typeof m&&(m=0),m+(l=".").length>k.length|| -1===k.indexOf(l,m))?"argument":"property";o='The "'.concat(a,'" ').concat(p," ").concat(n," ").concat(d(b,"type"))}return o+". Received type ".concat(typeof c)},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.q=b},96201:function(a,b,c){"use strict";var d=c(34155),e=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};a.exports=k;var f=c(62460),g=c(1103);c(35717)(k,f);for(var h=e(g.prototype),i=0;i<h.length;i++){var j=h[i];k.prototype[j]||(k.prototype[j]=g.prototype[j])}function k(a){if(!(this instanceof k))return new k(a);f.call(this,a),g.call(this,a),this.allowHalfOpen=!0,a&&(!1===a.readable&&(this.readable=!1),!1===a.writable&&(this.writable=!1),!1===a.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||d.nextTick(m,this)}function m(a){a.end()}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&& void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&& void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}})},24404:function(a,b,c){"use strict";a.exports=e;var d=c(67749);function e(a){if(!(this instanceof e))return new e(a);d.call(this,a)}c(35717)(e,d),e.prototype._transform=function(a,b,c){c(null,a)}},62460:function(a,b,c){"use strict";var d,e,f,g,h,i=c(34155);a.exports=z,z.ReadableState=y,c(17187).EventEmitter;var j=function(a,b){return a.listeners(b).length},k=c(28114),l=c(48764).Buffer,m=c.g.Uint8Array||function(){},n=c(43838);e=n&&n.debuglog?n.debuglog("stream"):function(){};var o=c(30597),p=c(80358),q=c(75267).getHighWaterMark,r=c(11281).q,s=r.ERR_INVALID_ARG_TYPE,t=r.ERR_STREAM_PUSH_AFTER_EOF,u=r.ERR_METHOD_NOT_IMPLEMENTED,v=r.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;c(35717)(z,k);var w=p.errorOrDestroy,x=["error","close","destroy","pause","resume"];function y(a,b,e){d=d||c(96201),a=a||{},"boolean"!=typeof e&&(e=b instanceof d),this.objectMode=!!a.objectMode,e&&(this.objectMode=this.objectMode||!!a.readableObjectMode),this.highWaterMark=q(this,a,"readableHighWaterMark",e),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==a.emitClose,this.autoDestroy=!!a.autoDestroy,this.destroyed=!1,this.defaultEncoding=a.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,a.encoding&&(f||(f=c(32553).StringDecoder),this.decoder=new f(a.encoding),this.encoding=a.encoding)}function z(a){if(d=d||c(96201),!(this instanceof z))return new z(a);var b=this instanceof d;this._readableState=new y(a,this,b),this.readable=!0,a&&("function"==typeof a.read&&(this._read=a.read),"function"==typeof a.destroy&&(this._destroy=a.destroy)),k.call(this)}function A(a,b,c,d,f){e("readableAddChunk",b);var g,h,i=a._readableState;if(null===b)i.reading=!1,E(a,i);else if(f||(h=C(i,b)),h)w(a,h);else if(i.objectMode||b&&b.length>0){if("string"!=typeof b&&!i.objectMode&&Object.getPrototypeOf(b)!==l.prototype&&(b=(g=b,l.from(g))),d)i.endEmitted?w(a,new v):B(a,i,b,!0);else if(i.ended)w(a,new t);else{if(i.destroyed)return!1;i.reading=!1,i.decoder&&!c?(b=i.decoder.write(b),i.objectMode||0!==b.length?B(a,i,b,!1):H(a,i)):B(a,i,b,!1)}}else d||(i.reading=!1,H(a,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function B(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(b.awaitDrain=0,a.emit("data",c)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&F(a)),H(a,b)}function C(a,b){var c,d;return d=b,!l.isBuffer(d)&&!(d instanceof m)&&"string"!=typeof b&& void 0!==b&&!a.objectMode&&(c=new s("chunk",["string","Buffer","Uint8Array"],b)),c}function D(a,b){if(a<=0||0===b.length&&b.ended)return 0;if(b.objectMode)return 1;if(a!=a)return b.flowing&&b.length?b.buffer.head.data.length:b.length;if(a>b.highWaterMark){var c;b.highWaterMark=((c=a)>=1073741824?c=1073741824:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++),c)}return a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0)}function E(a,b){if(e("onEofChunk"),!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,b.sync?F(a):(b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,G(a)))}}function F(a){var b=a._readableState;e("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(e("emitReadable",b.flowing),b.emittedReadable=!0,i.nextTick(G,a))}function G(a){var b=a._readableState;e("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&(b.length||b.ended)&&(a.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,M(a)}function H(a,b){b.readingMore||(b.readingMore=!0,i.nextTick(I,a,b))}function I(a,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&0===b.length);){var c=b.length;if(e("maybeReadMore read 0"),a.read(0),c===b.length)break}b.readingMore=!1}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),z.prototype.destroy=p.destroy,z.prototype._undestroy=p.undestroy,z.prototype._destroy=function(a,b){b(a)},z.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&((b=b||d.defaultEncoding)!==d.encoding&&(a=l.from(a,b),b=""),c=!0),A(this,a,b,!1,c)},z.prototype.unshift=function(a){return A(this,a,null,!0,!1)},z.prototype.isPaused=function(){return!1===this._readableState.flowing},z.prototype.setEncoding=function(a){f||(f=c(32553).StringDecoder);var b=new f(a);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;for(var d=this._readableState.buffer.head,e="";null!==d;)e+=b.write(d.data),d=d.next;return this._readableState.buffer.clear(),""!==e&&this._readableState.buffer.push(e),this._readableState.length=e.length,this};function J(a){var b=a._readableState;b.readableListening=a.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:a.listenerCount("data")>0&&a.resume()}function K(a){e("readable nexttick read 0"),a.read(0)}function L(a,b){e("resume",b.reading),b.reading||a.read(0),b.resumeScheduled=!1,a.emit("resume"),M(a),b.flowing&&!b.reading&&a.read(0)}function M(a){var b=a._readableState;for(e("flow",b.flowing);b.flowing&&null!==a.read(););}function N(a,b){var c;return 0===b.length?null:(b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.first():b.buffer.concat(b.length),b.buffer.clear()):c=b.buffer.consume(a,b.decoder),c)}function O(a){var b=a._readableState;e("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,i.nextTick(P,b,a))}function P(a,b){if(e("endReadableNT",a.endEmitted,a.length),!a.endEmitted&&0===a.length&&(a.endEmitted=!0,b.readable=!1,b.emit("end"),a.autoDestroy)){var c=b._writableState;(!c||c.autoDestroy&&c.finished)&&b.destroy()}}function Q(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return -1}z.prototype.read=function(a){e("read",a),a=parseInt(a,10);var b,c=this._readableState,d=a;if(0!==a&&(c.emittedReadable=!1),0===a&&c.needReadable&&((0!==c.highWaterMark?c.length>=c.highWaterMark:c.length>0)||c.ended))return e("read: emitReadable",c.length,c.ended),0===c.length&&c.ended?O(this):F(this),null;if(0===(a=D(a,c))&&c.ended)return 0===c.length&&O(this),null;var f=c.needReadable;return e("need readable",f),(0===c.length||c.length-a<c.highWaterMark)&&e("length less than watermark",f=!0),c.ended||c.reading?e("reading or ended",f=!1):f&&(e("do read"),c.reading=!0,c.sync=!0,0===c.length&&(c.needReadable=!0),this._read(c.highWaterMark),c.sync=!1,c.reading||(a=D(d,c))),null===(b=a>0?N(a,c):null)?(c.needReadable=c.length<=c.highWaterMark,a=0):(c.length-=a,c.awaitDrain=0),0===c.length&&(c.ended||(c.needReadable=!0),d!==a&&c.ended&&O(this)),null!==b&&this.emit("data",b),b},z.prototype._read=function(a){w(this,new u("_read()"))},z.prototype.pipe=function(a,b){var c,d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=a;break;case 1:f.pipes=[f.pipes,a];break;default:f.pipes.push(a)}f.pipesCount+=1,e("pipe count=%d opts=%j",f.pipesCount,b);var g=b&& !1===b.end||a===i.stdout||a===i.stderr?s:k;function h(a,b){e("onunpipe"),a===d&&b&& !1===b.hasUnpiped&&(b.hasUnpiped=!0,n())}function k(){e("onend"),a.end()}f.endEmitted?i.nextTick(g):d.once("end",g),a.on("unpipe",h);var l=(c=d,function(){var a=c._readableState;e("pipeOnDrain",a.awaitDrain),a.awaitDrain&&a.awaitDrain--,0===a.awaitDrain&&j(c,"data")&&(a.flowing=!0,M(c))});a.on("drain",l);var m=!1;function n(){e("cleanup"),a.removeListener("close",q),a.removeListener("finish",r),a.removeListener("drain",l),a.removeListener("error",p),a.removeListener("unpipe",h),d.removeListener("end",k),d.removeListener("end",s),d.removeListener("data",o),m=!0,f.awaitDrain&&(!a._writableState||a._writableState.needDrain)&&l()}function o(b){e("ondata");var c=a.write(b);e("dest.write",c),!1===c&&((1===f.pipesCount&&f.pipes===a||f.pipesCount>1&& -1!==Q(f.pipes,a))&&!m&&(e("false write response, pause",f.awaitDrain),f.awaitDrain++),d.pause())}function p(b){e("onerror",b),s(),a.removeListener("error",p),0===j(a,"error")&&w(a,b)}function q(){a.removeListener("finish",r),s()}function r(){e("onfinish"),a.removeListener("close",q),s()}function s(){e("unpipe"),d.unpipe(a)}return d.on("data",o),function(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?Array.isArray(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}(a,"error",p),a.once("close",q),a.once("finish",r),a.emit("pipe",d),f.flowing||(e("pipe resume"),d.resume()),a},z.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes||(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c)),this;if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,{hasUnpiped:!1});return this}var g=Q(b.pipes,a);return -1===g||(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c)),this},z.prototype.on=function(a,b){var c=k.prototype.on.call(this,a,b),d=this._readableState;return"data"===a?(d.readableListening=this.listenerCount("readable")>0,!1!==d.flowing&&this.resume()):"readable"!==a||d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.flowing=!1,d.emittedReadable=!1,e("on readable",d.length,d.reading),d.length?F(this):d.reading||i.nextTick(K,this)),c},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(a,b){var c=k.prototype.removeListener.call(this,a,b);return"readable"===a&&i.nextTick(J,this),c},z.prototype.removeAllListeners=function(a){var b=k.prototype.removeAllListeners.apply(this,arguments);return("readable"===a|| void 0===a)&&i.nextTick(J,this),b},z.prototype.resume=function(){var a,b,c=this._readableState;return c.flowing||(e("resume"),c.flowing=!c.readableListening,a=this,(b=c).resumeScheduled||(b.resumeScheduled=!0,i.nextTick(L,a,b))),c.paused=!1,this},z.prototype.pause=function(){return e("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(e("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},z.prototype.wrap=function(a){var b=this,c=this._readableState,d=!1;for(var f in a.on("end",function(){if(e("wrapped end"),c.decoder&&!c.ended){var a=c.decoder.end();a&&a.length&&b.push(a)}b.push(null)}),a.on("data",function(f){if(e("wrapped data"),c.decoder&&(f=c.decoder.write(f)),!c.objectMode||null!=f)(c.objectMode||f&&f.length)&&(b.push(f)||(d=!0,a.pause()))}),a)void 0===this[f]&&"function"==typeof a[f]&&(this[f]=function(b){return function(){return a[b].apply(a,arguments)}}(f));for(var g=0;g<x.length;g++)a.on(x[g],this.emit.bind(this,x[g]));return this._read=function(b){e("wrapped _read",b),d&&(d=!1,a.resume())},this},"function"==typeof Symbol&&(z.prototype[Symbol.asyncIterator]=function(){return void 0===g&&(g=c(26913)),g(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(a){this._readableState&&(this._readableState.flowing=a)}}),z._fromList=N,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(z.from=function(a,b){return void 0===h&&(h=c(92887)),h(z,a,b)})},67749:function(a,b,c){"use strict";a.exports=k;var d=c(11281).q,e=d.ERR_METHOD_NOT_IMPLEMENTED,f=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=d.ERR_TRANSFORM_WITH_LENGTH_0,i=c(96201);function j(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(null===d)return this.emit("error",new f);c.writechunk=null,c.writecb=null,null!=b&&this.push(b),d(a);var e=this._readableState;e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}function k(a){if(!(this instanceof k))return new k(a);i.call(this,a),this._transformState={afterTransform:j.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",l)}function l(){var a=this;"function"!=typeof this._flush||this._readableState.destroyed?m(this,null,null):this._flush(function(b,c){m(a,b,c)})}function m(a,b,c){if(b)return a.emit("error",b);if(null!=c&&a.push(c),a._writableState.length)throw new h;if(a._transformState.transforming)throw new g;return a.push(null)}c(35717)(k,i),k.prototype.push=function(a,b){return this._transformState.needTransform=!1,i.prototype.push.call(this,a,b)},k.prototype._transform=function(a,b,c){c(new e("_transform()"))},k.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},k.prototype._read=function(a){var b=this._transformState;null===b.writechunk||b.transforming?b.needTransform=!0:(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform))},k.prototype._destroy=function(a,b){i.prototype._destroy.call(this,a,function(a){b(a)})}},1103:function(a,b,c){"use strict";var d,e,f=c(34155);function g(a){var b=this;this.next=null,this.entry=null,this.finish=function(){K(b,a)}}a.exports=z,z.WritableState=y;var h={deprecate:c(94927)},i=c(28114),j=c(48764).Buffer,k=c.g.Uint8Array||function(){},l=c(80358),m=c(75267).getHighWaterMark,n=c(11281).q,o=n.ERR_INVALID_ARG_TYPE,p=n.ERR_METHOD_NOT_IMPLEMENTED,q=n.ERR_MULTIPLE_CALLBACK,r=n.ERR_STREAM_CANNOT_PIPE,s=n.ERR_STREAM_DESTROYED,t=n.ERR_STREAM_NULL_VALUES,u=n.ERR_STREAM_WRITE_AFTER_END,v=n.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function x(){}function y(a,b,e){d=d||c(96201),a=a||{},"boolean"!=typeof e&&(e=b instanceof d),this.objectMode=!!a.objectMode,e&&(this.objectMode=this.objectMode||!!a.writableObjectMode),this.highWaterMark=m(this,a,"writableHighWaterMark",e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===a.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){C(b,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==a.emitClose,this.autoDestroy=!!a.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new g(this)}function z(a){var b=this instanceof(d=d||c(96201));if(!b&&!e.call(z,this))return new z(a);this._writableState=new y(a,this,b),this.writable=!0,a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.final&&(this._final=a.final)),i.call(this)}function A(a,b,c,d,e,f){if(!c){var g,h,i,k=(g=b,h=d,i=e,g.objectMode|| !1===g.decodeStrings||"string"!=typeof h||(h=j.from(h,i)),h);d!==k&&(c=!0,e="buffer",d=k)}var l=b.objectMode?1:d.length;b.length+=l;var m=b.length<b.highWaterMark;if(m||(b.needDrain=!0),b.writing||b.corked){var n=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},n?n.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else B(a,b,!1,l,d,e,f);return m}function B(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,b.destroyed?b.onwrite(new s("write")):c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function C(a,b){var c,d,e,g,h,i,j=a._writableState,k=j.sync,l=j.writecb;if("function"!=typeof l)throw new q;if((c=j).writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0,b)d=a,e=j,g=k,h=b,i=l,--e.pendingcb,g?(f.nextTick(i,h),f.nextTick(I,d,e),d._writableState.errorEmitted=!0,w(d,h)):(i(h),d._writableState.errorEmitted=!0,w(d,h),I(d,e));else{var m=G(j)||a.destroyed;m||j.corked||j.bufferProcessing||!j.bufferedRequest||F(a,j),k?f.nextTick(D,a,j,m,l):D(a,j,m,l)}}function D(a,b,c,d){c||E(a,b),b.pendingcb--,d(),I(a,b)}function E(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function F(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=Array(b.bufferedRequestCount),e=b.corkedRequestsFree;e.entry=c;for(var f=0,h=!0;c;)d[f]=c,c.isBuf||(h=!1),c=c.next,f+=1;d.allBuffers=h,B(a,b,!0,b.length,d,"",e.finish),b.pendingcb++,b.lastBufferedRequest=null,e.next?(b.corkedRequestsFree=e.next,e.next=null):b.corkedRequestsFree=new g(b),b.bufferedRequestCount=0}else{for(;c;){var i=c.chunk,j=c.encoding,k=c.callback,l=b.objectMode?1:i.length;if(B(a,b,!1,l,i,j,k),c=c.next,b.bufferedRequestCount--,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequest=c,b.bufferProcessing=!1}function G(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function H(a,b){a._final(function(c){b.pendingcb--,c&&w(a,c),b.prefinished=!0,a.emit("prefinish"),I(a,b)})}function I(a,b){var c,d,e=G(b);if(e&&(c=a,(d=b).prefinished||d.finalCalled||("function"!=typeof c._final||d.destroyed?(d.prefinished=!0,c.emit("prefinish")):(d.pendingcb++,d.finalCalled=!0,f.nextTick(H,c,d))),0===b.pendingcb&&(b.finished=!0,a.emit("finish"),b.autoDestroy))){var g=a._readableState;(!g||g.autoDestroy&&g.endEmitted)&&a.destroy()}return e}function J(a,b,c){b.ending=!0,I(a,b),c&&(b.finished?f.nextTick(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function K(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree.next=a}c(35717)(z,i),y.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(y.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(e=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(a){return!!e.call(this,a)||this===z&&a&&a._writableState instanceof y}})):e=function(a){return a instanceof this},z.prototype.pipe=function(){w(this,new r)},z.prototype.write=function(a,b,c){var d,e,g,h,i,l,m,n,p,q,r=this._writableState,s=!1,v=!r.objectMode&&(q=a,j.isBuffer(q)||q instanceof k);return v&&!j.isBuffer(a)&&(a=(d=a,j.from(d))),("function"==typeof b&&(c=b,b=null),v?b="buffer":b||(b=r.defaultEncoding),"function"!=typeof c&&(c=x),r.ending)?(e=this,g=c,h=new u,w(e,h),f.nextTick(g,h)):(v||(i=this,l=r,m=a,n=c,null===m?p=new t:"string"==typeof m||l.objectMode||(p=new o("chunk",["string","Buffer"],m)),!p||(w(i,p),f.nextTick(n,p),0)))&&(r.pendingcb++,s=A(this,r,v,a,b,c)),s},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var a=this._writableState;!a.corked||(a.corked--,a.writing||a.corked||a.bufferProcessing||!a.bufferedRequest||F(this,a))},z.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())> -1))throw new v(a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),z.prototype._write=function(a,b,c){c(new p("_write()"))},z.prototype._writev=null,z.prototype.end=function(a,b,c){var d=this._writableState;return"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!=a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||J(this,d,c),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),z.prototype.destroy=l.destroy,z.prototype._undestroy=l.undestroy,z.prototype._destroy=function(a,b){b(a)}},26913:function(a,b,c){"use strict";var d,e=c(34155);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var g=c(22880),h=Symbol("lastResolve"),i=Symbol("lastReject"),j=Symbol("error"),k=Symbol("ended"),l=Symbol("lastPromise"),m=Symbol("handlePromise"),n=Symbol("stream");function o(a,b){return{value:a,done:b}}function p(a){var b=a[h];if(null!==b){var c=a[n].read();null!==c&&(a[l]=null,a[h]=null,a[i]=null,b(o(c,!1)))}}function q(a){e.nextTick(p,a)}var r=Object.getPrototypeOf(function(){}),s=Object.setPrototypeOf((d={get stream(){return this[n]},next:function(){var a,b,c,d=this,f=this[j];if(null!==f)return Promise.reject(f);if(this[k])return Promise.resolve(o(void 0,!0));if(this[n].destroyed)return new Promise(function(a,b){e.nextTick(function(){d[j]?b(d[j]):a(o(void 0,!0))})});var g=this[l];if(g)c=new Promise((a=g,b=this,function(c,d){a.then(function(){if(b[k]){c(o(void 0,!0));return}b[m](c,d)},d)}));else{var h=this[n].read();if(null!==h)return Promise.resolve(o(h,!1));c=new Promise(this[m])}return this[l]=c,c}},f(d,Symbol.asyncIterator,function(){return this}),f(d,"return",function(){var a=this;return new Promise(function(b,c){a[n].destroy(null,function(a){if(a){c(a);return}b(o(void 0,!0))})})}),d),r),t=function(a){var b,c=Object.create(s,(f(b={},n,{value:a,writable:!0}),f(b,h,{value:null,writable:!0}),f(b,i,{value:null,writable:!0}),f(b,j,{value:null,writable:!0}),f(b,k,{value:a._readableState.endEmitted,writable:!0}),f(b,m,{value:function(a,b){var d=c[n].read();d?(c[l]=null,c[h]=null,c[i]=null,a(o(d,!1))):(c[h]=a,c[i]=b)},writable:!0}),b));return c[l]=null,g(a,function(a){if(a&&"ERR_STREAM_PREMATURE_CLOSE"!==a.code){var b=c[i];null!==b&&(c[l]=null,c[h]=null,c[i]=null,b(a)),c[j]=a;return}var d=c[h];null!==d&&(c[l]=null,c[h]=null,c[i]=null,d(o(void 0,!0))),c[k]=!0}),a.on("readable",q.bind(null,c)),c};a.exports=t},30597:function(a,b,c){"use strict";function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var g=c(48764).Buffer,h=c(99283).inspect,i=h&&h.custom||"inspect";function j(a,b,c){g.prototype.copy.call(a,b,c)}a.exports=function(){var a,b,c;function k(){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,k),this.head=null,this.tail=null,this.length=0}return a=k,b=[{key:"push",value:function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c}},{key:"concat",value:function(a){if(0===this.length)return g.alloc(0);for(var b=g.allocUnsafe(a>>>0),c=this.head,d=0;c;)j(c.data,b,d),d+=c.data.length,c=c.next;return b}},{key:"consume",value:function(a,b){var c;return a<this.head.data.length?(c=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):c=a===this.head.data.length?this.shift():b?this._getString(a):this._getBuffer(a),c}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var b=this.head,c=1,d=b.data;for(a-=d.length;b=b.next;){var e=b.data,f=a>e.length?e.length:a;if(f===e.length?d+=e:d+=e.slice(0,a),0==(a-=f)){f===e.length?(++c,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=e.slice(f));break}++c}return this.length-=c,d}},{key:"_getBuffer",value:function(a){var b=g.allocUnsafe(a),c=this.head,d=1;for(c.data.copy(b),a-=c.data.length;c=c.next;){var e=c.data,f=a>e.length?e.length:a;if(e.copy(b,b.length-a,0,f),0==(a-=f)){f===e.length?(++d,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=e.slice(f));break}++d}return this.length-=d,b}},{key:i,value:function(a,b){return h(this,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d(Object(c),!0).forEach(function(b){e(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},b,{depth:0,customInspect:!1}))}}],f(a.prototype,b),c&&f(a,c),k}()},80358:function(a,b,c){"use strict";var d=c(34155);function e(a,b){g(a,b),f(a)}function f(a){(!a._writableState||a._writableState.emitClose)&&(!a._readableState||a._readableState.emitClose)&&a.emit("close")}function g(a,b){a.emit("error",b)}a.exports={destroy:function(a,b){var c=this,h=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return h||i?(b?b(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(g,this,a)):d.nextTick(g,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?c._writableState?c._writableState.errorEmitted?d.nextTick(f,c):(c._writableState.errorEmitted=!0,d.nextTick(e,c,a)):d.nextTick(e,c,a):b?(d.nextTick(f,c),b(a)):d.nextTick(f,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,b){var c=a._readableState,d=a._writableState;c&&c.autoDestroy||d&&d.autoDestroy?a.destroy(b):a.emit("error",b)}}},22880:function(a,b,c){"use strict";var d=c(11281).q.ERR_STREAM_PREMATURE_CLOSE;function e(){}function f(a,b,c){if("function"==typeof b)return f(a,null,b);b||(b={}),c=(g=c||e,h=!1,function(){if(!h){h=!0;for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];g.apply(this,b)}});var g,h,i,j=b.readable|| !1!==b.readable&&a.readable,k=b.writable|| !1!==b.writable&&a.writable,l=function(){a.writable||n()},m=a._writableState&&a._writableState.finished,n=function(){k=!1,m=!0,j||c.call(a)},o=a._readableState&&a._readableState.endEmitted,p=function(){j=!1,o=!0,k||c.call(a)},q=function(b){c.call(a,b)},r=function(){var b;return j&&!o?(a._readableState&&a._readableState.ended||(b=new d),c.call(a,b)):k&&!m?(a._writableState&&a._writableState.ended||(b=new d),c.call(a,b)):void 0},s=function(){a.req.on("finish",n)};return(i=a).setHeader&&"function"==typeof i.abort?(a.on("complete",n),a.on("abort",r),a.req?s():a.on("request",s)):k&&!a._writableState&&(a.on("end",l),a.on("close",l)),a.on("end",p),a.on("finish",n),!1!==b.error&&a.on("error",q),a.on("close",r),function(){a.removeListener("complete",n),a.removeListener("abort",r),a.removeListener("request",s),a.req&&a.req.removeListener("finish",n),a.removeListener("end",l),a.removeListener("close",l),a.removeListener("finish",n),a.removeListener("end",p),a.removeListener("error",q),a.removeListener("close",r)}}a.exports=f},92887:function(a){a.exports=function(){throw Error("Readable.from is not available in the browser")}},60677:function(a,b,c){"use strict";var d,e=c(11281).q,f=e.ERR_MISSING_ARGS,g=e.ERR_STREAM_DESTROYED;function h(a){if(a)throw a}function i(a){a()}function j(a,b){return a.pipe(b)}a.exports=function(){for(var a,b=arguments.length,e=Array(b),k=0;k<b;k++)e[k]=arguments[k];var l,m=(l=e).length&&"function"==typeof l[l.length-1]?l.pop():h;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new f("streams");var n=e.map(function(b,f){var h=f<e.length-1;return function(a,b,e,f){f=(h=f,i=!1,function(){i||(i=!0,h.apply(void 0,arguments))});var h,i,j=!1;a.on("close",function(){j=!0}),void 0===d&&(d=c(22880)),d(a,{readable:b,writable:e},function(a){if(a)return f(a);j=!0,f()});var k=!1;return function(b){if(!j&&!k){var c;if(k=!0,(c=a).setHeader&&"function"==typeof c.abort)return a.abort();if("function"==typeof a.destroy)return a.destroy();f(b||new g("pipe"))}}}(b,h,f>0,function(b){a||(a=b),b&&n.forEach(i),h||(n.forEach(i),m(a))})});return e.reduce(j)}},75267:function(a,b,c){"use strict";var d=c(11281).q.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(a,b,c,e){var f,g,h,i=(f=b,g=e,h=c,null!=f.highWaterMark?f.highWaterMark:g?f[h]:null);if(null!=i){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var j=e?c:"highWaterMark";throw new d(j,i)}return Math.floor(i)}return a.objectMode?16:16384}}},28114:function(a,b,c){a.exports=c(17187).EventEmitter},95507:function(a,b,c){(b=a.exports=c(62460)).Stream=b,b.Readable=b,b.Writable=c(1103),b.Duplex=c(96201),b.Transform=c(67749),b.PassThrough=c(24404),b.finished=c(22880),b.pipeline=c(60677)},68912:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}(c(9336))},9336:function(a,b){"use strict";function c(a){let b=[],c=0;for(;c<a.length;)switch(a[c]){case"/":if("."===a[c+1]){if("."===a[c+2]){if(!e(a[c+3])){b.push([]),c++;break}b.pop(),a[c+3]||b.push([]),c+=3}else{if(!e(a[c+2])){b.push([]),c++;break}a[c+2]||b.push([]),c+=2}}else b.push([]),c++;break;case"#":case"?":b.length||b.push([]),b[b.length-1].push(a.substr(c)),c=a.length;break;default:b.length||b.push([]),b[b.length-1].push(a[c]),c++}return"/"+b.map(a=>a.join("")).join("/")}function d(a,b){let d=b+1;b>=0?"/"===a[b+1]&&"/"===a[b+2]&&(d=b+3):"/"===a[0]&&"/"===a[1]&&(d=2);let e=a.indexOf("/",d);if(e<0)return a;let f=a.substr(0,e),g=a.substr(e);return f+c(g)}function e(a){return!a||"#"===a||"?"===a||"/"===a}Object.defineProperty(b,"__esModule",{value:!0}),b.resolve=function(a,b){b=b||"";let e=b.indexOf("#");if(e>0&&(b=b.substr(0,e)),!a.length){if(0>b.indexOf(":"))throw Error(`Found invalid baseIRI '${b}' for value '${a}'`);return b}if(a.startsWith("?")){let f=b.indexOf("?");return f>0&&(b=b.substr(0,f)),b+a}if(a.startsWith("#"))return b+a;if(!b.length){let g=a.indexOf(":");if(g<0)throw Error(`Found invalid relative IRI '${a}' for a missing baseIRI`);return d(a,g)}let h=a.indexOf(":");if(h>=0)return d(a,h);let i=b.indexOf(":");if(i<0)throw Error(`Found invalid baseIRI '${b}' for value '${a}'`);let j=b.substr(0,i+1);if(0===a.indexOf("//"))return j+d(a,h);let k;if(b.indexOf("//",i)===i+1){if((k=b.indexOf("/",i+3))<0)return b.length>i+3?b+"/"+d(a,h):j+d(a,h)}else if((k=b.indexOf("/",i+1))<0)return j+d(a,h);if(0===a.indexOf("/"))return b.substr(0,k)+c(a);let l=b.substr(k),m=l.lastIndexOf("/");return m>=0&&m<l.length-1&&(l=l.substr(0,m+1),"."===a[0]&&"."!==a[1]&&"/"!==a[1]&&a[2]&&(a=a.substr(1))),a=c(a=l+a),b.substr(0,k)+a},b.removeDotSegments=c,b.removeDotSegmentsOfPath=d},92208:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SaxesParser=b.EVENTS=void 0;let d=c(83347),e=c(95285),f=c(87046);var g=d.isS,h=d.isChar,i=d.isNameStartChar,j=d.isNameChar,k=d.S_LIST,l=d.NAME_RE,m=e.isChar,n=f.isNCNameStartChar,o=f.isNCNameChar,p=f.NC_NAME_RE;let q="http://www.w3.org/XML/1998/namespace",r="http://www.w3.org/2000/xmlns/",s={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t=a=>34===a||39===a,u=[34,39],v=[...u,91,62],w=[...u,60,93],x=[61,63,...k],y=[...k,62,38,60];function z(a,b,c){switch(b){case"xml":c!==q&&a.fail(`xml prefix must be bound to ${q}.`);break;case"xmlns":c!==r&&a.fail(`xmlns prefix must be bound to ${r}.`)}switch(c){case r:a.fail(""===b?`the default namespace may not be set to ${c}.`:`may not assign a prefix (even "xmlns") to the URI \
${r}.`);break;case q:switch(b){case"xml":break;case"":a.fail(`the default namespace may not be set to ${c}.`);break;default:a.fail("may not assign the xml namespace to another prefix.")}}}let A=a=>p.test(a),B=a=>l.test(a);b.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready",];let C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};b.SaxesParser=class{constructor(a){this.opt=null!=a?a:{},this.fragmentOpt=!!this.opt.fragment;let b=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,b){this.nameStartCheck=n,this.nameCheck=o,this.isName=A,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},{__proto__:null,xml:q,xmlns:r});let c=this.opt.additionalNamespaces;null!=c&&(!function(a,b){for(let c of Object.keys(b))z(a,c,b[c])}(this,c),Object.assign(this.ns,c))}else this.nameStartCheck=i,this.nameCheck=j,this.isName=B,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var a;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:b}=this;this.state=b?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=b,this.xmlDeclPossible=!b,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:c}=this.opt;if(void 0===c){if(!0===this.opt.forceXMLVersion)throw Error("forceXMLVersion set but defaultXMLVersion is not set");c="1.0"}this.setXMLVersion(c),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(s),null===(a=this.readyHandler)|| void 0===a||a.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(a,b){this[C[a]]=b}off(a){this[C[a]]=void 0}makeError(a){var b;let c=null!==(b=this.fileName)&& void 0!==b?b:"";return this.trackPosition&&(c.length>0&&(c+=":"),c+=`${this.line}:${this.column}`),c.length>0&&(c+=": "),Error(c+a)}fail(a){let b=this.makeError(a),c=this.errorHandler;if(void 0===c)throw b;return c(b),this}write(a){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let b=!1;null===a?(b=!0,a=""):"object"==typeof a&&(a=a.toString()),void 0!==this.carriedFromPrevious&&(a=`${this.carriedFromPrevious}${a}`,this.carriedFromPrevious=void 0);let c=a.length,d=a.charCodeAt(c-1);!b&&(13===d||d>=55296&&d<=56319)&&(this.carriedFromPrevious=a[c-1],c--,a=a.slice(0,c));let{stateTable:e}=this;for(this.chunk=a,this.i=0;this.i<c;)e[this.state].call(this);return this.chunkPosition+=c,b?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:a,i:b}=this;if(this.prevI=b,this.i=b+1,b>=a.length)return -1;let c=a.charCodeAt(b);if(this.column++,c<55296){if(c>=32||9===c)return c;switch(c){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return 10===a.charCodeAt(b+1)&&(this.i=b+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),c}}if(c>56319)return c>=57344&&c<=65533||this.fail("disallowed character."),c;let d=65536+(c-55296)*1024+(a.charCodeAt(b+1)-56320);return this.i=b+2,d>1114111&&this.fail("disallowed character."),d}getCode11(){let{chunk:a,i:b}=this;if(this.prevI=b,this.i=b+1,b>=a.length)return -1;let c=a.charCodeAt(b);if(this.column++,c<55296){if(c>31&&c<127||c>159&&8232!==c||9===c)return c;switch(c){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let d=a.charCodeAt(b+1);(10===d||133===d)&&(this.i=b+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),c}}if(c>56319)return c>=57344&&c<=65533||this.fail("disallowed character."),c;let e=65536+(c-55296)*1024+(a.charCodeAt(b+1)-56320);return this.i=b+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){let a=this.getCode();return -2===a?10:a}unget(){this.i=this.prevI,this.column--}captureTo(a){let{i:b}=this,{chunk:c}=this;for(;;){let d=this.getCode(),e=-2===d,f=e?10:d;if(-1===f||a.includes(f))return this.text+=c.slice(b,this.prevI),f;e&&(this.text+=`${c.slice(b,this.prevI)}
`,b=this.i)}}captureToChar(a){let{i:b}=this,{chunk:c}=this;for(;;){let d=this.getCode();switch(d){case -2:this.text+=`${c.slice(b,this.prevI)}
`,b=this.i,d=10;break;case -1:return this.text+=c.slice(b),!1}if(d===a)return this.text+=c.slice(b,this.prevI),!0}}captureNameChars(){let{chunk:a,i:b}=this;for(;;){let c=this.getCode();if(-1===c)return this.name+=a.slice(b),-1;if(!j(c))return this.name+=a.slice(b,this.prevI),-2===c?10:c}}skipSpaces(){for(;;){let a=this.getCodeNorm();if(-1===a||!g(a))return a}}setXMLVersion(a){this.currentXMLVersion=a,"1.0"===a?(this.isChar=h,this.getCode=this.getCode10):(this.isChar=m,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let a=this.i,b=this.skipSpaces();switch(this.prevI!==a&&(this.xmlDeclPossible=!1),b){case 60:if(this.state=15,0!==this.text.length)throw Error("no-empty text at start");break;case -1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var a;let b=this.captureTo(v);switch(b){case 62:null===(a=this.doctypeHandler)|| void 0===a||a.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case -1:break;default:this.text+=String.fromCodePoint(b),91===b?this.state=4:t(b)&&(this.state=3,this.q=b)}}sDoctypeQuote(){let a=this.q;this.captureToChar(a)&&(this.text+=String.fromCodePoint(a),this.q=null,this.state=2)}sDTD(){let a=this.captureTo(w);-1!==a&&(this.text+=String.fromCodePoint(a),93===a?this.state=2:60===a?this.state=6:t(a)&&(this.state=5,this.q=a))}sDTDQuoted(){let a=this.q;this.captureToChar(a)&&(this.text+=String.fromCodePoint(a),this.state=4,this.q=null)}sDTDOpenWaka(){let a=this.getCodeNorm();switch(this.text+=String.fromCodePoint(a),a){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let a=String.fromCodePoint(this.getCodeNorm()),b=this.openWakaBang+=a;this.text+=a,"-"!==b&&(this.state="--"===b?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let a=this.getCodeNorm();this.text+=String.fromCodePoint(a),this.state=45===a?10:8}sDTDCommentEnded(){let a=this.getCodeNorm();this.text+=String.fromCodePoint(a),62===a?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let a=this.getCodeNorm();this.text+=String.fromCodePoint(a),62===a&&(this.state=4)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:a}=this,{chunk:b}=this;loop:for(;;)switch(this.getCode()){case -2:this.entity+=`${b.slice(a,this.prevI)}
`,a=this.i;break;case 59:{let{entityReturnState:c}=this,d=this.entity+b.slice(a,this.prevI);this.state=c;let e;""===d?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(d),this.entity=""),(13!==c|| void 0!==this.textHandler)&&(this.text+=e);break loop}case -1:this.entity+=b.slice(a);break loop}}sOpenWaka(){let a=this.getCode();if(i(a))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(a){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var a;let b=this.getCodeNorm();45===b?(this.state=19,null===(a=this.commentHandler)|| void 0===a||a.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(b)}`,this.state=17)}sCommentEnded(){let a=this.getCodeNorm();62!==a?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(a)}`,this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let a=this.getCodeNorm();93===a?this.state=22:(this.text+=`]${String.fromCodePoint(a)}`,this.state=20)}sCDataEnding2(){var a;let b=this.getCodeNorm();switch(b){case 62:null===(a=this.cdataHandler)|| void 0===a||a.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(b)}`,this.state=20}}sPIFirstChar(){let a=this.getCodeNorm();this.nameStartCheck(a)?(this.piTarget+=String.fromCodePoint(a),this.state=24):63===a||g(a)?(this.fail("processing instruction without a target."),this.state=63===a?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(a),this.state=24)}sPIRest(){let{chunk:a,i:b}=this;for(;;){let c=this.getCodeNorm();if(-1===c){this.piTarget+=a.slice(b);return}if(!this.nameCheck(c)){this.piTarget+=a.slice(b,this.prevI);let d=63===c;d||g(c)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=d?33:27):this.state=d?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(c));break}}}sPIBody(){if(0===this.text.length){let a=this.getCodeNorm();63===a?this.state=26:g(a)||(this.text=String.fromCodePoint(a))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var a;let b=this.getCodeNorm();if(62===b){let{piTarget:c}=this;"xml"===c.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(a=this.piHandler)|| void 0===a||a.call(this,{target:c,body:this.text}),this.piTarget=this.text="",this.state=13}else 63===b?this.text+="?":(this.text+=`?${String.fromCodePoint(b)}`,this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let a=this.skipSpaces();if(63===a){this.state=33;return}-1!==a&&(this.state=28,this.name=String.fromCodePoint(a))}sXMLDeclName(){let a=this.captureTo(x);if(63===a){this.state=33,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(g(a)||61===a){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=61===a?30:29}}sXMLDeclEq(){let a=this.getCodeNorm();if(63===a){this.state=33,this.fail("XML declaration is incomplete.");return}!g(a)&&(61!==a&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let a=this.getCodeNorm();if(63===a){this.state=33,this.fail("XML declaration is incomplete.");return}!g(a)&&(t(a)?this.q=a:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let a=this.captureTo([this.q,63]);if(63===a){this.state=33,this.text="",this.fail("XML declaration is incomplete.");return}if(-1===a)return;let b=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let c=b;this.xmlDecl.version=c,/^1\.[0-9]+$/.test(c)?this.opt.forceXMLVersion||this.setXMLVersion(c):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(b)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=b;break;case"standalone":"yes"!==b&&"no"!==b&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=b}this.name="",this.state=32}sXMLDeclSeparator(){let a=this.getCodeNorm();if(63===a){this.state=33;return}g(a)||(this.fail("whitespace required."),this.unget()),this.state=27}sXMLDeclEnding(){var a;let b=this.getCodeNorm();62===b?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(a=this.xmldeclHandler)|| void 0===a||a.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var a;let b=this.captureNameChars();if(-1===b)return;let c=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=c.ns=Object.create(null)),null===(a=this.openTagStartHandler)|| void 0===a||a.call(this,c),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),b){case 62:this.openTag();break;case 47:this.state=35;break;default:g(b)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){62===this.getCode()?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let a=this.skipSpaces();-1!==a&&(i(a)?(this.unget(),this.state=37):62===a?this.openTag():47===a?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let a=this.captureNameChars();61===a?this.state=39:g(a)?this.state=38:62===a?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):-1!==a&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let a=this.skipSpaces();switch(a){case -1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",62===a?this.openTag():i(a)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let a=this.getCodeNorm();t(a)?(this.q=a,this.state=40):g(a)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:a,chunk:b}=this,{i:c}=this;for(;;)switch(this.getCode()){case a:this.pushAttrib(this.name,this.text+b.slice(c,this.prevI)),this.name=this.text="",this.q=null,this.state=41;return;case 38:this.text+=b.slice(c,this.prevI),this.state=14,this.entityReturnState=40;return;case 10:case -2:case 9:this.text+=`${b.slice(c,this.prevI)} `,c=this.i;break;case 60:this.text+=b.slice(c,this.prevI),this.fail("disallowed character.");return;case -1:this.text+=b.slice(c);return}}sAttribValueClosed(){let a=this.getCodeNorm();g(a)?this.state=36:62===a?this.openTag():47===a?this.state=35:i(a)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let a=this.captureTo(y);switch(a){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case -1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",62===a?this.openTag():this.state=36}}sCloseTag(){let a=this.captureNameChars();62===a?this.closeTag():g(a)?this.state=44:-1!==a&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case -1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:a,forbiddenState:b}=this,{chunk:c,textHandler:d}=this;scanLoop:for(;;)switch(this.getCode()){case 60:if(this.state=15,void 0!==d){let{text:e}=this,f=c.slice(a,this.prevI);0!==e.length?(d(e+f),this.text=""):0!==f.length&&d(f)}b=0;break scanLoop;case 38:this.state=14,this.entityReturnState=13,void 0!==d&&(this.text+=c.slice(a,this.prevI)),b=0;break scanLoop;case 93:switch(b){case 0:b=1;break;case 1:b=2;break;case 2:break;default:throw Error("impossible state")}break;case 62:2===b&&this.fail('the string "]]>" is disallowed in char data.'),b=0;break;case -2:void 0!==d&&(this.text+=`${c.slice(a,this.prevI)}
`),a=this.i,b=0;break;case -1:void 0!==d&&(this.text+=c.slice(a));break scanLoop;default:b=0}this.forbiddenState=b}handleTextOutsideRoot(){let{i:a}=this,{chunk:b,textHandler:c}=this,d=!1;outRootLoop:for(;;){let e=this.getCode();switch(e){case 60:if(this.state=15,void 0!==c){let{text:f}=this,h=b.slice(a,this.prevI);0!==f.length?(c(f+h),this.text=""):0!==h.length&&c(h)}break outRootLoop;case 38:this.state=14,this.entityReturnState=13,void 0!==c&&(this.text+=b.slice(a,this.prevI)),d=!0;break outRootLoop;case -2:void 0!==c&&(this.text+=`${b.slice(a,this.prevI)}
`),a=this.i;break;case -1:void 0!==c&&(this.text+=b.slice(a));break outRootLoop;default:g(e)||(d=!0)}}d&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(a,b){var c;let{prefix:d,local:e}=this.qname(a),f={name:a,prefix:d,local:e,value:b};if(this.attribList.push(f),null===(c=this.attributeHandler)|| void 0===c||c.call(this,f),"xmlns"===d){let g=b.trim();"1.0"===this.currentXMLVersion&&""===g&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=g,z(this,e,g)}else if("xmlns"===a){let h=b.trim();this.topNS[""]=h,z(this,"",h)}}pushAttribPlain(a,b){var c;let d={name:a,value:b};this.attribList.push(d),null===(c=this.attributeHandler)|| void 0===c||c.call(this,d)}end(){var a,b;this.sawRoot||this.fail("document must contain a root element.");let{tags:c}=this;for(;c.length>0;){let d=c.pop();this.fail(`unclosed tag: ${d.name}`)}0!==this.state&&13!==this.state&&this.fail("unexpected end.");let{text:e}=this;return 0!==e.length&&(null===(a=this.textHandler)|| void 0===a||a.call(this,e),this.text=""),this._closed=!0,null===(b=this.endHandler)|| void 0===b||b.call(this),this._init(),this}resolve(a){var b,c;let d=this.topNS[a];if(void 0!==d)return d;let{tags:e}=this;for(let f=e.length-1;f>=0;f--)if(void 0!==(d=e[f].ns[a]))return d;return void 0!==(d=this.ns[a])?d:null===(c=(b=this.opt).resolvePrefix)|| void 0===c?void 0:c.call(b,a)}qname(a){let b=a.indexOf(":");if(-1===b)return{prefix:"",local:a};let c=a.slice(b+1),d=a.slice(0,b);return(""===d||""===c||c.includes(":"))&&this.fail(`malformed name: ${a}.`),{prefix:d,local:c}}processAttribsNS(){var a;let{attribList:b}=this,c=this.tag;{let{prefix:d,local:e}=this.qname(c.name);c.prefix=d,c.local=e;let f=c.uri=null!==(a=this.resolve(d))&& void 0!==a?a:"";""!==d&&("xmlns"===d&&this.fail('tags may not have "xmlns" as prefix.'),""===f&&(this.fail(`unbound namespace prefix: ${JSON.stringify(d)}.`),c.uri=d))}if(0===b.length)return;let{attributes:g}=c,h=new Set;for(let i of b){let{name:j,prefix:k,local:l}=i,m,n;""===k?(m="xmlns"===j?r:"",n=j):(void 0===(m=this.resolve(k))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(k)}.`),m=k),n=`{${m}}${l}`),h.has(n)&&this.fail(`duplicate attribute: ${n}.`),h.add(n),i.uri=m,g[j]=i}this.attribList=[]}processAttribsPlain(){let{attribList:a}=this,b=this.tag.attributes;for(let{name:c,value:d}of a)void 0!==b[c]&&this.fail(`duplicate attribute: ${c}.`),b[c]=d;this.attribList=[]}openTag(){var a;this.processAttribs();let{tags:b}=this,c=this.tag;c.isSelfClosing=!1,null===(a=this.openTagHandler)|| void 0===a||a.call(this,c),b.push(c),this.state=13,this.name=""}openSelfClosingTag(){var a,b,c;this.processAttribs();let{tags:d}=this,e=this.tag;e.isSelfClosing=!0,null===(a=this.openTagHandler)|| void 0===a||a.call(this,e),null===(b=this.closeTagHandler)|| void 0===b||b.call(this,e);let f=this.tag=null!==(c=d[d.length-1])&& void 0!==c?c:null;null===f&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:a,name:b}=this;if(this.state=13,this.name="",""===b){this.fail("weird empty close tag."),this.text+="</>";return}let c=this.closeTagHandler,d=a.length;for(;d-- >0;){let e=this.tag=a.pop();if(this.topNS=e.ns,null==c||c(e),e.name===b)break;this.fail("unexpected close tag.")}0===d?this.closedRoot=!0:d<0&&(this.fail(`unmatched closing tag: ${b}.`),this.text+=`</${b}>`)}parseEntity(a){if("#"!==a[0]){let b=this.ENTITIES[a];return void 0!==b?b:(this.fail(this.isName(a)?"undefined entity.":"disallowed character in entity name."),`&${a};`)}let c=NaN;return("x"===a[1]&&/^#x[0-9a-f]+$/i.test(a)?c=parseInt(a.slice(2),16):/^#[0-9]+$/.test(a)&&(c=parseInt(a.slice(1),10)),this.isChar(c))?String.fromCodePoint(c):(this.fail("malformed character entity."),`&${a};`)}}},8322:function(a){!function(b){a.exports=b()}(function(a){"use strict";var b=function(a,b){return a+b&4294967295},c=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function d(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];c+=(d&e| ~d&f)+b[0]-680876936|0,f+=((c=(c<<7|c>>>25)+d|0)&d| ~c&e)+b[1]-389564586|0,e+=((f=(f<<12|f>>>20)+c|0)&c| ~f&d)+b[2]+606105819|0,d+=((e=(e<<17|e>>>15)+f|0)&f| ~e&c)+b[3]-1044525330|0,c+=((d=(d<<22|d>>>10)+e|0)&e| ~d&f)+b[4]-176418897|0,f+=((c=(c<<7|c>>>25)+d|0)&d| ~c&e)+b[5]+1200080426|0,e+=((f=(f<<12|f>>>20)+c|0)&c| ~f&d)+b[6]-1473231341|0,d+=((e=(e<<17|e>>>15)+f|0)&f| ~e&c)+b[7]-45705983|0,c+=((d=(d<<22|d>>>10)+e|0)&e| ~d&f)+b[8]+1770035416|0,f+=((c=(c<<7|c>>>25)+d|0)&d| ~c&e)+b[9]-1958414417|0,e+=((f=(f<<12|f>>>20)+c|0)&c| ~f&d)+b[10]-42063|0,d+=((e=(e<<17|e>>>15)+f|0)&f| ~e&c)+b[11]-1990404162|0,c+=((d=(d<<22|d>>>10)+e|0)&e| ~d&f)+b[12]+1804603682|0,f+=((c=(c<<7|c>>>25)+d|0)&d| ~c&e)+b[13]-40341101|0,e+=((f=(f<<12|f>>>20)+c|0)&c| ~f&d)+b[14]-1502002290|0,d+=((e=(e<<17|e>>>15)+f|0)&f| ~e&c)+b[15]+1236535329|0,c+=((d=(d<<22|d>>>10)+e|0)&f|e& ~f)+b[1]-165796510|0,f+=((c=(c<<5|c>>>27)+d|0)&e|d& ~e)+b[6]-1069501632|0,e+=((f=(f<<9|f>>>23)+c|0)&d|c& ~d)+b[11]+643717713|0,d+=((e=(e<<14|e>>>18)+f|0)&c|f& ~c)+b[0]-373897302|0,c+=((d=(d<<20|d>>>12)+e|0)&f|e& ~f)+b[5]-701558691|0,f+=((c=(c<<5|c>>>27)+d|0)&e|d& ~e)+b[10]+38016083|0,e+=((f=(f<<9|f>>>23)+c|0)&d|c& ~d)+b[15]-660478335|0,d+=((e=(e<<14|e>>>18)+f|0)&c|f& ~c)+b[4]-405537848|0,c+=((d=(d<<20|d>>>12)+e|0)&f|e& ~f)+b[9]+568446438|0,f+=((c=(c<<5|c>>>27)+d|0)&e|d& ~e)+b[14]-1019803690|0,e+=((f=(f<<9|f>>>23)+c|0)&d|c& ~d)+b[3]-187363961|0,d+=((e=(e<<14|e>>>18)+f|0)&c|f& ~c)+b[8]+1163531501|0,c+=((d=(d<<20|d>>>12)+e|0)&f|e& ~f)+b[13]-1444681467|0,f+=((c=(c<<5|c>>>27)+d|0)&e|d& ~e)+b[2]-51403784|0,e+=((f=(f<<9|f>>>23)+c|0)&d|c& ~d)+b[7]+1735328473|0,d+=((e=(e<<14|e>>>18)+f|0)&c|f& ~c)+b[12]-1926607734|0,c+=((d=(d<<20|d>>>12)+e|0)^e^f)+b[5]-378558|0,f+=((c=(c<<4|c>>>28)+d|0)^d^e)+b[8]-2022574463|0,e+=((f=(f<<11|f>>>21)+c|0)^c^d)+b[11]+1839030562|0,d+=((e=(e<<16|e>>>16)+f|0)^f^c)+b[14]-35309556|0,c+=((d=(d<<23|d>>>9)+e|0)^e^f)+b[1]-1530992060|0,f+=((c=(c<<4|c>>>28)+d|0)^d^e)+b[4]+1272893353|0,e+=((f=(f<<11|f>>>21)+c|0)^c^d)+b[7]-155497632|0,d+=((e=(e<<16|e>>>16)+f|0)^f^c)+b[10]-1094730640|0,c+=((d=(d<<23|d>>>9)+e|0)^e^f)+b[13]+681279174|0,f+=((c=(c<<4|c>>>28)+d|0)^d^e)+b[0]-358537222|0,e+=((f=(f<<11|f>>>21)+c|0)^c^d)+b[3]-722521979|0,d+=((e=(e<<16|e>>>16)+f|0)^f^c)+b[6]+76029189|0,c+=((d=(d<<23|d>>>9)+e|0)^e^f)+b[9]-640364487|0,f+=((c=(c<<4|c>>>28)+d|0)^d^e)+b[12]-421815835|0,e+=((f=(f<<11|f>>>21)+c|0)^c^d)+b[15]+530742520|0,d+=((e=(e<<16|e>>>16)+f|0)^f^c)+b[2]-995338651|0,d=(d<<23|d>>>9)+e|0,c+=(e^(d| ~f))+b[0]-198630844|0,c=(c<<6|c>>>26)+d|0,f+=(d^(c| ~e))+b[7]+1126891415|0,f=(f<<10|f>>>22)+c|0,e+=(c^(f| ~d))+b[14]-1416354905|0,e=(e<<15|e>>>17)+f|0,d+=(f^(e| ~c))+b[5]-57434055|0,d=(d<<21|d>>>11)+e|0,c+=(e^(d| ~f))+b[12]+1700485571|0,c=(c<<6|c>>>26)+d|0,f+=(d^(c| ~e))+b[3]-1894986606|0,f=(f<<10|f>>>22)+c|0,e+=(c^(f| ~d))+b[10]-1051523|0,e=(e<<15|e>>>17)+f|0,d+=(f^(e| ~c))+b[1]-2054922799|0,d=(d<<21|d>>>11)+e|0,c+=(e^(d| ~f))+b[8]+1873313359|0,c=(c<<6|c>>>26)+d|0,f+=(d^(c| ~e))+b[15]-30611744|0,f=(f<<10|f>>>22)+c|0,e+=(c^(f| ~d))+b[6]-1560198380|0,e=(e<<15|e>>>17)+f|0,d+=(f^(e| ~c))+b[13]+1309151649|0,d=(d<<21|d>>>11)+e|0,c+=(e^(d| ~f))+b[4]-145523070|0,c=(c<<6|c>>>26)+d|0,f+=(d^(c| ~e))+b[11]-1120210379|0,f=(f<<10|f>>>22)+c|0,e+=(c^(f| ~d))+b[2]+718787259|0,e=(e<<15|e>>>17)+f|0,d+=(f^(e| ~c))+b[9]-343485551|0,d=(d<<21|d>>>11)+e|0,a[0]=c+a[0]|0,a[1]=d+a[1]|0,a[2]=e+a[2]|0,a[3]=f+a[3]|0}function e(a){var b,c=[];for(b=0;b<64;b+=4)c[b>>2]=a.charCodeAt(b)+(a.charCodeAt(b+1)<<8)+(a.charCodeAt(b+2)<<16)+(a.charCodeAt(b+3)<<24);return c}function f(a){var b,c=[];for(b=0;b<64;b+=4)c[b>>2]=a[b]+(a[b+1]<<8)+(a[b+2]<<16)+(a[b+3]<<24);return c}function g(a){var b,c,f,g,h,i,j=a.length,k=[1732584193,-271733879,-1732584194,271733878];for(b=64;b<=j;b+=64)d(k,e(a.substring(b-64,b)));for(c=(a=a.substring(b-64)).length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0;b<c;b+=1)f[b>>2]|=a.charCodeAt(b)<<(b%4<<3);if(f[b>>2]|=128<<(b%4<<3),b>55)for(d(k,f),b=0;b<16;b+=1)f[b]=0;return h=parseInt((g=(g=8*j).toString(16).match(/(.*?)(.{0,8})$/))[2],16),i=parseInt(g[1],16)||0,f[14]=h,f[15]=i,d(k,f),k}function h(a){var b,d="";for(b=0;b<4;b+=1)d+=c[a>>8*b+4&15]+c[a>>8*b&15];return d}function i(a){var b;for(b=0;b<a.length;b+=1)a[b]=h(a[b]);return a.join("")}if(i(g("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice){function j(a,b){return(a=0|a||0)<0?Math.max(a+b,0):Math.min(a,b)}ArrayBuffer.prototype.slice=function(b,c){var d,e,f,g,h=this.byteLength,i=j(b,h),k=h;return(c!==a&&(k=j(c,h)),i>k)?new ArrayBuffer(0):(d=k-i,e=new ArrayBuffer(d),f=new Uint8Array(e),g=new Uint8Array(this,i,d),f.set(g),e)}}function k(a){return/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a))),a}function l(a){var b,c=[],d=a.length;for(b=0;b<d-1;b+=2)c.push(parseInt(a.substr(b,2),16));return String.fromCharCode.apply(String,c)}function m(){this.reset()}return m.prototype.append=function(a){return this.appendBinary(k(a)),this},m.prototype.appendBinary=function(a){this._buff+=a,this._length+=a.length;var b,c=this._buff.length;for(b=64;b<=c;b+=64)d(this._hash,e(this._buff.substring(b-64,b)));return this._buff=this._buff.substring(b-64),this},m.prototype.end=function(a){var b,c,d=this._buff,e=d.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;b<e;b+=1)f[b>>2]|=d.charCodeAt(b)<<(b%4<<3);return this._finish(f,e),c=i(this._hash),a&&(c=l(c)),this.reset(),c},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(a){return this._buff=a.buff,this._length=a.length,this._hash=a.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(a,b){var c,e,f,g=b;if(a[g>>2]|=128<<(g%4<<3),g>55)for(d(this._hash,a),g=0;g<16;g+=1)a[g]=0;e=parseInt((c=(c=8*this._length).toString(16).match(/(.*?)(.{0,8})$/))[2],16),f=parseInt(c[1],16)||0,a[14]=e,a[15]=f,d(this._hash,a)},m.hash=function(a,b){return m.hashBinary(k(a),b)},m.hashBinary=function(a,b){var c=g(a),d=i(c);return b?l(d):d},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(a){var b,c,e,g,h,i=(b=this._buff.buffer,c=a,e=!0,(g=new Uint8Array(b.byteLength+c.byteLength)).set(new Uint8Array(b)),g.set(new Uint8Array(c),b.byteLength),e?g:g.buffer),j=i.length;for(this._length+=a.byteLength,h=64;h<=j;h+=64)d(this._hash,f(i.subarray(h-64,h)));return this._buff=new Uint8Array(h-64<j?i.buffer.slice(h-64):0),this},m.ArrayBuffer.prototype.end=function(a){var b,c,d=this._buff,e=d.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;b<e;b+=1)f[b>>2]|=d[b]<<(b%4<<3);return this._finish(f,e),c=i(this._hash),a&&(c=l(c)),this.reset(),c},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var a,b=m.prototype.getState.call(this);return b.buff=(a=b.buff,String.fromCharCode.apply(null,new Uint8Array(a))),b},m.ArrayBuffer.prototype.setState=function(a){return a.buff=function(a,b){var c,d=a.length,e=new ArrayBuffer(d),f=new Uint8Array(e);for(c=0;c<d;c+=1)f[c]=a.charCodeAt(c);return b?f:e}(a.buff,!0),m.prototype.setState.call(this,a)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(a,b){var c=function(a){var b,c,e,g,h,i,j=a.length,k=[1732584193,-271733879,-1732584194,271733878];for(b=64;b<=j;b+=64)d(k,f(a.subarray(b-64,b)));for(c=(a=b-64<j?a.subarray(b-64):new Uint8Array(0)).length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0;b<c;b+=1)e[b>>2]|=a[b]<<(b%4<<3);if(e[b>>2]|=128<<(b%4<<3),b>55)for(d(k,e),b=0;b<16;b+=1)e[b]=0;return h=parseInt((g=(g=8*j).toString(16).match(/(.*?)(.{0,8})$/))[2],16),i=parseInt(g[1],16)||0,e[14]=h,e[15]=i,d(k,e),k}(new Uint8Array(a)),e=i(c);return b?l(e):e},m})},21938:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b},g=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.Util=b.toSparqlJs=b.toSparql=b.Factory=b.Algebra=b.translate=void 0;let h=g(c(11183));b.translate=h.default;let i=f(c(90250));b.Algebra=i;let j=g(c(99969));b.Factory=j.default;let k=c(76693);Object.defineProperty(b,"toSparql",{enumerable:!0,get:function(){return k.toSparql}}),Object.defineProperty(b,"toSparqlJs",{enumerable:!0,get:function(){return k.toSparqlJs}});let l=g(c(14101));b.Util=l.default},90250:function(a,b){"use strict";var c,d;Object.defineProperty(b,"__esModule",{value:!0}),b.expressionTypes=b.types=void 0,(c=b.types||(b.types={})).ALT="alt",c.ASK="ask",c.BGP="bgp",c.CONSTRUCT="construct",c.DESCRIBE="describe",c.DISTINCT="distinct",c.EXPRESSION="expression",c.EXTEND="extend",c.FILTER="filter",c.FROM="from",c.GRAPH="graph",c.GROUP="group",c.INV="inv",c.JOIN="join",c.LEFT_JOIN="leftjoin",c.LINK="link",c.MINUS="minus",c.NOP="nop",c.NPS="nps",c.ONE_OR_MORE_PATH="OneOrMorePath",c.ORDER_BY="orderby",c.PATH="path",c.PATTERN="pattern",c.PROJECT="project",c.REDUCED="reduced",c.SEQ="seq",c.SERVICE="service",c.SLICE="slice",c.UNION="union",c.VALUES="values",c.ZERO_OR_MORE_PATH="ZeroOrMorePath",c.ZERO_OR_ONE_PATH="ZeroOrOnePath",c.COMPOSITE_UPDATE="compositeupdate",c.DELETE_INSERT="deleteinsert",c.LOAD="load",c.CLEAR="clear",c.CREATE="create",c.DROP="drop",c.ADD="add",c.MOVE="move",c.COPY="copy",(d=b.expressionTypes||(b.expressionTypes={})).AGGREGATE="aggregate",d.EXISTENCE="existence",d.NAMED="named",d.OPERATOR="operator",d.TERM="term",d.WILDCARD="wildcard"},99969:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b};Object.defineProperty(b,"__esModule",{value:!0});let g=f(c(90250)),h=c(41640),i=c(22086),j=c(9619);b.default=class{constructor(a){this.dataFactory=a||new h.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(a,b=!0){return this.flattenMulti({type:g.types.ALT,input:a},b)}createAsk(a){return{type:g.types.ASK,input:a}}createBoundAggregate(a,b,c,d,e){let f=this.createAggregateExpression(b,c,d,e);return f.variable=a,f}createBgp(a){return{type:g.types.BGP,patterns:a}}createConstruct(a,b){return{type:g.types.CONSTRUCT,input:a,template:b}}createDescribe(a,b){return{type:g.types.DESCRIBE,input:a,terms:b}}createDistinct(a){return{type:g.types.DISTINCT,input:a}}createExtend(a,b,c){return{type:g.types.EXTEND,input:a,variable:b,expression:c}}createFrom(a,b,c){return{type:g.types.FROM,input:a,default:b,named:c}}createFilter(a,b){return{type:g.types.FILTER,input:a,expression:b}}createGraph(a,b){return{type:g.types.GRAPH,input:a,name:b}}createGroup(a,b,c){return{type:g.types.GROUP,input:a,variables:b,aggregates:c}}createInv(a){return{type:g.types.INV,path:a}}createJoin(a,b=!0){return this.flattenMulti({type:g.types.JOIN,input:a},b)}createLeftJoin(a,b,c){return c?{type:g.types.LEFT_JOIN,input:[a,b],expression:c}:{type:g.types.LEFT_JOIN,input:[a,b]}}createLink(a){return{type:g.types.LINK,iri:a}}createMinus(a,b){return{type:g.types.MINUS,input:[a,b]}}createNop(){return{type:g.types.NOP}}createNps(a){return{type:g.types.NPS,iris:a}}createOneOrMorePath(a){return{type:g.types.ONE_OR_MORE_PATH,path:a}}createOrderBy(a,b){return{type:g.types.ORDER_BY,input:a,expressions:b}}createPath(a,b,c,d){return d?{type:g.types.PATH,subject:a,predicate:b,object:c,graph:d}:{type:g.types.PATH,subject:a,predicate:b,object:c,graph:this.dataFactory.defaultGraph()}}createPattern(a,b,c,d){let e=this.dataFactory.quad(a,b,c,d);return e.type=g.types.PATTERN,e}createProject(a,b){return{type:g.types.PROJECT,input:a,variables:b}}createReduced(a){return{type:g.types.REDUCED,input:a}}createSeq(a,b=!0){return this.flattenMulti({type:g.types.SEQ,input:a},b)}createService(a,b,c){return{type:g.types.SERVICE,input:a,name:b,silent:Boolean(c)}}createSlice(a,b,c){return(b=b||0,void 0!==c)?{type:g.types.SLICE,input:a,start:b,length:c}:{type:g.types.SLICE,input:a,start:b}}createUnion(a,b=!0){return this.flattenMulti({type:g.types.UNION,input:a},b)}createValues(a,b){return{type:g.types.VALUES,variables:a,bindings:b}}createZeroOrMorePath(a){return{type:g.types.ZERO_OR_MORE_PATH,path:a}}createZeroOrOnePath(a){return{type:g.types.ZERO_OR_ONE_PATH,path:a}}createAggregateExpression(a,b,c,d){return d?{type:g.types.EXPRESSION,expressionType:g.expressionTypes.AGGREGATE,aggregator:a,expression:b,separator:d,distinct:c}:{type:g.types.EXPRESSION,expressionType:g.expressionTypes.AGGREGATE,aggregator:a,expression:b,distinct:c}}createExistenceExpression(a,b){return{type:g.types.EXPRESSION,expressionType:g.expressionTypes.EXISTENCE,not:a,input:b}}createNamedExpression(a,b){return{type:g.types.EXPRESSION,expressionType:g.expressionTypes.NAMED,name:a,args:b}}createOperatorExpression(a,b){return{type:g.types.EXPRESSION,expressionType:g.expressionTypes.OPERATOR,operator:a,args:b}}createTermExpression(a){return{type:g.types.EXPRESSION,expressionType:g.expressionTypes.TERM,term:a}}createWildcardExpression(){return{type:g.types.EXPRESSION,expressionType:g.expressionTypes.WILDCARD,wildcard:new j.Wildcard}}createTerm(a){return(0,i.stringToTerm)(a,this.dataFactory)}createCompositeUpdate(a){return{type:g.types.COMPOSITE_UPDATE,updates:a}}createDeleteInsert(a,b,c){let d={type:g.types.DELETE_INSERT};return a&&(d.delete=a),b&&(d.insert=b),c&&(d.where=c),d}createLoad(a,b,c){let d={type:g.types.LOAD,source:a};return b&&(d.destination=b),this.addSilent(d,Boolean(c))}createClear(a,b){return this.addSilent({type:g.types.CLEAR,source:a},Boolean(b))}createCreate(a,b){return this.addSilent({type:g.types.CREATE,source:a},Boolean(b))}createDrop(a,b){return this.addSilent({type:g.types.DROP,source:a},Boolean(b))}createAdd(a,b,c){return this.addSilent({type:g.types.ADD,source:a,destination:b},Boolean(c))}createMove(a,b,c){return this.addSilent({type:g.types.MOVE,source:a,destination:b},Boolean(c))}createCopy(a,b,c){return this.addSilent({type:g.types.COPY,source:a,destination:b},Boolean(c))}addSilent(a,b){return b&&(a.silent=b),a}flattenMulti(a,b){if(!b)return a;let c=a.type,d=a.input,e=[];for(let f of d)f.type===c?e.push(...f.input):e.push(f);return a.input=e,a}}},76693:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b},g=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.toSparqlJs=b.toSparql=void 0;let h=c(76065),i=c(22086),j=c(9619),k=f(c(90250)),l=g(c(99969)),m=g(c(14101)),n=k.types,o=k.expressionTypes,p,q=new l.default;function r(a){s(),a=as(a);let b=t(a);return"group"===b.type?b.patterns[0]:b}function s(){p={project:!1,extend:[],group:[],aggregates:[],order:[]}}function t(a){switch(a.type!==n.EXTEND&&a.type!==n.ORDER_BY&&a.type!==n.GRAPH&&(p.project=!1),a.type){case n.EXPRESSION:return u(a);case n.ASK:return T(a,n.ASK);case n.BGP:return E(a);case n.CONSTRUCT:return F(a);case n.DESCRIBE:return T(a,n.DESCRIBE);case n.DISTINCT:return G(a);case n.EXTEND:return H(a);case n.FROM:return I(a);case n.FILTER:return J(a);case n.GRAPH:return K(a);case n.GROUP:return L(a);case n.JOIN:return M(a);case n.LEFT_JOIN:return N(a);case n.MINUS:return O(a);case n.NOP:return{};case n.ORDER_BY:return P(a);case n.PATH:return Q(a);case n.PATTERN:return R(a);case n.PROJECT:return T(a,n.PROJECT);case n.REDUCED:return V(a);case n.SERVICE:return W(a);case n.SLICE:return X(a);case n.UNION:return Y(a);case n.VALUES:return Z(a);case n.COMPOSITE_UPDATE:return ag(a);case n.DELETE_INSERT:return ah(a);case n.LOAD:return ai(a);case n.CLEAR:return aj(a);case n.CREATE:return ak(a);case n.DROP:return al(a);case n.ADD:return an(a);case n.MOVE:return ao(a);case n.COPY:return ap(a)}throw Error(`Unknown Operation type ${a.type}`)}function u(a){switch(a.expressionType){case o.AGGREGATE:return x(a);case o.EXISTENCE:return y(a);case o.NAMED:return z(a);case o.OPERATOR:return A(a);case o.TERM:return B(a);case o.WILDCARD:return C(a)}throw Error(`Unknown Expression Operation type ${a.expressionType}`)}function v(a){switch(a.type){case n.ALT:return $(a);case n.INV:return _(a);case n.LINK:return aa(a);case n.NPS:return ab(a);case n.ONE_OR_MORE_PATH:return ac(a);case n.SEQ:return ad(a);case n.ZERO_OR_MORE_PATH:return ae(a);case n.ZERO_OR_ONE_PATH:return af(a)}throw Error(`Unknown Path type ${a.type}`)}function w(a){return(0,i.termToString)(a)}function x(a){let b={expression:u(a.expression),type:"aggregate",aggregation:a.aggregator,distinct:a.distinct};return a.separator&&(b.separator=a.separator),b}function y(a){return{type:"operation",operator:a.not?"notexists":"exists",args:m.default.flatten([t(a.input)])}}function z(a){return{type:"functionCall",function:a.name,args:a.args.map(u)}}function A(a){if("desc"===a.operator){let b={expression:u(a.args[0])};return b.descending=!0,b}let c={type:"operation",operator:a.operator,args:a.args.map(u)};return("in"===c.operator||"notin"===c.operator)&&(c.args=[c.args[0]].concat([c.args.slice(1)])),c}function B(a){return a.term}function C(a){return a.wildcard}function D(a){return a}function E(a){let b=a.patterns.map(R);return 0===b.length?null:{type:"bgp",triples:b}}function F(a){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:a.template.map(R),where:m.default.flatten([t(a.input)])}}function G(a){let b=t(a.input);return b.patterns[0].distinct=!0,b}function H(a){return p.project?(p.extend.push(a),t(a.input)):m.default.flatten([t(a.input),{type:"bind",variable:a.variable,expression:u(a.expression)}])}function I(a){let b=t(a.input),c=b.patterns[0];return c.from={default:a.default,named:a.named},b}function J(a){return{type:"group",patterns:m.default.flatten([t(a.input),{type:"filter",expression:u(a.expression)}])}}function K(a){return{type:"graph",patterns:m.default.flatten([t(a.input)]),name:a.name}}function L(a){let b=t(a.input),c=a.aggregates.map(D);return p.aggregates.push(...c),p.group.push(...a.variables),b}function M(a){let b=m.default.flatten(a.input.map(t));return b.reduce((a,b)=>("bgp"!==b.type||0==a.length||"bgp"!==a[a.length-1].type?a.push(b):a[a.length-1].triples.push(...b.triples),a),[])}function N(a){let b={type:"optional",patterns:[t(a.input[1])]};return a.expression&&b.patterns.push({type:"filter",expression:u(a.expression)}),b.patterns=m.default.flatten(b.patterns),m.default.flatten([t(a.input[0]),b])}function O(a){let b=t(a.input[1]);return"group"===b.type&&(b=b.patterns),Array.isArray(b)||(b=[b]),m.default.flatten([t(a.input[0]),{type:"minus",patterns:b}])}function P(a){return p.order.push(...a.expressions),t(a.input)}function Q(a){return{type:"bgp",triples:[{subject:a.subject,predicate:v(a.predicate),object:a.object}]}}function R(a){return{subject:a.subject,predicate:a.predicate,object:a.object}}function S(a,b){let c=m.default.isSimpleTerm(a)?w(a):a;if("string"==typeof c){if(b[c])return b[c]}else if(Array.isArray(a))a=a.map(a=>S(a,b));else for(let d of Object.keys(a))a[d]=S(a[d],b);return a}function T(a,b){let c={type:"query",prefixes:{}},d=c,e;b===n.PROJECT?(c.queryType="SELECT",e=a.variables):b===n.ASK?c.queryType="ASK":b===n.DESCRIBE&&(c.queryType="DESCRIBE",e=a.terms);let f=p.extend,g=p.group,h=p.aggregates,i=p.order;s(),p.project=!0;let k=m.default.flatten([t(a.input)]);1===k.length&&"group"===k[0].type&&(k=k[0].patterns),c.where=k;let l={};for(let o of p.aggregates)l[w(o.variable)]=u(o);let q={};for(let r=p.extend.length-1;r>=0;--r){let v=p.extend[r];q[w(v.variable)]=S(u(v.expression),l)}if(p.group.length>0&&(d.group=p.group.map(a=>{let b=w(a);if(q[b]){let c=q[b];return delete q[b],{variable:a,expression:c}}return{expression:a}})),p.order.length>0&&(d.order=p.order.map(t).map(a=>a.descending?a:{expression:a})),e&&(d.variables=e.map(a=>{let b=w(a);return q[b]?{variable:a,expression:q[b]}:a}),0===d.variables.length&&(d.variables=[new j.Wildcard])),c.where.length>0&&"filter"===c.where[c.where.length-1].type){let x=c.where[c.where.length-1];U(x,Object.keys(l))&&(d.having=m.default.flatten([S(x.expression,l)]),c.where.splice(-1))}return p.extend=f,p.group=g,p.aggregates=h,p.order=i,{type:"group",patterns:[d]}}function U(a,b){return m.default.isSimpleTerm(a)?b.indexOf(w(a))>=0:Array.isArray(a)?a.some(a=>U(a,b)):a===Object(a)?Object.keys(a).some(c=>U(a[c],b)):b.indexOf(a)>=0}function V(a){let b=t(a.input);return b.patterns[0].reduced=!0,b}function W(a){let b=t(a.input);return"group"===b.type&&(b=b.patterns),Array.isArray(b)||(b=[b]),{type:"service",name:a.name,silent:a.silent,patterns:b}}function X(a){let b=t(a.input),c=b;return b.type&&"group"===b.type&&(c=b.patterns[0]),0!==a.start&&(c.offset=a.start),void 0!==a.length&&(c.limit=a.length),b}function Y(a){return{type:"union",patterns:m.default.flatten(a.input.map(t))}}function Z(a){return{type:"values",values:a.bindings.map(b=>{let c={};for(let d of a.variables){let e=`?${d.value}`;b[e]?c[e]=b[e]:c[e]=void 0}return c})}}function $(a){let b=a.input.map(v);return b.every(a=>"pathType"in a&&"!"===a.pathType)?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:m.default.flatten(b.map(a=>a.items))}]}:{type:"path",pathType:"|",items:b}}function _(a){if(a.path.type===n.NPS){let b=a.path.iris.map(a=>({type:"path",pathType:"^",items:[a]}));return b.length<=1?{type:"path",pathType:"!",items:b}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:b}]}}return{type:"path",pathType:"^",items:[v(a.path)]}}function aa(a){return a.iri}function ab(a){return a.iris.length<=1?{type:"path",pathType:"!",items:a.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:a.iris}]}}function ac(a){return{type:"path",pathType:"+",items:[v(a.path)]}}function ad(a){return{type:"path",pathType:"/",items:a.input.map(v)}}function ae(a){return{type:"path",pathType:"*",items:[v(a.path)]}}function af(a){return{type:"path",pathType:"?",items:[v(a.path)]}}function ag(a){let b=a.updates.map(a=>{let b=t(a);return b.updates[0]});return{prefixes:{},type:"update",updates:b}}function ah(a){var b;let c=a.where,d;if(c&&c.type===n.FROM){let e=c;c=e.input,d={default:e.default,named:e.named}}let f=[{updateType:"insertdelete",delete:ar(a.delete||[]),insert:ar(a.insert||[])}];if(d&&(f[0].using=d),c&&(c.type!==n.BGP||0!==c.patterns.length)){let g={},i=t(at(c,g));"group"===i.type?f[0].where=i.patterns:f[0].where=[i];let j=Object.keys(g);if(j.length>0){if(1!==j.length)throw Error("This is unexpected and might indicate an error in graph handling for updates.");let k=null===(b=g[j[0]])|| void 0===b?void 0:b.graph;k&&""!==k.value&&(f[0].where=[{type:"graph",patterns:f[0].where,name:k}])}}else f[0].where=[];return a.delete||a.where?a.insert||a.where?!a.insert&&a.where&&"bgp"===a.where.type&&(0,h.isomorphic)(a.delete,a.where.patterns)&&(delete f[0].where,f[0].updateType="deletewhere"):(delete f[0].insert,delete f[0].where,a.delete.some(a=>"Variable"===a.subject.termType||"Variable"===a.predicate.termType||"Variable"===a.object.termType)?f[0].updateType="deletewhere":f[0].updateType="delete"):(f[0].updateType="insert",delete f[0].delete,delete f[0].where),{prefixes:{},type:"update",updates:f}}function ai(a){let b=[{type:"load",silent:Boolean(a.silent),source:a.source}];return a.destination&&(b[0].destination=a.destination),{prefixes:{},type:"update",updates:b}}function aj(a){return am(a,"clear")}function ak(a){return am(a,"create")}function al(a){return am(a,"drop")}function am(a,b){let c=[{type:b,silent:Boolean(a.silent)}];return"DEFAULT"===a.source?c[0].graph={default:!0}:"NAMED"===a.source?c[0].graph={named:!0}:"ALL"===a.source?c[0].graph={all:!0}:c[0].graph={type:"graph",name:a.source},{prefixes:{},type:"update",updates:c}}function an(a){return aq(a,"add")}function ao(a){return aq(a,"move")}function ap(a){return aq(a,"copy")}function aq(a,b){let c=[{type:b,silent:Boolean(a.silent)}];return c[0].source="DEFAULT"===a.source?{type:"graph",default:!0}:{type:"graph",name:a.source},c[0].destination="DEFAULT"===a.destination?{type:"graph",default:!0}:{type:"graph",name:a.destination},{prefixes:{},type:"update",updates:c}}function ar(a){if(!a)return[];let b={};return a.forEach(a=>{let c=a.graph.value;b[c]||(b[c]=[]),b[c].push(a)}),Object.keys(b).map(a=>""===a?{type:"bgp",triples:b[a].map(R)}:{type:"graph",triples:b[a].map(R),name:b[a][0].graph})}function as(a){return at(a,{})}function at(a,b){if(Array.isArray(a))return a.map(a=>at(a,b));if(!a.type||a.type===n.DELETE_INSERT)return a;if((a.type===n.PATTERN||a.type===n.PATH)&&a.graph)return b[a.graph.value]||(b[a.graph.value]={graph:a.graph,values:[]}),b[a.graph.value].values.push(a),a;let c={},d={},e={};for(let f of Object.keys(a)){let g={};c[f]=at(a[f],g);let h=Object.keys(g);if(h.length>1){let i=au(g[h[0]].values);for(let j=1;j<h.length;++j){let k=au(g[h[j]].values);i=q.createJoin([i,k])}return h.map(a=>delete g[a]),i}if(1===h.length){let l=g[h[0]].graph;d[f]=l,e[l.value]=l}}let m=Object.keys(e);if(m.length>0){if(1===m.length&&a.type!==n.PROJECT)b[m[0]]={graph:e[m[0]],values:[c]};else for(let o of Object.keys(d))d[o].value.length>0&&(c[o]=q.createGraph(c[o],d[o]))}return c}function au(a){let b=q.createBgp(a),c=a[0].graph;return 0===c.value.length?b:q.createGraph(b,c)}b.toSparql=function(a,b={}){return new j.Generator(b).stringify(r(a))},b.toSparqlJs=r},11183:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b},g=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let h=c(62991),i=c(22086),j=f(c(90250)),k=g(c(99969)),l=g(c(14101)),m=c(9619).Parser,n=j.types,o=new Set,p=0,q=!1,r;function s(a,b,c){if(o=new Set,p=0,q=Boolean(b),!a.type)return r.createNop();if("query"!==a.type&&"update"!==a.type)throw Error("Translate only works on complete query or update objects.");let d;if(v(a),"query"===a.type){let e={type:"group",patterns:a.where||[]};d=x(e),d=L(a,d)}else"update"===a.type&&(d=O(a));return c&&(d=V(d)),d}function t(a){return Boolean(null==a?void 0:a.termType)}function u(a){return(null==a?void 0:a.termType)==="Variable"}function v(a){if(t(a))u(a)&&o.add(`?${a.value}`);else if(Array.isArray(a))for(let b of a)v(b);else if(a&&"object"==typeof a)for(let c of Object.keys(a))c.startsWith("?")&&o.add(c),v(a[c])}function w(a){var b;let c={};if((b=a).subject&&b.predicate&&b.object){let d=[w(a.subject),w(a.predicate),w(a.object),a.graph?w(a.graph):{}];Object.assign(c,...d)}else if(t(a))u(a)&&(c[a.value]=a);else if("bgp"===a.type){let e=a.triples;Object.assign(c,...e.map(w))}else if("path"===a.type)Object.assign(c,...a.items.map(w));else if("group"===a.type||"union"===a.type||"optional"===a.type)Object.assign(c,...a.patterns.map(w));else if("service"===a.type||"graph"===a.type)Object.assign(c,w(a.name)),Object.assign(c,...a.patterns.map(w));else if("bind"===a.type)Object.assign(c,w(a.variable));else if("values"===a.type){if(a.values.length>0){let f=Object.keys(a.values[0]).map(a=>r.createTerm(a));Object.assign(c,...f.map(w))}}else if("query"===a.type&&("SELECT"===a.queryType||"DESCRIBE"===a.queryType)){for(let g of(a.where&&a.variables.some(l.default.isWildcard)&&Object.assign(c,...a.where.map(w)),a.variables))u(g)?Object.assign(c,w(g)):g.variable&&Object.assign(c,w(g.variable));if("SELECT"===a.queryType){if(a.group)for(let h of a.group)h.variable&&Object.assign(c,w(h.variable));if(a.values){let i={type:"values",values:a.values};Object.assign(c,w(i))}}}return c}function x(a){let b=[],c=[];if("patterns"in a)for(let d of a.patterns)("filter"===d.type?b:c).push(d);if("bgp"===a.type)return z(a);let e;if("union"===a.type)e=r.createUnion(c.map(a=>("group"!==a.type&&(a={type:"group",patterns:[a]}),x(a))));else if("graph"===a.type)return F(a);else if("group"===a.type)e=c.reduce(I,r.createBgp([]));else if("values"===a.type)e=K(a);else if("query"===a.type)e=s(a,q,!1);else throw Error(`Unexpected type: ${a.type}`);if(b.length>0){let f=b.map(a=>y(a.expression));f.length>0&&(e=r.createFilter(e,f.reduce((a,b)=>r.createOperatorExpression("&&",[a,b]))))}return e}function y(a){if(l.default.isSimpleTerm(a)||l.default.isQuad(a))return r.createTermExpression(a);if(l.default.isWildcard(a))return r.createWildcardExpression();if("aggregation"in a)return r.createAggregateExpression(a.aggregation,y(a.expression),Boolean(a.distinct),a.separator);if("function"in a)return r.createNamedExpression(a.function,a.args.map(y));if("operator"in a)return"exists"===a.operator||"notexists"===a.operator?r.createExistenceExpression("notexists"===a.operator,x(a.args[0])):(("in"===a.operator||"notin"===a.operator)&&(a.args=[a.args[0]].concat(a.args[1])),r.createOperatorExpression(a.operator,a.args.map(y)));throw Error(`Unknown expression: ${JSON.stringify(a)}`)}function z(a){let b=[],c=[];for(let d of a.triples)if("pathType"in d.predicate){let e=A(d);for(let f of e)f.type===n.PATH?(b.length>0&&c.push(r.createBgp(b)),b=[],c.push(f)):b.push(f)}else b.push(E(d));return(b.length>0&&c.push(r.createBgp(b)),1===c.length)?c[0]:r.createJoin(c)}function A(a){let b=a.subject,c=B(a.predicate),d=a.object;return C(b,c,d)}function B(a){if(l.default.isSimpleTerm(a)){if("NamedNode"===a.termType)return r.createLink(a);throw Error(`Path predicate should be a NamedNode, got ${JSON.stringify(a)}`)}if("^"===a.pathType)return r.createInv(B(a.items[0]));if("!"===a.pathType){let b=[],c=[],d;for(let e of d="pathType"in a.items[0]&&"|"===a.items[0].pathType?a.items[0].items:a.items)if(l.default.isSimpleTerm(e))b.push(e);else if("^"===e.pathType)c.push(e.items[0]);else throw Error(`Unexpected item: ${JSON.stringify(e)}`);let f=r.createNps(b),g=r.createInv(r.createNps(c));return 0===c.length?f:0===b.length?g:r.createAlt([f,g,])}if("/"===a.pathType)return r.createSeq(a.items.map(B));if("|"===a.pathType)return r.createAlt(a.items.map(B));if("*"===a.pathType)return r.createZeroOrMorePath(B(a.items[0]));if("+"===a.pathType)return r.createOneOrMorePath(B(a.items[0]));if("?"===a.pathType)return r.createZeroOrOnePath(B(a.items[0]));throw Error(`Unable to translate path expression ${JSON.stringify(a)}`)}function C(a,b,c){if(b.type===n.LINK)return[r.createPattern(a,b.iri,c)];if(b.type===n.INV)return C(c,b.path,a);if(b.type===n.SEQ){let d=a;return l.default.flatten(b.input.map((a,e)=>{let f=e===b.input.length-1?c:D(),g=C(d,a,f);return"Variable"===f.termType&&(d=f),g}))}return[r.createPath(a,b,c)]}function D(){let a=`?var${p++}`;return o.has(a)?D():(o.add(a),r.createTerm(a))}function E(a){if("pathType"in a.predicate)throw Error("Trying to translate property path to quad.");return r.createPattern(a.subject,a.predicate,a.object,a.graph)}function F(a){let b={type:"group",patterns:a.patterns},c=x(b);return q?H(c,a.name):r.createGraph(c,a.name)}b.default=function(a,b){var c;b=b||{},r=new k.default(b.dataFactory);let d;if(c=a,"string"==typeof c){let e=new m(b);e._resetBlanks(),d=e.parse(a)}else d=a;return s(d,b.quads,b.blankToVariable)};let G=Object.values(n);function H(a,b,c){if(a.type===n.GRAPH){if(c)throw Error("Recursing through nested GRAPH statements with a replacement is impossible.");a=H(a.input,a.name)}else if(a.type===n.BGP)a.patterns=a.patterns.map(a=>(c&&(a.subject.equals(b)&&(a.subject=c),a.predicate.equals(b)&&(a.predicate=c),a.object.equals(b)&&(a.object=c)),"DefaultGraph"===a.graph.termType&&(a.graph=b),a));else if(a.type===n.PATH)c&&(a.subject.equals(b)&&(a.subject=c),a.object.equals(b)&&(a.object=c)),"DefaultGraph"===a.graph.termType&&(a.graph=b);else if(a.type!==n.PROJECT||c){if(a.type!==n.EXTEND||c)for(let d of Object.keys(a))Array.isArray(a[d])?a[d]=a[d].map(a=>H(a,b,c)):G.indexOf(a[d].type)>=0?a[d]=H(a[d],b,c):c&&u(a[d])&&a[d].equals(b)&&(a[d]=c);else a.variable.equals(b)&&(c=D()),a.input=H(a.input,b,c)}else a.variables.some(a=>a.equals(b))||(c=D()),a.input=H(a.input,b,c);return a}function I(a,b){if("optional"===b.type){let c=x({type:"group",patterns:b.patterns});a=c.type===n.FILTER?r.createLeftJoin(a,c.input,c.expression):r.createLeftJoin(a,c)}else if("minus"===b.type){let d=x({type:"group",patterns:b.patterns});a=r.createMinus(a,d)}else if("bind"===b.type)a=r.createExtend(a,b.variable,y(b.expression));else if("service"===b.type){let e={type:"group",patterns:b.patterns},f=r.createService(x(e),b.name,b.silent);a=J(a,f)}else{let g=x(b);a=J(a,g)}return a}function J(a,b){return a.type===n.BGP&&b.type===n.BGP?a=r.createBgp([...a.patterns,...b.patterns]):a.type===n.BGP&&0===a.patterns.length?a=b:b.type===n.BGP&&0===b.patterns.length||(a=r.createJoin([a,b])),a}function K(a){let b=(0===a.values.length?[]:Object.keys(a.values[0])).map(r.createTerm.bind(r)),c=a.values.map(a=>{let b=Object.keys(a);b=b.filter(b=>void 0!==a[b]);let c={};for(let d of b)c[d]=a[d];return c});return r.createValues(b,c)}function L(a,b){let c=a,d=[],e={};if(c.variables=c.variables&&c.variables.map(a=>M(a,e)),c.having=c.having&&c.having.map(a=>M(a,e)),c.order=c.order&&c.order.map(a=>M(a,e)),c.group||Object.keys(e).length>0){let f=Object.keys(e).map(a=>N(e[a],r.createTerm(a))),g=[];if(c.group)for(let h of c.group)if(l.default.isSimpleTerm(h.expression))g.push(h.expression);else{let i="variable"in h?h.variable:D();b=r.createExtend(b,i,y(h.expression)),g.push(i)}b=r.createGroup(b,g,f)}if(c.having)for(let j of c.having)b=r.createFilter(b,y(j));a.values&&(b=r.createJoin([b,K(a)]));let k=[];if("SELECT"===a.queryType||"DESCRIBE"===a.queryType){if(a.variables.some(a=>a&&l.default.isWildcard(a)))k=Object.values(w(a)).sort((a,b)=>a.value.localeCompare(b.value));else for(let m of a.variables)!u(m)&&"variable"in m?m.variable&&(k.push(m.variable),d.push(m)):k.push(m)}for(let n of d)b=r.createExtend(b,n.variable,y(n.expression));return c.order&&(b=r.createOrderBy(b,c.order.map(a=>{let b=y(a.expression);return a.descending&&(b=r.createOperatorExpression("desc",[b])),b}))),"SELECT"===a.queryType&&(b=r.createProject(b,k)),c.distinct&&(b=r.createDistinct(b)),c.reduced&&(b=r.createReduced(b)),"CONSTRUCT"===a.queryType?b=r.createConstruct(b,(a.template||[]).map(E)):"ASK"===a.queryType?b=r.createAsk(b):"DESCRIBE"===a.queryType&&(b=r.createDescribe(b,k)),(c.offset||c.limit)&&(b=r.createSlice(b,c.offset||0,c.limit)),c.from&&(b=r.createFrom(b,c.from.default,c.from.named)),b}function M(a,b){if("type"in a&&"aggregate"===a.type){let c=!1,d;for(let e of Object.keys(b))if(h(b[e],a)){d=r.createTerm(e),c=!0;break}return c||(d=D(),b[(0,i.termToString)(d)]=a),d}return"expression"in a&&a.expression?{...a,expression:M(a.expression,b)}:"args"in a&&a.args?{...a,args:a.args.map(a=>M(a,b))}:a}function N(a,b){if("aggregate"!==a.type||!a.aggregation)throw Error(`Unexpected input: ${JSON.stringify(a)}`);let c=y(a);return c.variable=b,c}function O(a){return 1===a.updates.length?P(a.updates[0]):r.createCompositeUpdate(a.updates.map(P))}function P(a){if("type"in a){if("load"===a.type)return T(a);if("clear"===a.type||"create"===a.type||"drop"===a.type)return S(a);if("add"===a.type||"copy"===a.type||"move"===a.type)return U(a)}else if("insertdelete"===a.updateType||"deletewhere"===a.updateType||"delete"===a.updateType||"insert"===a.updateType)return Q(a);throw Error(`Unknown update type ${JSON.stringify(a)}`)}function Q(a){if(!q)throw Error("INSERT/DELETE operations are only supported with quads option enabled");let b=[],c=[],d;if(a.delete&&(b=l.default.flatten(a.delete.map(b=>R(b,a.graph)))),a.insert&&(c=l.default.flatten(a.insert.map(b=>R(b,a.graph)))),a.where&&a.where.length>0){d=x({type:"group",patterns:a.where});let e=a.using;e?d=r.createFrom(d,e.default,e.named):a.graph&&(d=H(d,a.graph))}else"deletewhere"===a.updateType&&b.length>0&&(d=r.createBgp(b));return r.createDeleteInsert(b.length>0?b:void 0,c.length>0?c:void 0,d)}function R(a,b){let c=b;"graph"===a.type&&(c=a.name);let d=a.triples;return c&&(d=d.map(a=>Object.assign(a,{graph:c}))),d.map(E)}function S(a){let b;switch(b=l.default.isSimpleTerm(a.graph)?a.graph:a.graph.all?"ALL":a.graph.default?"DEFAULT":a.graph.named?"NAMED":a.graph.name,a.type){case"clear":return r.createClear(b,a.silent);case"create":return r.createCreate(b,a.silent);case"drop":return r.createDrop(b,a.silent)}}function T(a){return r.createLoad(a.source,a.destination,a.silent)}function U(a){let b=a.source.default?"DEFAULT":a.source.name,c=a.destination.default?"DEFAULT":a.destination.name;switch(a.type){case"copy":return r.createCopy(b,c,a.silent);case"move":return r.createMove(b,c,a.silent);case"add":return r.createAdd(b,c,a.silent)}}function V(a){let b={},c=Array.from(o).reduce((a,b)=>(a[b]=!0,a),{});return l.default.mapOperation(a,{[j.types.DELETE_INSERT]:a=>({result:a,recurse:!1}),[j.types.PATH]:(a,b)=>({result:b.createPath(d(a.subject),a.predicate,d(a.object),d(a.graph)),recurse:!1}),[j.types.PATTERN]:(a,b)=>({result:b.createPattern(d(a.subject),d(a.predicate),d(a.object),d(a.graph)),recurse:!1}),[j.types.CONSTRUCT]:a=>({result:r.createConstruct(V(a.input),a.template),recurse:!1})});function d(a){if("BlankNode"===a.termType){let d=b[a.value];return d||(d=l.default.createUniqueVariable(a.value,c,r.dataFactory),c[d.value]=!0,b[a.value]=d),d}return a}}},14101:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=c(90250),f=d(c(99969));class g{static flatten(a){return Array.prototype.concat(...a).filter(a=>a)}static objectify(a){if(a.termType){if("Quad"===a.termType)return{type:"pattern",termType:"Quad",subject:g.objectify(a.subject),predicate:g.objectify(a.predicate),object:g.objectify(a.object),graph:g.objectify(a.graph)};{let b={termType:a.termType,value:a.value};return a.language&&(b.language=a.language),a.datatype&&(b.datatype=g.objectify(a.datatype)),b}}if(Array.isArray(a))return a.map(a=>g.objectify(a));if(a===Object(a)){let c={};for(let d of Object.keys(a))c[d]=g.objectify(a[d]);return c}return a}static inScopeVariables(a){let b=[];function c(a){b.find(b=>a.value===b.value)||b.push(a)}function d(a){"Variable"===a.subject.termType&&c(a.subject),"Variable"===a.predicate.termType&&c(a.predicate),"Variable"===a.object.termType&&c(a.object),"Variable"===a.graph.termType&&c(a.graph),"Quad"===a.subject.termType&&d(a.subject),"Quad"===a.predicate.termType&&d(a.predicate),"Quad"===a.object.termType&&d(a.object),"Quad"===a.graph.termType&&d(a.graph)}return g.recurseOperation(a,{[e.types.EXPRESSION]:a=>(a.expressionType===e.expressionTypes.AGGREGATE&&a.variable&&c(a.variable),!0),[e.types.EXTEND]:a=>(c(a.variable),!0),[e.types.GRAPH]:a=>("Variable"===a.name.termType&&c(a.name),!0),[e.types.GROUP]:a=>(a.variables.forEach(c),!0),[e.types.PATH]:a=>("Variable"===a.subject.termType&&c(a.subject),"Variable"===a.object.termType&&c(a.object),"Variable"===a.graph.termType&&c(a.graph),"Quad"===a.subject.termType&&d(a.subject),"Quad"===a.object.termType&&d(a.object),"Quad"===a.graph.termType&&d(a.graph),!0),[e.types.PATTERN]:a=>(d(a),!0),[e.types.PROJECT]:a=>(a.variables.forEach(c),!1),[e.types.SERVICE]:a=>("Variable"===a.name.termType&&c(a.name),!0),[e.types.VALUES]:a=>(a.variables.forEach(c),!0)}),b}static recurseOperation(a,b){let c=a,d=!0,f=b[a.type];if(f&&(d=f(a)),!d)return;let h=a=>g.recurseOperation(a,b);switch(c.type){case e.types.ALT:c.input.map(h);break;case e.types.ASK:h(c.input);break;case e.types.BGP:c.patterns.forEach(h);break;case e.types.CONSTRUCT:h(c.input),c.template.map(h);break;case e.types.DESCRIBE:case e.types.DISTINCT:h(c.input);break;case e.types.EXPRESSION:c.expressionType===e.expressionTypes.EXISTENCE&&h(c.input);break;case e.types.EXTEND:case e.types.FILTER:h(c.input),h(c.expression);break;case e.types.FROM:case e.types.GRAPH:h(c.input);break;case e.types.GROUP:h(c.input),c.aggregates.forEach(h);break;case e.types.INV:h(c.path);break;case e.types.JOIN:c.input.map(h);break;case e.types.LEFT_JOIN:c.input.map(h),c.expression&&h(c.expression);break;case e.types.LINK:break;case e.types.MINUS:c.input.map(h);break;case e.types.NOP:case e.types.NPS:break;case e.types.ONE_OR_MORE_PATH:h(c.path);break;case e.types.ORDER_BY:h(c.input),c.expressions.forEach(h);break;case e.types.PATH:h(c.predicate);break;case e.types.PATTERN:break;case e.types.PROJECT:case e.types.REDUCED:h(c.input);break;case e.types.SEQ:c.input.map(h);break;case e.types.SERVICE:case e.types.SLICE:h(c.input);break;case e.types.UNION:c.input.map(h);break;case e.types.VALUES:break;case e.types.ZERO_OR_MORE_PATH:case e.types.ZERO_OR_ONE_PATH:h(c.path);break;case e.types.COMPOSITE_UPDATE:c.updates.forEach(a=>h(a));break;case e.types.DELETE_INSERT:c.delete&&c.delete.forEach(a=>h(a)),c.insert&&c.insert.forEach(a=>h(a)),c.where&&h(c.where);break;case e.types.LOAD:case e.types.CLEAR:case e.types.CREATE:case e.types.DROP:case e.types.ADD:case e.types.MOVE:case e.types.COPY:break;default:throw Error(`Unknown Operation type ${c.type}`)}}static mapOperation(a,b,c){let d=a,h=!0;c=c||new f.default;let i=b[a.type];if(i&&({result:d,recurse:h}=i(a,c)),!h)return d;let j=a=>g.mapOperation(a,b,c);switch(d.type){case e.types.ALT:return c.createAlt(d.input.map(j));case e.types.ASK:return c.createAsk(j(d.input));case e.types.BGP:return c.createBgp(d.patterns.map(j));case e.types.CONSTRUCT:return c.createConstruct(j(d.input),d.template.map(j));case e.types.DESCRIBE:return c.createDescribe(j(d.input),d.terms);case e.types.DISTINCT:return c.createDistinct(j(d.input));case e.types.EXPRESSION:return g.mapExpression(d,b,c);case e.types.EXTEND:return c.createExtend(j(d.input),d.variable,j(d.expression));case e.types.FILTER:return c.createFilter(j(d.input),j(d.expression));case e.types.FROM:return c.createFrom(j(d.input),[...d.default],[...d.named]);case e.types.GRAPH:return c.createGraph(j(d.input),d.name);case e.types.GROUP:return c.createGroup(j(d.input),[].concat(d.variables),d.aggregates.map(j));case e.types.INV:return c.createInv(j(d.path));case e.types.JOIN:return c.createJoin(d.input.map(j));case e.types.LEFT_JOIN:return c.createLeftJoin(j(d.input[0]),j(d.input[1]),d.expression?j(d.expression):void 0);case e.types.LINK:return c.createLink(d.iri);case e.types.MINUS:return c.createMinus(j(d.input[0]),j(d.input[1]));case e.types.NOP:return c.createNop();case e.types.NPS:return c.createNps([].concat(d.iris));case e.types.ONE_OR_MORE_PATH:return c.createOneOrMorePath(j(d.path));case e.types.ORDER_BY:return c.createOrderBy(j(d.input),d.expressions.map(j));case e.types.PATH:return c.createPath(d.subject,j(d.predicate),d.object,d.graph);case e.types.PATTERN:return c.createPattern(d.subject,d.predicate,d.object,d.graph);case e.types.PROJECT:return c.createProject(j(d.input),[...d.variables]);case e.types.REDUCED:return c.createReduced(j(d.input));case e.types.SEQ:return c.createSeq(d.input.map(j));case e.types.SERVICE:return c.createService(j(d.input),d.name,d.silent);case e.types.SLICE:return c.createSlice(j(d.input),d.start,d.length);case e.types.UNION:return c.createUnion(d.input.map(j));case e.types.VALUES:return c.createValues([].concat(d.variables),d.bindings.map(a=>Object.assign({},a)));case e.types.ZERO_OR_MORE_PATH:return c.createZeroOrMorePath(j(d.path));case e.types.ZERO_OR_ONE_PATH:return c.createZeroOrOnePath(j(d.path));case e.types.COMPOSITE_UPDATE:return c.createCompositeUpdate(d.updates.map(j));case e.types.DELETE_INSERT:return c.createDeleteInsert(d.delete?d.delete.map(j):void 0,d.insert?d.insert.map(j):void 0,d.where?j(d.where):void 0);case e.types.LOAD:return c.createLoad(d.source,d.destination,d.silent);case e.types.CLEAR:return c.createClear(d.source,d.silent);case e.types.CREATE:return c.createCreate(d.source,d.silent);case e.types.DROP:return c.createDrop(d.source,d.silent);case e.types.ADD:return c.createAdd(d.source,d.destination);case e.types.MOVE:return c.createMove(d.source,d.destination);case e.types.COPY:return c.createCopy(d.source,d.destination);default:throw Error(`Unknown Operation type ${d.type}`)}}static mapExpression(a,b,c){let d=a=>g.mapOperation(a,b,c);switch(a.expressionType){case e.expressionTypes.AGGREGATE:if(a.variable)return c.createBoundAggregate(a.variable,a.aggregator,d(a.expression),a.distinct,a.separator);return c.createAggregateExpression(a.aggregator,d(a.expression),a.distinct,a.separator);case e.expressionTypes.EXISTENCE:return c.createExistenceExpression(a.not,d(a.input));case e.expressionTypes.NAMED:return c.createNamedExpression(a.name,a.args.map(d));case e.expressionTypes.OPERATOR:return c.createOperatorExpression(a.operator,a.args.map(d));case e.expressionTypes.TERM:return c.createTermExpression(a.term);case e.expressionTypes.WILDCARD:return c.createWildcardExpression();default:throw Error(`Unknown Expression type ${a.expressionType}`)}}static createUniqueVariable(a,b,c){let d=0,e=a;for(;b[e];)e=`${a}${d++}`;return c.variable(e)}static isSimpleTerm(a){return void 0!==a.termType&&"Quad"!==a.termType&&"Wildcard"!==a.termType}static isQuad(a){return"Quad"===a.termType}static isWildcard(a){return"Wildcard"===a.termType}}b.default=g},60390:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncAggregateEvaluator=b.orderTypes=b.isExpressionError=b.ExpressionError=b.AggregateEvaluator=b.SyncEvaluator=b.AsyncEvaluator=void 0;var d=c(14790);Object.defineProperty(b,"AsyncEvaluator",{enumerable:!0,get:function(){return d.AsyncEvaluator}});var e=c(43709);Object.defineProperty(b,"SyncEvaluator",{enumerable:!0,get:function(){return e.SyncEvaluator}});var f=c(22378);Object.defineProperty(b,"AggregateEvaluator",{enumerable:!0,get:function(){return f.AggregateEvaluator}});var g=c(7731);Object.defineProperty(b,"ExpressionError",{enumerable:!0,get:function(){return g.ExpressionError}}),Object.defineProperty(b,"isExpressionError",{enumerable:!0,get:function(){return g.isExpressionError}});var h=c(98468);Object.defineProperty(b,"orderTypes",{enumerable:!0,get:function(){return h.orderTypes}});var i=c(16368);Object.defineProperty(b,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return i.AsyncAggregateEvaluator}})},35966:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Average=void 0;let d=c(36538),e=c(19415),f=c(1731),g=c(28952),h=c(28341);class i extends h.BaseAggregator{constructor(){super(...arguments),this.summer=e.regularFunctions[g.RegularOperator.ADDITION],this.divider=e.regularFunctions[g.RegularOperator.DIVISION]}static emptyValue(){return(0,f.integer)(0).toRDF()}init(a){let b=this.termToNumericOrError(a);return{sum:b,count:1}}put(a,b){let c=this.termToNumericOrError(b),d=this.summer.apply([a.sum,c],this.sharedContext);return{sum:d,count:a.count+1}}result(a){let b=new d.IntegerLiteral(a.count),c=this.divider.apply([a.sum,b],this.sharedContext);return c.toRDF()}}b.Average=i},28341:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseAggregator=void 0;let d=c(77807),e=c(28952),f=c(34749);b.BaseAggregator=class{constructor(a,b){this.sharedContext=b,this.distinct=a.distinct,this.separator=a.separator||" ",this.termTransformer=new d.TermTransformer(b.superTypeProvider,b.enableExtendedXsdTypes)}termToNumericOrError(a){if("Literal"!==a.termType)throw Error(`Term with value ${a.value} has type ${a.termType} and is not a numeric literal`);if(!(0,f.isSubTypeOf)(a.datatype.value,e.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw Error(`Term datatype ${a.datatype.value} with value ${a.value} has type ${a.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(a)}extractValue(a){if("Literal"!==a.termType)throw Error(`Term with value ${a.value} has type ${a.termType} and is not a literal`);let b=this.termTransformer.transformLiteral(a);return{type:b.dataType,value:b.typedValue}}static emptyValue(){}}},61641:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Count=void 0;let d=c(1731),e=c(28341);class f extends e.BaseAggregator{static emptyValue(){return(0,d.integer)(0).toRDF()}init(a){return 1}put(a,b){return a+1}result(a){return(0,d.integer)(a).toRDF()}}b.Count=f},34594:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GroupConcat=void 0;let d=c(1731),e=c(28341);class f extends e.BaseAggregator{static emptyValue(){return(0,d.string)("").toRDF()}init(a){return a.value}put(a,b){return a+this.separator+b.value}result(a){return(0,d.string)(a).toRDF()}}b.GroupConcat=f},87190:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Max=void 0;let d=c(28341);class e extends d.BaseAggregator{init(a){let{value:b}=this.extractValue(a);if("Literal"===a.termType)return{extremeValue:b,term:a};throw Error("Term should be a literal")}put(a,b){let c=this.extractValue(b);return c.value>a.extremeValue&&"Literal"===b.termType?{extremeValue:c.value,term:b}:a}result(a){return a.term}}b.Max=e},70829:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Min=void 0;let d=c(28341);class e extends d.BaseAggregator{init(a){let{value:b}=this.extractValue(a);if("Literal"===a.termType)return{extremeValue:b,term:a};throw Error("Term should be a literal")}put(a,b){let c=this.extractValue(b);return c.value<a.extremeValue&&"Literal"===b.termType?{extremeValue:c.value,term:b}:a}result(a){return a.term}}b.Min=e},88723:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Sample=void 0;let d=c(28341);class e extends d.BaseAggregator{init(a){return a}put(a,b){return a}result(a){return a}}b.Sample=e},90200:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Sum=void 0;let d=c(19415),e=c(1731),f=c(28952),g=c(28341);class h extends g.BaseAggregator{constructor(){super(...arguments),this.summer=d.regularFunctions[f.RegularOperator.ADDITION]}static emptyValue(){return(0,e.integer)(0).toRDF()}init(a){return this.termToNumericOrError(a)}put(a,b){let c=this.termToNumericOrError(b),d=this.summer.apply([a,c],this.sharedContext);return d}result(a){return a.toRDF()}}b.Sum=h},5152:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.aggregators=void 0;let d=c(35966),e=c(61641),f=c(34594),g=c(87190),h=c(70829),i=c(88723),j=c(90200);b.aggregators={count:e.Count,sum:j.Sum,min:h.Min,max:g.Max,avg:d.Average,group_concat:f.GroupConcat,sample:i.Sample}},22378:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AggregateEvaluator=void 0;let d=c(28492),e=c(43709);class f extends d.BaseAggregateEvaluator{constructor(a,b,c){super(a,e.SyncEvaluator.completeContext(b||{}),c),this.evaluator=new e.SyncEvaluator(a.expression,b)}put(a){this.init(a)}__put(a){try{let b=this.evaluator.evaluate(a);this.state=this.aggregator.put(this.state,b)}catch(c){this.safeThrow(c)}}safeThrow(a){if(this.throwError)throw a;this.put=()=>{},this.result=()=>void 0}init(a){try{let b=this.evaluator.evaluate(a);this.state=this.aggregator.init(b),this.state&&(this.put=this.__put.bind(this),this.result=this.__result.bind(this))}catch(c){this.safeThrow(c)}}}b.AggregateEvaluator=f},16368:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncAggregateEvaluator=void 0;let d=c(14790),e=c(28492);class f extends e.BaseAggregateEvaluator{constructor(a,b,c){super(a,d.AsyncEvaluator.completeContext(b||{}),c),this.evaluator=new d.AsyncEvaluator(a.expression,b),this.errorOccurred=!1}put(a){return this.init(a)}async __put(a){try{let b=await this.evaluator.evaluate(a);this.state=this.aggregator.put(this.state,b)}catch(c){this.safeThrow(c)}}safeThrow(a){if(this.throwError)throw a;this.put=async()=>{},this.result=()=>void 0,this.errorOccurred=!0}async init(a){try{let b=await this.evaluator.evaluate(a);if(!b||this.errorOccurred)return;if(this.state){this.state=this.aggregator.put(this.state,b);return}this.state=this.aggregator.init(b),this.state&&(this.put=this.__put.bind(this),this.result=this.__result.bind(this))}catch(c){this.safeThrow(c)}}}b.AsyncAggregateEvaluator=f},14790:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncEvaluator=void 0;let d=c(39593),e=c(56667),f=c(62233);class g{constructor(a,b={}){this.algExpr=a;let c=b.extensionFunctionCreator||(()=>void 0),d=g.completeContext(b),h=new e.AlgebraTransformer(Object.assign({type:"async",creator:c},d));this.expr=h.transformAlgebra(a),this.evaluator=new f.AsyncRecursiveEvaluator(d,h)}static completeContext(a){return{now:a.now||new Date(Date.now()),baseIRI:a.baseIRI||void 0,overloadCache:a.overloadCache||new d,superTypeProvider:{cache:a.typeCache||new d,discoverer:a.getSuperType||(()=>"term")},extensionFunctionCreator:a.extensionFunctionCreator,exists:a.exists,aggregate:a.aggregate,bnode:a.bnode,enableExtendedXsdTypes:a.enableExtendedXsdTypes||!1}}async evaluate(a){let b=await this.evaluator.evaluate(this.expr,a);return b.toRDF()}async evaluateAsEBV(a){let b=await this.evaluator.evaluate(this.expr,a);return b.coerceEBV()}async evaluateAsInternal(a){let b=await this.evaluator.evaluate(this.expr,a);return b}}b.AsyncEvaluator=g},43709:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SyncEvaluator=void 0;let d=c(39593),e=c(56667),f=c(68805);class g{constructor(a,b={}){this.algExpr=a,this.context=b;let c=b.extensionFunctionCreator||(()=>void 0),d=g.completeContext(b),h=new e.AlgebraTransformer(Object.assign({type:"sync",creator:c},d));this.expr=h.transformAlgebra(a),this.evaluator=new f.SyncRecursiveEvaluator(d,h)}static completeContext(a){return{now:a.now||new Date(Date.now()),baseIRI:a.baseIRI||void 0,overloadCache:a.overloadCache||new d,superTypeProvider:{cache:a.typeCache||new d,discoverer:a.getSuperType||(()=>"term")},extensionFunctionCreator:a.extensionFunctionCreator,exists:a.exists,aggregate:a.aggregate,bnode:a.bnode,enableExtendedXsdTypes:a.enableExtendedXsdTypes||!1}}evaluate(a){let b=this.evaluator.evaluate(this.expr,a);return b.toRDF()}evaluateAsEBV(a){let b=this.evaluator.evaluate(this.expr,a);return b.coerceEBV()}evaluateAsInternal(a){let b=this.evaluator.evaluate(this.expr,a);return b}}b.SyncEvaluator=g},62233:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncRecursiveEvaluator=void 0;let d=c(36538),e=c(77807),f=c(7731),g=c(9852);class h extends g.BaseExpressionEvaluator{constructor(a,b){super(b||new e.TermTransformer(a.superTypeProvider,a.enableExtendedXsdTypes)),this.context=a,this.subEvaluators={[d.ExpressionType.Term]:this.term.bind(this),[d.ExpressionType.Variable]:this.variable.bind(this),[d.ExpressionType.Operator]:this.evalOperator.bind(this),[d.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[d.ExpressionType.Named]:this.evalNamed.bind(this),[d.ExpressionType.Existence]:this.evalExistence.bind(this),[d.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[d.ExpressionType.AsyncExtension]:this.evalAsyncExtension.bind(this)}}async evaluate(a,b){let c=this.subEvaluators[a.expressionType];if(!c)throw new f.InvalidExpressionType(a);return c.bind(this)(a,b)}async evalOperator(a,b){let c=a.args.map(a=>this.evaluate(a,b)),d=await Promise.all(c);return a.apply(d)}async evalSpecialOperator(a,b){let c=this.evaluate.bind(this),d={args:a.args,mapping:b,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,overloadCache:this.context.overloadCache,evaluate:c,bnode:this.context.bnode,enableExtendedXsdTypes:this.context.enableExtendedXsdTypes};return a.applyAsync(d)}async _evalAsyncArgs(a,b){let c=a.map(a=>this.evaluate(a,b));return await Promise.all(c)}async evalNamed(a,b){return a.apply(await this._evalAsyncArgs(a.args,b))}async evalAsyncExtension(a,b){return await a.apply(await this._evalAsyncArgs(a.args,b))}async evalExistence(a,b){if(!this.context.exists)throw new f.NoExistenceHook;return new d.BooleanLiteral(await this.context.exists(a.expression,b))}async evalAggregate(a,b){if(!this.context.aggregate)throw new f.NoExistenceHook;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(a.expression))}}b.AsyncRecursiveEvaluator=h},28492:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseAggregateEvaluator=void 0;let d=c(5152),e=c(7731);b.BaseAggregateEvaluator=class{constructor(a,b,c){this.throwError=!1,this.expression=a,this.aggregator=new d.aggregators[a.aggregator](a,b),this.throwError=c||!1}static emptyValue(a,b=!1){let c=d.aggregators[a.aggregator].emptyValue();if(void 0===c&&b)throw new e.EmptyAggregateError;return c}result(){return this.aggregator.constructor.emptyValue()}__result(){return this.aggregator.result(this.state)}}},9852:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseExpressionEvaluator=void 0;let d=c(1731),e=c(7731);b.BaseExpressionEvaluator=class{constructor(a){this.termTransformer=a}term(a,b){return a}variable(a,b){let c=b.get((0,d.expressionToVar)(a));if(!c)throw new e.UnboundVariableError(a.name,b);return this.termTransformer.transformRDFTermUnsafe(c)}}},68805:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SyncRecursiveEvaluator=void 0;let d=c(36538),e=c(77807),f=c(7731),g=c(9852);class h extends g.BaseExpressionEvaluator{constructor(a,b){super(b||new e.TermTransformer(a.superTypeProvider,a.enableExtendedXsdTypes)),this.context=a,this.subEvaluators={[d.ExpressionType.Term]:this.term.bind(this),[d.ExpressionType.Variable]:this.variable.bind(this),[d.ExpressionType.Operator]:this.evalOperator.bind(this),[d.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[d.ExpressionType.Named]:this.evalNamed.bind(this),[d.ExpressionType.Existence]:this.evalExistence.bind(this),[d.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[d.ExpressionType.SyncExtension]:this.evalSyncExtension.bind(this)}}evaluate(a,b){let c=this.subEvaluators[a.expressionType];if(!c)throw new f.InvalidExpressionType(a);return c.bind(this)(a,b)}evalOperator(a,b){let c=a.args.map(a=>this.evaluate(a,b));return a.apply(c)}evalSpecialOperator(a,b){let c=this.evaluate.bind(this),d={args:a.args,mapping:b,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,overloadCache:this.context.overloadCache,evaluate:c,bnode:this.context.bnode,enableExtendedXsdTypes:this.context.enableExtendedXsdTypes};return a.applySync(d)}evalNamed(a,b){let c=a.args.map(a=>this.evaluate(a,b));return a.apply(c)}evalSyncExtension(a,b){let c=a.args.map(a=>this.evaluate(a,b));return a.apply(c)}evalExistence(a,b){if(!this.context.exists)throw new f.NoExistenceHook;return new d.BooleanLiteral(this.context.exists(a.expression,b))}evalAggregate(a,b){if(!this.context.aggregate)throw new f.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(a.expression))}}b.SyncRecursiveEvaluator=h},6826:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Aggregate=void 0;let d=c(81143);b.Aggregate=class{constructor(a,b){this.name=a,this.expression=b,this.expressionType=d.ExpressionType.Aggregate}}},11086:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncExtension=void 0;let d=c(81143);b.AsyncExtension=class{constructor(a,b,c){this.name=a,this.args=b,this.apply=c,this.expressionType=d.ExpressionType.AsyncExtension}}},5366:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Existence=void 0;let d=c(81143);b.Existence=class{constructor(a){this.expression=a,this.expressionType=d.ExpressionType.Existence}}},81143:function(a,b){"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.asTermType=b.ExpressionType=void 0,(c=b.ExpressionType||(b.ExpressionType={})).Aggregate="aggregate",c.Existence="existence",c.Named="named",c.Operator="operator",c.SpecialOperator="specialOperator",c.Term="term",c.Variable="variable",c.AsyncExtension="asyncExtension",c.SyncExtension="syncExtension",b.asTermType=function(a){if("namedNode"===a||"literal"===a||"blankNode"===a)return a}},45320:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Named=void 0;let d=c(81143);b.Named=class{constructor(a,b,c){this.name=a,this.args=b,this.apply=c,this.expressionType=d.ExpressionType.Named}}},7732:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Operator=void 0;let d=c(81143);b.Operator=class{constructor(a,b){this.args=a,this.apply=b,this.expressionType=d.ExpressionType.Operator}}},71219:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SpecialOperator=void 0;let d=c(81143);b.SpecialOperator=class{constructor(a,b,c){this.args=a,this.applyAsync=b,this.applySync=c,this.expressionType=d.ExpressionType.SpecialOperator}}},48401:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SyncExtension=void 0;let d=c(81143);b.SyncExtension=class{constructor(a,b,c){this.name=a,this.args=b,this.apply=c,this.expressionType=d.ExpressionType.SyncExtension}}},22441:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isNonLexicalLiteral=b.NonLexicalLiteral=b.StringLiteral=b.LangStringLiteral=b.DateTimeLiteral=b.BooleanLiteral=b.DoubleLiteral=b.FloatLiteral=b.DecimalLiteral=b.IntegerLiteral=b.NumericLiteral=b.Literal=b.isLiteralTermExpression=b.BlankNode=b.NamedNode=b.Term=void 0;let d=c(41640),e=c(28952),f=c(28952),g=c(7731),h=c(34749),i=c(81143),j=new d.DataFactory;class k{constructor(){this.expressionType=i.ExpressionType.Term}str(){throw new g.InvalidArgumentTypes([this],e.RegularOperator.STR)}coerceEBV(){throw new g.EBVCoercionError(this)}}b.Term=k,b.NamedNode=class extends k{constructor(a){super(),this.value=a,this.termType="namedNode"}toRDF(){return j.namedNode(this.value)}str(){return this.value}};class l extends k{constructor(a){super(),this.termType="blankNode",this.value="string"==typeof a?j.blankNode(a):a}static nextID(){return l._nextID+=1,l.nextID.toString()}toRDF(){return this.value}}b.BlankNode=l,l._nextID=0,b.isLiteralTermExpression=function(a){if("literal"===a.termType)return a};class m extends k{constructor(a,b,c,d,e){super(),this.typedValue=a,this.dataType=b,this.strValue=c,this.language=d,this.termType="literal",this.mainSparqlType=e||"other"}toRDF(){return j.literal(this.strValue||this.str(),this.language||j.namedNode(this.dataType))}str(){return this.strValue||this.typedValue.toString()}}b.Literal=m;class n extends m{constructor(a,b,c,d,e){super(a,b,c,d,e),this.typedValue=a,this.strValue=c,this.language=d}coerceEBV(){return!!this.typedValue}toRDF(){let a=super.toRDF();return Number.isFinite(this.typedValue)||(a.value=a.value.replace("Infinity","INF")),a}str(){return this.strValue||this.specificFormatter(this.typedValue)}}b.NumericLiteral=n,b.IntegerLiteral=class extends n{constructor(a,b,c,d){super(a,b||f.TypeURL.XSD_INTEGER,c,d,"integer"),this.typedValue=a,this.strValue=c,this.language=d}specificFormatter(a){return a.toFixed(0)}},b.DecimalLiteral=class extends n{constructor(a,b,c,d){super(a,b||f.TypeURL.XSD_DECIMAL,c,d,"decimal"),this.typedValue=a,this.strValue=c,this.language=d}specificFormatter(a){return a.toString()}},b.FloatLiteral=class extends n{constructor(a,b,c,d){super(a,b||f.TypeURL.XSD_FLOAT,c,d,"float"),this.typedValue=a,this.strValue=c,this.language=d}specificFormatter(a){return a.toString()}},b.DoubleLiteral=class extends n{constructor(a,b,c,d){super(a,b||f.TypeURL.XSD_DOUBLE,c,d,"double"),this.typedValue=a,this.strValue=c,this.language=d}specificFormatter(a){let b=a.toExponential(),[c,d]=b.split("e"),e=d.replace(/\+/u,""),f=c.includes(".")?c:`${c}.0`;return`${f}E${e}`}},b.BooleanLiteral=class extends m{constructor(a,b,c){super(a,c||f.TypeURL.XSD_BOOLEAN,b,void 0,"boolean"),this.typedValue=a,this.strValue=b}coerceEBV(){return!!this.typedValue}},b.DateTimeLiteral=class extends m{constructor(a,b,c){super(a,c||f.TypeURL.XSD_DATE_TIME,b,void 0,"dateTime"),this.typedValue=a,this.strValue=b}},b.LangStringLiteral=class extends m{constructor(a,b,c){super(a,c||f.TypeURL.RDF_LANG_STRING,a,b,"langString"),this.typedValue=a,this.language=b}coerceEBV(){return this.str().length>0}},b.StringLiteral=class extends m{constructor(a,b){super(a,b||f.TypeURL.XSD_STRING,a,void 0,"string"),this.typedValue=a}coerceEBV(){return this.str().length>0}},b.NonLexicalLiteral=class extends m{constructor(a,b,c,d,e){super({toString:()=>"undefined"},b,d,e,"nonlexical"),this.typeURL=b,this.openWorldType=c,this.typedValue={toString:()=>"undefined"},this.dataType=f.TypeAlias.SPARQL_NON_LEXICAL}coerceEBV(){let a=(0,h.isSubTypeOf)(this.typeURL,f.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,h.isSubTypeOf)(this.typeURL,f.TypeAlias.SPARQL_NUMERIC,this.openWorldType);if(a)return!1;throw new g.EBVCoercionError(this)}toRDF(){return j.literal(this.str(),this.language||j.namedNode(this.typeURL))}str(){return this.strValue||""}},b.isNonLexicalLiteral=function(a){if(a.dataType===f.TypeAlias.SPARQL_NON_LEXICAL)return a}},22493:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Variable=void 0;let d=c(81143);b.Variable=class{constructor(a){this.expressionType=d.ExpressionType.Variable,this.name=a}}},36538:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(81143),b),e(c(22493),b),e(c(22441),b),e(c(7732),b),e(c(71219),b),e(c(45320),b),e(c(6826),b),e(c(5366),b),e(c(11086),b),e(c(48401),b)},48249:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SpecialFunction=b.NamedFunction=b.RegularFunction=b.BaseFunction=void 0;let d=c(7731);class e{constructor(a,b){this.operator=a,this.apply=(a,b)=>{let c=this.monomorph(a,b.superTypeProvider,b.overloadCache,b.enableExtendedXsdTypes)||this.handleInvalidTypes(a);return c(b)(a)},this.arity=b.arity,this.overloads=b.overloads}monomorph(a,b,c,d){return d?this.overloads.experimentalTree.search(a,b,c):this.overloads.tree.search(a)}}b.BaseFunction=e,b.RegularFunction=class extends e{constructor(a,b){super(a,b),this.functionClass="regular"}handleInvalidTypes(a){throw new d.InvalidArgumentTypes(a,this.operator)}},b.NamedFunction=class extends e{constructor(a,b){super(a,b),this.functionClass="named"}handleInvalidTypes(a){throw new d.InvalidArgumentTypes(a,this.operator)}},b.SpecialFunction=class{constructor(a,b){var c;this.operator=a,this.functionClass="special",this.arity=b.arity,this.applySync=b.applySync,this.applyAsync=b.applyAsync,this.checkArity=b.checkArity||(c=this.arity,a=>c===Number.POSITIVE_INFINITY||(Array.isArray(c)?c.includes(a.length):a.length===c))}}},1731:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.expressionToVar=b.dateTime=b.langString=b.string=b.double=b.float=b.decimal=b.integer=b.bool=b.Builder=b.declare=void 0;let d=c(41640),e=c(36538),f=c(36538),g=c(28952),h=c(28952),i=c(7731),j=c(34749),k=c(67054),l=c(48187),m=new d.DataFactory;b.declare=function(a){return new n(a)};class n{constructor(a){this.overloadTree=new l.OverloadTree(a),this.legacyTree=new k.LegacyTree,this.collected=!1}collect(){if(this.collected)throw Error("Builders can only be collected once!");return this.collected=!0,{experimentalTree:this.overloadTree,tree:this.legacyTree}}set(a,b){return this.overloadTree.addOverload(a,b),this.legacyTree.addOverload(a,b),this}setLegacy(a,b){return this.legacyTree.addLegacyOverload(a,b),this}copy({from:a,to:b}){let c=this.overloadTree.getImplementationExact(a);if(!c)throw new i.UnexpectedError("Tried to copy implementation, but types not found",{from:a,to:b});return this.set(b,c)}onUnary(a,b){return this.set([a],a=>([c])=>b(a)(c))}onUnaryTyped(a,b){return this.set([a],a=>([c])=>b(a)(c.typedValue))}onBinary(a,b){return this.set(a,a=>([c,d])=>b(a)(c,d))}onBinaryTyped(a,b){return this.set(a,a=>([c,d])=>b(a)(c.typedValue,d.typedValue))}onTernaryTyped(a,b){return this.set(a,a=>([c,d,e])=>b(a)(c.typedValue,d.typedValue,e.typedValue))}onTernary(a,b){return this.set(a,a=>([c,d,e])=>b(a)(c,d,e))}onQuaternaryTyped(a,b){return this.set(a,a=>([c,d,e,f])=>b(a)(c.typedValue,d.typedValue,e.typedValue,f.typedValue))}onTerm1(a){return this.set(["term"],b=>([c])=>a(b)(c))}onLiteral1(a){return this.set(["literal"],b=>([c])=>a(b)(c))}onBoolean1(a){return this.set([g.TypeURL.XSD_BOOLEAN],b=>([c])=>a(b)(c))}onBoolean1Typed(a){return this.set([g.TypeURL.XSD_BOOLEAN],b=>([c])=>a(b)(c.typedValue))}onString1(a){return this.set([g.TypeURL.XSD_STRING],b=>([c])=>a(b)(c))}onString1Typed(a){return this.set([g.TypeURL.XSD_STRING],b=>([c])=>a(b)(c.typedValue))}onLangString1(a){return this.set([g.TypeURL.RDF_LANG_STRING],b=>([c])=>a(b)(c))}onStringly1(a){return this.set([g.TypeAlias.SPARQL_STRINGLY],b=>([c])=>a(b)(c))}onStringly1Typed(a){return this.set([g.TypeAlias.SPARQL_STRINGLY],b=>([c])=>a(b)(c.typedValue))}onNumeric1(a){return this.set([g.TypeAlias.SPARQL_NUMERIC],b=>([c])=>a(b)(c)).invalidLexicalForm([g.TypeAlias.SPARQL_NON_LEXICAL],1)}onDateTime1(a){return this.set([g.TypeURL.XSD_DATE_TIME],b=>([c])=>a(b)(c)).invalidLexicalForm([g.TypeAlias.SPARQL_NON_LEXICAL],1)}numericConverter(a){let b=b=>c=>a(b)(c.typedValue);return this.onBinary([h.TypeURL.XSD_INTEGER],a=>c=>p(b(a)(c))).onBinary([h.TypeURL.XSD_DECIMAL],a=>c=>q(b(a)(c))).onBinary([h.TypeURL.XSD_FLOAT],a=>c=>r(b(a)(c))).onBinary([h.TypeURL.XSD_DOUBLE],a=>c=>s(b(a)(c))).invalidLexicalForm([g.TypeAlias.SPARQL_NON_LEXICAL],1)}arithmetic(a){let b=b=>(c,d)=>a(b)(c.typedValue,d.typedValue);return this.onBinary([h.TypeURL.XSD_INTEGER,h.TypeURL.XSD_INTEGER],a=>(c,d)=>p(b(a)(c,d))).onBinary([h.TypeURL.XSD_DECIMAL,h.TypeURL.XSD_DECIMAL],a=>(c,d)=>q(b(a)(c,d))).onBinary([h.TypeURL.XSD_FLOAT,h.TypeURL.XSD_FLOAT],a=>(c,d)=>r(b(a)(c,d))).onBinary([h.TypeURL.XSD_DOUBLE,h.TypeURL.XSD_DOUBLE],a=>(c,d)=>s(b(a)(c,d))).setLegacy([h.TypeAlias.SPARQL_NUMERIC,h.TypeAlias.SPARQL_NUMERIC],b=>([c,d])=>n.legacyArithmeticPromotion[c.mainSparqlType][d.mainSparqlType](a(b)(c.typedValue,d.typedValue)))}numberTest(a){return this.numeric(b=>([c,d])=>{let e=a(b)(c.typedValue,d.typedValue);return o(e)})}stringTest(a){return this.set([g.TypeURL.XSD_STRING,g.TypeURL.XSD_STRING],b=>([c,d])=>{let e=a(b)(c.typedValue,d.typedValue);return o(e)}).invalidLexicalForm([g.TypeAlias.SPARQL_NON_LEXICAL,g.TypeURL.XSD_STRING],1).invalidLexicalForm([g.TypeURL.XSD_STRING,g.TypeAlias.SPARQL_NON_LEXICAL],2)}booleanTest(a){return this.set([g.TypeURL.XSD_BOOLEAN,g.TypeURL.XSD_BOOLEAN],b=>([c,d])=>{let e=a(b)(c.typedValue,d.typedValue);return o(e)}).invalidLexicalForm([g.TypeAlias.SPARQL_NON_LEXICAL,g.TypeURL.XSD_BOOLEAN],1).invalidLexicalForm([g.TypeURL.XSD_BOOLEAN,g.TypeAlias.SPARQL_NON_LEXICAL],2)}dateTimeTest(a){return this.set([g.TypeURL.XSD_DATE_TIME,g.TypeURL.XSD_DATE_TIME],b=>([c,d])=>{let e=a(b)(c.typedValue,d.typedValue);return o(e)}).invalidLexicalForm([g.TypeAlias.SPARQL_NON_LEXICAL,g.TypeURL.XSD_DATE_TIME],1).invalidLexicalForm([g.TypeURL.XSD_DATE_TIME,g.TypeAlias.SPARQL_NON_LEXICAL],2)}numeric(a){return this.set([g.TypeAlias.SPARQL_NUMERIC,g.TypeAlias.SPARQL_NUMERIC],a).invalidLexicalForm([g.TypeAlias.SPARQL_NUMERIC,g.TypeAlias.SPARQL_NON_LEXICAL],2).invalidLexicalForm([g.TypeAlias.SPARQL_NON_LEXICAL,g.TypeAlias.SPARQL_NUMERIC],1)}invalidLexicalForm(a,b){return this.set(a,()=>a=>{throw new i.InvalidLexicalForm(a[b-1].toRDF())})}}function o(a){return new e.BooleanLiteral(a)}function p(a,b){if(b&&!(0,j.isInternalSubType)(b,h.TypeURL.XSD_INTEGER))throw Error("apple");return new e.IntegerLiteral(a,b)}function q(a,b){if(b&&!(0,j.isInternalSubType)(b,h.TypeURL.XSD_DECIMAL))throw Error("apple");return new e.DecimalLiteral(a,b)}function r(a,b){if(b&&!(0,j.isInternalSubType)(b,h.TypeURL.XSD_FLOAT))throw Error("apple");return new e.FloatLiteral(a,b)}function s(a,b){if(b&&!(0,j.isInternalSubType)(b,h.TypeURL.XSD_DOUBLE))throw Error("apple");return new e.DoubleLiteral(a,b)}b.Builder=n,n.legacyArithmeticPromotion={integer:{integer:a=>new f.IntegerLiteral(a),decimal:a=>new f.DecimalLiteral(a),float:a=>new f.FloatLiteral(a),double:a=>new f.DoubleLiteral(a)},decimal:{integer:a=>new f.DecimalLiteral(a),decimal:a=>new f.DecimalLiteral(a),float:a=>new f.FloatLiteral(a),double:a=>new f.DoubleLiteral(a)},float:{integer:a=>new f.FloatLiteral(a),decimal:a=>new f.FloatLiteral(a),float:a=>new f.FloatLiteral(a),double:a=>new f.DoubleLiteral(a)},double:{integer:a=>new f.DoubleLiteral(a),decimal:a=>new f.DoubleLiteral(a),float:a=>new f.DoubleLiteral(a),double:a=>new f.DoubleLiteral(a)}},b.bool=o,b.integer=p,b.decimal=q,b.float=r,b.double=s,b.string=function(a){return new e.StringLiteral(a)},b.langString=function(a,b){return new e.LangStringLiteral(a,b)},b.dateTime=function(a,b){return new e.DateTimeLiteral(a,b)},b.expressionToVar=function(a){return m.variable(a.name.slice(1))}},67054:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LegacyTree=void 0;let d=c(36538),e=c(34749);class f{constructor(a){this.implementation=void 0,this.subTrees=Object.create(null),this.legacyImportance=a||0}search(a){let b=[];if(0===a.length)return this.implementation;for(b.push(...this.getSubTreeWithArg(a[0]).map(a=>({node:a,index:1})));b.length>0;){let{index:c,node:d}=b.pop();if(c===a.length)return d.implementation;b.push(...d.getSubTreeWithArg(a[c]).map(a=>({node:a,index:c+1})))}return this.implementation}addOverload(a,b){this._addOverload([...a],b,!1,0)}addLegacyOverload(a,b){this._addOverload([...a],b,!0,0)}_addOverload(a,b,c,d){let[g,...h]=a;if(!g){(c||this.legacyImportance<=d)&&(this.implementation=b);return}let i=(0,e.mainSparqlType)(g);for(let j of i.types)(c||!this.subTrees[j])&&(this.subTrees[j]=new f(i.prio)),this.subTrees[j]._addOverload(h,b,c,i.prio)}getSubTreeWithArg(a){let b=(0,d.isLiteralTermExpression)(a),c=[];return this.subTrees.term&&c.push(this.subTrees.term),this.subTrees[a.termType]&&c.push(this.subTrees[a.termType]),b&&this.subTrees[b.mainSparqlType]&&c.push(this.subTrees[b.mainSparqlType]),c}}b.LegacyTree=f},12904:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.namedDefinitions=void 0;let d=c(28952),e=c(7731),f=c(22344),g=c(1731),h={arity:1,overloads:(0,g.declare)(d.TypeURL.XSD_STRING).onNumeric1(()=>a=>(0,g.string)((0,g.float)(a.typedValue).str())).onBoolean1Typed(()=>a=>(0,g.string)((0,g.bool)(a).str())).onTerm1(()=>a=>(0,g.string)(a.str())).collect()},i={arity:1,overloads:(0,g.declare)(d.TypeURL.XSD_FLOAT).onNumeric1(()=>a=>(0,g.float)(a.typedValue)).onBoolean1Typed(()=>a=>(0,g.float)(a?1:0)).onUnary(d.TypeURL.XSD_STRING,()=>a=>{let b=(0,f.parseXSDFloat)(a.str());if(void 0===b)throw new e.CastError(a,d.TypeURL.XSD_FLOAT);return(0,g.float)(b)}).copy({from:[d.TypeURL.XSD_STRING],to:[d.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},j={arity:1,overloads:(0,g.declare)(d.TypeURL.XSD_DOUBLE).onNumeric1(()=>a=>(0,g.double)(a.typedValue)).onBoolean1Typed(()=>a=>(0,g.double)(a?1:0)).onUnary(d.TypeURL.XSD_STRING,()=>a=>{let b=(0,f.parseXSDFloat)(a.str());if(void 0===b)throw new e.CastError(a,d.TypeURL.XSD_DOUBLE);return(0,g.double)(b)}).copy({from:[d.TypeURL.XSD_STRING],to:[d.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},k={arity:1,overloads:(0,g.declare)(d.TypeURL.XSD_DECIMAL).onNumeric1(()=>a=>{let b=(0,f.parseXSDDecimal)(a.str());if(void 0===b)throw new e.CastError(a,d.TypeURL.XSD_DECIMAL);return(0,g.decimal)(b)}).onString1(()=>a=>{let b=a.str(),c=/^([+-])?(\d+(\.\d+)?)$/u.test(b)?(0,f.parseXSDDecimal)(b):void 0;if(void 0===c)throw new e.CastError(a,d.TypeURL.XSD_DECIMAL);return(0,g.decimal)(c)}).copy({from:[d.TypeURL.XSD_STRING],to:[d.TypeAlias.SPARQL_NON_LEXICAL]}).onBoolean1Typed(()=>a=>(0,g.decimal)(a?1:0)).collect()},l={arity:1,overloads:(0,g.declare)(d.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>a=>(0,g.integer)(a?1:0)).onNumeric1(()=>a=>{let b=(0,f.parseXSDInteger)(a.str());if(void 0===b)throw new e.CastError(a,d.TypeURL.XSD_INTEGER);return(0,g.integer)(b)}).onString1(()=>a=>{let b=a.str(),c=/^\d+$/u.test(b)?(0,f.parseXSDInteger)(b):void 0;if(void 0===c)throw new e.CastError(a,d.TypeURL.XSD_INTEGER);return(0,g.integer)(c)}).copy({from:[d.TypeAlias.SPARQL_NUMERIC],to:[d.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},m={arity:1,overloads:(0,g.declare)(d.TypeURL.XSD_DATE_TIME).onUnary(d.TypeURL.XSD_DATE_TIME,()=>a=>a).onUnary(d.TypeURL.XSD_STRING,()=>a=>{let b=new Date(a.str());if(Number.isNaN(b.getTime()))throw new e.CastError(a,d.TypeURL.XSD_DATE_TIME);return(0,g.dateTime)(b,a.str())}).copy({from:[d.TypeURL.XSD_STRING],to:[d.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},n={arity:1,overloads:(0,g.declare)(d.TypeURL.XSD_BOOLEAN).onNumeric1(()=>a=>(0,g.bool)(a.coerceEBV())).onUnary(d.TypeURL.XSD_BOOLEAN,()=>a=>(0,g.bool)(a.coerceEBV())).onUnary(d.TypeURL.XSD_STRING,()=>a=>{switch(a.str()){case"true":case"1":return(0,g.bool)(!0);case"false":case"0":return(0,g.bool)(!1);default:throw new e.CastError(a,d.TypeURL.XSD_BOOLEAN)}}).copy({from:[d.TypeURL.XSD_STRING],to:[d.TypeAlias.SPARQL_NON_LEXICAL]}).collect()};b.namedDefinitions={[d.TypeURL.XSD_STRING]:h,[d.TypeURL.XSD_FLOAT]:i,[d.TypeURL.XSD_DOUBLE]:j,[d.TypeURL.XSD_DECIMAL]:k,[d.TypeURL.XSD_INTEGER]:l,[d.TypeURL.XSD_DATE_TIME]:m,[d.TypeURL.XSD_DATE]:m,[d.TypeURL.XSD_BOOLEAN]:n}},48187:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OverloadTree=void 0;let d=c(36538),e=c(28952),f=c(34749),g=c(1731);class h{constructor(a,b){this.identifier=a,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=b||0,this.promotionCount=void 0}getSubtree(a){let b=(0,f.asGeneralType)(a);if(b)return this.generalOverloads[b];for(let[c,d]of this.literalOverLoads)if(a===c)return d}getImplementationExact(a){let b=this;for(let c of a)if(!(b=b.getSubtree(c)))return;return b.implementation}getOverloadCacheIdentifier(a){return this.identifier+a.map(a=>{let b=(0,d.isLiteralTermExpression)(a);return b?b.dataType:a.termType}).join("")}search(a,b,c){let d=this.getOverloadCacheIdentifier(a);if(c.has(d))return c.get(d);let e=[];if(0===a.length)return this.implementation;for(e.push(...this.getSubTreeWithArg(a[0],b).map(a=>({node:a,index:1})));e.length>0;){let{index:f,node:g}=e.pop();if(f===a.length&&g.implementation)return c.set(d,g.implementation),g.implementation;e.push(...g.getSubTreeWithArg(a[f],b).map(a=>({node:a,index:f+1})))}c.set(d,void 0)}addOverload(a,b){this._addOverload([...a],b,0)}_addOverload(a,b,c){let[d,...i]=a;if(!d){(void 0===this.promotionCount||c<=this.promotionCount)&&(this.promotionCount=c,this.implementation=b);return}let j=this.getSubtree(d);if(!j){let k=new h(this.identifier,this.depth+1),l=(0,f.asGeneralType)(d);l&&(this.generalOverloads[l]=k);let m=(0,f.asOverrideType)(d);m&&this.literalOverLoads.push([m,k]),j=k}j._addOverload(i,b,c),d===e.TypeURL.XSD_STRING&&this.addPromotedOverload(e.TypeURL.XSD_ANY_URI,b,a=>(0,g.string)(a.str()),i,c),d===e.TypeURL.XSD_DOUBLE&&(this.addPromotedOverload(e.TypeURL.XSD_FLOAT,b,a=>(0,g.double)(a.typedValue),i,c),this.addPromotedOverload(e.TypeURL.XSD_DECIMAL,b,a=>(0,g.double)(a.typedValue),i,c)),d===e.TypeURL.XSD_FLOAT&&this.addPromotedOverload(e.TypeURL.XSD_DECIMAL,b,a=>(0,g.float)(a.typedValue),i,c)}addPromotedOverload(a,b,c,d,e){let f=this.getSubtree(a);if(!f){let g=new h(this.identifier,this.depth+1);this.literalOverLoads.push([a,g]),f=g}f._addOverload(d,a=>d=>b(a)([...d.slice(0,this.depth),c(d[this.depth]),...d.slice(this.depth+1,d.length),]),e+1)}getSubTreeWithArg(a,b){let c=[],e=(0,d.isLiteralTermExpression)(a);if(this.generalOverloads.term&&c.push(this.generalOverloads.term),this.generalOverloads[a.termType]&&c.push(this.generalOverloads[a.termType]),e){let g=(0,f.asKnownLiteralType)(e.dataType),h;h=g?f.superTypeDictTable[g]:(0,f.getSuperTypes)(e.dataType,b);let i=this.literalOverLoads.filter(([a,b])=>a in h).map(([a,b])=>[h[a],b]);i.sort(([a,b],[c,d])=>a-c),c.push(...i.map(([a,b])=>b))}return c}}b.OverloadTree=h},18620:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.definitions=void 0;let d=c(44431),e=c(33715),f=c(41640),g=c(68912),h=c(8322),i=c(97466),j=c(36538),k=c(77807),l=c(28952),m=c(28952),n=c(7731),o=c(22344),p=c(1731),q=c(53207),r=new f.DataFactory,s={arity:1,overloads:(0,p.declare)(l.RegularOperator.NOT).onTerm1(()=>a=>(0,p.bool)(!a.coerceEBV())).collect()},t={arity:1,overloads:(0,p.declare)(l.RegularOperator.UPLUS).numericConverter(()=>a=>a).collect()},u={arity:1,overloads:(0,p.declare)(l.RegularOperator.UMINUS).numericConverter(()=>a=>-a).collect()},v={arity:2,overloads:(0,p.declare)(l.RegularOperator.MULTIPLICATION).arithmetic(()=>(a,b)=>new d.BigNumber(a).times(b).toNumber()).collect()},w={arity:2,overloads:(0,p.declare)(l.RegularOperator.DIVISION).arithmetic(()=>(a,b)=>new d.BigNumber(a).div(b).toNumber()).onBinaryTyped([m.TypeURL.XSD_INTEGER,m.TypeURL.XSD_INTEGER],()=>(a,b)=>{if(0===b)throw new n.ExpressionError("Integer division by 0");return(0,p.decimal)(new d.BigNumber(a).div(b).toNumber())}).collect()},x={arity:2,overloads:(0,p.declare)(l.RegularOperator.ADDITION).arithmetic(()=>(a,b)=>new d.BigNumber(a).plus(b).toNumber()).collect()},y={arity:2,overloads:(0,p.declare)(l.RegularOperator.SUBTRACTION).arithmetic(()=>(a,b)=>new d.BigNumber(a).minus(b).toNumber()).collect()},z={arity:2,overloads:(0,p.declare)(l.RegularOperator.EQUAL).numberTest(()=>(a,b)=>a===b).stringTest(()=>(a,b)=>0===a.localeCompare(b)).booleanTest(()=>(a,b)=>a===b).dateTimeTest(()=>(a,b)=>a.getTime()===b.getTime()).set(["term","term"],()=>([a,b])=>(0,p.bool)(A(a,b))).collect()};function A(a,b){let c=a.toRDF(),d=b.toRDF(),e=c.equals(d);if("Literal"===c.termType&&"Literal"===d.termType)throw new n.RDFEqualTypeError([a,b]);return e}let B={arity:2,overloads:(0,p.declare)(l.RegularOperator.NOT_EQUAL).numberTest(()=>(a,b)=>a!==b).stringTest(()=>(a,b)=>0!==a.localeCompare(b)).booleanTest(()=>(a,b)=>a!==b).dateTimeTest(()=>(a,b)=>a.getTime()!==b.getTime()).set(["term","term"],()=>([a,b])=>(0,p.bool)(!A(a,b))).collect()},C={arity:2,overloads:(0,p.declare)(l.RegularOperator.LT).numberTest(()=>(a,b)=>a<b).stringTest(()=>(a,b)=>-1===a.localeCompare(b)).booleanTest(()=>(a,b)=>a<b).dateTimeTest(()=>(a,b)=>a.getTime()<b.getTime()).collect()},D={arity:2,overloads:(0,p.declare)(l.RegularOperator.GT).numberTest(()=>(a,b)=>a>b).stringTest(()=>(a,b)=>1===a.localeCompare(b)).booleanTest(()=>(a,b)=>a>b).dateTimeTest(()=>(a,b)=>a.getTime()>b.getTime()).collect()},E={arity:2,overloads:(0,p.declare)(l.RegularOperator.LTE).numberTest(()=>(a,b)=>a<=b).stringTest(()=>(a,b)=>1!==a.localeCompare(b)).booleanTest(()=>(a,b)=>a<=b).dateTimeTest(()=>(a,b)=>a.getTime()<=b.getTime()).collect()},F={arity:2,overloads:(0,p.declare)(l.RegularOperator.GTE).numberTest(()=>(a,b)=>a>=b).stringTest(()=>(a,b)=>-1!==a.localeCompare(b)).booleanTest(()=>(a,b)=>a>=b).dateTimeTest(()=>(a,b)=>a.getTime()>=b.getTime()).collect()},G={arity:1,overloads:(0,p.declare)(l.RegularOperator.IS_IRI).onTerm1(()=>a=>(0,p.bool)("namedNode"===a.termType)).collect()},H={arity:1,overloads:(0,p.declare)(l.RegularOperator.IS_BLANK).onTerm1(()=>a=>(0,p.bool)("blankNode"===a.termType)).collect()},I={arity:1,overloads:(0,p.declare)(l.RegularOperator.IS_LITERAL).onTerm1(()=>a=>(0,p.bool)("literal"===a.termType)).collect()},J={arity:1,overloads:(0,p.declare)(l.RegularOperator.IS_NUMERIC).onNumeric1(()=>a=>(0,p.bool)(!0)).onTerm1(()=>a=>(0,p.bool)(!1)).collect()},K={arity:1,overloads:(0,p.declare)(l.RegularOperator.STR).onTerm1(()=>a=>(0,p.string)(a.str())).collect()},L={arity:1,overloads:(0,p.declare)(l.RegularOperator.LANG).onLiteral1(()=>a=>(0,p.string)(a.language||"")).collect()},M={arity:1,overloads:(0,p.declare)(l.RegularOperator.DATATYPE).onLiteral1(()=>a=>new j.NamedNode(a.dataType)).collect()},N={arity:1,overloads:(0,p.declare)(l.RegularOperator.IRI).set(["namedNode"],a=>b=>{let c=b[0],d=(0,g.resolve)(c.str(),a.baseIRI||"");return new j.NamedNode(d)}).onString1(a=>b=>{let c=(0,g.resolve)(b.str(),a.baseIRI||"");return new j.NamedNode(c)}).collect()},O={arity:2,overloads:(0,p.declare)(l.RegularOperator.STRDT).set([m.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:a,enableExtendedXsdTypes:b})=>([c,d])=>{let e=r.literal(c.typedValue,r.namedNode(d.value));return new k.TermTransformer(a,b).transformLiteral(e)}).collect()},P={arity:2,overloads:(0,p.declare)(l.RegularOperator.STRLANG).onBinaryTyped([m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING],()=>(a,b)=>new j.LangStringLiteral(a,b.toLowerCase())).collect()},Q={arity:0,overloads:(0,p.declare)(l.RegularOperator.UUID).set([],()=>()=>new j.NamedNode(`urn:uuid:${i.v4()}`)).collect()},R={arity:0,overloads:(0,p.declare)(l.RegularOperator.STRUUID).set([],()=>()=>(0,p.string)(i.v4())).collect()},S={arity:1,overloads:(0,p.declare)(l.RegularOperator.STRLEN).onStringly1(()=>a=>(0,p.integer)([...a.typedValue].length)).collect()},T={arity:[2,3],overloads:(0,p.declare)(l.RegularOperator.SUBSTR).onBinaryTyped([m.TypeURL.XSD_STRING,m.TypeURL.XSD_INTEGER],()=>(a,b)=>(0,p.string)([...a].slice(b-1).join(""))).onBinary([m.TypeURL.RDF_LANG_STRING,m.TypeURL.XSD_INTEGER],()=>(a,b)=>{let c=[...a.typedValue].slice(b.typedValue-1).join("");return(0,p.langString)(c,a.language)}).onTernaryTyped([m.TypeURL.XSD_STRING,m.TypeURL.XSD_INTEGER,m.TypeURL.XSD_INTEGER],()=>(a,b,c)=>(0,p.string)([...a].slice(b-1,c+b-1).join(""))).onTernary([m.TypeURL.RDF_LANG_STRING,m.TypeURL.XSD_INTEGER,m.TypeURL.XSD_INTEGER],()=>(a,b,c)=>{let d=[...a.typedValue].slice(b.typedValue-1,c.typedValue+b.typedValue-1).join("");return(0,p.langString)(d,a.language)}).collect()},U={arity:1,overloads:(0,p.declare)(l.RegularOperator.UCASE).onString1Typed(()=>a=>(0,p.string)(a.toUpperCase())).onLangString1(()=>a=>(0,p.langString)(a.typedValue.toUpperCase(),a.language)).collect()},V={arity:1,overloads:(0,p.declare)(l.RegularOperator.LCASE).onString1Typed(()=>a=>(0,p.string)(a.toLowerCase())).onLangString1(()=>a=>(0,p.langString)(a.typedValue.toLowerCase(),a.language)).collect()},W={arity:2,overloads:(0,p.declare)(l.RegularOperator.STRSTARTS).onBinaryTyped([m.TypeAlias.SPARQL_STRINGLY,m.TypeURL.XSD_STRING],()=>(a,b)=>(0,p.bool)(a.startsWith(b))).onBinary([m.TypeURL.RDF_LANG_STRING,m.TypeURL.RDF_LANG_STRING],()=>(a,b)=>{if(a.language!==b.language)throw new n.IncompatibleLanguageOperation(a,b);return(0,p.bool)(a.typedValue.startsWith(b.typedValue))}).collect()},X={arity:2,overloads:(0,p.declare)(l.RegularOperator.STRENDS).onBinaryTyped([m.TypeAlias.SPARQL_STRINGLY,m.TypeURL.XSD_STRING],()=>(a,b)=>(0,p.bool)(a.endsWith(b))).onBinary([m.TypeURL.RDF_LANG_STRING,m.TypeURL.RDF_LANG_STRING],()=>(a,b)=>{if(a.language!==b.language)throw new n.IncompatibleLanguageOperation(a,b);return(0,p.bool)(a.typedValue.endsWith(b.typedValue))}).collect()},Y={arity:2,overloads:(0,p.declare)(l.RegularOperator.CONTAINS).onBinaryTyped([m.TypeAlias.SPARQL_STRINGLY,m.TypeURL.XSD_STRING],()=>(a,b)=>(0,p.bool)(a.includes(b))).onBinary([m.TypeURL.RDF_LANG_STRING,m.TypeURL.RDF_LANG_STRING],()=>(a,b)=>{if(a.language!==b.language)throw new n.IncompatibleLanguageOperation(a,b);return(0,p.bool)(a.typedValue.includes(b.typedValue))}).collect()},Z={arity:2,overloads:(0,p.declare)(l.RegularOperator.STRBEFORE).onBinaryTyped([m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING],()=>(a,b)=>(0,p.string)(a.slice(0,Math.max(0,a.indexOf(b))))).onBinary([m.TypeURL.RDF_LANG_STRING,m.TypeURL.XSD_STRING],()=>(a,b)=>{let[c,d]=[a.typedValue,b.typedValue],e=a.typedValue.slice(0,Math.max(0,c.indexOf(d)));return e||!d?(0,p.langString)(e,a.language):(0,p.string)(e)}).onBinary([m.TypeURL.RDF_LANG_STRING,m.TypeURL.RDF_LANG_STRING],()=>(a,b)=>{if(a.language!==b.language)throw new n.IncompatibleLanguageOperation(a,b);let[c,d]=[a.typedValue,b.typedValue],e=a.typedValue.slice(0,Math.max(0,c.indexOf(d)));return e||!d?(0,p.langString)(e,a.language):(0,p.string)(e)}).collect()},$={arity:2,overloads:(0,p.declare)(l.RegularOperator.STRAFTER).onBinaryTyped([m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING],()=>(a,b)=>(0,p.string)(a.slice(a.indexOf(b)).slice(b.length))).onBinary([m.TypeURL.RDF_LANG_STRING,m.TypeURL.XSD_STRING],()=>(a,b)=>{let[c,d]=[a.typedValue,b.typedValue],e=c.slice(c.indexOf(d)).slice(d.length);return e||!d?(0,p.langString)(e,a.language):(0,p.string)(e)}).onBinary([m.TypeURL.RDF_LANG_STRING,m.TypeURL.RDF_LANG_STRING],()=>(a,b)=>{if(a.language!==b.language)throw new n.IncompatibleLanguageOperation(a,b);let[c,d]=[a.typedValue,b.typedValue],e=c.slice(c.indexOf(d)).slice(d.length);return e||!d?(0,p.langString)(e,a.language):(0,p.string)(e)}).collect()},_={arity:1,overloads:(0,p.declare)(l.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>a=>(0,p.string)(encodeURI(a))).collect()},aa={arity:2,overloads:(0,p.declare)(l.RegularOperator.LANG_MATCHES).onBinaryTyped([m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING],()=>(a,b)=>(0,p.bool)(q.langMatches(a,b))).collect()},ab=()=>(a,b)=>(0,p.bool)(q.matches(a,b)),ac=()=>(a,b,c)=>(0,p.bool)(q.matches(a,b,c)),ad={arity:[2,3],overloads:(0,p.declare)(l.RegularOperator.REGEX).onBinaryTyped([m.TypeAlias.SPARQL_STRINGLY,m.TypeURL.XSD_STRING],ab).onTernaryTyped([m.TypeAlias.SPARQL_STRINGLY,m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING],ac).collect()},ae={arity:[3,4],overloads:(0,p.declare)(l.RegularOperator.REPLACE).onTernaryTyped([m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING],()=>(a,b,c)=>(0,p.string)(q.replace(a,b,c))).set([m.TypeURL.RDF_LANG_STRING,m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING],()=>([a,b,c])=>{let d=q.replace(a.typedValue,b.typedValue,c.typedValue);return(0,p.langString)(d,a.language)}).onQuaternaryTyped([m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING],()=>(a,b,c,d)=>(0,p.string)(q.replace(a,b,c,d))).set([m.TypeURL.RDF_LANG_STRING,m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING,m.TypeURL.XSD_STRING],()=>([a,b,c,d])=>{let e=q.replace(a.typedValue,b.typedValue,c.typedValue,d.typedValue);return(0,p.langString)(e,a.language)}).collect()},af={arity:1,overloads:(0,p.declare)(l.RegularOperator.ABS).numericConverter(()=>a=>Math.abs(a)).collect()},ag={arity:1,overloads:(0,p.declare)(l.RegularOperator.ROUND).numericConverter(()=>a=>Math.round(a)).collect()},ah={arity:1,overloads:(0,p.declare)(l.RegularOperator.CEIL).numericConverter(()=>a=>Math.ceil(a)).collect()},ai={arity:1,overloads:(0,p.declare)(l.RegularOperator.FLOOR).numericConverter(()=>a=>Math.floor(a)).collect()},aj={arity:0,overloads:(0,p.declare)(l.RegularOperator.RAND).set([],()=>()=>(0,p.double)(Math.random())).collect()};function ak(a){return o.parseXSDDateTime(a.str())}let al={arity:0,overloads:(0,p.declare)(l.RegularOperator.NOW).set([],a=>()=>new j.DateTimeLiteral(a.now,a.now.toISOString())).collect()},am={arity:1,overloads:(0,p.declare)(l.RegularOperator.YEAR).onDateTime1(()=>a=>(0,p.integer)(Number(ak(a).year))).collect()},an={arity:1,overloads:(0,p.declare)(l.RegularOperator.MONTH).onDateTime1(()=>a=>(0,p.integer)(Number(ak(a).month))).collect()},ao={arity:1,overloads:(0,p.declare)(l.RegularOperator.DAY).onDateTime1(()=>a=>(0,p.integer)(Number(ak(a).day))).collect()},ap={arity:1,overloads:(0,p.declare)(l.RegularOperator.HOURS).onDateTime1(()=>a=>(0,p.integer)(Number(ak(a).hours))).collect()},aq={arity:1,overloads:(0,p.declare)(l.RegularOperator.MINUTES).onDateTime1(()=>a=>(0,p.integer)(Number(ak(a).minutes))).collect()},ar={arity:1,overloads:(0,p.declare)(l.RegularOperator.SECONDS).onDateTime1(()=>a=>(0,p.decimal)(Number(ak(a).seconds))).collect()},as={arity:1,overloads:(0,p.declare)(l.RegularOperator.TIMEZONE).onDateTime1(()=>a=>{let b=q.formatDayTimeDuration(ak(a).timezone);if(!b)throw new n.InvalidTimezoneCall(a.strValue);return new j.Literal(b,m.TypeURL.XSD_DAYTIME_DURATION,b)}).collect()},at={arity:1,overloads:(0,p.declare)(l.RegularOperator.TZ).onDateTime1(()=>a=>(0,p.string)(ak(a).timezone)).collect()},au={arity:1,overloads:(0,p.declare)(l.RegularOperator.MD5).onString1Typed(()=>a=>(0,p.string)((0,h.hash)(a))).collect()},av={arity:1,overloads:(0,p.declare)(l.RegularOperator.SHA1).onString1Typed(()=>a=>(0,p.string)((0,e.sha1)().update(a).digest("hex"))).collect()},aw={arity:1,overloads:(0,p.declare)(l.RegularOperator.SHA256).onString1Typed(()=>a=>(0,p.string)((0,e.sha256)().update(a).digest("hex"))).collect()},ax={arity:1,overloads:(0,p.declare)(l.RegularOperator.SHA384).onString1Typed(()=>a=>(0,p.string)((0,e.sha384)().update(a).digest("hex"))).collect()},ay={arity:1,overloads:(0,p.declare)(l.RegularOperator.SHA512).onString1Typed(()=>a=>(0,p.string)((0,e.sha512)().update(a).digest("hex"))).collect()};b.definitions={"!":s,UPLUS:t,UMINUS:u,"*":v,"/":w,"+":x,"-":y,"=":z,"!=":B,"<":C,">":D,"<=":E,">=":F,isiri:G,isblank:H,isliteral:I,isnumeric:J,str:K,lang:L,datatype:M,iri:N,uri:N,strdt:O,strlang:P,uuid:Q,struuid:R,strlen:S,substr:T,ucase:U,lcase:V,strstarts:W,strends:X,contains:Y,strbefore:Z,strafter:$,encode_for_uri:_,langmatches:aa,regex:ad,replace:ae,abs:af,round:ag,ceil:ah,floor:ai,rand:aj,now:al,year:am,month:an,day:ao,hours:ap,minutes:aq,seconds:ar,timezone:as,tz:at,md5:au,sha1:av,sha256:aw,sha384:ax,sha512:ay}},12093:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.specialDefinitions=void 0;let d=c(97466),e=c(36538),f=c(28952),g=c(7731),h=c(1731),i=c(19415),j={arity:1,async applyAsync({args:a,mapping:b}){return k({args:a,mapping:b})},applySync({args:a,mapping:b}){return k({args:a,mapping:b})}};function k({args:a,mapping:b}){let c=a[0];if(c.expressionType!==e.ExpressionType.Variable)throw new g.InvalidArgumentTypes(a,f.SpecialOperator.BOUND);let d=b.has((0,h.expressionToVar)(c));return(0,h.bool)(d)}let l={arity:3,async applyAsync({args:a,mapping:b,evaluate:c}){let d=await c(a[0],b),e=d.coerceEBV();return c(e?a[1]:a[2],b)},applySync({args:a,mapping:b,evaluate:c}){let d=c(a[0],b),e=d.coerceEBV();return c(e?a[1]:a[2],b)}},m={arity:Number.POSITIVE_INFINITY,async applyAsync({args:a,mapping:b,evaluate:c}){let d=[];for(let e of a)try{return await c(e,b)}catch(f){d.push(f)}throw new g.CoalesceError(d)},applySync({args:a,mapping:b,evaluate:c}){let d=[];for(let e of a)try{return c(e,b)}catch(f){d.push(f)}throw new g.CoalesceError(d)}},n={arity:2,async applyAsync({args:a,mapping:b,evaluate:c}){let[d,e]=a;try{let f=await c(d,b),g=f.coerceEBV();if(g)return(0,h.bool)(!0);let i=await c(e,b),j=i.coerceEBV();return(0,h.bool)(j)}catch(k){let l=await c(e,b),m=l.coerceEBV();if(!m)throw k;return(0,h.bool)(!0)}},applySync({args:a,mapping:b,evaluate:c}){let[d,e]=a;try{let f=c(d,b),g=f.coerceEBV();if(g)return(0,h.bool)(!0);let i=c(e,b),j=i.coerceEBV();return(0,h.bool)(j)}catch(k){let l=c(e,b),m=l.coerceEBV();if(!m)throw k;return(0,h.bool)(!0)}}},o={arity:2,async applyAsync({args:a,mapping:b,evaluate:c}){let[d,e]=a;try{let f=await c(d,b),g=f.coerceEBV();if(!g)return(0,h.bool)(!1);let i=await c(e,b),j=i.coerceEBV();return(0,h.bool)(j)}catch(k){let l=await c(e,b),m=l.coerceEBV();if(m)throw k;return(0,h.bool)(!1)}},applySync({args:a,mapping:b,evaluate:c}){let[d,e]=a;try{let f=c(d,b),g=f.coerceEBV();if(!g)return(0,h.bool)(!1);let i=c(e,b),j=i.coerceEBV();return(0,h.bool)(j)}catch(k){let l=c(e,b),m=l.coerceEBV();if(m)throw k;return(0,h.bool)(!1)}}},p={arity:2,async applyAsync({args:a,mapping:b,evaluate:c}){let[d,e]=a.map(a=>c(a,b)),[f,g]=await Promise.all([d,e]);return(0,h.bool)(f.toRDF().equals(g.toRDF()))},applySync({args:a,mapping:b,evaluate:c}){let[d,e]=a.map(a=>c(a,b));return(0,h.bool)(d.toRDF().equals(e.toRDF()))}},q={arity:Number.POSITIVE_INFINITY,checkArity(a){return a.length>0},async applyAsync(a){let{args:b,mapping:c,evaluate:d}=a,[e,...f]=b,g=await d(e,c);return r(g,Object.assign(Object.assign({},a),{args:f}),[])},applySync(a){let{args:b,mapping:c,evaluate:d}=a,[e,...f]=b,g=d(e,c);return s(g,Object.assign(Object.assign({},a),{args:f}),[])}};async function r(a,b,c){let{args:d,mapping:e,evaluate:j,overloadCache:k}=b;if(0===d.length){let l=c.every(a=>!a);return l?(0,h.bool)(!1):Promise.reject(new g.InError(c))}try{let m=d.shift(),n=await j(m,e),o=i.regularFunctions[f.RegularOperator.EQUAL];if(o.apply([a,n],b).typedValue)return(0,h.bool)(!0);return r(a,b,[...c,!1])}catch(p){return r(a,b,[...c,p])}}function s(a,b,c){let{args:d,mapping:e,evaluate:j,overloadCache:k}=b;if(0===d.length){let l=c.every(a=>!a);if(l)return(0,h.bool)(!1);throw new g.InError(c)}try{let m=d.shift(),n=j(m,e),o=i.regularFunctions[f.RegularOperator.EQUAL];if(o.apply([a,n],b).typedValue)return(0,h.bool)(!0);return s(a,b,[...c,!1])}catch(p){return s(a,b,[...c,p])}}let t={arity:Number.POSITIVE_INFINITY,checkArity(a){return a.length>0},async applyAsync(a){let b=i.specialFunctions[f.SpecialOperator.IN],c=await b.applyAsync(a);return(0,h.bool)(!c.typedValue)},applySync(a){let b=i.specialFunctions[f.SpecialOperator.IN],c=b.applySync(a);return(0,h.bool)(!c.typedValue)}},u=(0,h.declare)(f.SpecialOperator.CONCAT).onStringly1(()=>a=>a).collect().experimentalTree,v={arity:Number.POSITIVE_INFINITY,async applyAsync(a){let{args:b,mapping:c,evaluate:d,overloadCache:e,superTypeProvider:i}=a,j=b.map(async a=>d(a,c)).map(async c=>{let d=u.search([await c],i,e);if(!d)throw new g.InvalidArgumentTypes(b,f.SpecialOperator.CONCAT);return d(a)([await c])}),k=await Promise.all(j),l=k.map(a=>a.typedValue),m=l.join(""),n=w(k)?k[0].language:void 0;return n?(0,h.langString)(m,n):(0,h.string)(m)},applySync(a){let{args:b,mapping:c,evaluate:d,superTypeProvider:e,overloadCache:i}=a,j=b.map(a=>d(a,c)).map(c=>{let d=u.search([c],e,i);if(!d)throw new g.InvalidArgumentTypes(b,f.SpecialOperator.CONCAT);return d(a)([c])}),k=j.map(a=>a.typedValue),l=k.join(""),m=w(j)?j[0].language:void 0;return m?(0,h.langString)(l,m):(0,h.string)(l)}};function w(a){return a.length>0&&a.every(b=>b.language===a[0].language)}let x=(0,h.declare)(f.SpecialOperator.BNODE).onString1(()=>a=>a).collect().experimentalTree,y={arity:Number.POSITIVE_INFINITY,checkArity(a){return 0===a.length||1===a.length},async applyAsync(a){let{args:b,mapping:c,evaluate:d,superTypeProvider:h,overloadCache:i}=a,j=1===b.length?await d(b[0],c):void 0,k;if(j){let l=x.search([j],h,i);if(!l)throw new g.InvalidArgumentTypes(b,f.SpecialOperator.BNODE);k=l(a)([j]).str()}if(a.bnode){let m=await a.bnode(k);return new e.BlankNode(m)}return z(k)},applySync(a){let{args:b,mapping:c,evaluate:d,superTypeProvider:h,overloadCache:i}=a,j=1===b.length?d(b[0],c):void 0,k;if(j){let l=x.search([j],h,i);if(!l)throw new g.InvalidArgumentTypes(b,f.SpecialOperator.BNODE);k=l(a)([j]).str()}if(a.bnode){let m=a.bnode(k);return new e.BlankNode(m)}return z(k)}};function z(a){return new e.BlankNode(a||d.v4())}b.specialDefinitions={bound:j,if:l,coalesce:m,"&&":o,"||":n,sameterm:p,in:q,notin:t,concat:v,BNODE:y}},53207:function(a,b){"use strict";function c(a){return"*"===a}function d(a,b){let c=RegExp(`/${a}/`,"iu");return c.test(`/${b}/`)}Object.defineProperty(b,"__esModule",{value:!0}),b.formatDayTimeDuration=b.langMatches=b.replace=b.matches=void 0,b.matches=function(a,b,c){let d=RegExp(b,c);return d.test(a)},b.replace=function(a,b,c,d){let e=RegExp(b,d);if(!e.global){let f=d||"";e=RegExp(b,`${f}g`)}return a.replace(e,c)},b.langMatches=function(a,b){let e=a.split("-"),f=b.split("-");if(!d(f[0],e[0])&&!c(e[0]))return!1;let g=1,h=1;for(;h<f.length;){if(c(f[h])){h++;continue}if(g===e.length)return!1;if(d(f[h],e[g])){g++,h++;continue}if(1===e[g].length)return!1;g++}return!0},b.formatDayTimeDuration=function(a){if(!a)return;if(a.startsWith("Z"))return"PT0S";let[b,c,d,e,f,g]=a,h="0"!==c?c:"",i=h||"0"!==d?d:"",j=h+i?`${h+i}H`:"",k="0"!==f?f:"",l=k||"0"!==g?g:"",m=k+l?`${k+l}M`:"",n=`${j}${m}`;return`${"-"===b?"-":""}PT${n}`}},19415:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.OverloadTree=b.namedFunctions=b.specialFunctions=b.regularFunctions=void 0;let f=c(48249),g=c(12904),h=c(18620),i=c(12093);e(c(48249),b),b.regularFunctions=Object.fromEntries(Object.entries(h.definitions).map(([a,b])=>[a,new f.RegularFunction(a,b)])),b.specialFunctions=Object.fromEntries(Object.entries(i.specialDefinitions).map(([a,b])=>[a,new f.SpecialFunction(a,b)])),b.namedFunctions=Object.fromEntries(Object.entries(g.namedDefinitions).map(([a,b])=>[a,new f.NamedFunction(a,b)]));var j=c(48187);Object.defineProperty(b,"OverloadTree",{enumerable:!0,get:function(){return j.OverloadTree}})},56667:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AlgebraTransformer=void 0;let d=c(21938),e=c(36538),f=c(19415),g=c(28952),h=c(7731),i=c(7731),j=c(77807);class k extends j.TermTransformer{constructor(a){super(a.superTypeProvider,a.enableExtendedXsdTypes),this.algebraConfig=a,this.creatorConfig={type:a.type,creator:a.creator}}transformAlgebra(a){if(!a)throw new h.InvalidExpression(a);let b=d.Algebra.expressionTypes;switch(a.expressionType){case b.TERM:return this.transformTerm(a);case b.OPERATOR:return this.transformOperator(a);case b.NAMED:return this.transformNamed(a);case b.EXISTENCE:return k.transformExistence(a);case b.AGGREGATE:return k.transformAggregate(a);case b.WILDCARD:return k.transformWildcard(a);default:throw new h.InvalidExpressionType(a)}}static transformWildcard(a){if(!a.wildcard)throw new h.InvalidExpression(a);return new e.NamedNode(a.wildcard.value)}transformOperator(a){if(g.SpecialOperators.has(a.operator)){let b=a.operator,c=a.args.map(a=>this.transformAlgebra(a)),d=f.specialFunctions[b];if(!d.checkArity(c))throw new h.InvalidArity(c,b);return new e.SpecialOperator(c,d.applyAsync,d.applySync)}if(!g.Operators.has(a.operator))throw new h.UnknownOperator(a.operator);let i=a.operator,j=a.args.map(a=>this.transformAlgebra(a)),l=f.regularFunctions[i];if(!k.hasCorrectArity(j,l.arity))throw new h.InvalidArity(j,i);return new e.Operator(j,a=>l.apply(a,this.algebraConfig))}wrapSyncFunction(a,b){return c=>{try{let d=a(c.map(a=>a.toRDF()));return this.transformRDFTermUnsafe(d)}catch(e){throw new i.ExtensionFunctionError(b,e)}}}wrapAsyncFunction(a,b){return async c=>{try{let d=await a(c.map(a=>a.toRDF()));return this.transformRDFTermUnsafe(d)}catch(e){throw new i.ExtensionFunctionError(b,e)}}}transformNamed(a){let b=a.name.value,c=a.args.map(a=>this.transformAlgebra(a));if(g.NamedOperators.has(b)){let d=a.name.value,i=f.namedFunctions[d];return new e.Named(a.name,c,a=>i.apply(a,this.algebraConfig))}if("sync"===this.creatorConfig.type){let j=this.creatorConfig.creator(a.name);if(j){let k=this.wrapSyncFunction(j,a.name.value);return new e.SyncExtension(a.name,c,k)}}else{let l=this.creatorConfig.creator(a.name);if(l){let m=this.wrapAsyncFunction(l,a.name.value);return new e.AsyncExtension(a.name,c,m)}}throw new h.UnknownNamedOperator(a.name.value)}static hasCorrectArity(a,b){return b===Number.POSITIVE_INFINITY||(Array.isArray(b)?b.includes(a.length):a.length===b)}static transformAggregate(a){let b=a.aggregator;return new e.Aggregate(b,a)}static transformExistence(a){return new e.Existence(a)}}b.AlgebraTransformer=k},77807:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TermTransformer=void 0;let d=c(22086),e=c(21938),f=c(36538),g=c(28952),h=c(7731),i=c(22344),j=c(34749);b.TermTransformer=class{constructor(a,b){this.superTypeProvider=a,this.enableExtendedXSDTypes=b}transformRDFTermUnsafe(a){return this.transformTerm({term:a,type:e.Algebra.types.EXPRESSION,expressionType:e.Algebra.expressionTypes.TERM})}transformTerm(a){if(!a.term)throw new h.InvalidExpression(a);switch(a.term.termType){case"Variable":return new f.Variable(d.termToString(a.term));case"Literal":return this.transformLiteral(a.term);case"NamedNode":return new f.NamedNode(a.term.value);case"BlankNode":return new f.BlankNode(a.term.value);default:throw new h.InvalidTermType(a)}}legacyTransformLiteral(a){if(!a.datatype)return a.language?new f.LangStringLiteral(a.value,a.language):new f.StringLiteral(a.value);let b=a.datatype.value;switch(b){case null:case void 0:case"":return a.language?new f.LangStringLiteral(a.value,a.language):new f.StringLiteral(a.value);case g.TypeURL.XSD_ANY_URI:case g.TypeURL.XSD_NORMALIZED_STRING:case g.TypeURL.XSD_TOKEN:case g.TypeURL.XSD_LANGUAGE:case g.TypeURL.XSD_NM_TOKEN:case g.TypeURL.XSD_NAME:case g.TypeURL.XSD_ENTITY:case g.TypeURL.XSD_ID:case g.TypeURL.XSD_ID_REF:case g.TypeURL.XSD_STRING:return new f.StringLiteral(a.value,b);case g.TypeURL.RDF_LANG_STRING:return new f.LangStringLiteral(a.value,a.language);case g.TypeURL.XSD_DATE_TIME_STAMP:case g.TypeURL.XSD_DATE_TIME:{let c=new Date(a.value);if(Number.isNaN(c.getTime()))return new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value);return new f.DateTimeLiteral(new Date(a.value),a.value,b)}case g.TypeURL.XSD_BOOLEAN:if("true"!==a.value&&"false"!==a.value&&"1"!==a.value&&"0"!==a.value)return new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value);return new f.BooleanLiteral("true"===a.value||"1"===a.value,a.value,b);case g.TypeURL.XSD_DECIMAL:{let d=i.parseXSDDecimal(a.value);if(void 0===d)return new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value);return new f.DecimalLiteral(d,b,a.value)}case g.TypeURL.XSD_FLOAT:{let e=i.parseXSDFloat(a.value);if(void 0===e)return new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value);return new f.FloatLiteral(e,b,a.value)}case g.TypeURL.XSD_DOUBLE:{let h=i.parseXSDFloat(a.value);if(void 0===h)return new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value);return new f.DoubleLiteral(h,b,a.value)}case g.TypeURL.XSD_NON_POSITIVE_INTEGER:case g.TypeURL.XSD_NEGATIVE_INTEGER:case g.TypeURL.XSD_LONG:case g.TypeURL.XSD_INT:case g.TypeURL.XSD_SHORT:case g.TypeURL.XSD_BYTE:case g.TypeURL.XSD_NON_NEGATIVE_INTEGER:case g.TypeURL.XSD_POSITIVE_INTEGER:case g.TypeURL.XSD_UNSIGNED_LONG:case g.TypeURL.XSD_UNSIGNED_INT:case g.TypeURL.XSD_UNSIGNED_SHORT:case g.TypeURL.XSD_UNSIGNED_BYTE:case g.TypeURL.XSD_INTEGER:{let j=i.parseXSDDecimal(a.value);if(void 0===j)return new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value);return new f.IntegerLiteral(j,b,a.value)}default:return new f.Literal(a.value,b,a.value)}}transformLiteral(a){return this.enableExtendedXSDTypes?this.experimentalTransformLiteral(a):this.legacyTransformLiteral(a)}experimentalTransformLiteral(a){if(!a.datatype||[null,void 0,""].includes(a.datatype.value))return a.language?new f.LangStringLiteral(a.value,a.language):new f.StringLiteral(a.value);let b=a.datatype.value,c=(0,j.getSuperTypeDict)(b,this.superTypeProvider);if(g.TypeURL.XSD_STRING in c)return new f.StringLiteral(a.value,b);if(g.TypeURL.RDF_LANG_STRING in c)return new f.LangStringLiteral(a.value,a.language);if(g.TypeURL.XSD_DATE_TIME in c){let d=new Date(a.value);return Number.isNaN(d.getTime())?new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value):new f.DateTimeLiteral(new Date(a.value),a.value,b)}if(g.TypeURL.XSD_BOOLEAN in c)return"true"!==a.value&&"false"!==a.value&&"1"!==a.value&&"0"!==a.value?new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value):new f.BooleanLiteral("true"===a.value||"1"===a.value,a.value);if(g.TypeURL.XSD_DECIMAL in c){let e=i.parseXSDDecimal(a.value);return void 0===e?new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value):g.TypeURL.XSD_INTEGER in c?new f.IntegerLiteral(e,b,a.value):new f.DecimalLiteral(e,b,a.value)}let h=g.TypeURL.XSD_FLOAT in c,k=g.TypeURL.XSD_DOUBLE in c;if(h||k){let l=i.parseXSDFloat(a.value);return void 0===l?new f.NonLexicalLiteral(void 0,b,this.superTypeProvider,a.value):h?new f.FloatLiteral(l,b,a.value):new f.DoubleLiteral(l,b,a.value)}return new f.Literal(a.value,b,a.value)}}},28952:function(a,b){"use strict";var c,d,e,f,g,h,i,j,k;Object.defineProperty(b,"__esModule",{value:!0}),b.NamedOperators=b.SetFunctions=b.SetFunction=b.Operators=b.SpecialOperators=b.RegularOperators=b.SpecialOperator=b.RegularOperator=b.TypeURL=b.TypeAlias=void 0,(g=b.TypeAlias||(b.TypeAlias={})).SPARQL_NUMERIC="SPARQL_NUMERIC",g.SPARQL_STRINGLY="SPARQL_STRINGLY",g.SPARQL_NON_LEXICAL="SPARQL_NON_LEXICAL",(h=c=b.TypeURL||(b.TypeURL={})).XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",h.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",h.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",h.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",h.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",h.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",h.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",h.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",h.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",h.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",h.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",h.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",h.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",h.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",h.XSD_INT="http://www.w3.org/2001/XMLSchema#int",h.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",h.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",h.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",h.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",h.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",h.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",h.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",h.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",h.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",h.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",h.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",h.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",h.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",h.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",h.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",h.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",h.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",h.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",h.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",h.XSD_DAYTIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration",(i=d=b.RegularOperator||(b.RegularOperator={})).NOT="!",i.UMINUS="UMINUS",i.UPLUS="UPLUS",i.EQUAL="=",i.NOT_EQUAL="!=",i.LT="<",i.GT=">",i.LTE="<=",i.GTE=">=",i.MULTIPLICATION="*",i.DIVISION="/",i.ADDITION="+",i.SUBTRACTION="-",i.IS_IRI="isiri",i.IS_BLANK="isblank",i.IS_LITERAL="isliteral",i.IS_NUMERIC="isnumeric",i.STR="str",i.LANG="lang",i.DATATYPE="datatype",i.IRI="iri",i.URI="uri",i.STRDT="strdt",i.STRLANG="strlang",i.UUID="uuid",i.STRUUID="struuid",i.STRLEN="strlen",i.SUBSTR="substr",i.UCASE="ucase",i.LCASE="lcase",i.STRSTARTS="strstarts",i.STRENDS="strends",i.CONTAINS="contains",i.STRBEFORE="strbefore",i.STRAFTER="strafter",i.ENCODE_FOR_URI="encode_for_uri",i.LANG_MATCHES="langmatches",i.REGEX="regex",i.REPLACE="replace",i.ABS="abs",i.ROUND="round",i.CEIL="ceil",i.FLOOR="floor",i.RAND="rand",i.NOW="now",i.YEAR="year",i.MONTH="month",i.DAY="day",i.HOURS="hours",i.MINUTES="minutes",i.SECONDS="seconds",i.TIMEZONE="timezone",i.TZ="tz",i.MD5="md5",i.SHA1="sha1",i.SHA256="sha256",i.SHA384="sha384",i.SHA512="sha512",(j=e=b.SpecialOperator||(b.SpecialOperator={})).BOUND="bound",j.IF="if",j.COALESCE="coalesce",j.LOGICAL_OR="||",j.LOGICAL_AND="&&",j.SAME_TERM="sameterm",j.IN="in",j.NOT_IN="notin",j.CONCAT="concat",j.BNODE="BNODE",b.RegularOperators=new Set(Object.values(d)),b.SpecialOperators=new Set(Object.values(e)),b.Operators=new Set([...b.RegularOperators,...b.SpecialOperators]),(k=f=b.SetFunction||(b.SetFunction={})).COUNT="count",k.SUM="sum",k.MIN="min",k.MAX="max",k.AVG="avg",k.GROUP_CONCAT="group_concat",k.SAMPLE="sample",b.SetFunctions=new Set(Object.values(f)),b.NamedOperators=new Set([c.XSD_STRING,c.XSD_FLOAT,c.XSD_DOUBLE,c.XSD_DECIMAL,c.XSD_INTEGER,c.XSD_DATE_TIME,c.XSD_DATE,c.XSD_BOOLEAN,])},7731:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NoExistenceHook=b.NoAggregator=b.ExtensionFunctionError=b.UnknownNamedOperator=b.UnknownOperator=b.InvalidTermType=b.InvalidExpressionType=b.InvalidExpression=b.InvalidArity=b.UnimplementedError=b.UnexpectedError=b.EmptyAggregateError=b.IncompatibleLanguageOperation=b.InvalidTimezoneCall=b.CastError=b.InvalidArgumentTypes=b.InError=b.CoalesceError=b.RDFEqualTypeError=b.EBVCoercionError=b.UnboundVariableError=b.InvalidLexicalForm=b.isExpressionError=b.ExpressionError=void 0;class c extends Error{}function d(a){return JSON.stringify(a)}b.ExpressionError=c,b.isExpressionError=function(a){return a instanceof c},b.InvalidLexicalForm=class extends c{constructor(a){super(`Invalid lexical form '${d(a)}'`),this.arg=a}},b.UnboundVariableError=class extends c{constructor(a,b){super(`Unbound variable '${d(a)}'`),this.variable=a,this.bindings=b}},b.EBVCoercionError=class extends c{constructor(a){super(`Cannot coerce term to EBV '${d(a)}'`),this.arg=a}},b.RDFEqualTypeError=class extends c{constructor(a){super("Equality test for literals with unsupported datatypes"),this.args=a}},b.CoalesceError=class extends c{constructor(a){super("All COALESCE arguments threw errors"),this.errors=a}},b.InError=class extends c{constructor(a){super(`Some argument to IN errorred and none where equal. ${a.map(a=>`(${a.toString()}) `).join("and ")}`),this.errors=a}},b.InvalidArgumentTypes=class extends c{constructor(a,b){super(`Argument types not valid for operator: '${d(b)}' with '${d(a)}`),this.args=a,this.op=b}},b.CastError=class extends c{constructor(a,b){super(`Invalid cast: '${d(a)}' to '${d(b)}'`),this.arg=a}},b.InvalidTimezoneCall=class extends c{constructor(a){super(`TIMEZONE call on ${a} which has no timezone`),this.dateString=a}},b.IncompatibleLanguageOperation=class extends c{constructor(a,b){super(`Operation on incompatible language literals '${d(a)}' and '${d(b)}'`),this.arg1=a,this.arg2=b}},b.EmptyAggregateError=class extends c{constructor(){super("Empty aggregate expression")}},b.UnexpectedError=class extends Error{constructor(a,b){super(`Programmer Error '${a}'`),this.payload=b}},b.UnimplementedError=class extends Error{constructor(a){super(`Unimplemented feature '${a}!'`)}},b.InvalidArity=class extends Error{constructor(a,b){super(`The number of args does not match the arity of the operator '${d(b)}'.`),this.args=a,this.op=b}},b.InvalidExpression=class extends Error{constructor(a){super(`Invalid SPARQL Expression '${d(a)}'`)}},b.InvalidExpressionType=class extends Error{constructor(a){super(`Invalid expression type for SPARQL Expression '${d(a)}'`),this.expr=a}},b.InvalidTermType=class extends Error{constructor(a){super(`Invalid term type for term '${d(a)}'`),this.term=a}},b.UnknownOperator=class extends Error{constructor(a){super(`Unknown operator: '${d(a)}`)}},b.UnknownNamedOperator=class extends Error{constructor(a){super(`Unknown named operator: '${d(a)}'`)}},b.ExtensionFunctionError=class extends Error{constructor(a,b){b instanceof Error?super(`Error thrown in ${a}: ${b.message}${b.stack?`
${b.stack}`:""}`):super(`Error thrown in ${a}`)}},b.NoAggregator=class extends Error{constructor(a){super(`Aggregate expression ${d(a)} found, but no aggregate hook provided.`)}},b.NoExistenceHook=class extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}},98468:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.orderTypes=void 0;let d=c(39593),e=c(77807);function f(a,b,c,f,g){let i={discoverer:c||(()=>"term"),cache:f||new d},j=new e.TermTransformer(i,g||!1),k=j.transformLiteral(a),l=j.transformLiteral(b),m=h[k.mainSparqlType],n=h[l.mainSparqlType];if(m!==n)return m<n;switch(m){case"boolean":case"dateTime":case"decimal":case"integer":case"float":case"double":case"string":return k.typedValue<l.typedValue;case"langString":return k.typedValue<l.typedValue||k.typedValue===l.typedValue&&(k.language||"")<(l.language||"");case"other":case"nonlexical":return k.dataType<l.dataType||k.dataType===l.dataType&&k.str()<l.str()}}b.orderTypes=function(a,b,c,d,e,h){var i,j,k,l,m;return a===b?0:void 0===a?c?-1:1:void 0===b?c?1:-1:a.equals(b)?0:(i=a,j=b,k=d,l=e,m=h,(i.termType!==j.termType?g[i.termType]<g[j.termType]:"Literal"===i.termType?f(i,j,k,l,m):i.value<j.value)===c)?-1:1};let g={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5},h={string:"string",langString:"langString",dateTime:"dateTime",boolean:"boolean",integer:"decimal",decimal:"decimal",float:"decimal",double:"decimal",other:"other",nonlexical:"other"}},22344:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseXSDDateTime=b.parseXSDInteger=b.parseXSDDecimal=b.parseXSDFloat=void 0,b.parseXSDFloat=function(a){let b=Number(a);return Number.isNaN(b)?"NaN"===a?Number.NaN:"INF"===a?Number.POSITIVE_INFINITY:"-INF"===a?Number.NEGATIVE_INFINITY:void 0:b},b.parseXSDDecimal=function(a){let b=Number(a);return Number.isNaN(b)?void 0:b},b.parseXSDInteger=function(a){let b=Number.parseInt(a,10);return Number.isNaN(b)?void 0:b},b.parseXSDDateTime=function(a){let b=a.indexOf("T"),c=b>=0?a.slice(0,Math.max(0,b)):a,[d,e,f]=c.split("-"),g="",h="",i="",j="";if(b>=0){let k=a.slice(b+1),[l,m]=k.split(/[+Z-]/u);[g,h,i]=l.split(":");let n=/([+Z-].*)/u.exec(k);j=n?n[0]:""}else g="00",h="00",i="00",j="";return{year:d,month:e,day:f,hours:g,minutes:h,seconds:i,timezone:j}}},34749:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isSubTypeOf=b.getSuperTypeDict=b.isInternalSubType=b.asGeneralType=b.asOverrideType=b.asKnownLiteralType=b.asTypeAlias=b.typeAliasCheck=b.extensionTableInit=b.getSuperTypes=b.superTypeDictTable=b.extensionTableInput=b.mainSparqlType=void 0;let d=c(36538),e=c(28952);function f(a,c){let d=c.cache.get(a);if(d)return d;let e=c.discoverer(a);if("term"===e){let g=Object.create(null);return g.__depth=0,g[a]=0,c.cache.set(a,g),g}let h,j=i(e);return h=j?Object.assign({},b.superTypeDictTable[j]):Object.assign({},f(e,c)),h.__depth++,h[a]=h.__depth,c.cache.set(a,h),h}function g(){let a=Object.create(null);for(let[c,d]of Object.entries(b.extensionTableInput)){let e=c;!a[e]&&h(e,d,a)}b.superTypeDictTable=a}function h(a,c,d){if("term"===c|| void 0===c){let e=Object.create(null);e.__depth=0,e[a]=0,d[a]=e;return}d[c]||h(c,b.extensionTableInput[c],d),d[a]=Object.assign(Object.assign({},d[c]),{[a]:d[c].__depth+1,__depth:d[c].__depth+1})}function i(a){if(a in b.superTypeDictTable)return a}function j(a,c){let d=i(a);return d?b.superTypeDictTable[d]:f(a,c)}b.mainSparqlType=function(a){switch(a){case"term":return{types:["term"],prio:0};case"namedNode":return{types:["namedNode"],prio:1};case"literal":return{types:["literal"],prio:1};case"blankNode":return{types:["blankNode"],prio:1};case e.TypeAlias.SPARQL_NON_LEXICAL:return{types:["nonlexical"],prio:2};case null:case void 0:case"":case e.TypeURL.XSD_ANY_URI:case e.TypeURL.XSD_NORMALIZED_STRING:case e.TypeURL.XSD_TOKEN:case e.TypeURL.XSD_LANGUAGE:case e.TypeURL.XSD_NM_TOKEN:case e.TypeURL.XSD_NAME:case e.TypeURL.XSD_ENTITY:case e.TypeURL.XSD_ID:case e.TypeURL.XSD_ID_REF:case e.TypeURL.XSD_STRING:return{types:["string"],prio:b.superTypeDictTable[e.TypeURL.XSD_STRING].__depth+2};case e.TypeURL.RDF_LANG_STRING:return{types:["langString"],prio:b.superTypeDictTable[e.TypeURL.RDF_LANG_STRING].__depth+2};case e.TypeURL.XSD_DATE_TIME_STAMP:case e.TypeURL.XSD_DATE_TIME:return{types:["dateTime"],prio:b.superTypeDictTable[e.TypeURL.XSD_DATE_TIME].__depth+2};case e.TypeURL.XSD_BOOLEAN:return{types:["boolean"],prio:b.superTypeDictTable[e.TypeURL.XSD_BOOLEAN].__depth+2};case e.TypeURL.XSD_DECIMAL:return{types:["decimal","integer"],prio:b.superTypeDictTable[e.TypeURL.XSD_DECIMAL].__depth+2};case e.TypeURL.XSD_FLOAT:return{types:["float"],prio:b.superTypeDictTable[e.TypeURL.XSD_FLOAT].__depth+2};case e.TypeURL.XSD_DOUBLE:return{types:["double"],prio:b.superTypeDictTable[e.TypeURL.XSD_DOUBLE].__depth+2};case e.TypeURL.XSD_NON_POSITIVE_INTEGER:case e.TypeURL.XSD_NEGATIVE_INTEGER:case e.TypeURL.XSD_LONG:case e.TypeURL.XSD_INT:case e.TypeURL.XSD_SHORT:case e.TypeURL.XSD_BYTE:case e.TypeURL.XSD_NON_NEGATIVE_INTEGER:case e.TypeURL.XSD_POSITIVE_INTEGER:case e.TypeURL.XSD_UNSIGNED_LONG:case e.TypeURL.XSD_UNSIGNED_INT:case e.TypeURL.XSD_UNSIGNED_SHORT:case e.TypeURL.XSD_UNSIGNED_BYTE:case e.TypeURL.XSD_INTEGER:return{types:["integer"],prio:b.superTypeDictTable[e.TypeURL.XSD_INTEGER].__depth+2};case e.TypeAlias.SPARQL_STRINGLY:return{types:["string","langString"],prio:b.superTypeDictTable[e.TypeAlias.SPARQL_STRINGLY].__depth+2};case e.TypeAlias.SPARQL_NUMERIC:return{types:["decimal","float","integer","double"],prio:b.superTypeDictTable[e.TypeAlias.SPARQL_NUMERIC].__depth+2};default:return{types:["other"],prio:2}}},b.extensionTableInput={[e.TypeURL.XSD_DATE_TIME_STAMP]:e.TypeURL.XSD_DATE_TIME,[e.TypeURL.XSD_DAYTIME_DURATION]:e.TypeURL.XSD_DURATION,[e.TypeURL.XSD_YEAR_MONTH_DURATION]:e.TypeURL.XSD_DURATION,[e.TypeURL.RDF_LANG_STRING]:e.TypeAlias.SPARQL_STRINGLY,[e.TypeURL.XSD_STRING]:e.TypeAlias.SPARQL_STRINGLY,[e.TypeURL.XSD_NORMALIZED_STRING]:e.TypeURL.XSD_STRING,[e.TypeURL.XSD_TOKEN]:e.TypeURL.XSD_NORMALIZED_STRING,[e.TypeURL.XSD_LANGUAGE]:e.TypeURL.XSD_TOKEN,[e.TypeURL.XSD_NM_TOKEN]:e.TypeURL.XSD_TOKEN,[e.TypeURL.XSD_NAME]:e.TypeURL.XSD_TOKEN,[e.TypeURL.XSD_NC_NAME]:e.TypeURL.XSD_NAME,[e.TypeURL.XSD_ENTITY]:e.TypeURL.XSD_NC_NAME,[e.TypeURL.XSD_ID]:e.TypeURL.XSD_NC_NAME,[e.TypeURL.XSD_ID_REF]:e.TypeURL.XSD_NC_NAME,[e.TypeURL.XSD_DOUBLE]:e.TypeAlias.SPARQL_NUMERIC,[e.TypeURL.XSD_FLOAT]:e.TypeAlias.SPARQL_NUMERIC,[e.TypeURL.XSD_DECIMAL]:e.TypeAlias.SPARQL_NUMERIC,[e.TypeURL.XSD_INTEGER]:e.TypeURL.XSD_DECIMAL,[e.TypeURL.XSD_NON_POSITIVE_INTEGER]:e.TypeURL.XSD_INTEGER,[e.TypeURL.XSD_NEGATIVE_INTEGER]:e.TypeURL.XSD_NON_POSITIVE_INTEGER,[e.TypeURL.XSD_LONG]:e.TypeURL.XSD_INTEGER,[e.TypeURL.XSD_INT]:e.TypeURL.XSD_LONG,[e.TypeURL.XSD_SHORT]:e.TypeURL.XSD_INT,[e.TypeURL.XSD_BYTE]:e.TypeURL.XSD_SHORT,[e.TypeURL.XSD_NON_NEGATIVE_INTEGER]:e.TypeURL.XSD_INTEGER,[e.TypeURL.XSD_POSITIVE_INTEGER]:e.TypeURL.XSD_NON_NEGATIVE_INTEGER,[e.TypeURL.XSD_UNSIGNED_LONG]:e.TypeURL.XSD_NON_NEGATIVE_INTEGER,[e.TypeURL.XSD_UNSIGNED_INT]:e.TypeURL.XSD_UNSIGNED_LONG,[e.TypeURL.XSD_UNSIGNED_SHORT]:e.TypeURL.XSD_UNSIGNED_INT,[e.TypeURL.XSD_UNSIGNED_BYTE]:e.TypeURL.XSD_UNSIGNED_SHORT,[e.TypeURL.XSD_DATE_TIME]:"term",[e.TypeURL.XSD_BOOLEAN]:"term",[e.TypeURL.XSD_DATE]:"term",[e.TypeURL.XSD_DURATION]:"term",[e.TypeAlias.SPARQL_NUMERIC]:"term",[e.TypeAlias.SPARQL_STRINGLY]:"term",[e.TypeAlias.SPARQL_NON_LEXICAL]:"term",[e.TypeURL.XSD_ANY_URI]:"term"},b.getSuperTypes=f,b.extensionTableInit=g,g(),!function(){for(let a of(b.typeAliasCheck=Object.create(null),Object.values(e.TypeAlias)))b.typeAliasCheck[a]=!0}(),b.asTypeAlias=function(a){if(a in b.typeAliasCheck)return a},b.asKnownLiteralType=i,b.asOverrideType=function(a){if(i(a)||"term"===a)return a},b.asGeneralType=function(a){if("term"===a||(0,d.asTermType)(a))return a},b.isInternalSubType=function(a,c){return"term"!==a&&b.superTypeDictTable[a]&& void 0!==b.superTypeDictTable[a][c]},b.getSuperTypeDict=j,b.isSubTypeOf=function(a,b,c){return"term"!==a&& void 0!==j(a,c)[b]}},4404:function(a){function b(a){this._options=a=a||{};var b=a.prefixes||{};this._prefixByIri={};var c=[];for(var d in b){var e=b[d];g(e)&&(this._prefixByIri[e]=d,c.push(e))}var f=c.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=RegExp("^("+f+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=a.sparqlStar,this._indent=g(a.indent)?a.indent:"  ",this._newline=g(a.newline)?a.newline:"\n",this._explicitDatatype=Boolean(a.explicitDatatype)}b.prototype.toQuery=function(a){var b="";return a.queryType&&(b+=a.queryType.toUpperCase()+" "),a.reduced&&(b+="REDUCED "),a.distinct&&(b+="DISTINCT "),a.variables?b+=j(a.variables,void 0,function(a){return h(a)?this.toEntity(a):"("+this.toExpression(a.expression)+" AS "+f(a.variable)+")"},this)+" ":a.template&&(b+=this.group(a.template,!0)+this._newline),a.from&&(b+=this.graphs("FROM ",a.from.default)+this.graphs("FROM NAMED ",a.from.named)),a.where&&(b+="WHERE "+this.group(a.where,!0)+this._newline),a.updates&&(b+=j(a.updates,";"+this._newline,this.toUpdate,this)),a.group&&(b+="GROUP BY "+j(a.group,void 0,function(a){var b=h(a.expression)?this.toEntity(a.expression):"("+this.toExpression(a.expression)+")";return a.variable?"("+b+" AS "+f(a.variable)+")":b},this)+this._newline),a.having&&(b+="HAVING ("+j(a.having,void 0,this.toExpression,this)+")"+this._newline),a.order&&(b+="ORDER BY "+j(a.order,void 0,function(a){var b="("+this.toExpression(a.expression)+")";return a.descending?"DESC "+b:b},this)+this._newline),a.offset&&(b+="OFFSET "+a.offset+this._newline),a.limit&&(b+="LIMIT "+a.limit+this._newline),a.values&&(b+=this.values(a)),(b=this.baseAndPrefixes(a)+b).trim()},b.prototype.baseAndPrefixes=function(a){var b=a.base?"BASE <"+a.base+">"+this._newline:"",c="";for(var d in a.prefixes)(this._options.allPrefixes||this._usedPrefixes[d])&&(c+="PREFIX "+d+": <"+a.prefixes[d]+">"+this._newline);return b+c},b.prototype.toPattern=function(a){var b=a.type||a instanceof Array&&"array"||(a.subject&&a.predicate&&a.object?"triple":"");if(!(b in this))throw Error("Unknown entry type: "+b);return this[b](a)},b.prototype.triple=function(a){return this.toEntity(a.subject)+" "+this.toEntity(a.predicate)+" "+this.toEntity(a.object)+"."},b.prototype.array=function(a){return j(a,this._newline,this.toPattern,this)},b.prototype.bgp=function(a){return this.encodeTriples(a.triples)},b.prototype.encodeTriples=function(a){if(!a.length)return"";for(var b=[],c=void 0,d=void 0,e=0;e<a.length;e++){var f=a[e];i(f.subject,c)?i(f.predicate,d)?b.push(","):(d=f.predicate,b.push(";"+this._newline,this._indent,this.toEntity(d))):(c&&b.push("."+this._newline),c=f.subject,d=f.predicate,b.push(this.toEntity(c)," ",this.toEntity(d))),b.push(" ",this.toEntity(f.object))}return b.push("."),b.join("")},b.prototype.graph=function(a){return"GRAPH "+this.toEntity(a.name)+" "+this.group(a)},b.prototype.graphs=function(a,b){return b&&0!==b.length?j(b,"",function(b){return a+this.toEntity(b)+this._newline},this):""},b.prototype.group=function(a,b){return -1===(a=!0!==b?this.array(a.patterns||a.triples):this.toPattern("group"!==a.type?a:a.patterns)).indexOf(this._newline)?"{ "+a+" }":"{"+this._newline+this.indent(a)+this._newline+"}"},b.prototype.query=function(a){return this.toQuery(a)},b.prototype.filter=function(a){return"FILTER("+this.toExpression(a.expression)+")"},b.prototype.bind=function(a){return"BIND("+this.toExpression(a.expression)+" AS "+f(a.variable)+")"},b.prototype.optional=function(a){return"OPTIONAL "+this.group(a)},b.prototype.union=function(a){return j(a.patterns,this._newline+"UNION"+this._newline,function(a){return this.group(a,!0)},this)},b.prototype.minus=function(a){return"MINUS "+this.group(a)},b.prototype.values=function(a){var b,c,d=Object.keys(a.values.reduce(function(a,b){for(var c in b)a[c]=!0;return a},{}));return 1===d.length?b=c="":(b="(",c=")"),"VALUES "+b+d.join(" ")+c+" {"+this._newline+j(a.values,this._newline,function(a){return"  "+b+j(d,void 0,function(b){return a[b]?this.toEntity(a[b]):"UNDEF"},this)+c},this)+this._newline+"}"},b.prototype.service=function(a){return"SERVICE "+(a.silent?"SILENT ":"")+this.toEntity(a.name)+" "+this.group(a)},b.prototype.toExpression=function(a){if(h(a))return this.toEntity(a);switch(a.type.toLowerCase()){case"aggregate":return a.aggregation.toUpperCase()+"("+(a.distinct?"DISTINCT ":"")+this.toExpression(a.expression)+(a.separator?'; SEPARATOR = "'+a.separator.replace(c,d)+'"':"")+")";case"functioncall":return this.toEntity(a.function)+"("+j(a.args,", ",this.toExpression,this)+")";case"operation":var b=a.operator.toUpperCase(),e=a.args||[];switch(a.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(h(e[0])?this.toEntity(e[0]):"("+this.toExpression(e[0])+")")+" "+b+" "+(h(e[1])?this.toEntity(e[1]):"("+this.toExpression(e[1])+")");case"!":return"!("+this.toExpression(e[0])+")";case"uplus":return"+("+this.toExpression(e[0])+")";case"uminus":return"-("+this.toExpression(e[0])+")";case"notin":b="NOT IN";case"in":return this.toExpression(e[0])+" "+b+"("+(g(e[1])?e[1]:j(e[1],", ",this.toExpression,this))+")";case"notexists":b="NOT EXISTS";case"exists":return b+" "+this.group(e[0],!0);default:return b+"("+j(e,", ",this.toExpression,this)+")"}default:throw Error("Unknown expression type: "+a.type)}},b.prototype.toEntity=function(a){if(h(a))switch(a.termType){case"Wildcard":return"*";case"Variable":return f(a);case"BlankNode":return"_:"+a.value;case"Literal":var b=a.value||"",e=a.language||"",g=a.datatype;if(a='"'+b.replace(c,d)+'"',e)a+="@"+e;else if(g){if(!this._explicitDatatype)switch(g.value){case"http://www.w3.org/2001/XMLSchema#string":return a;case"http://www.w3.org/2001/XMLSchema#integer":if(/^\d+$/.test(b))return b+" "}a+="^^"+this.encodeIRI(g.value)}return a;case"Quad":if(!this._sparqlStar)throw Error("SPARQL* support is not enabled");if(a.graph&&"DefaultGraph"!==a.graph.termType)return"<< GRAPH "+this.toEntity(a.graph)+" { "+this.toEntity(a.subject)+" "+this.toEntity(a.predicate)+" "+this.toEntity(a.object)+" }  >>";return"<< "+this.toEntity(a.subject)+" "+this.toEntity(a.predicate)+" "+this.toEntity(a.object)+" >>";default:return this.encodeIRI(a.value)}else{var i=a.items.map(this.toEntity,this),j=a.pathType;switch(j){case"^":case"!":return j+i[0];case"*":case"+":case"?":return"("+i[0]+j+")";default:return"("+i.join(j)+")"}}};var c=/["\\\t\n\r\b\f]/g,d=function(a){return e[a]},e={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function f(a){return"?"+a.value}function g(a){return"string"==typeof a}function h(a){return"string"==typeof a.termType}function i(a,b){if(!a||!h(a)||!b||!h(b)||a.termType!==b.termType)return!1;switch(a.termType){case"Literal":return a.value===b.value&&a.language===b.language&&i(a.datatype,b.datatype);case"Quad":return i(a.subject,b.subject)&&i(a.predicate,b.predicate)&&i(a.object,b.object)&&i(a.graph,b.graph);default:return a.value===b.value}}function j(a,b,c,d){return a.map(c,d).join(g(b)?b:" ")}b.prototype.encodeIRI=function(a){var b=this._prefixRegex.exec(a);if(b){var c=this._prefixByIri[b[1]];return this._usedPrefixes[c]=!0,c+":"+b[2]}return"<"+a+">"},b.prototype.toUpdate=function(a){switch(a.type||a.updateType){case"load":return"LOAD"+(a.source?" "+this.toEntity(a.source):"")+(a.destination?" INTO GRAPH "+this.toEntity(a.destination):"");case"insert":return"INSERT DATA "+this.group(a.insert,!0);case"delete":return"DELETE DATA "+this.group(a.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(a.delete,!0);case"insertdelete":return(a.graph?"WITH "+this.toEntity(a.graph)+this._newline:"")+(a.delete.length?"DELETE "+this.group(a.delete,!0)+this._newline:"")+(a.insert.length?"INSERT "+this.group(a.insert,!0)+this._newline:"")+(a.using?this.graphs("USING ",a.using.default):"")+(a.using?this.graphs("USING NAMED ",a.using.named):"")+"WHERE "+this.group(a.where,!0);case"add":case"copy":case"move":return a.type.toUpperCase()+" "+(a.silent?"SILENT ":"")+(a.source.default?"DEFAULT":this.toEntity(a.source.name))+" TO "+this.toEntity(a.destination.name);case"create":case"clear":case"drop":return a.type.toUpperCase()+(a.silent?" SILENT ":" ")+(a.graph.default?"DEFAULT":a.graph.named?"NAMED":a.graph.all?"ALL":"GRAPH "+this.toEntity(a.graph.name));default:throw Error("Unknown update query type: "+a.type)}},b.prototype.indent=function(a){return a.replace(/^/gm,this._indent)},a.exports=function(a={}){return{stringify:function(c){var d=Object.create(a);return d.prefixes=c.prefixes,new b(d).toQuery(c)},createGenerator:function(){return new b(a)}}}},97107:function(a,b,c){a=c.nmd(a);var d=c(34155),e=function(){var a=function(a,b,c,d){for(c=c||{},d=a.length;d--;c[a[d]]=b);return c},b=[6,12,15,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],d=[2,210],e=[107,117,120,122,123,132,133,138,322,323,324,325,326],f=[1,20],g=[1,29],h=[6,90],i=[45,46,58],j=[45,58],k=[1,58],l=[1,60],m=[1,56],n=[1,59],o=[1,65],p=[1,66],q=[26,34,35],r=[13,16,312],s=[119,141,320,327],t=[13,16,119,141,312],u=[1,88],v=[1,92],w=[1,94],x=[119,141,320,321,327],y=[13,16,119,141,312,321],z=[1,100],A=[2,252],B=[1,99],C=[13,16,34,35,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],D=[6,45,46,58,68,75,78,86,88,90],E=[6,13,16,34,45,46,58,68,75,78,86,88,90,312],F=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,330,331,333,334,335,336,337,338,339],G=[34,35,45,46,58],H=[1,131],I=[1,132],J=[1,143],K=[1,123],L=[1,117],M=[1,122],N=[1,124],O=[1,134],P=[1,135],Q=[1,136],R=[1,137],S=[1,139],T=[1,140],U=[2,460],V=[1,149],W=[1,150],X=[1,151],Y=[1,144],Z=[1,145],$=[1,148],_=[1,158],aa=[1,159],ab=[1,160],ac=[1,161],ad=[1,162],ae=[1,163],af=[1,164],ag=[1,165],ah=[1,166],ai=[1,167],aj=[1,157],ak=[1,152],al=[1,153],am=[1,154],an=[1,155],ao=[1,156],ap=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],aq=[2,311],ar=[1,184],as=[1,182],at=[6,191],au=[2,328],av=[2,316],aw=[45,135],ax=[6,48,78,86,88,90],ay=[2,256],az=[1,198],aA=[1,200],aB=[6,48,75,78,86,88,90],aC=[2,254],aD=[1,206],aE=[1,218],aF=[1,216],aG=[1,224],aH=[1,217],aI=[1,222],aJ=[1,223],aK=[6,68,75,78,86,88,90],aL=[37,38,191,250,278],aM=[37,38,191,250,254,278],aN=[37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,334,335,336,337,338,339],aO=[26,37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,331,334,335,336,337,338,339],aP=[1,252],aQ=[1,251],aR=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],aS=[1,260],aT=[1,259],aU=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],aV=[35,93],aW=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],aX=[13,16,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],aY=[48,93],aZ=[34,38],a$=[6,116,191],a_=[48,119],a0=[6,48,86,88,90],a1=[2,340],a2=[2,332],a3=[1,312],a4=[1,314],a5=[48,119,328],a6=[13,16,34,195,312],a7=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],a8=[13,16,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],a9=[1,346],ba=[1,347],bb=[13,16,26,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],bc=[1,370],bd=[1,371],be=[1,384],bf=[6,48,90],bg=[6,13,16,35,48,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],bh=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,226,231,245,246,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,339,340,341,342,343,344],bi=[46,48,90,119,167,168,170,173,174],bj=[1,403],bk=[1,404],bl=[1,410],bm=[1,409],bn=[48,119,191,227,328],bo=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],bp=[13,16,34,35,38,48,87,93,119,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],bq=[13,16,38,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],br=[35,48],bs=[2,331],bt=[1,463],bu=[1,460],bv=[1,461],bw=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,329,331,334,335,336,337,338,339,340,341,342,343,344],bx=[13,16,35,195,219,224,312],by=[2,388],bz=[1,481],bA=[46,48,90,119,167,168,170,173,174,328],bB=[13,16,34,35,195,219,224,312],bC=[6,13,16,34,35,48,75,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],bD=[13,16,34,35,38,48,87,93,119,191,195,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],bE=[6,13,16,34,35,48,81,83,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],bF=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],bG=[13,16,34,312],bH=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],bI=[2,343],bJ=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],bK=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],bL=[2,338],bM=[13,16,35,195,219,312],bN=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],bO=[13,16,38,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],bP=[46,48,90,119,167,168,170,173,174,191,227,328],bQ=[13,16,34,38,48,87,100,195,231,235,299,300,301,302,303,304,305,306,307,308,309,310,311,312],bR=[13,16,34,35,48,87,93,119,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],bS=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331],bT=[13,16,26,34,35,38,87,93,226,231,245,246,271,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331,333],bU=[1,632],bV=[1,633],bW=[2,326],bX=[13,16,38,195,224,312],bY={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,VarTriple:39,ConstructQuery:40,CONSTRUCT:41,ConstructTemplate:42,ConstructQuery_repetition0:43,ConstructQuery_repetition1:44,WHERE:45,"{":46,ConstructQuery_option0:47,"}":48,DescribeQuery:49,DESCRIBE:50,DescribeQuery_group0:51,DescribeQuery_repetition0:52,DescribeQuery_option0:53,AskQuery:54,ASK:55,AskQuery_repetition0:56,DatasetClause:57,FROM:58,DatasetClause_option0:59,iri:60,WhereClause_option0:61,GroupGraphPattern:62,SolutionModifier_option0:63,SolutionModifierNoGroup_option0:64,SolutionModifierNoGroup_option1:65,SolutionModifierNoGroup_option2:66,GroupClause:67,GROUP:68,BY:69,GroupClause_repetition_plus0:70,GroupCondition:71,BuiltInCall:72,FunctionCall:73,HavingClause:74,HAVING:75,HavingClause_repetition_plus0:76,OrderClause:77,ORDER:78,OrderClause_repetition_plus0:79,OrderCondition:80,ASC:81,BrackettedExpression:82,DESC:83,Constraint:84,LimitOffsetClauses:85,LIMIT:86,INTEGER:87,OFFSET:88,ValuesClause:89,VALUES:90,InlineData:91,InlineData_repetition0:92,NIL:93,InlineData_repetition1:94,InlineData_repetition_plus2:95,InlineData_repetition3:96,DataBlockValue:97,Literal:98,ConstTriple:99,UNDEF:100,DataBlockValueList:101,DataBlockValueList_repetition_plus0:102,Update:103,Update_repetition0:104,Update1:105,Update_option0:106,LOAD:107,Update1_option0:108,Update1_option1:109,Update1_group0:110,Update1_option2:111,GraphRefAll:112,Update1_group1:113,Update1_option3:114,GraphOrDefault:115,TO:116,CREATE:117,Update1_option4:118,GRAPH:119,INSERTDATA:120,QuadPattern:121,DELETEDATA:122,DELETEWHERE:123,Update1_option5:124,InsertClause:125,Update1_option6:126,Update1_repetition0:127,Update1_option7:128,DeleteClause:129,Update1_option8:130,Update1_repetition1:131,DELETE:132,INSERT:133,UsingClause:134,USING:135,UsingClause_option0:136,WithClause:137,WITH:138,IntoGraphClause:139,INTO:140,DEFAULT:141,GraphOrDefault_option0:142,GraphRefAll_group0:143,QuadPattern_option0:144,QuadPattern_repetition0:145,QuadsNotTriples:146,QuadsNotTriples_group0:147,QuadsNotTriples_option0:148,QuadsNotTriples_option1:149,QuadsNotTriples_option2:150,TriplesTemplate:151,TriplesTemplate_repetition0:152,TriplesSameSubject:153,TriplesTemplate_option0:154,GroupGraphPatternSub:155,GroupGraphPatternSub_option0:156,GroupGraphPatternSub_repetition0:157,GroupGraphPatternSubTail:158,GraphPatternNotTriples:159,GroupGraphPatternSubTail_option0:160,GroupGraphPatternSubTail_option1:161,TriplesBlock:162,TriplesBlock_repetition0:163,TriplesSameSubjectPath:164,TriplesBlock_option0:165,GraphPatternNotTriples_repetition0:166,OPTIONAL:167,MINUS:168,GraphPatternNotTriples_group0:169,SERVICE:170,GraphPatternNotTriples_option0:171,GraphPatternNotTriples_group1:172,FILTER:173,BIND:174,FunctionCall_option0:175,FunctionCall_repetition0:176,ExpressionList:177,ExpressionList_repetition0:178,ConstructTemplate_option0:179,ConstructTriples:180,ConstructTriples_repetition0:181,ConstructTriples_option0:182,TriplesSameSubject_group0:183,PropertyListNotEmpty:184,TriplesNode:185,PropertyList:186,PropertyList_option0:187,VerbObjectList:188,PropertyListNotEmpty_repetition0:189,SemiOptionalVerbObjectList:190,";":191,SemiOptionalVerbObjectList_option0:192,Verb:193,ObjectList:194,a:195,ObjectList_repetition0:196,GraphNode:197,ObjectListPath:198,ObjectListPath_repetition0:199,GraphNodePath:200,TriplesSameSubjectPath_group0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,PropertyListPathNotEmpty_group0:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmpty_repetition1:207,PropertyListPathNotEmptyTail:208,PropertyListPathNotEmptyTail_group0:209,Path:210,Path_repetition0:211,PathSequence:212,PathSequence_repetition0:213,PathEltOrInverse:214,PathElt:215,PathPrimary:216,PathElt_option0:217,PathEltOrInverse_option0:218,"!":219,PathNegatedPropertySet:220,PathOneInPropertySet:221,PathNegatedPropertySet_repetition0:222,PathNegatedPropertySet_option0:223,"^":224,TriplesNode_repetition_plus0:225,"[":226,"]":227,TriplesNodePath_repetition_plus0:228,GraphNode_group0:229,GraphNodePath_group0:230,"<<":231,VarTriple_group0:232,VarTriple_group1:233,VarTriple_group2:234,">>":235,VarTriple_group3:236,VarTriple_group4:237,ConstTriple_group0:238,ConstTriple_group1:239,ConstTriple_group2:240,ConstTriple_group3:241,ConstTriple_group4:242,VarOrTerm:243,Term:244,BLANK_NODE_LABEL:245,ANON:246,ConditionalAndExpression:247,Expression_repetition0:248,ExpressionTail:249,"||":250,RelationalExpression:251,ConditionalAndExpression_repetition0:252,ConditionalAndExpressionTail:253,"&&":254,AdditiveExpression:255,RelationalExpression_group0:256,RelationalExpression_option0:257,IN:258,MultiplicativeExpression:259,AdditiveExpression_repetition0:260,AdditiveExpressionTail:261,AdditiveExpressionTail_group0:262,NumericLiteralPositive:263,AdditiveExpressionTail_repetition0:264,NumericLiteralNegative:265,AdditiveExpressionTail_repetition1:266,UnaryExpression:267,MultiplicativeExpression_repetition0:268,MultiplicativeExpressionTail:269,MultiplicativeExpressionTail_group0:270,"+":271,PrimaryExpression:272,"-":273,Aggregate:274,FUNC_ARITY0:275,FUNC_ARITY1:276,FUNC_ARITY2:277,",":278,IF:279,BuiltInCall_group0:280,BOUND:281,BNODE:282,BuiltInCall_option0:283,EXISTS:284,COUNT:285,Aggregate_option0:286,Aggregate_group0:287,FUNC_AGGREGATE:288,Aggregate_option1:289,GROUP_CONCAT:290,Aggregate_option2:291,Aggregate_option3:292,GroupConcatSeparator:293,SEPARATOR:294,"=":295,String:296,LANGTAG:297,"^^":298,DECIMAL:299,DOUBLE:300,BOOLEAN:301,STRING_LITERAL1:302,STRING_LITERAL2:303,STRING_LITERAL_LONG1:304,STRING_LITERAL_LONG2:305,INTEGER_POSITIVE:306,DECIMAL_POSITIVE:307,DOUBLE_POSITIVE:308,INTEGER_NEGATIVE:309,DECIMAL_NEGATIVE:310,DOUBLE_NEGATIVE:311,PNAME_LN:312,QueryOrUpdate_group0_option0:313,Prologue_repetition0_group0:314,SelectClauseBase_option0_group0:315,DISTINCT:316,REDUCED:317,DescribeQuery_group0_repetition_plus0_group0:318,DescribeQuery_group0_repetition_plus0:319,NAMED:320,SILENT:321,CLEAR:322,DROP:323,ADD:324,MOVE:325,COPY:326,ALL:327,".":328,UNION:329,"|":330,"/":331,PathElt_option0_group0:332,"?":333,"!=":334,"<":335,">":336,"<=":337,">=":338,NOT:339,CONCAT:340,COALESCE:341,SUBSTR:342,REGEX:343,REPLACE:344,"$accept":0,"$end":1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",41:"CONSTRUCT",45:"WHERE",46:"{",48:"}",50:"DESCRIBE",55:"ASK",58:"FROM",68:"GROUP",69:"BY",75:"HAVING",78:"ORDER",81:"ASC",83:"DESC",86:"LIMIT",87:"INTEGER",88:"OFFSET",90:"VALUES",93:"NIL",100:"UNDEF",107:"LOAD",116:"TO",117:"CREATE",119:"GRAPH",120:"INSERTDATA",122:"DELETEDATA",123:"DELETEWHERE",132:"DELETE",133:"INSERT",135:"USING",138:"WITH",140:"INTO",141:"DEFAULT",167:"OPTIONAL",168:"MINUS",170:"SERVICE",173:"FILTER",174:"BIND",191:";",195:"a",219:"!",224:"^",226:"[",227:"]",231:"<<",235:">>",245:"BLANK_NODE_LABEL",246:"ANON",250:"||",254:"&&",258:"IN",271:"+",273:"-",275:"FUNC_ARITY0",276:"FUNC_ARITY1",277:"FUNC_ARITY2",278:",",279:"IF",281:"BOUND",282:"BNODE",284:"EXISTS",285:"COUNT",288:"FUNC_AGGREGATE",290:"GROUP_CONCAT",294:"SEPARATOR",295:"=",297:"LANGTAG",298:"^^",299:"DECIMAL",300:"DOUBLE",301:"BOOLEAN",302:"STRING_LITERAL1",303:"STRING_LITERAL2",304:"STRING_LITERAL_LONG1",305:"STRING_LITERAL_LONG2",306:"INTEGER_POSITIVE",307:"DECIMAL_POSITIVE",308:"DOUBLE_POSITIVE",309:"INTEGER_NEGATIVE",310:"DECIMAL_NEGATIVE",311:"DOUBLE_NEGATIVE",312:"PNAME_LN",316:"DISTINCT",317:"REDUCED",320:"NAMED",321:"SILENT",322:"CLEAR",323:"DROP",324:"ADD",325:"MOVE",326:"COPY",327:"ALL",328:".",329:"UNION",330:"|",331:"/",333:"?",334:"!=",335:"<",336:">",337:"<=",338:">=",339:"NOT",340:"CONCAT",341:"COALESCE",342:"SUBSTR",343:"REGEX",344:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[198,2],[164,2],[164,2],[202,4],[208,1],[208,3],[210,2],[212,2],[215,2],[214,2],[216,1],[216,1],[216,2],[216,3],[220,1],[220,1],[220,4],[221,1],[221,1],[221,2],[221,2],[185,3],[185,3],[203,3],[203,3],[197,1],[197,1],[200,1],[200,1],[39,9],[39,5],[99,9],[99,5],[243,1],[243,1],[244,1],[244,1],[244,1],[244,1],[244,1],[36,2],[249,2],[247,2],[253,2],[251,1],[251,3],[251,4],[255,2],[261,2],[261,2],[261,2],[259,2],[269,2],[267,2],[267,2],[267,2],[267,1],[272,1],[272,1],[272,1],[272,1],[272,1],[272,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[274,5],[274,5],[274,6],[293,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[296,1],[296,1],[296,1],[296,1],[263,1],[263,1],[263,1],[265,1],[265,1],[265,1],[60,1],[60,1],[60,1],[313,0],[313,1],[5,1],[5,1],[314,1],[314,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[315,1],[315,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[318,1],[318,1],[319,1],[319,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[199,0],[199,3],[201,1],[201,1],[204,0],[204,1],[205,1],[205,1],[206,0],[206,3],[207,0],[207,2],[209,1],[209,1],[211,0],[211,3],[213,0],[213,3],[332,1],[332,1],[332,1],[217,0],[217,1],[218,0],[218,1],[222,0],[222,3],[223,0],[223,1],[225,1],[225,2],[228,1],[228,2],[229,1],[229,1],[230,1],[230,1],[232,1],[232,1],[233,1],[233,1],[234,1],[234,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[241,1],[241,1],[242,1],[242,1],[248,0],[248,2],[252,0],[252,2],[256,1],[256,1],[256,1],[256,1],[256,1],[256,1],[257,0],[257,1],[260,0],[260,2],[262,1],[262,1],[264,0],[264,2],[266,0],[266,2],[268,0],[268,2],[270,1],[270,1],[280,1],[280,1],[280,1],[280,1],[280,1],[283,0],[283,1],[286,0],[286,1],[287,1],[287,1],[289,0],[289,1],[291,0],[291,1],[292,0],[292,1]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:if(f[h-1]=f[h-1]||{},cM.base&&(f[h-1].base=cM.base),cM.base="",f[h-1].prefixes=cM.prefixes,cM.prefixes=null,"update"===f[h-1].type){let i={};for(let j of f[h-1].updates)if("insert"===j.updateType){let k={};for(let l of j.insert)if("bgp"===l.type||"graph"===l.type)for(let m of l.triples)"BlankNode"===m.subject.termType&&(k[m.subject.value]=!0),"BlankNode"===m.predicate.termType&&(k[m.predicate.value]=!0),"BlankNode"===m.object.termType&&(k[m.object.value]=!0);for(let n of Object.keys(k)){if(i[n])throw Error("Detected reuse blank node across different INSERT DATA clauses");i[n]=!0}}}return f[h-1];case 3:this.$=ce(f[h-1],f[h],{type:"query"});break;case 4:cM.base=cg(f[h]);break;case 5:cM.prefixes||(cM.prefixes={}),f[h-1]=f[h-1].substr(0,f[h-1].length-1),f[h]=cg(f[h]),cM.prefixes[f[h-1]]=f[h];break;case 6:this.$=ce(f[h-3],cm(f[h-2]),f[h-1],f[h]);break;case 7:if(!cM.skipValidation){let o=cF(f[h-3].variables.map(a=>cD(a.expression))).some(a=>"count"===a.aggregation&&!(a.expression instanceof bZ));if(o||f[h].group){for(let p of f[h-3].variables)if("Variable"===p.termType){if(!f[h].group||!f[h].group.map(a=>cC(a)).includes(cC(p)))throw Error("Projection of ungrouped variable (?"+cC(p)+")")}else if(0===cD(p.expression).length){let q=cE(p.expression);for(let r of q)if(!f[h].group||!f[h].group.map||!f[h].group.map(a=>cC(a)).includes(cC(r)))throw Error("Use of ungrouped variable in projection of operation (?"+cC(r)+")")}}}let s=f[h-1].where.filter(a=>"query"===a.type);if(s.length>0){let t=f[h-3].variables.filter(a=>a.variable&&a.variable.value).map(a=>a.variable.value),u=cF(s.map(a=>a.variables)).map(a=>a.value||a.variable.value);for(let v of t)if(u.indexOf(v)>=0)throw Error("Target id of 'AS' (?"+v+") already used in subquery")}this.$=ce(f[h-3],cm(f[h-2]),f[h-1],f[h]);break;case 8:this.$=ce(f[h-1],{variables:[new bZ]});break;case 9:let w=f[h].map(a=>a.value||a.variable.value),x=cI(w);if(x.length>0)throw Error("Two or more of the resulting columns have the same name (?"+x[0]+")");this.$=ce(f[h-1],{variables:f[h]});break;case 10:this.$=ce({queryType:"SELECT"},f[h]&&(f[h-1]=cb(f[h]),f[h]={},f[h][f[h-1]]=!0,f[h]));break;case 11:case 12:this.$=ce(f[h-3],f[h-2],f[h-1],f[h],{type:"query"});break;case 13:case 100:case 137:case 166:this.$=ch(f[h]);break;case 14:case 28:this.$=cj(f[h-3],{variable:ch(f[h-1])});break;case 15:this.$=cJ(cj(f[h-3],{variable:ch(f[h-1])}));break;case 16:this.$=ce({queryType:"CONSTRUCT",template:f[h-3]},cm(f[h-2]),f[h-1],f[h]);break;case 17:this.$=ce({queryType:"CONSTRUCT",template:f[h-2]=f[h-2]?f[h-2].triples:[]},cm(f[h-5]),{where:[{type:"bgp",triples:cd([],f[h-2])}]},f[h]);break;case 18:this.$=ce({queryType:"DESCRIBE",variables:"*"===f[h-3]?[new bZ]:f[h-3].map(ch)},cm(f[h-2]),f[h-1],f[h]);break;case 19:this.$=ce({queryType:"ASK"},cm(f[h-2]),f[h-1],f[h]);break;case 20:case 61:this.$={iri:f[h],named:!!f[h-1]};break;case 21:this.$={where:f[h].patterns};break;case 22:this.$=ce(f[h-1],f[h]);break;case 23:this.$=ce(f[h-2],f[h-1],f[h]);break;case 24:this.$={group:f[h]};break;case 25:case 26:case 32:case 34:this.$=cj(f[h]);break;case 27:this.$=cj(f[h-1]);break;case 29:case 35:this.$=cj(ch(f[h]));break;case 30:this.$={having:f[h]};break;case 31:this.$={order:f[h]};break;case 33:this.$=cj(f[h],{descending:!0});break;case 36:this.$={limit:cn(f[h])};break;case 37:this.$={offset:cn(f[h])};break;case 38:this.$={limit:cn(f[h-2]),offset:cn(f[h])};break;case 39:this.$={limit:cn(f[h]),offset:cn(f[h-2])};break;case 40:this.$={type:"values",values:f[h]};break;case 41:this.$=f[h-1].map(function(a){var b={};return b[f[h-3]]=a,b});break;case 42:this.$=f[h-1].map(function(){return{}});break;case 43:var y=f[h-4].length;f[h-4]=f[h-4].map(ch),this.$=f[h-1].map(function(a){if(a.length!==y)throw Error("Inconsistent VALUES length");for(var b={},c=0;c<y;c++)b["?"+f[h-4][c].value]=a[c];return b});break;case 46:this.$=cJ(f[h]);break;case 47:this.$=void 0;break;case 48:case 92:case 117:case 167:this.$=f[h-1];break;case 49:this.$={type:"update",updates:cc(f[h-2],f[h-1])};break;case 50:this.$=ce({type:"load",silent:!!f[h-2],source:f[h-1]},f[h]&&{destination:f[h]});break;case 51:this.$={type:cb(f[h-2]),silent:!!f[h-1],graph:f[h]};break;case 52:this.$={type:cb(f[h-4]),silent:!!f[h-3],source:f[h-2],destination:f[h]};break;case 53:this.$={type:"create",silent:!!f[h-2],graph:{type:"graph",name:f[h]}};break;case 54:this.$={updateType:"insert",insert:cK(f[h])};break;case 55:this.$={updateType:"delete",delete:cL(cK(f[h]))};break;case 56:this.$={updateType:"deletewhere",delete:cL(f[h])};break;case 57:this.$=ce({updateType:"insertdelete"},f[h-5],{insert:f[h-4]||[]},{delete:f[h-3]||[]},cm(f[h-2],"using"),{where:f[h].patterns});break;case 58:this.$=ce({updateType:"insertdelete"},f[h-5],{delete:f[h-4]||[]},{insert:f[h-3]||[]},cm(f[h-2],"using"),{where:f[h].patterns});break;case 59:this.$=cL(f[h]);break;case 60:case 63:case 160:case 181:this.$=f[h];break;case 62:this.$={graph:f[h]};break;case 64:this.$={type:"graph",default:!0};break;case 65:case 66:this.$={type:"graph",name:f[h]};break;case 67:this.$={},this.$[cb(f[h])]=!0;break;case 68:this.$=f[h-2]?cf(f[h-1],[f[h-2]]):cf(f[h-1]);break;case 69:var z=ce(f[h-3]||{triples:[]},{type:"graph",name:ch(f[h-5])});this.$=f[h]?[z,f[h]]:[z];break;case 70:case 75:this.$={type:"bgp",triples:cf(f[h-2],[f[h-1]])};break;case 71:this.$={type:"group",patterns:[f[h-1]]};break;case 72:for(let A of f[h-1].filter(a=>"bind"===a.type)){let B=f[h-1].indexOf(A),C=new Set;for(let D of f[h-1].slice(0,B))("group"===D.type||"bgp"===D.type)&&cH(D).forEach(a=>C.add(a));if(C.has(A.variable.value))throw Error("Variable used to bind is already bound (?"+A.variable.value+")")}this.$={type:"group",patterns:f[h-1]};break;case 73:this.$=f[h-1]?cf([f[h-1]],f[h]):cf(f[h]);break;case 74:this.$=f[h]?[f[h-2],f[h]]:f[h-2];break;case 76:f[h-1].length?this.$={type:"union",patterns:cf(f[h-1].map(co),[co(f[h])])}:this.$=f[h];break;case 77:this.$=ce(f[h],{type:"optional"});break;case 78:this.$=ce(f[h],{type:"minus"});break;case 79:this.$=ce(f[h],{type:"graph",name:ch(f[h-1])});break;case 80:this.$=ce(f[h],{type:"service",name:ch(f[h-1]),silent:!!f[h-2]});break;case 81:this.$={type:"filter",expression:f[h]};break;case 82:this.$={type:"bind",variable:ch(f[h-1]),expression:f[h-3]};break;case 83:this.$=cJ({type:"bind",variable:ch(f[h-1]),expression:f[h-3]});break;case 88:this.$={type:"functionCall",function:f[h-1],args:[]};break;case 89:this.$={type:"functionCall",function:f[h-5],args:cc(f[h-2],f[h-1]),distinct:!!f[h-3]};break;case 90:case 108:case 119:case 210:case 218:case 220:case 232:case 234:case 244:case 248:case 268:case 270:case 274:case 278:case 301:case 307:case 318:case 328:case 334:case 340:case 344:case 354:case 356:case 360:case 368:case 372:case 374:case 382:case 384:case 388:case 390:case 399:case 431:case 433:case 443:case 447:case 449:case 451:this.$=[];break;case 91:this.$=cc(f[h-2],f[h-1]);break;case 93:this.$=cf(f[h-2],[f[h-1]]);break;case 94:case 105:this.$=f[h].map(function(a){return ce(cr(f[h-1]),a)});break;case 95:this.$=cd(f[h].map(function(a){return ce(cr(f[h-1].entity),a)}),f[h-1].triples);break;case 97:this.$=cf([f[h-1]],f[h]);break;case 98:this.$=cf(f[h]);break;case 99:this.$=cB(f[h-1],f[h]);break;case 102:case 115:case 122:this.$=cM.factory.namedNode(b_);break;case 103:case 104:this.$=cc(f[h-1],f[h]);break;case 106:this.$=f[h]?cd(f[h].map(function(a){return ce(cr(f[h-1].entity),a)}),f[h-1].triples):f[h-1].triples;break;case 107:this.$=cB(ch(f[h-3]),cc(f[h-2],f[h-1]),f[h]);break;case 109:this.$=cB(ch(f[h-1]),f[h]);break;case 110:this.$=f[h-1].length?ck("|",cc(f[h-1],f[h])):f[h];break;case 111:this.$=f[h-1].length?ck("/",cc(f[h-1],f[h])):f[h];break;case 112:this.$=f[h]?ck(f[h],[f[h-1]]):f[h-1];break;case 113:this.$=f[h-1]?ck(f[h-1],[f[h]]):f[h];break;case 116:case 123:this.$=ck(f[h-1],[f[h]]);break;case 120:this.$=ck("|",cc(f[h-2],f[h-1]));break;case 124:this.$=ck(f[h-1],[cM.factory.namedNode(b_)]);break;case 125:case 127:this.$=cz(f[h-1]);break;case 126:case 128:this.$=cA(f[h-1]);break;case 129:case 131:this.$={entity:f[h],triples:[]};break;case 133:case 135:this.$=cJ(cM.factory.quad(f[h-4],f[h-3],f[h-2],ch(f[h-6])));break;case 134:case 136:this.$=cJ(cM.factory.quad(f[h-3],f[h-2],f[h-1]));break;case 141:this.$=cs(f[h].replace(/^(_:)/,""));break;case 142:this.$=cs();break;case 143:this.$=cM.factory.namedNode(b2);break;case 144:case 146:case 151:case 155:this.$=cl(f[h-1],f[h]);break;case 145:this.$=["||",f[h]];break;case 147:this.$=["&&",f[h]];break;case 149:this.$=ci(f[h-1],[f[h-2],f[h]]);break;case 150:this.$=ci(f[h-2]?"notin":"in",[f[h-3],f[h]]);break;case 152:case 156:this.$=[f[h-1],f[h]];break;case 153:this.$=["+",cl(f[h-1],f[h])];break;case 154:var E=cp(f[h-1].value.replace("-",""),f[h-1].datatype);this.$=["-",cl(E,f[h])];break;case 157:this.$=ci("UPLUS",[f[h]]);break;case 158:this.$=ci(f[h-1],[f[h]]);break;case 159:this.$=ci("UMINUS",[f[h]]);break;case 169:this.$=ci(cb(f[h-1]));break;case 170:this.$=ci(cb(f[h-3]),[f[h-1]]);break;case 171:this.$=ci(cb(f[h-5]),[f[h-3],f[h-1]]);break;case 172:this.$=ci(cb(f[h-7]),[f[h-5],f[h-3],f[h-1]]);break;case 173:this.$=ci(cb(f[h-1]),f[h]);break;case 174:this.$=ci("bound",[ch(f[h-1])]);break;case 175:this.$=ci(f[h-1],[]);break;case 176:this.$=ci(f[h-3],[f[h-1]]);break;case 177:this.$=ci(f[h-2]?"notexists":"exists",[co(f[h])]);break;case 178:case 179:this.$=cj(f[h-1],{type:"aggregate",aggregation:cb(f[h-4]),distinct:!!f[h-2]});break;case 180:this.$=cj(f[h-2],{type:"aggregate",aggregation:cb(f[h-5]),distinct:!!f[h-3],separator:f[h-1]||" "});break;case 182:this.$=cp(f[h]);break;case 183:this.$=cq(f[h-1],cb(f[h].substr(1)));break;case 184:this.$=cp(f[h-2],f[h]);break;case 185:case 198:this.$=cp(f[h],b4);break;case 186:case 199:this.$=cp(f[h],b5);break;case 187:case 200:this.$=cp(cb(f[h]),b6);break;case 190:this.$=cp(f[h].toLowerCase(),b7);break;case 191:case 192:this.$=cy(f[h],1);break;case 193:case 194:this.$=cy(f[h],3);break;case 195:this.$=cp(f[h].substr(1),b4);break;case 196:this.$=cp(f[h].substr(1),b5);break;case 197:this.$=cp(f[h].substr(1).toLowerCase(),b6);break;case 201:this.$=cM.factory.namedNode(cg(f[h]));break;case 202:var F=f[h].indexOf(":"),G=f[h].substr(0,F),H=cM.prefixes[G];if(!H)throw Error("Unknown prefix: "+G);var I=cg(H+f[h].substr(F+1));this.$=cM.factory.namedNode(I);break;case 203:if(f[h]=f[h].substr(0,f[h].length-1),!(f[h]in cM.prefixes))throw Error("Unknown prefix: "+f[h]);var I=cg(cM.prefixes[f[h]]);this.$=cM.factory.namedNode(I);break;case 211:case 219:case 221:case 223:case 233:case 235:case 241:case 245:case 249:case 263:case 265:case 267:case 269:case 271:case 273:case 275:case 277:case 302:case 308:case 319:case 335:case 369:case 385:case 404:case 406:case 432:case 434:case 444:case 448:case 450:case 452:f[h-1].push(f[h]);break;case 222:case 240:case 262:case 264:case 266:case 272:case 276:case 403:case 405:this.$=[f[h]];break;case 279:f[h-3].push(f[h-2]);break;case 329:case 341:case 345:case 355:case 357:case 361:case 373:case 375:case 383:case 389:case 391:case 400:f[h-2].push(f[h-1])}},table:[a(b,d,{3:1,4:2,7:3}),{1:[3]},a(e,[2,278],{5:4,8:5,313:6,9:7,103:8,17:9,40:10,49:11,54:12,104:13,18:14,22:15,25:19,6:[2,204],28:f,41:[1,16],50:[1,17],55:[1,18]}),a([6,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],[2,2],{314:21,11:22,14:23,12:[1,24],15:[1,25]}),{6:[1,26]},{6:[2,206]},{6:[2,207]},{6:[2,216],10:27,89:28,90:g},{6:[2,205]},a(h,[2,212]),a(h,[2,213]),a(h,[2,214]),a(h,[2,215]),{105:30,107:[1,31],110:32,113:33,117:[1,34],120:[1,35],122:[1,36],123:[1,37],124:38,128:39,132:[2,303],133:[2,297],137:45,138:[1,46],322:[1,40],323:[1,41],324:[1,42],325:[1,43],326:[1,44]},a(i,[2,218],{19:47}),a(i,[2,220],{23:48}),a(j,[2,234],{42:49,44:50,46:[1,51]}),{13:k,16:l,26:[1,54],34:m,51:52,60:57,312:n,318:55,319:53},a(i,[2,248],{56:61}),{26:[1,62],27:63,33:64,34:o,35:p},a(q,[2,226],{29:67,315:68,316:[1,69],317:[1,70]}),a(b,[2,211]),a(b,[2,208]),a(b,[2,209]),{13:[1,71]},{16:[1,72]},{1:[2,1]},{6:[2,3]},{6:[2,217]},{34:[1,74],35:[1,76],91:73,93:[1,75]},{6:[2,280],106:77,191:[1,78]},a(r,[2,282],{108:79,321:[1,80]}),a(s,[2,288],{111:81,321:[1,82]}),a(t,[2,293],{114:83,321:[1,84]}),{118:85,119:[2,295],321:[1,86]},{46:u,121:87},{46:u,121:89},{46:u,121:90},{125:91,133:v},{129:93,132:w},a(x,[2,286]),a(x,[2,287]),a(y,[2,290]),a(y,[2,291]),a(y,[2,292]),{132:[2,304],133:[2,298]},{13:k,16:l,60:95,312:n},{20:96,45:z,46:A,57:97,58:B,61:98},{20:101,45:z,46:A,57:102,58:B,61:98},a(i,[2,232],{43:103}),{45:[1,104],57:105,58:B},a(C,[2,360],{179:106,180:107,181:108,48:[2,358]}),a(D,[2,244],{52:109}),a(D,[2,242],{60:57,318:110,13:k,16:l,34:m,312:n}),a(D,[2,243]),a(E,[2,240]),a(E,[2,238]),a(E,[2,239]),a(F,[2,201]),a(F,[2,202]),a(F,[2,203]),{20:111,45:z,46:A,57:112,58:B,61:98},a(i,[2,8]),a(i,[2,9],{33:113,34:o,35:p}),a(G,[2,222]),a(G,[2,13]),{13:k,16:l,34:H,35:I,36:114,39:115,60:128,72:127,73:129,82:126,87:J,98:130,219:K,231:L,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(q,[2,10]),a(q,[2,227]),a(q,[2,224]),a(q,[2,225]),a(b,[2,4]),{13:[1,168]},a(ap,[2,40]),{46:[1,169]},{46:[1,170]},{34:[1,172],95:171},{6:[2,49]},a(b,d,{7:3,4:173}),{13:k,16:l,60:174,312:n},a(r,[2,283]),{112:175,119:[1,176],141:[1,178],143:177,320:[1,179],327:[1,180]},a(s,[2,289]),a(r,aq,{115:181,142:183,119:ar,141:as}),a(t,[2,294]),{119:[1,185]},{119:[2,296]},a(at,[2,54]),a(C,au,{144:186,151:187,152:188,48:av,119:av}),a(at,[2,55]),a(at,[2,56]),a(aw,[2,299],{126:189,129:190,132:w}),{46:u,121:191},a(aw,[2,305],{130:192,125:193,133:v}),{46:u,121:194},a([132,133],[2,62]),a(ax,ay,{21:195,64:196,74:197,75:az}),a(i,[2,219]),{46:aA,62:199},a(r,[2,250],{59:201,320:[1,202]}),{46:[2,253]},a(aB,aC,{24:203,63:204,67:205,68:aD}),a(i,[2,221]),{20:207,45:z,46:A,57:208,58:B,61:98},{46:[1,209]},a(j,[2,235]),{48:[1,210]},{48:[2,359]},{13:k,16:l,34:aE,35:aF,39:215,60:220,87:J,93:aG,98:221,153:211,183:212,185:213,226:aH,231:L,243:214,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(aK,[2,246],{61:98,53:225,57:226,20:227,45:z,46:A,58:B}),a(E,[2,241]),a(aB,aC,{63:204,67:205,24:228,68:aD}),a(i,[2,249]),a(G,[2,223]),{37:[1,229]},{37:[1,230]},a(aL,[2,431],{248:231}),{13:k,16:l,34:aE,39:234,60:220,87:J,93:aG,98:221,119:[1,232],231:L,236:233,243:235,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(aM,[2,433],{252:236}),a(aM,[2,148],{256:237,257:238,258:[2,441],295:[1,239],334:[1,240],335:[1,241],336:[1,242],337:[1,243],338:[1,244],339:[1,245]}),a(aN,[2,443],{260:246}),a(aO,[2,451],{268:247}),{13:k,16:l,34:H,35:I,60:128,72:127,73:129,82:126,87:J,98:130,263:146,265:147,272:248,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{13:k,16:l,34:H,35:I,60:128,72:127,73:129,82:126,87:J,98:130,263:146,265:147,272:249,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{13:k,16:l,34:H,35:I,60:128,72:127,73:129,82:126,87:J,98:130,263:146,265:147,272:250,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(aO,[2,160]),a(aO,[2,161]),a(aO,[2,162]),a(aO,[2,163],{35:aP,93:aQ}),a(aO,[2,164]),a(aO,[2,165]),a(aO,[2,166]),{13:k,16:l,34:H,35:I,36:253,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(aR,[2,168]),{93:[1,254]},{35:[1,255]},{35:[1,256]},{35:[1,257]},{35:aS,93:aT,177:258},{35:[1,261]},{35:[1,263],93:[1,262]},{284:[1,264]},a(aU,[2,182],{297:[1,265],298:[1,266]}),a(aU,[2,185]),a(aU,[2,186]),a(aU,[2,187]),a(aU,[2,188]),a(aU,[2,189]),a(aU,[2,190]),{35:[1,267]},{35:[1,268]},{35:[1,269]},a(aV,[2,455]),a(aV,[2,456]),a(aV,[2,457]),a(aV,[2,458]),a(aV,[2,459]),{284:[2,461]},a(aW,[2,191]),a(aW,[2,192]),a(aW,[2,193]),a(aW,[2,194]),a(aU,[2,195]),a(aU,[2,196]),a(aU,[2,197]),a(aU,[2,198]),a(aU,[2,199]),a(aU,[2,200]),a(b,[2,5]),a(aX,[2,268],{92:270}),a(aY,[2,270],{94:271}),{34:[1,273],38:[1,272]},a(aZ,[2,272]),a(e,[2,279],{6:[2,281]}),a(at,[2,284],{109:274,139:275,140:[1,276]}),a(at,[2,51]),{13:k,16:l,60:277,312:n},a(at,[2,67]),a(at,[2,313]),a(at,[2,314]),a(at,[2,315]),{116:[1,278]},a(a$,[2,64]),{13:k,16:l,60:279,312:n},a(r,[2,312]),{13:k,16:l,60:280,312:n},a(a_,[2,318],{145:281}),a(a_,[2,317]),{13:k,16:l,34:aE,35:aF,39:215,60:220,87:J,93:aG,98:221,153:282,183:212,185:213,226:aH,231:L,243:214,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(aw,[2,301],{127:283}),a(aw,[2,300]),a([45,132,135],[2,60]),a(aw,[2,307],{131:284}),a(aw,[2,306]),a([45,133,135],[2,59]),a(h,[2,6]),a(a0,[2,258],{65:285,77:286,78:[1,287]}),a(ax,[2,257]),{13:k,16:l,35:I,60:293,72:291,73:292,76:288,82:290,84:289,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a([6,48,68,75,78,86,88,90],[2,21]),a(C,a1,{25:19,30:294,155:295,18:296,22:297,156:298,162:299,163:300,28:f,46:a2,48:a2,90:a2,119:a2,167:a2,168:a2,170:a2,173:a2,174:a2}),{13:k,16:l,60:301,312:n},a(r,[2,251]),a(h,[2,7]),a(ax,ay,{64:196,74:197,21:302,75:az}),a(aB,[2,255]),{69:[1,303]},a(aB,aC,{63:204,67:205,24:304,68:aD}),a(i,[2,233]),a(C,au,{152:188,47:305,151:306,48:[2,236]}),a(i,[2,92]),{48:[2,362],182:307,328:[1,308]},{13:k,16:l,34:a3,60:313,184:309,188:310,193:311,195:a4,312:n},a(a5,[2,366],{188:310,193:311,60:313,186:315,187:316,184:317,13:k,16:l,34:a3,195:a4,312:n}),a(a6,[2,364]),a(a6,[2,365]),{13:k,16:l,34:aE,35:aF,39:323,60:220,87:J,93:aG,98:221,185:321,197:319,225:318,226:aH,229:320,231:L,243:322,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},{13:k,16:l,34:a3,60:313,184:324,188:310,193:311,195:a4,312:n},a(a7,[2,137]),a(a7,[2,138]),a(a7,[2,139]),a(a7,[2,140]),a(a7,[2,141]),a(a7,[2,142]),a(a7,[2,143]),a(aB,aC,{63:204,67:205,24:325,68:aD}),a(D,[2,245]),a(aK,[2,247]),a(h,[2,19]),{34:[1,326]},{34:[1,327]},a([37,38,191,278],[2,144],{249:328,250:[1,329]}),{13:k,16:l,34:[1,331],60:332,232:330,312:n},{13:k,16:l,34:a3,60:313,193:333,195:a4,312:n},a(a6,[2,417]),a(a6,[2,418]),a(aL,[2,146],{253:334,254:[1,335]}),{13:k,16:l,34:H,35:I,60:128,72:127,73:129,82:126,87:J,98:130,219:K,255:336,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{258:[1,337]},a(a8,[2,435]),a(a8,[2,436]),a(a8,[2,437]),a(a8,[2,438]),a(a8,[2,439]),a(a8,[2,440]),{258:[2,442]},a([37,38,191,250,254,258,278,295,334,335,336,337,338,339],[2,151],{261:338,262:339,263:340,265:341,271:[1,342],273:[1,343],306:ad,307:ae,308:af,309:ag,310:ah,311:ai}),a(aN,[2,155],{269:344,270:345,26:a9,331:ba}),a(aO,[2,157]),a(aO,[2,158]),a(aO,[2,159]),a(aR,[2,88]),a(a8,[2,352],{175:348,316:[1,349]}),{38:[1,350]},a(aR,[2,169]),{13:k,16:l,34:H,35:I,36:351,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{13:k,16:l,34:H,35:I,36:352,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{13:k,16:l,34:H,35:I,36:353,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(aR,[2,173]),a(aR,[2,90]),a(a8,[2,356],{178:354}),{34:[1,355]},a(aR,[2,175]),{13:k,16:l,34:H,35:I,36:356,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{46:aA,62:357},a(aU,[2,183]),{13:k,16:l,60:358,312:n},a(bb,[2,462],{286:359,316:[1,360]}),a(a8,[2,466],{289:361,316:[1,362]}),a(a8,[2,468],{291:363,316:[1,364]}),{13:k,16:l,48:[1,365],60:367,87:J,97:366,98:368,99:369,100:bc,231:bd,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},{48:[1,372],93:[1,373]},{46:[1,374]},a(aZ,[2,273]),a(at,[2,50]),a(at,[2,285]),{119:[1,375]},a(at,[2,66]),a(r,aq,{142:183,115:376,119:ar,141:as}),a(a$,[2,65]),a(at,[2,53]),{48:[1,377],119:[1,379],146:378},a(a_,[2,330],{154:380,328:[1,381]}),{45:[1,382],134:383,135:be},{45:[1,385],134:386,135:be},a(bf,[2,260],{66:387,85:388,86:[1,389],88:[1,390]}),a(a0,[2,259]),{69:[1,391]},a(ax,[2,30],{274:133,280:138,283:141,82:290,72:291,73:292,60:293,84:392,13:k,16:l,35:I,275:O,276:P,277:Q,279:R,281:S,282:T,284:U,285:V,288:W,290:X,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao}),a(bg,[2,264]),a(bh,[2,85]),a(bh,[2,86]),a(bh,[2,87]),{35:aP,93:aQ},{48:[1,393]},{48:[1,394]},{20:395,45:z,46:A,61:98},{20:396,45:z,46:A,61:98},a(bi,[2,334],{157:397}),a(bi,[2,333]),{13:k,16:l,34:aE,35:bj,39:402,60:220,87:J,93:aG,98:221,164:398,201:399,203:400,226:bk,231:L,243:401,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(D,[2,20]),a(bf,[2,22]),{13:k,16:l,34:bl,35:bm,60:293,70:405,71:406,72:407,73:408,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(h,[2,16]),{48:[1,411]},{48:[2,237]},{48:[2,93]},a(C,[2,361],{48:[2,363]}),a(a5,[2,94]),a(bn,[2,368],{189:412}),a(C,[2,372],{194:413,196:414}),a(C,[2,100]),a(C,[2,101]),a(C,[2,102]),a(a5,[2,95]),a(a5,[2,96]),a(a5,[2,367]),{13:k,16:l,34:aE,35:aF,38:[1,415],39:323,60:220,87:J,93:aG,98:221,185:321,197:416,226:aH,229:320,231:L,243:322,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(bo,[2,403]),a(bp,[2,129]),a(bp,[2,130]),a(bp,[2,407]),a(bp,[2,408]),{227:[1,417]},a(h,[2,18]),{38:[1,418]},{38:[1,419]},a(aL,[2,432]),{13:k,16:l,34:H,35:I,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:420,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{46:[1,421]},{46:[2,411]},{46:[2,412]},{13:k,16:l,34:aE,39:423,60:220,87:J,93:aG,98:221,231:L,237:422,243:424,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(aM,[2,434]),{13:k,16:l,34:H,35:I,60:128,72:127,73:129,82:126,87:J,98:130,219:K,251:425,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(aM,[2,149]),{35:aS,93:aT,177:426},a(aN,[2,444]),{13:k,16:l,34:H,35:I,60:128,72:127,73:129,82:126,87:J,98:130,219:K,259:427,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(aO,[2,447],{264:428}),a(aO,[2,449],{266:429}),a(a8,[2,445]),a(a8,[2,446]),a(aO,[2,452]),{13:k,16:l,34:H,35:I,60:128,72:127,73:129,82:126,87:J,98:130,219:K,263:146,265:147,267:430,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(a8,[2,453]),a(a8,[2,454]),a(a8,[2,354],{176:431}),a(a8,[2,353]),a([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],[2,167]),{38:[1,432]},{278:[1,433]},{278:[1,434]},{13:k,16:l,34:H,35:I,36:435,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{38:[1,436]},{38:[1,437]},a(aR,[2,177]),a(aU,[2,184]),{13:k,16:l,26:[1,439],34:H,35:I,36:440,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,287:438,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(bb,[2,463]),{13:k,16:l,34:H,35:I,36:441,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(a8,[2,467]),{13:k,16:l,34:H,35:I,36:442,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(a8,[2,469]),a(ap,[2,41]),a(aX,[2,269]),a(bq,[2,44]),a(bq,[2,45]),a(bq,[2,46]),a(bq,[2,47]),{13:k,16:l,60:220,87:J,93:aG,98:221,99:445,119:[1,443],231:bd,241:444,244:446,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(ap,[2,42]),a(aY,[2,271]),a(br,[2,274],{96:447}),{13:k,16:l,60:448,312:n},a(at,[2,52]),a([6,45,132,133,135,191],[2,68]),a(a_,[2,319]),{13:k,16:l,34:[1,450],60:451,147:449,312:n},a(a_,[2,70]),a(C,[2,329],{48:bs,119:bs}),{46:aA,62:452},a(aw,[2,302]),a(r,[2,309],{136:453,320:[1,454]}),{46:aA,62:455},a(aw,[2,308]),a(bf,[2,23]),a(bf,[2,261]),{87:[1,456]},{87:[1,457]},{13:k,16:l,34:bt,35:I,60:293,72:291,73:292,79:458,80:459,81:bu,82:290,83:bv,84:462,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(bg,[2,265]),a(bw,[2,71]),a(bw,[2,72]),a(ax,ay,{64:196,74:197,21:464,75:az}),a(aB,aC,{63:204,67:205,24:465,68:aD}),{46:[2,344],48:[2,73],89:475,90:g,119:[1,471],158:466,159:467,166:468,167:[1,469],168:[1,470],170:[1,472],173:[1,473],174:[1,474]},a(bi,[2,342],{165:476,328:[1,477]}),a(bx,by,{202:478,205:479,210:480,211:482,34:bz}),a(bA,[2,378],{205:479,210:480,211:482,204:483,202:484,13:by,16:by,35:by,195:by,219:by,224:by,312:by,34:bz}),a(bB,[2,376]),a(bB,[2,377]),{13:k,16:l,34:aE,35:bj,39:490,60:220,87:J,93:aG,98:221,200:486,203:488,226:bk,228:485,230:487,231:L,243:489,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(bx,by,{205:479,210:480,211:482,202:491,34:bz}),a(aB,[2,24],{274:133,280:138,283:141,60:293,72:407,73:408,71:492,13:k,16:l,34:bl,35:bm,275:O,276:P,277:Q,279:R,281:S,282:T,284:U,285:V,288:W,290:X,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao}),a(bC,[2,262]),a(bC,[2,25]),a(bC,[2,26]),{13:k,16:l,34:H,35:I,36:493,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(bC,[2,29]),a(aB,aC,{63:204,67:205,24:494,68:aD}),a([48,119,227,328],[2,97],{190:495,191:[1,496]}),a(bn,[2,99]),{13:k,16:l,34:aE,35:aF,39:323,60:220,87:J,93:aG,98:221,185:321,197:497,226:aH,229:320,231:L,243:322,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(bD,[2,125]),a(bo,[2,404]),a(bD,[2,126]),a(G,[2,14]),a(G,[2,15]),a(aL,[2,145]),{13:k,16:l,34:aE,39:499,60:220,87:J,93:aG,98:221,231:L,233:498,243:500,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},{235:[1,501]},{235:[2,419]},{235:[2,420]},a(aM,[2,147]),a(aM,[2,150]),a(aN,[2,152]),a(aN,[2,153],{270:345,269:502,26:a9,331:ba}),a(aN,[2,154],{270:345,269:503,26:a9,331:ba}),a(aO,[2,156]),{13:k,16:l,34:H,35:I,36:504,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(aR,[2,170]),{13:k,16:l,34:H,35:I,36:505,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{13:k,16:l,34:H,35:I,36:506,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{38:[1,507],278:[1,508]},a(aR,[2,174]),a(aR,[2,176]),{38:[1,509]},{38:[2,464]},{38:[2,465]},{38:[1,510]},{38:[2,470],191:[1,513],292:511,293:512},{13:k,16:l,34:[1,515],60:516,238:514,312:n},{13:k,16:l,34:a3,60:313,193:517,195:a4,312:n},a(a6,[2,427]),a(a6,[2,428]),{35:[1,520],48:[1,518],101:519},a(at,[2,63]),{46:[1,521]},{46:[2,320]},{46:[2,321]},a(at,[2,57]),{13:k,16:l,60:522,312:n},a(r,[2,310]),a(at,[2,58]),a(bf,[2,36],{88:[1,523]}),a(bf,[2,37],{86:[1,524]}),a(a0,[2,31],{274:133,280:138,283:141,82:290,72:291,73:292,60:293,84:462,80:525,13:k,16:l,34:bt,35:I,81:bu,83:bv,275:O,276:P,277:Q,279:R,281:S,282:T,284:U,285:V,288:W,290:X,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao}),a(bE,[2,266]),{35:I,82:526},{35:I,82:527},a(bE,[2,34]),a(bE,[2,35]),{31:528,48:[2,228],89:529,90:g},{32:530,48:[2,230],89:531,90:g},a(bi,[2,335]),a(bF,[2,336],{160:532,328:[1,533]}),{46:aA,62:534},{46:aA,62:535},{46:aA,62:536},{13:k,16:l,34:[1,538],60:539,169:537,312:n},a(bG,[2,348],{171:540,321:[1,541]}),{13:k,16:l,35:I,60:293,72:291,73:292,82:290,84:542,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{35:[1,543]},a(bH,[2,84]),a(bi,[2,75]),a(C,[2,341],{46:bI,48:bI,90:bI,119:bI,167:bI,168:bI,170:bI,173:bI,174:bI}),a(bA,[2,105]),a(C,[2,382],{206:544}),a(C,[2,380]),a(C,[2,381]),a(bx,[2,390],{212:545,213:546}),a(bA,[2,106]),a(bA,[2,379]),{13:k,16:l,34:aE,35:bj,38:[1,547],39:490,60:220,87:J,93:aG,98:221,200:548,203:488,226:bk,230:487,231:L,243:489,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(bo,[2,405]),a(bJ,[2,131]),a(bJ,[2,132]),a(bJ,[2,409]),a(bJ,[2,410]),{227:[1,549]},a(bC,[2,263]),{37:[1,551],38:[1,550]},a(h,[2,17]),a(bn,[2,369]),a(bn,[2,370],{193:311,60:313,192:552,188:553,13:k,16:l,34:a3,195:a4,312:n}),a(bn,[2,103],{278:[1,554]}),{13:k,16:l,34:a3,60:313,193:555,195:a4,312:n},a(a6,[2,413]),a(a6,[2,414]),a(bK,[2,134]),a(aO,[2,448]),a(aO,[2,450]),{38:[1,556],278:[1,557]},{38:[1,558]},{278:[1,559]},a(aR,[2,91]),a(a8,[2,357]),a(aR,[2,178]),a(aR,[2,179]),{38:[1,560]},{38:[2,471]},{294:[1,561]},{46:[1,562]},{46:[2,421]},{46:[2,422]},{13:k,16:l,60:220,87:J,93:aG,98:221,99:564,231:bd,242:563,244:565,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(ap,[2,43]),a(br,[2,275]),{13:k,16:l,60:367,87:J,97:567,98:368,99:369,100:bc,102:566,231:bd,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(C,au,{152:188,148:568,151:569,48:[2,322]}),a(aw,[2,61]),{87:[1,570]},{87:[1,571]},a(bE,[2,267]),a(bE,[2,32]),a(bE,[2,33]),{48:[2,11]},{48:[2,229]},{48:[2,12]},{48:[2,231]},a(C,a1,{163:300,161:572,162:573,46:bL,48:bL,90:bL,119:bL,167:bL,168:bL,170:bL,173:bL,174:bL}),a(bF,[2,337]),a(bH,[2,76],{329:[1,574]}),a(bH,[2,77]),a(bH,[2,78]),{46:aA,62:575},{46:[2,346]},{46:[2,347]},{13:k,16:l,34:[1,577],60:578,172:576,312:n},a(bG,[2,349]),a(bH,[2,81]),{13:k,16:l,34:H,35:I,36:579,39:580,60:128,72:127,73:129,82:126,87:J,98:130,219:K,231:L,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},{13:k,16:l,34:aE,35:bj,39:490,60:220,87:J,93:aG,98:221,200:581,203:488,226:bk,230:487,231:L,243:489,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(bo,[2,110],{330:[1,582]}),a(bM,[2,397],{214:583,218:584,224:[1,585]}),a(bN,[2,127]),a(bo,[2,406]),a(bN,[2,128]),a(bC,[2,27]),{34:[1,586]},a(bn,[2,98]),a(bn,[2,371]),a(C,[2,373]),{13:k,16:l,34:aE,39:588,60:220,87:J,93:aG,98:221,231:L,234:587,243:589,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(aR,[2,89]),a(a8,[2,355]),a(aR,[2,171]),{13:k,16:l,34:H,35:I,36:590,60:128,72:127,73:129,82:126,87:J,98:130,219:K,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:M,272:125,273:N,274:133,275:O,276:P,277:Q,279:R,280:138,281:S,282:T,283:141,284:U,285:V,288:W,290:X,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n,339:aj,340:ak,341:al,342:am,343:an,344:ao},a(aR,[2,180]),{295:[1,591]},{13:k,16:l,60:220,87:J,93:aG,98:221,99:593,231:bd,239:592,244:594,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},{235:[1,595]},{235:[2,429]},{235:[2,430]},{13:k,16:l,38:[1,596],60:367,87:J,97:597,98:368,99:369,100:bc,231:bd,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(bO,[2,276]),{48:[1,598]},{48:[2,323]},a(bf,[2,38]),a(bf,[2,39]),a(bi,[2,74]),a(bi,[2,339]),{46:[2,345]},a(bH,[2,79]),{46:aA,62:599},{46:[2,350]},{46:[2,351]},{37:[1,600]},{37:[1,601]},a(bP,[2,384],{207:602,278:[1,603]}),a(bx,[2,389]),a([13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330],[2,111],{331:[1,604]}),{13:k,16:l,35:[1,610],60:607,195:[1,608],215:605,216:606,219:[1,609],312:n},a(bM,[2,398]),{38:[1,611]},{48:[1,612]},{48:[2,415]},{48:[2,416]},{38:[1,613]},{296:614,302:_,303:aa,304:ab,305:ac},{13:k,16:l,34:a3,60:313,193:615,195:a4,312:n},a(a6,[2,423]),a(a6,[2,424]),a(bQ,[2,136]),a(br,[2,48]),a(bO,[2,277]),a(bR,[2,324],{149:616,328:[1,617]}),a(bH,[2,80]),{34:[1,618]},{34:[1,619]},a([46,48,90,119,167,168,170,173,174,227,328],[2,107],{208:620,191:[1,621]}),a(C,[2,383]),a(bx,[2,391]),a(bS,[2,113]),a(bS,[2,395],{217:622,332:623,26:[1,625],271:[1,626],333:[1,624]}),a(bT,[2,114]),a(bT,[2,115]),{13:k,16:l,35:[1,630],60:631,93:[1,629],195:bU,220:627,221:628,224:bV,312:n},a(bx,by,{211:482,210:634}),a(bC,[2,28]),{235:[1,635]},a(aR,[2,172]),{38:[2,181]},{13:k,16:l,60:220,87:J,93:aG,98:221,99:637,231:bd,240:636,244:638,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},a(C,au,{152:188,150:639,151:640,48:bW,119:bW}),a(bR,[2,325]),{38:[1,641]},{38:[1,642]},a(bP,[2,385]),a(bP,[2,108],{211:482,209:643,210:644,13:by,16:by,35:by,195:by,219:by,224:by,312:by,34:[1,645]}),a(bS,[2,112]),a(bS,[2,396]),a(bS,[2,392]),a(bS,[2,393]),a(bS,[2,394]),a(bT,[2,116]),a(bT,[2,118]),a(bT,[2,119]),a(bX,[2,399],{222:646}),a(bT,[2,121]),a(bT,[2,122]),{13:k,16:l,60:647,195:[1,648],312:n},{38:[1,649]},a(bK,[2,133]),{48:[1,650]},{48:[2,425]},{48:[2,426]},a(a_,[2,69]),a(a_,[2,327]),a(bH,[2,82]),a(bH,[2,83]),a(C,[2,374],{198:651,199:652}),a(C,[2,386]),a(C,[2,387]),{13:k,16:l,38:[2,401],60:631,195:bU,221:654,223:653,224:bV,312:n},a(bT,[2,123]),a(bT,[2,124]),a(bT,[2,117]),{235:[1,655]},a(bP,[2,109]),{13:k,16:l,34:aE,35:bj,39:490,60:220,87:J,93:aG,98:221,200:656,203:488,226:bk,230:487,231:L,243:489,244:219,245:aI,246:aJ,263:146,265:147,296:142,299:Y,300:Z,301:$,302:_,303:aa,304:ab,305:ac,306:ad,307:ae,308:af,309:ag,310:ah,311:ai,312:n},{38:[1,657]},{38:[2,402],330:[1,658]},a(bQ,[2,135]),a(bP,[2,104],{278:[1,659]}),a(bT,[2,120]),a(bX,[2,400]),a(C,[2,375])],defaultActions:{5:[2,206],6:[2,207],8:[2,205],26:[2,1],27:[2,3],28:[2,217],77:[2,49],86:[2,296],100:[2,253],107:[2,359],157:[2,461],245:[2,442],306:[2,237],307:[2,93],331:[2,411],332:[2,412],423:[2,419],424:[2,420],439:[2,464],440:[2,465],450:[2,320],451:[2,321],512:[2,471],515:[2,421],516:[2,422],528:[2,11],529:[2,229],530:[2,12],531:[2,231],538:[2,346],539:[2,347],564:[2,429],565:[2,430],569:[2,323],574:[2,345],577:[2,350],578:[2,351],588:[2,415],589:[2,416],614:[2,181],637:[2,425],638:[2,426]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=Error(a);throw c.hash=b,c}},parse:function(a){var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0,k=e.slice.call(arguments,1),l=Object.create(this.lexer),m={yy:{}};for(var n in this.yy)Object.prototype.hasOwnProperty.call(this.yy,n)&&(m.yy[n]=this.yy[n]);l.setInput(a,m.yy),m.yy.lexer=l,m.yy.parser=this,void 0===l.yylloc&&(l.yylloc={});var o=l.yylloc;e.push(o);var p=l.options&&l.options.ranges;"function"==typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var q,r,s,t,u,v,w,x,y,z={};;){if(s=c[c.length-1],this.defaultActions[s]?t=this.defaultActions[s]:(null==q&&(q=function(){var a;return"number"!=typeof(a=l.lex()||1)&&(a=b.symbols_[a]||a),a}()),t=f[s]&&f[s][q]),void 0===t||!t.length||!t[0]){var A="";for(v in y=[],f[s])this.terminals_[v]&&v>2&&y.push("'"+this.terminals_[v]+"'");A=l.showPosition?"Parse error on line "+(h+1)+":\n"+l.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[q]||q)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==q?"end of input":"'"+(this.terminals_[q]||q)+"'"),this.parseError(A,{text:l.match,token:this.terminals_[q]||q,line:l.yylineno,loc:o,expected:y})}if(t[0]instanceof Array&&t.length>1)throw Error("Parse Error: multiple actions possible at state: "+s+", token: "+q);switch(t[0]){case 1:c.push(q),d.push(l.yytext),e.push(l.yylloc),c.push(t[1]),q=null,r?(q=r,r=null):(i=l.yyleng,g=l.yytext,h=l.yylineno,o=l.yylloc,j>0&&j--);break;case 2:if(w=this.productions_[t[1]][1],z.$=d[d.length-w],z._$={first_line:e[e.length-(w||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(w||1)].first_column,last_column:e[e.length-1].last_column},p&&(z._$.range=[e[e.length-(w||1)].range[0],e[e.length-1].range[1]]),void 0!==(u=this.performAction.apply(z,[g,i,h,m.yy,t[1],d,e].concat(k))))return u;w&&(c=c.slice(0,-1*w*2),d=d.slice(0,-1*w),e=e.slice(0,-1*w)),c.push(this.productions_[t[1]][0]),d.push(z.$),e.push(z._$),x=f[c[c.length-2]][c[c.length-1]],c.push(x);break;case 3:return!0}}return!0}},bZ=c(1348).R,b$="http://www.w3.org/1999/02/22-rdf-syntax-ns#",b_=b$+"type",b0=b$+"first",b1=b$+"rest",b2=b$+"nil",b3="http://www.w3.org/2001/XMLSchema#",b4=b3+"integer",b5=b3+"decimal",b6=b3+"double",b7=b3+"boolean",b8="",b9="",ca="";function cb(a){return a.toLowerCase()}function cc(a,b){return a.push(b),a}function cd(a,b){return a.push.apply(a,b),a}function ce(a){a||(a={});for(var b,c=1,d=arguments.length;c<d&&(b=arguments[c]||{});c++)for(var e in b)a[e]=b[e];return a}function cf(){for(var a=[],b=0,c=arguments.length;b<c;b++)a=a.concat.apply(a,arguments[b]);return a}function cg(a){if("<"===a[0]&&(a=a.substring(1,a.length-1)),/^[a-z]+:/i.test(a))return a;if(!cM.base)throw Error("Cannot resolve relative IRI "+a+" because no base IRI was set.");switch(b8!==cM.base&&(b9=(b8=cM.base).replace(/[^\/:]*$/,""),ca=b8.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),a[0]){case void 0:return b8;case"#":return b8+a;case"?":return b8.replace(/(?:\?.*)?$/,a);case"/":return ca+a;default:return b9+a}}function ch(a){if(a){var b=a[0];if("?"===b||"$"===b)return cM.factory.variable(a.substr(1))}return a}function ci(a,b){return{type:"operation",operator:a,args:b||[]}}function cj(a,b){var c={expression:"*"===a?new bZ:a};if(b)for(var d in b)c[d]=b[d];return c}function ck(a,b){return{type:"path",pathType:a,items:b}}function cl(a,b){for(var c,d=0,e=b.length;d<e&&(c=b[d]);d++)a=ci(c[0],[a,c[1]]);return a}function cm(a,b){var c,d=[],e=[],f=a.length,g={};if(!f)return null;for(var h=0;h<f&&(c=a[h]);h++)(c.named?e:d).push(c.iri);return g[b||"from"]={default:d,named:e},g}function cn(a){return parseInt(a,10)}function co(a){return"group"===a.type&&1===a.patterns.length?a.patterns[0]:a}function cp(a,b){return b&&"NamedNode"!==b.termType&&(b=cM.factory.namedNode(b)),cM.factory.literal(a,b)}function cq(a,b){return cM.factory.literal(a,b)}function cr(a,b,c){var d={};return null!=a&&(d.subject=a),null!=b&&(d.predicate=b),null!=c&&(d.object=c),d}function cs(a){return"string"==typeof a?a.startsWith("e_")?cM.factory.blankNode(a):cM.factory.blankNode("e_"+a):cM.factory.blankNode("g_"+ct++)}var ct=0;cM._resetBlanks=function(){ct=0};var cu=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,cv={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:"\n",r:"\r",f:"\f"},cw=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,cx=String.fromCharCode;function cy(a,b){a=a.substring(b,a.length-b);try{a=a.replace(cu,function(a,b,c,d){if(b){if(e=parseInt(b,16),isNaN(e))throw Error();return cx(e)}if(c){if(e=parseInt(c,16),isNaN(e))throw Error();return e<65535?cx(e):cx(55296+((e-=65536)>>10),56320+(1023&e))}var e,f=cv[d];if(!f)throw Error();return f})}catch(c){return""}if(cw.exec(a))throw Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+a);return a}function cz(a){var b,c=cs(),d=c,e=[],f=[];a.forEach(function(a){e.push(a.entity),cd(f,a.triples)});for(var g=0,h=0,i=e.length,b=Array(2*i);g<i;)b[h++]=cr(d,cM.factory.namedNode(b0),e[g]),b[h++]=cr(d,cM.factory.namedNode(b1),d=++g<i?cs():cM.factory.namedNode(b2));return{entity:c,triples:cd(b,f)}}function cA(a){var b=cs();return{entity:b,triples:a.map(function(a){return ce(cr(b),a)})}}function cB(a,b,c){var d=[],e=[];return b.forEach(function(b){d.push(cr(null,a,b.entity)),cd(e,b.triples)}),cf(d,c||[],e)}function cC(a){return a.variable?a.variable.value:a.value||a.expression.value}function cD(a){if(!a)return[];if("aggregate"===a.type)return[a];if("operation"===a.type){let b=[];for(let c of a.args)b.push(...cD(c));return b}return[]}function cE(a){let b=new Set,c=function(a){a&&("Variable"===a.termType?b.add(a):"operation"===a.type&&a.args.forEach(c))};return c(a),b}function cF(a,b=1,c=[]){for(let d of a)b>0&&d instanceof Array?cF(d,b-1,c):c.push(d);return c}function cG(a){return"Variable"===a.termType}function cH(a){if(a.triples){let b=[];for(let c of a.triples)cG(c.subject)&&b.push(c.subject.value),cG(c.predicate)&&b.push(c.predicate.value),cG(c.object)&&b.push(c.object.value);return b}if(a.patterns){let d=[];for(let e of a.patterns)d.push(...cH(e));return d}return[]}function cI(a){let b=a.slice().sort(),c=[];for(let d=0;d<b.length-1;d++)b[d+1]==b[d]&&c.push(b[d]);return c}function cJ(a){if(!cM.sparqlStar)throw Error("SPARQL* support is not enabled");return a}function cK(a){for(let b of a){if("graph"===b.type&&"Variable"===b.name.termType)throw Error("Detected illegal variable in GRAPH");if("bgp"===b.type||"graph"===b.type){for(let c of b.triples)if("Variable"===c.subject.termType||"Variable"===c.predicate.termType||"Variable"===c.object.termType)throw Error("Detected illegal variable in BGP")}}return a}function cL(a){for(let b of a)if("bgp"===b.type){for(let c of b.triples)if("BlankNode"===c.subject.termType||"BlankNode"===c.predicate.termType||"BlankNode"===c.object.termType)throw Error("Detected illegal blank node in BGP")}return a}function cM(){this.yy={}}return bY.lexer={EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a)},setInput:function(a,b){return this.yy=b||this.yy||{},this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),(d=a[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return c;if(this._backtrack)for(var f in e)this[f]=e[f];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a,b,c,d,e=this._currentRules(),f=0;f<e.length;f++)if((c=this._input.match(this.rules[e[f]]))&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(!1!==(a=this.test_match(c,e[f])))return a;if(!this._backtrack)return!1;b=!1;continue}if(!this.options.flex)break}return b?!1!==(a=this.test_match(b,e[d]))&&a:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a||this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return(a=this.conditionStack.length-1-Math.abs(a||0))>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(a,b,c,d){switch(c){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 316;case 5:return 317;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 41;case 11:return 45;case 12:return 46;case 13:return 48;case 14:return 50;case 15:return 55;case 16:return 58;case 17:return 320;case 18:return 68;case 19:return 69;case 20:return 75;case 21:return 78;case 22:return 81;case 23:return 83;case 24:return 86;case 25:return 88;case 26:return 90;case 27:return 191;case 28:return 107;case 29:return 321;case 30:return 140;case 31:return 322;case 32:return 323;case 33:return 117;case 34:return 324;case 35:return 116;case 36:return 325;case 37:return 326;case 38:return 120;case 39:return 122;case 40:return 123;case 41:return 138;case 42:return 132;case 43:return 133;case 44:return 135;case 45:return 141;case 46:return 119;case 47:return 327;case 48:return 328;case 49:return 167;case 50:return 170;case 51:return 174;case 52:return 100;case 53:return 168;case 54:return 329;case 55:return 173;case 56:return 231;case 57:return 235;case 58:return 278;case 59:return 195;case 60:return 330;case 61:return 331;case 62:return 224;case 63:return 333;case 64:return 271;case 65:return 219;case 66:return 226;case 67:return 227;case 68:return 250;case 69:return 254;case 70:return 295;case 71:return 334;case 72:return 335;case 73:return 336;case 74:return 337;case 75:return 338;case 76:return 258;case 77:return 339;case 78:return 273;case 79:return 281;case 80:return 282;case 81:return 275;case 82:return 276;case 83:return 277;case 84:return 340;case 85:return 341;case 86:return 279;case 87:return 343;case 88:return 342;case 89:return 344;case 90:return 284;case 91:return 285;case 92:return 288;case 93:return 290;case 94:return 294;case 95:return 298;case 96:return 301;case 97:return 13;case 98:return 16;case 99:return 312;case 100:return 245;case 101:return 34;case 102:return 297;case 103:return 87;case 104:return 299;case 105:return 300;case 106:return 306;case 107:return 307;case 108:return 308;case 109:return 309;case 110:return 310;case 111:return 311;case 112:return"EXPONENT";case 113:return 302;case 114:return 303;case 115:return 304;case 116:return 305;case 117:return 93;case 118:return 246;case 119:return 6;case 120:return"INVALID";case 121:console.log(b.yytext)}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}},cM.prototype=bY,bY.Parser=cM,new cM}();b.parser=e,b.Parser=e.Parser,b.parse=function(){return e.parse.apply(e,arguments)},b.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),d.exit(1));var e=c(9270).readFileSync(c(8080).normalize(a[1]),"utf8");return b.parser.parse(e)},c.c[c.s]===a&&b.main(d.argv.slice(1))},1348:function(a){class b{constructor(){return c||this}equals(a){return a&&this.termType===a.termType}}Object.defineProperty(b.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(b.prototype,"termType",{enumerable:!0,value:"Wildcard"});var c=new b;a.exports.R=b},9619:function(a,b,c){var d=c(97107).Parser,e=c(4404),f=c(1348).R,{DataFactory:g}=c(41640);a.exports={Parser:function({prefixes:a,baseIRI:b,factory:c,sparqlStar:e,skipValidation:f,skipUngroupedVariableCheck:h}={}){var i={};for(var j in a||{})i[j]=a[j];var k=new d;return k.parse=function(){return d.base=b||"",d.prefixes=Object.create(i),d.factory=c||new g,d.sparqlStar=Boolean(e),d.skipValidation=Boolean(f)||Boolean(h),d.prototype.parse.apply(k,arguments)},k._resetBlanks=d._resetBlanks,k},Generator:e,Wildcard:f}},39249:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(50287),b)},50287:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SparqlJsonParser=void 0;let d=c(41640),e=c(89827),f=c(2222);b.SparqlJsonParser=class{constructor(a){var b;a=a||{},this.dataFactory=a.dataFactory||new d.DataFactory,this.prefixVariableQuestionMark=!!a.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=null===(b=a.suppressMissingStreamResultsError)|| void 0===b||b}parseJsonResults(a){return a.results.bindings.map(a=>this.parseJsonBindings(a))}parseJsonResultsStream(a){let b=a=>h.emit("error",a);a.on("error",b);let c=new f;c.onError=b;let d=!1,g=!1;c.onValue=a=>{"vars"===c.key&&2===c.stack.length&&"head"===c.stack[1].key?(h.emit("variables",a.map(a=>this.dataFactory.variable(a))),d=!0):"results"===c.key&&1===c.stack.length?g=!0:"number"==typeof c.key&&3===c.stack.length&&"results"===c.stack[1].key&&"bindings"===c.stack[2].key?h.push(this.parseJsonBindings(a)):"metadata"===c.key&&1===c.stack.length&&h.emit("metadata",a)};let h=a.on("end",a=>{g||this.suppressMissingStreamResultsError?d||h.emit("variables",[]):h.emit("error",Error("No valid SPARQL query results were found."))}).pipe(new e.Transform({objectMode:!0,transform(a,b,d){c.write(a),d()}}));return h}parseJsonBindings(a){let b={};for(let c in a){let d=a[c],e=null;switch(d.type){case"bnode":e=this.dataFactory.blankNode(d.value);break;case"literal":e=d["xml:lang"]?this.dataFactory.literal(d.value,d["xml:lang"]):d.datatype?this.dataFactory.literal(d.value,this.dataFactory.namedNode(d.datatype)):this.dataFactory.literal(d.value);break;case"typed-literal":e=this.dataFactory.literal(d.value,this.dataFactory.namedNode(d.datatype));break;default:e=this.dataFactory.namedNode(d.value)}b[this.prefixVariableQuestionMark?"?"+c:c]=e}return b}parseJsonBoolean(a){if("boolean"in a)return a.boolean;throw Error("No valid ASK response was found.")}parseJsonBooleanStream(a){return new Promise((b,c)=>{let d=new f;d.onError=c,d.onValue=a=>{"boolean"===d.key&&"boolean"==typeof a&&1===d.stack.length&&b(a)},a.on("error",c).on("data",a=>d.write(a)).on("end",()=>c(Error("No valid ASK response was found.")))})}}},86610:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(81946),b)},81946:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Converter=void 0;let d=c(57945),e=c(39249);class f{constructor(a){(a=a||{delimiter:"_"}).prefixVariableQuestionMark=!1,this.delimiter=a.delimiter||"_",this.parser=new e.SparqlJsonParser(a),this.materializeRdfJsTerms=a.materializeRdfJsTerms}static addValueToTree(a,b,c,d,e,g){let h=b[0],i=d?d+g+h:h,j=e.singularizeVariables[i];if(1===b.length)j?a[h]||(a[h]=c):(a[h]||(a[h]=[]),a[h].push(c));else{let k;j?(a[h]||(a[h]={}),k=a[h]):(a[h]||(a[h]=[{}]),k=a[h][0]),f.addValueToTree(k,b.slice(1),c,i,e,g)}}static mergeTrees(a,b){if(typeof a!=typeof b)throw Error(`Two incompatible tree nodes were found: ${typeof a} and ${typeof b}`);if(Array.isArray(a)!==Array.isArray(b))throw Error(`Two incompatible tree nodes were found: Array?${Array.isArray(a)} and Array?${Array.isArray(b)}`);if("object"==typeof a&&"object"==typeof b){if(a.termType&&b.termType)return a.equals(b)?{valid:!0,result:a}:{valid:!1,result:a};if(Array.isArray(a)&&Array.isArray(b)){if(a.length>0){let c=[],d=!1;for(let e of a){let g=f.mergeTrees(e,b[0]);g.valid?(d=!0,c.push(g.result)):c.push(e)}if(d)return{valid:!0,result:c}}return{valid:!0,result:a.concat(b)}}{let h={};for(let i in b)h[i]=b[i];for(let j in a)if(h[j]){let k=f.mergeTrees(a[j],h[j]);if(!k.valid)return{valid:!1,result:a};h[j]=k.result}else h[j]=a[j];return{valid:!0,result:h}}}throw Error(`Unmergable tree types: ${typeof a} and ${typeof b}`)}static materializeTree(a){if(a.termType)return(0,d.getTermRaw)(a);if(Array.isArray(a))return a.map(f.materializeTree);{let b={};for(let c in a)b[c]=f.materializeTree(a[c]);return b}}sparqlJsonResultsToTree(a,b){return this.bindingsToTree(this.parser.parseJsonResults(a),b||{singularizeVariables:{}})}bindingsToTree(a,b){let c=b&&b.singularizeVariables[""],d=c?{}:[];for(let e of a){let g=c?{}:[{}];for(let h in e){let i=h.split(this.delimiter),j=e[h];f.addValueToTree(c?g:g[0],i,j,"",b,this.delimiter)}d=f.mergeTrees(d,g).result}return this.materializeRdfJsTerms&&(d=f.materializeTree(d)),d}}b.Converter=f},5271:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(3189),b)},3189:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SparqlXmlParser=void 0;let d=c(41640),e=c(92208),f=c(89827);b.SparqlXmlParser=class{constructor(a){a=a||{},this.dataFactory=a.dataFactory||new d.DataFactory,this.prefixVariableQuestionMark=!!a.prefixVariableQuestionMark}parseXmlResultsStream(a){let b=a=>o.emit("error",a);a.on("error",b);let c=new e.SaxesParser,d=[],g=!1,h=!1,i=[],j={},k="",l="",m,n="";c.on("error",b),c.on("opentag",a=>{"variable"===a.name&&this.stackEquals(d,["sparql","head"])?i.push(this.dataFactory.variable(a.attributes.name)):"results"===a.name&&this.stackEquals(d,["sparql"])?h=!0:"result"===a.name&&this.stackEquals(d,["sparql","results"])?j={}:"binding"===a.name&&this.stackEquals(d,["sparql","results","result"])?(k=a.attributes.name||"",l="",m="",n=""):this.stackEquals(d,["sparql","results","result","binding"])&&(l=a.name,m="xml:lang"in a.attributes?a.attributes["xml:lang"]:"datatype"in a.attributes?this.dataFactory.namedNode(a.attributes.datatype):void 0),d.push(a.name)}),c.on("closetag",a=>{if(this.stackEquals(d,["sparql","head"])&&(o.emit("variables",i),g=!0),this.stackEquals(d,["sparql","results","result"])&&o.push(j),this.stackEquals(d,["sparql","results","result","binding"])){let e=this.prefixVariableQuestionMark?"?"+k:k;!k&&l?b(Error(`Terms should have a name on line ${c.line+1}`)):"uri"===l?j[e]=this.dataFactory.namedNode(n):"bnode"===l?j[e]=this.dataFactory.blankNode(n):"literal"===l?j[e]=this.dataFactory.literal(n,m):l&&b(Error(`Invalid term type '${l}' on line ${c.line+1}`))}d.pop()}),c.on("text",a=>{this.stackEquals(d,["sparql","results","result","binding",l])&&(n=a)});let o=a.on("end",a=>{h?g||o.emit("variables",[]):o.emit("error",Error("No valid SPARQL query results were found."))}).pipe(new f.Transform({objectMode:!0,transform(a,b,d){c.write(a),d()}}));return o}parseXmlBooleanStream(a){return new Promise((b,c)=>{let d=new e.SaxesParser,f=[];d.on("error",c),d.on("opentag",a=>{f.push(a.name)}),d.on("closetag",a=>{f.pop()}),d.on("text",a=>{this.stackEquals(f,["sparql","boolean"])&&b("true"===a)}),a.on("error",c).on("data",a=>d.write(a)).on("end",()=>c(Error("No valid ASK response was found.")))})}stackEquals(a,b){return a.length===b.length&&a.every((a,c)=>b[c]===a)}}},83858:function(a,b,c){var d=c(99306);a.exports=function(a,b,c){"function"==typeof b&&(c=b,b=null),c=c||function(){};var e="";return new d(function(d,f){a.on("data",function(a){e+="string"==typeof b?a.toString(b):a.toString()}),a.on("end",function(){d(e),c(null,e)}),a.on("error",function(a){f(a),c(a)})})}},78818:function(a){!function(a){"use strict";var b=function(){function a(a){this.options=a}return a.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},a}(),c=function(){function a(b){return"function"==typeof Object.freeze?function(b){var c,d;if("object"!=typeof b||null===b)return b;for(d in Object.freeze(b),b)b.hasOwnProperty(d)&&"object"==typeof(c=b[d])&&a(c);return b}(b):b}return{isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},isString:function(a){return"[object String]"===Object.prototype.toString.apply(a)},isNumber:function(a){return"[object Number]"===Object.prototype.toString.apply(a)},isBoolean:function(a){return"[object Boolean]"===Object.prototype.toString.apply(a)},join:function(a,b){var c,d="",e=!0;for(c=0;c<a.length;c+=1)e?e=!1:d+=b,d+=a[c];return d},map:function(a,b){for(var c=[],d=0;d<a.length;d+=1)c.push(b(a[d]));return c},filter:function(a,b){for(var c=[],d=0;d<a.length;d+=1)b(a[d])&&c.push(a[d]);return c},deepFreeze:a}}(),d=function(){function a(a){return a>="0"&&a<="9"}return{isAlpha:function(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"},isDigit:a,isHexDigit:function(b){return a(b)||b>="a"&&b<="f"||b>="A"&&b<="F"}}}(),e=function(){var a={encode:function(a){return unescape(encodeURIComponent(a))},numBytes:function(a){return a<=127?1:194<=a&&a<=223?2:224<=a&&a<=239?3:240<=a&&a<=244?4:0},isValidFollowingCharCode:function(a){return 128<=a&&a<=191}};function b(a,b){return"%"===a.charAt(b)&&d.isHexDigit(a.charAt(b+1))&&d.isHexDigit(a.charAt(b+2))}function c(a,b){return parseInt(a.substr(b,2),16)}return{encodeCharacter:function(b){var c,d,e="",f=a.encode(b);for(d=0;d<f.length;d+=1)e+="%"+((c=f.charCodeAt(d))<16?"0":"")+c.toString(16).toUpperCase();return e},isPctEncoded:function(d){if(!b(d,0))return!1;var e=c(d,1),f=a.numBytes(e);if(0===f)return!1;for(var g=1;g<f;g+=1)if(!b(d,3*g)||!a.isValidFollowingCharCode(c(d,3*g+1)))return!1;return!0},pctCharAt:function(d,e){var f=d.charAt(e);if(!b(d,e))return f;var g=c(d,e+1),h=a.numBytes(g);if(0===h)return f;for(var i=1;i<h;i+=1)if(!b(d,e+3*i)||!a.isValidFollowingCharCode(c(d,e+3*i+1)))return f;return d.substr(e,3*h)}}}(),f={isVarchar:function(a){return d.isAlpha(a)||d.isDigit(a)||"_"===a||e.isPctEncoded(a)},isUnreserved:function(a){return d.isAlpha(a)||d.isDigit(a)||"-"===a||"."===a||"_"===a||"~"===a},isReserved:function(a){return":"===a||"/"===a||"?"===a||"#"===a||"["===a||"]"===a||"@"===a||"!"===a||"$"===a||"&"===a||"("===a||")"===a||"*"===a||"+"===a||","===a||";"===a||"="===a||"'"===a}},g=function(){function a(a,b){var c,d="",g="";for(("number"==typeof a||"boolean"==typeof a)&&(a=a.toString()),c=0;c<a.length;c+=g.length)g=a.charAt(c),d+=f.isUnreserved(g)||b&&f.isReserved(g)?g:e.encodeCharacter(g);return d}return{encode:a,encodePassReserved:function(b){return a(b,!0)},encodeLiteral:function(a){var b,c="",d="";for(b=0;b<a.length;b+=d.length)(d=e.pctCharAt(a,b)).length>1?c+=d:c+=f.isReserved(d)||f.isUnreserved(d)?d:e.encodeCharacter(d);return c},encodeLiteralCharacter:function(a,b){var c=e.pctCharAt(a,b);return c.length>1?c:f.isReserved(c)||f.isUnreserved(c)?c:e.encodeCharacter(c)}}}(),h=function(){var a={};function b(b){a[b]={symbol:b,separator:"?"===b?"&":""===b||"+"===b||"#"===b?",":b,named:";"===b||"&"===b||"?"===b,ifEmpty:"&"===b||"?"===b?"=":"",first:"+"===b?"":b,encode:"+"===b||"#"===b?g.encodePassReserved:g.encode,toString:function(){return this.symbol}}}return b(""),b("+"),b("#"),b("."),b("/"),b(";"),b("?"),b("&"),{valueOf:function(b){return a[b]?a[b]:"=,!@|".indexOf(b)>=0?null:a[""]}}}();function i(a){var b;if(null==a)return!1;if(c.isArray(a))return a.length>0;if("string"==typeof a||"number"==typeof a||"boolean"==typeof a)return!0;for(b in a)if(a.hasOwnProperty(b)&&i(a[b]))return!0;return!1}var j=function(){function a(a){this.literal=g.encodeLiteral(a)}return a.prototype.expand=function(){return this.literal},a.prototype.toString=a.prototype.expand,a}(),k=function(){function a(a){var c,g,i=[],j=null,k=null,m=null,n="";function o(){var c=a.substring(k,g);if(0===c.length)throw new b({expressionText:a,message:"a varname must be specified",position:g});j={varname:c,exploded:!1,maxLength:null},k=null}function p(){if(m===g)throw new b({expressionText:a,message:"after a ':' you have to specify the length",position:g});j.maxLength=parseInt(a.substring(m,g),10),m=null}for(k=g=(c=function(c){var d=h.valueOf(c);if(null===d)throw new b({expressionText:a,message:"illegal use of reserved operator",position:g,operator:c});return d}(a.charAt(0))).symbol.length;g<a.length;g+=n.length){if(n=e.pctCharAt(a,g),null!==k){if("."===n){if(k===g)throw new b({expressionText:a,message:"a varname MUST NOT start with a dot",position:g});continue}if(f.isVarchar(n))continue;o()}if(null!==m){if(g===m&&"0"===n)throw new b({expressionText:a,message:"A :prefix must not start with digit 0",position:g});if(d.isDigit(n)){if(g-m>=4)throw new b({expressionText:a,message:"A :prefix must have max 4 digits",position:g});continue}p()}if(":"===n){if(null!==j.maxLength)throw new b({expressionText:a,message:"only one :maxLength is allowed per varspec",position:g});if(j.exploded)throw new b({expressionText:a,message:"an exploeded varspec MUST NOT be varspeced",position:g});m=g+1;continue}if("*"===n){if(null===j)throw new b({expressionText:a,message:"exploded without varspec",position:g});if(j.exploded)throw new b({expressionText:a,message:"exploded twice",position:g});if(j.maxLength)throw new b({expressionText:a,message:"an explode (*) MUST NOT follow to a prefix",position:g});j.exploded=!0;continue}if(","===n){i.push(j),j=null,k=g+1;continue}throw new b({expressionText:a,message:"illegal character",character:n,position:g})}return null!==k&&o(),null!==m&&p(),i.push(j),new l(a,c,i)}return function(c){var d,e,f=[],g=null,h=0;for(d=0;d<c.length;d+=1){if(e=c.charAt(d),null!==h){if("}"===e)throw new b({templateText:c,message:"unopened brace closed",position:d});"{"===e&&(h<d&&f.push(new j(c.substring(h,d))),h=null,g=d);continue}if(null!==g){if("{"===e)throw new b({templateText:c,message:"brace already opened",position:d});if("}"===e){if(g+1===d)throw new b({templateText:c,message:"empty braces",position:g});try{f.push(a(c.substring(g+1,d)))}catch(i){if(i.prototype===b.prototype)throw new b({templateText:c,message:i.options.message,position:g+i.options.position,details:i.options});throw i}g=null,h=d+1}continue}throw Error("reached unreachable code")}if(null!==g)throw new b({templateText:c,message:"unclosed brace",position:g});return h<c.length&&f.push(new j(c.substr(h))),new m(c,f)}}(),l=function(){function a(a){return JSON&&JSON.stringify?JSON.stringify(a):a}function b(a){if(!i(a))return!0;if(c.isString(a))return""===a;if(c.isNumber(a)||c.isBoolean(a))return!1;if(c.isArray(a))return 0===a.length;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function d(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push({name:b,value:a[b]});return c}function e(a,b,c){this.templateText=a,this.operator=b,this.varspecs=c}function f(a,b,c){var d="";if(c=c.toString(),b.named){if(d+=g.encodeLiteral(a.varname),""===c)return d+b.ifEmpty;d+="="}return null!==a.maxLength&&(c=c.substr(0,a.maxLength)),d+=b.encode(c)}function h(a){return i(a.value)}function j(a,e,f){var j=[],k="";if(e.named){if(k+=g.encodeLiteral(a.varname),b(f))return k+e.ifEmpty;k+="="}return c.isArray(f)?(j=f,j=c.filter(j,i),j=c.map(j,e.encode),k+=c.join(j,",")):(j=d(f),j=c.filter(j,h),j=c.map(j,function(a){return e.encode(a.name)+","+e.encode(a.value)}),k+=c.join(j,",")),k}function k(a,e,f){var j=c.isArray(f),k=[];return j?(k=f,k=c.filter(k,i),k=c.map(k,function(c){var d=g.encodeLiteral(a.varname);return b(c)?d+=e.ifEmpty:d+="="+e.encode(c),d})):(k=d(f),k=c.filter(k,h),k=c.map(k,function(a){var c=g.encodeLiteral(a.name);return b(a.value)?c+=e.ifEmpty:c+="="+e.encode(a.value),c})),c.join(k,e.separator)}function l(a,b){var e=[],f="";return c.isArray(b)?(e=b,e=c.filter(e,i),e=c.map(e,a.encode),f+=c.join(e,a.separator)):(e=d(b),e=c.filter(e,function(a){return i(a.value)}),e=c.map(e,function(b){return a.encode(b.name)+"="+a.encode(b.value)}),f+=c.join(e,a.separator)),f}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(d){var e,g,h,m=[],n=this.operator;for(e=0;e<this.varspecs.length;e+=1)if(null!==(h=d[(g=this.varspecs[e]).varname])&& void 0!==h){if(g.exploded,c.isArray(h),"string"==typeof h||"number"==typeof h||"boolean"==typeof h)m.push(f(g,n,h));else if(g.maxLength&&i(h))throw Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+a(h));else g.exploded?i(h)&&(n.named?m.push(k(g,n,h)):m.push(l(n,h))):(n.named||!b(h))&&m.push(j(g,n,h))}return 0===m.length?"":n.first+c.join(m,n.separator)},e}(),m=function(){function a(a,b){this.templateText=a,this.expressions=b,c.deepFreeze(this)}return a.prototype.toString=function(){return this.templateText},a.prototype.expand=function(a){var b,c="";for(b=0;b<this.expressions.length;b+=1)c+=this.expressions[b].expand(a);return c},a.parse=k,a.UriTemplateError=b,a}();a(m)}(function(b){"use strict";a.exports=b})},21017:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(92504),b)},92504:function(a,b){"use strict";var c,d;Object.defineProperty(b,"__esModule",{value:!0}),b.validateIri=b.IriValidationStrategy=void 0;let e=function(){let a="[!$&'()*+,;=]",b="%[a-fA-F0-9]{2}",c="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",d=`${c}\\.${c}\\.${c}\\.${c}`,e="[a-fA-F0-9]{1,4}",f=`(${e}:${e}|${d})`,g=`((${e}:){6}${f}|::(${e}:){5}${f}|(${e})?::(${e}:){4}${f}|((${e}:){0,1}${e})?::(${e}:){3}${f}|((${e}:){0,2}${e})?::(${e}:){2}${f}|((${e}:){0,3}${e})?::${e}:${f}|((${e}:){0,4}${e})?::${f}|((${e}:){0,5}${e})?::${e}|((${e}:){0,6}${e})?::)`,h=`v[a-fA-F0-9]+\\.(${a}|${a}|":)+`,i=`\\[(${g}|${h})\\]`,j="[a-zA-Z0-9\\-._~\\u{A0}-\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\u{D000}}-\u{DFFF}}\\u{E1000}-\\u{EFFFD}]",k=`(${j}|${b}|${a}|[:@])*`,l=`(${k}|[\\/?])*`,m=`(${k}|[\\u{E000}-\\u{F8FF}\\u{F0000}-\\u{FFFFD}\\u{100000}-\\u{10FFFD}]|[\\/?])*`,n=`(${k})+`,o=`(${k})*`,p=`${n}(\\/${o})*`,q=`\\/(${n}(\\/${o})*)?`,r=`(\\/${o})*`,s=`(${j}|${b}|${a})*`,t=`(${i}|${d}|${s})`,u=`(${j}|${b}|${a}|:)*`,v=`(${u}@)?${t}(:[0-9]*)?`,w=`(\\/\\/${v}${r}|${q}|${p}|)`,x=`^[a-zA-Z][a-zA-Z0-9+\\-.]*:${w}(\\?${m})?(#${l})?$`;return RegExp(x,"u")}(),f=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;(d=c=b.IriValidationStrategy||(b.IriValidationStrategy={})).Strict="strict",d.Pragmatic="pragmatic",d.None="none",b.validateIri=function(a,b=c.Strict){switch(b){case c.Strict:return e.test(a)?void 0:Error(`Invalid IRI according to RFC 3987: '${a}'`);case c.Pragmatic:return f.test(a)?void 0:Error(`Invalid IRI according to RDF Turtle: '${a}'`);case c.None:return;default:return Error(`Not supported validation strategy "${b}"`)}}},38568:function(a,b,c){!function(b){a.exports=b()}(function(){return(function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=void 0;if(!h&&i)return require(g,!0);if(f)return f(g,!0);var j=Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c;return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=void 0,g=0;g<d.length;g++)e(d[g]);return e})({1:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./spec/reference-implementation/lib/readable-stream").ReadableStream,e=a("./spec/reference-implementation/lib/writable-stream").WritableStream,f=a("./spec/reference-implementation/lib/byte-length-queuing-strategy"),g=a("./spec/reference-implementation/lib/count-queuing-strategy"),h=a("./spec/reference-implementation/lib/transform-stream").TransformStream;c.ByteLengthQueuingStrategy=f,c.CountQueuingStrategy=g,c.ReadableStream=d,c.WritableStream=e,c.TransformStream=h,c.default={ReadableStream:d,WritableStream:e,ByteLengthQueuingStrategy:f,CountQueuingStrategy:g,TransformStream:h}},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":8,"./spec/reference-implementation/lib/count-queuing-strategy":9,"./spec/reference-implementation/lib/readable-stream":12,"./spec/reference-implementation/lib/transform-stream":13,"./spec/reference-implementation/lib/writable-stream":15}],2:[function(a,b,d){(function(c){"use strict";function d(a,b){if(a===b)return 0;for(var c=a.length,d=b.length,e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0}function e(a){return c.Buffer&&"function"==typeof c.Buffer.isBuffer?c.Buffer.isBuffer(a):!(null==a||!a._isBuffer)}function f(a){return Object.prototype.toString.call(a)}function g(a){return!e(a)&&"function"==typeof c.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(a):!!a&&(a instanceof DataView||!!(a.buffer&&a.buffer instanceof ArrayBuffer)))}function h(a){if(s.isFunction(a)){if(v)return a.name;var b=a.toString().match(x);return b&&b[1]}}function i(a,b){return"string"==typeof a?a.length<b?a:a.slice(0,b):a}function j(a){if(v||!s.isFunction(a))return s.inspect(a);var b=h(a);return"[Function"+(b?": "+b:"")+"]"}function k(a,b,c,d,e){throw new w.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function l(a,b){a||k(a,!0,b,"==",w.ok)}function m(a,b,c,h){if(a===b)return!0;if(e(a)&&e(b))return 0===d(a,b);if(s.isDate(a)&&s.isDate(b))return a.getTime()===b.getTime();if(s.isRegExp(a)&&s.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"==typeof a||null!==b&&"object"==typeof b){if(g(a)&&g(b)&&f(a)===f(b)&&!(a instanceof Float32Array||a instanceof Float64Array))return 0===d(new Uint8Array(a.buffer),new Uint8Array(b.buffer));if(e(a)!==e(b))return!1;var i=(h=h||{actual:[],expected:[]}).actual.indexOf(a);return -1!==i&&i===h.expected.indexOf(b)||(h.actual.push(a),h.expected.push(b),o(a,b,c,h))}return c?a===b:a==b}function n(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function o(a,b,c,d){if(null==a||null==b)return!1;if(s.isPrimitive(a)||s.isPrimitive(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var e=n(a),f=n(b);if(e&&!f|| !e&&f)return!1;if(e)return a=u.call(a),b=u.call(b),m(a,b,c);var g,h,i=y(a),j=y(b);if(i.length!==j.length)return!1;for(i.sort(),j.sort(),h=i.length-1;h>=0;h--)if(i[h]!==j[h])return!1;for(h=i.length-1;h>=0;h--)if(!m(a[g=i[h]],b[g],c,d))return!1;return!0}function p(a,b,c){m(a,b,!0)&&k(a,b,c,"notDeepStrictEqual",p)}function q(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0}catch(c){}return!Error.isPrototypeOf(b)&& !0===b.call({},a)}function r(a,b,c,d){if("function"!=typeof b)throw TypeError('"block" argument must be a function');"string"==typeof c&&(d=c,c=null),e=function(a){var b;try{a()}catch(c){b=c}return b}(b),d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!e&&k(e,c,"Missing expected exception"+d);var e,f="string"==typeof d,g=!a&&s.isError(e),h=!a&&e&&!c;if((g&&f&&q(e,c)||h)&&k(e,c,"Got unwanted exception"+d),a&&e&&c&&!q(e,c)|| !a&&e)throw e}var s=a("util/"),t=Object.prototype.hasOwnProperty,u=Array.prototype.slice,v="foo"===(function(){}).name,w=b.exports=l,x=/\s*function\s+([^\(\s]*)\s*/;w.AssertionError=function(a){this.name="AssertionError",this.actual=a.actual,this.expected=a.expected,this.operator=a.operator,a.message?(this.message=a.message,this.generatedMessage=!1):(this.message=(b=this,i(j(b.actual),128)+" "+b.operator+" "+i(j(b.expected),128)),this.generatedMessage=!0);var b,c=a.stackStartFunction||k;if(Error.captureStackTrace)Error.captureStackTrace(this,c);else{var d=Error();if(d.stack){var e=d.stack,f=h(c),g=e.indexOf("\n"+f);if(g>=0){var l=e.indexOf("\n",g+1);e=e.substring(l+1)}this.stack=e}}},s.inherits(w.AssertionError,Error),w.fail=k,w.ok=l,w.equal=function(a,b,c){a!=b&&k(a,b,c,"==",w.equal)},w.notEqual=function(a,b,c){a==b&&k(a,b,c,"!=",w.notEqual)},w.deepEqual=function(a,b,c){m(a,b,!1)||k(a,b,c,"deepEqual",w.deepEqual)},w.deepStrictEqual=function(a,b,c){m(a,b,!0)||k(a,b,c,"deepStrictEqual",w.deepStrictEqual)},w.notDeepEqual=function(a,b,c){m(a,b,!1)&&k(a,b,c,"notDeepEqual",w.notDeepEqual)},w.notDeepStrictEqual=p,w.strictEqual=function(a,b,c){a!==b&&k(a,b,c,"===",w.strictEqual)},w.notStrictEqual=function(a,b,c){a===b&&k(a,b,c,"!==",w.notStrictEqual)},w.throws=function(a,b,c){r(!0,a,b,c)},w.doesNotThrow=function(a,b,c){r(!1,a,b,c)},w.ifError=function(a){if(a)throw a};var y=Object.keys||function(a){var b=[];for(var c in a)t.call(a,c)&&b.push(c);return b}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":7}],3:[function(a,b,c){},{}],4:[function(a,b,c){function d(){throw Error("setTimeout has not been defined")}function e(){throw Error("clearTimeout has not been defined")}function f(a){if(k===setTimeout)return setTimeout(a,0);if((k===d||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(c){return k.call(this,a,0)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=f(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,function(a){if(l===clearTimeout)return clearTimeout(a);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{l(a)}catch(b){try{return l.call(null,a)}catch(c){return l.call(this,a)}}}(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=b.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:d}catch(a){k=d}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(b){l=e}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||f(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],5:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],6:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],7:[function(a,b,d){(function(b,c){function e(a,b){var c={seen:[],stylize:g};return arguments.length>=3&&(c.depth=arguments[2]),arguments.length>=4&&(c.colors=arguments[3]),o(b)?c.showHidden=b:b&&d._extend(c,b),s(c.showHidden)&&(c.showHidden=!1),s(c.depth)&&(c.depth=2),s(c.colors)&&(c.colors=!1),s(c.customInspect)&&(c.customInspect=!0),c.colors&&(c.stylize=f),h(c,a,c.depth)}function f(a,b){var c=e.styles[b];return c?"\x1b["+e.colors[c][0]+"m"+a+"\x1b["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a,b,c){if(a.customInspect&&b&&x(b.inspect)&&b.inspect!==d.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e,f=b.inspect(c,a);return r(f)||(f=h(a,f,c)),f}var g=i(a,b);if(g)return g;var o,p,q=Object.keys(b),s=(p={},(o=q).forEach(function(a,b){p[a]=!0}),p);if(a.showHidden&&(q=Object.getOwnPropertyNames(b)),w(b)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return j(b);if(0===q.length){if(x(b)){var u=b.name?": "+b.name:"";return a.stylize("[Function"+u+"]","special")}if(t(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(v(b))return a.stylize(Date.prototype.toString.call(b),"date");if(w(b))return j(b)}var y="",z=!1,A=["{","}"];return(n(b)&&(z=!0,A=["[","]"]),x(b)&&(y=" [Function"+(b.name?": "+b.name:"")+"]"),t(b)&&(y=" "+RegExp.prototype.toString.call(b)),v(b)&&(y=" "+Date.prototype.toUTCString.call(b)),w(b)&&(y=" "+j(b)),0!==q.length||z&&0!=b.length)?c<0?t(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special"):(a.seen.push(b),e=z?k(a,b,c,s,q):q.map(function(d){return l(a,b,c,s,d,z)}),a.seen.pop(),m(e,y,A)):A[0]+y+A[1]}function i(a,b){if(s(b))return a.stylize("undefined","undefined");if(r(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return q(b)?a.stylize(""+b,"number"):o(b)?a.stylize(""+b,"boolean"):p(b)?a.stylize("null","null"):void 0}function j(a){return"["+Error.prototype.toString.call(a)+"]"}function k(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)A(b,String(g))?f.push(l(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(l(a,b,c,d,e,!0))}),f}function l(a,b,c,d,e,f){var g,i,j;if((j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]}).get?i=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(i=a.stylize("[Setter]","special")),A(d,e)||(g="["+e+"]"),i||(0>a.seen.indexOf(j.value)?(i=p(c)?h(a,j.value,null):h(a,j.value,c-1)).indexOf("\n")> -1&&(i=f?i.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+i.split("\n").map(function(a){return"   "+a}).join("\n")):i=a.stylize("[Circular]","special")),s(g)){if(f&&e.match(/^\d+$/))return i;(g=JSON.stringify(""+e)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+i}function m(a,b,c){var d=0;return a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function n(a){return Array.isArray(a)}function o(a){return"boolean"==typeof a}function p(a){return null===a}function q(a){return"number"==typeof a}function r(a){return"string"==typeof a}function s(a){return void 0===a}function t(a){return u(a)&&"[object RegExp]"===y(a)}function u(a){return"object"==typeof a&&null!==a}function v(a){return u(a)&&"[object Date]"===y(a)}function w(a){return u(a)&&("[object Error]"===y(a)||a instanceof Error)}function x(a){return"function"==typeof a}function y(a){return Object.prototype.toString.call(a)}function z(a){return a<10?"0"+a.toString(10):a.toString(10)}function A(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var B=/%[sdj%]/g;d.format=function(a){if(!r(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(B,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])p(h)||!u(h)?g+=" "+h:g+=" "+e(h);return g},d.deprecate=function(a,e){if(s(c.process))return function(){return d.deprecate(a,e).apply(this,arguments)};if(!0===b.noDeprecation)return a;var f=!1;return function(){if(!f){if(b.throwDeprecation)throw Error(e);b.traceDeprecation?console.trace(e):console.error(e),f=!0}return a.apply(this,arguments)}};var C,D={};d.debuglog=function(a){if(s(C)&&(C=b.env.NODE_DEBUG||""),!D[a=a.toUpperCase()]){if(RegExp("\\b"+a+"\\b","i").test(C)){var c=b.pid;D[a]=function(){var b=d.format.apply(d,arguments);console.error("%s %d: %s",a,c,b)}}else D[a]=function(){}}return D[a]},d.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},d.isArray=n,d.isBoolean=o,d.isNull=p,d.isNullOrUndefined=function(a){return null==a},d.isNumber=q,d.isString=r,d.isSymbol=function(a){return"symbol"==typeof a},d.isUndefined=s,d.isRegExp=t,d.isObject=u,d.isDate=v,d.isError=w,d.isFunction=x,d.isPrimitive=function(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a|| void 0===a},d.isBuffer=a("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];d.log=function(){var a,b;console.log("%s - %s",(a=new Date,b=[z(a.getHours()),z(a.getMinutes()),z(a.getSeconds())].join(":"),[a.getDate(),E[a.getMonth()],b].join(" ")),d.format.apply(d,arguments))},d.inherits=a("inherits"),d._extend=function(a,b){if(!b||!u(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":6,"_process":4,inherits:5}],8:[function(a,b,c){"use strict";var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=a("./helpers.js").createDataProperty;b.exports=function(){function a(b){var c=b.highWaterMark;(function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")})(this,a),e(this,"highWaterMark",c)}return d(a,[{key:"size",value:function(a){return a.byteLength}}]),a}()},{"./helpers.js":10}],9:[function(a,b,c){"use strict";var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=a("./helpers.js").createDataProperty;b.exports=function(){function a(b){var c=b.highWaterMark;(function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")})(this,a),e(this,"highWaterMark",c)}return d(a,[{key:"size",value:function(){return 1}}]),a}()},{"./helpers.js":10}],10:[function(a,b,c){"use strict";function d(a,b,c){if("function"!=typeof a)throw TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,c)}function e(a,b,c){try{return Promise.resolve(d(a,b,c))}catch(e){return Promise.reject(e)}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=(a("better-assert"),Symbol('is "detached" for our purposes'));c.typeIsObject=function(a){return"object"===(void 0===a?"undefined":f(a))&&null!==a||"function"==typeof a},c.createDataProperty=function(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})},c.createArrayFromList=function(a){return a.slice()},c.ArrayBufferCopy=function(a,b,c,d,e){new Uint8Array(a).set(new Uint8Array(c,d,e),b)},c.CreateIterResultObject=function(a,b){var c={};return Object.defineProperty(c,"value",{value:a,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(c,"done",{value:b,enumerable:!0,writable:!0,configurable:!0}),c},c.IsFiniteNonNegativeNumber=function(a){return!1!==c.IsNonNegativeNumber(a)&&a!==1/0},c.IsNonNegativeNumber=function(a){return"number"==typeof a&&!Number.isNaN(a)&&!(a<0)},c.Call=d,c.CreateAlgorithmFromUnderlyingMethod=function(a,b,c,d){var f=a[b];if(void 0!==f){if("function"!=typeof f)throw TypeError(f+" is not a method");switch(c){case 0:return function(){return e(f,a,d)};case 1:return function(b){return e(f,a,[b].concat(d))}}}return function(){return Promise.resolve()}},c.InvokeOrNoop=function(a,b,c){var e=a[b];if(void 0!==e)return d(e,a,c)},c.PromiseCall=e,c.TransferArrayBuffer=function(a){var b=a.slice();return Object.defineProperty(a,"byteLength",{get:function(){return 0}}),a[g]=!0,b},c.IsDetachedBuffer=function(a){return g in a},c.ValidateAndNormalizeHighWaterMark=function(a){if(a=Number(a),Number.isNaN(a)||a<0)throw RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a},c.MakeSizeAlgorithmFromSizeFunction=function(a){if(void 0===a)return function(){return 1};if("function"!=typeof a)throw TypeError("size property of a queuing strategy must be a function");return function(b){return a(b)}}},{"better-assert":16}],11:[function(a,b,c){"use strict";a("better-assert");var d=a("./helpers.js").IsFiniteNonNegativeNumber;c.DequeueValue=function(a){var b=a._queue.shift();return a._queueTotalSize-=b.size,a._queueTotalSize<0&&(a._queueTotalSize=0),b.value},c.EnqueueValueWithSize=function(a,b,c){if(!d(c=Number(c)))throw RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:c}),a._queueTotalSize+=c},c.PeekQueueValue=function(a){return a._queue[0].value},c.ResetQueue=function(a){a._queue=[],a._queueTotalSize=0}},{"./helpers.js":10,"better-assert":16}],12:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function e(a){return new aQ(a)}function f(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:1,e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:function(){return 1},f=Object.create(aP.prototype);return g(f),I(f,Object.create(aS.prototype),a,b,c,d,e),f}function g(a){a._state="readable",a._reader=void 0,a._storedError=void 0,a._disturbed=!1}function h(a){return!!ay(a)&&!!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")}function i(a){return void 0!==a._reader}function j(a){return new Promise(function(b,c){a._reader._readIntoRequests.push({_resolve:b,_reject:c})})}function k(a){return new Promise(function(b,c){a._reader._readRequests.push({_resolve:b,_reject:c})})}function l(a,b){return a._disturbed=!0,"closed"===a._state?Promise.resolve(void 0):"errored"===a._state?Promise.reject(a._storedError):(m(a),a._readableStreamController[aN](b).then(function(){}))}function m(a){a._state="closed";var b=a._reader;if(void 0!==b){if(!0===u(b)){var c=!0,d=!1,e=void 0;try{for(var f,g=b._readRequests[Symbol.iterator]();!(c=(f=g.next()).done);c=!0)(0,f.value._resolve)(aq(void 0,!0))}catch(h){d=!0,e=h}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}b._readRequests=[]}ah(b)}}function n(a,b){a._state="errored",a._storedError=b;var c=a._reader;if(void 0!==c){if(!0===u(c)){var d=!0,e=!1,f=void 0;try{for(var g,h=c._readRequests[Symbol.iterator]();!(d=(g=h.next()).done);d=!0)g.value._reject(b)}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}c._readRequests=[]}else{var j=!0,k=!1,l=void 0;try{for(var m,n=c._readIntoRequests[Symbol.iterator]();!(j=(m=n.next()).done);j=!0)m.value._reject(b)}catch(o){k=!0,l=o}finally{try{!j&&n.return&&n.return()}finally{if(k)throw l}}c._readIntoRequests=[]}af(c,b),c._closedPromise.catch(function(){})}}function o(a,b,c){a._reader._readRequests.shift()._resolve(aq(b,c))}function p(a){return a._reader._readIntoRequests.length}function q(a){return a._reader._readRequests.length}function r(a){var b=a._reader;return void 0!==b&& !1!==t(b)}function s(a){var b=a._reader;return void 0!==b&& !1!==u(b)}function t(a){return!!ay(a)&&!!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")}function u(a){return!!ay(a)&&!!Object.prototype.hasOwnProperty.call(a,"_readRequests")}function v(a,b){a._ownerReadableStream=b,b._reader=a,"readable"===b._state?ac(a):"closed"===b._state?ae(a):(ad(a,b._storedError),a._closedPromise.catch(function(){}))}function w(a,b){return l(a._ownerReadableStream,b)}function x(a){"readable"===a._ownerReadableStream._state?af(a,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ag(a,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),a._closedPromise.catch(function(){}),a._ownerReadableStream._reader=void 0,a._ownerReadableStream=void 0}function y(a){var b=a._ownerReadableStream;return b._disturbed=!0,"closed"===b._state?Promise.resolve(aq(void 0,!0)):"errored"===b._state?Promise.reject(b._storedError):b._readableStreamController[aO]()}function z(a){return!!ay(a)&&!!Object.prototype.hasOwnProperty.call(a,"_controlledReadableStream")}function A(a){!1!==B(a)&&(!0!==a._pulling?(a._pulling=!0,a._pullAlgorithm().then(function(){if(a._pulling=!1,!0===a._pullAgain)return a._pullAgain=!1,A(a)},function(b){F(a,b)}).catch(az)):a._pullAgain=!0)}function B(a){var b=a._controlledReadableStream;return!1!==H(a)&& !1!==a._started&&(!0===i(b)&&q(b)>0||G(a)>0)}function C(a){var b=a._controlledReadableStream;a._closeRequested=!0,0===a._queue.length&&m(b)}function D(a,b){var c=a._controlledReadableStream;if(!0===i(c)&&q(c)>0)o(c,b,!1);else{var d=void 0;try{d=a._strategySizeAlgorithm(b)}catch(e){throw F(a,e),e}try{aC(a,b,d)}catch(f){throw F(a,f),f}}A(a)}function E(a,b){var c=a._controlledReadableStream;aD(a),n(c,b)}function F(a,b){"readable"===a._controlledReadableStream._state&&E(a,b)}function G(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function H(a){var b=a._controlledReadableStream._state;return!1===a._closeRequested&&"readable"===b}function I(a,b,c,d,e,f,g){b._controlledReadableStream=a,b._queue=void 0,b._queueTotalSize=void 0,aD(b),b._started=!1,b._closeRequested=!1,b._pullAgain=!1,b._pulling=!1,b._strategySizeAlgorithm=g,b._strategyHWM=f,b._pullAlgorithm=d,b._cancelAlgorithm=e,a._readableStreamController=b,Promise.resolve(c()).then(function(){b._started=!0,A(b)},function(a){F(b,a)}).catch(az)}function J(a){return!!ay(a)&&!!Object.prototype.hasOwnProperty.call(a,"_controlledReadableByteStream")}function K(a){return!!ay(a)&&!!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")}function L(a){!1!==X(a)&&(!0!==a._pulling?(a._pulling=!0,a._pullAlgorithm().then(function(){a._pulling=!1,!0===a._pullAgain&&(a._pullAgain=!1,L(a))},function(b){"readable"===a._controlledReadableByteStream._state&&Y(a,b)}).catch(az)):a._pullAgain=!0)}function M(a){T(a),a._pendingPullIntos=[]}function N(a,b){var c=!1;"closed"===a._state&&(c=!0);var d=O(b);"default"===b.readerType?o(a,d,c):function(a,b,c){a._reader._readIntoRequests.shift()._resolve(aq(b,c))}(a,d,c)}function O(a){var b=a.bytesFilled,c=a.elementSize;return new a.ctor(a.buffer,a.byteOffset,b/c)}function P(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d}),a._queueTotalSize+=d}function Q(a,b){var c=b.elementSize,d=b.bytesFilled-b.bytesFilled%c,e=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),f=b.bytesFilled+e,g=f-f%c,h=e,i=!1;g>d&&(h=g-b.bytesFilled,i=!0);for(var j=a._queue;h>0;){var k=j[0],l=Math.min(h,k.byteLength),m=b.byteOffset+b.bytesFilled;ao(b.buffer,m,k.buffer,k.byteOffset,l),k.byteLength===l?j.shift():(k.byteOffset+=l,k.byteLength-=l),a._queueTotalSize-=l,R(a,l,b),h-=l}return i}function R(a,b,c){T(a),c.bytesFilled+=b}function S(a){0===a._queueTotalSize&& !0===a._closeRequested?m(a._controlledReadableByteStream):L(a)}function T(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function U(a){for(;a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;var b=a._pendingPullIntos[0];!0===Q(a,b)&&(W(a),N(a._controlledReadableByteStream,b))}}function V(a,b){var c=a._pendingPullIntos[0];if("closed"===a._controlledReadableByteStream._state){if(0!==b)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(a,b){b.buffer=au(b.buffer);var c=a._controlledReadableByteStream;if(!0===r(c))for(;p(c)>0;)N(c,W(a))}(a,c)}else!function(a,b,c){if(c.bytesFilled+b>c.byteLength)throw RangeError("bytesWritten out of range");if(R(a,b,c),!(c.bytesFilled<c.elementSize)){W(a);var d=c.bytesFilled%c.elementSize;if(d>0){var e=c.byteOffset+c.bytesFilled,f=c.buffer.slice(e-d,e);P(a,f,0,f.byteLength)}c.buffer=au(c.buffer),c.bytesFilled-=d,N(a._controlledReadableByteStream,c),U(a)}}(a,b,c)}function W(a){var b=a._pendingPullIntos.shift();return T(a),b}function X(a){var b=a._controlledReadableByteStream;return"readable"===b._state&& !0!==a._closeRequested&& !1!==a._started&&(!0===s(b)&&q(b)>0|| !0===r(b)&&p(b)>0||Z(a)>0)}function Y(a,b){var c=a._controlledReadableByteStream;M(a),aD(a),n(c,b)}function Z(a){var b=a._controlledReadableByteStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function $(a,b,c,d,e,f,g){b._controlledReadableByteStream=a,b._pullAgain=!1,b._pulling=!1,M(b),b._queue=b._queueTotalSize=void 0,aD(b),b._closeRequested=!1,b._started=!1,b._strategyHWM=av(f),b._pullAlgorithm=d,b._cancelAlgorithm=e,b._autoAllocateChunkSize=g,b._pendingPullIntos=[],a._readableStreamController=b,Promise.resolve(c()).then(function(){b._started=!0,L(b)},function(c){"readable"===a._state&&Y(b,c)}).catch(az)}function _(a){return TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function aa(a){return TypeError("Cannot "+a+" a stream using a released reader")}function ab(a){return TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ac(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c})}function ad(a,b){a._closedPromise=Promise.reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function ae(a){a._closedPromise=Promise.resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function af(a,b){a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function ag(a,b){a._closedPromise=Promise.reject(b)}function ah(a){a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function ai(a){return TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function aj(a){return TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function ak(a){return TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function al(a){return TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}var am=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),an=(a("better-assert"),a("./helpers.js")),ao=an.ArrayBufferCopy,ap=an.CreateAlgorithmFromUnderlyingMethod,aq=an.CreateIterResultObject,ar=an.IsFiniteNonNegativeNumber,as=an.InvokeOrNoop,at=an.IsDetachedBuffer,au=an.TransferArrayBuffer,av=an.ValidateAndNormalizeHighWaterMark,aw=(an.IsNonNegativeNumber,an.MakeSizeAlgorithmFromSizeFunction),ax=an.createArrayFromList,ay=an.typeIsObject,az=a("./utils.js").rethrowAssertionErrorRejection,aA=a("./queue-with-sizes.js"),aB=aA.DequeueValue,aC=aA.EnqueueValueWithSize,aD=aA.ResetQueue,aE=a("./writable-stream.js"),aF=aE.AcquireWritableStreamDefaultWriter,aG=aE.IsWritableStream,aH=aE.IsWritableStreamLocked,aI=aE.WritableStreamAbort,aJ=aE.WritableStreamDefaultWriterCloseWithErrorPropagation,aK=aE.WritableStreamDefaultWriterRelease,aL=aE.WritableStreamDefaultWriterWrite,aM=aE.WritableStreamCloseQueuedOrInFlight,aN=Symbol("[[CancelSteps]]"),aO=Symbol("[[PullSteps]]"),aP=function(){function a(){var b,c,e,f,h,i,j,k=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},m=l.size,n=l.highWaterMark;d(this,a),g(this);var o=k.type;if("bytes"===String(o)){if(void 0===n&&(n=0),n=av(n),void 0!==m)throw RangeError("The strategy for a byte stream cannot have a size function");!function(a,b,c){var d=Object.create(aU.prototype),e=ap(b,"pull",0,[d]),f=ap(b,"cancel",1,[]),g=b.autoAllocateChunkSize;if(void 0!==g&&(!1===Number.isInteger(g)||g<=0))throw RangeError("autoAllocateChunkSize must be a positive integer");$(a,d,function(){return as(b,"start",[d])},e,f,c,g)}(this,k,n)}else{if(void 0!==o)throw RangeError("Invalid type is specified");void 0===n&&(n=1),b=this,c=k,e=n=av(n),f=aw(m),i=ap(c,"pull",0,[h=Object.create(aS.prototype)]),j=ap(c,"cancel",1,[]),I(b,h,function(){return as(c,"start",[h])},i,j,e,f)}}return am(a,[{key:"cancel",value:function(a){return!1===h(this)?Promise.reject(_("cancel")):!0===i(this)?Promise.reject(TypeError("Cannot cancel a stream that already has a reader")):l(this,a)}},{key:"getReader",value:function(){var a,b=(arguments.length>0&& void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===h(this))throw _("getReader");if(void 0===b)return e(this);if("byob"===(b=String(b)))return a=this,new aR(a);throw RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(a,b){var c=a.writable,d=a.readable;if(void 0===c|| void 0===d)throw TypeError("readable and writable arguments must be defined");return function(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(b){}}(this.pipeTo(c,b)),d}},{key:"pipeTo",value:function(a){var b=this,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},d=c.preventClose,f=c.preventAbort,g=c.preventCancel;if(!1===h(this))return Promise.reject(_("pipeTo"));if(!1===aG(a))return Promise.reject(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(d=Boolean(d),f=Boolean(f),g=Boolean(g),!0===i(this))return Promise.reject(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===aH(a))return Promise.reject(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var j=e(this),k=aF(a),m=!1,n=Promise.resolve();return new Promise(function(c,e){function h(){return!0===m?Promise.resolve():k._readyPromise.then(function(){return y(j).then(function(a){var b=a.value;!0!==a.done&&(n=aL(k,b).catch(function(){}))})}).then(h)}function i(){var a=n;return n.then(function(){return a!==n?i():void 0})}function o(a,b,c){"errored"===a._state?c(a._storedError):b.catch(c).catch(az)}function p(b,c,d){function e(){b().then(function(){return r(c,d)},function(a){return r(!0,a)}).catch(az)}!0!==m&&(m=!0,"writable"===a._state&& !1===aM(a)?i().then(e):e())}function q(b,c){!0!==m&&(m=!0,"writable"===a._state&& !1===aM(a)?i().then(function(){return r(b,c)}).catch(az):r(b,c))}function r(a,b){aK(k),x(j),a?e(b):c(void 0)}if(o(b,j._closedPromise,function(b){!1===f?p(function(){return aI(a,b)},!0,b):q(!0,b)}),o(a,k._closedPromise,function(a){!1===g?p(function(){return l(b,a)},!0,a):q(!0,a)}),function(a,b,c){"closed"===a._state?c():b.then(c).catch(az)}(b,j._closedPromise,function(){!1===d?p(function(){return aJ(k)}):q()}),!0===aM(a)||"closed"===a._state){var s=TypeError("the destination writable stream closed before all data could be piped to it");!1===g?p(function(){return l(b,s)},!0,s):q(!0,s)}h().catch(function(a){n=Promise.resolve(),az(a)})})}},{key:"tee",value:function(){if(!1===h(this))throw _("tee");var a=function(a,b){function c(){return y(g).then(function(a){var b=a.value;if(!0===a.done&& !1===h&&(!1===i&&C(n._readableStreamController),!1===j&&C(o._readableStreamController),h=!0),!0!==h){var c=b,d=b;!1===i&&D(n._readableStreamController,c),!1===j&&D(o._readableStreamController,d)}})}function d(){}var g=e(a),h=!1,i=!1,j=!1,k=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=new Promise(function(a){p=a});return n=f(d,c,function(b){if(i=!0,k=b,!0===j){var c=ax([k,m]),d=l(a,c);p(d)}return q}),o=f(d,c,function(b){if(j=!0,m=b,!0===i){var c=ax([k,m]),d=l(a,c);p(d)}return q}),g._closedPromise.catch(function(a){!0!==h&&(F(n._readableStreamController,a),F(o._readableStreamController,a),h=!0)}),[n,o]}(this,!1);return ax(a)}},{key:"locked",get:function(){if(!1===h(this))throw _("locked");return i(this)}}]),a}();b.exports={CreateReadableByteStream:function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:0,e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:void 0,f=Object.create(aP.prototype);return g(f),$(f,Object.create(aU.prototype),a,b,c,d,e),f},CreateReadableStream:f,ReadableStream:aP,IsReadableStreamDisturbed:function(a){return a._disturbed},ReadableStreamDefaultControllerClose:C,ReadableStreamDefaultControllerEnqueue:D,ReadableStreamDefaultControllerError:E,ReadableStreamDefaultControllerGetDesiredSize:G,ReadableStreamDefaultControllerHasBackpressure:function(a){return!0!==B(a)},ReadableStreamDefaultControllerCanCloseOrEnqueue:H};var aQ=function(){function a(b){if(d(this,a),!1===h(b))throw TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===i(b))throw TypeError("This stream has already been locked for exclusive reading by another reader");v(this,b),this._readRequests=[]}return am(a,[{key:"cancel",value:function(a){return!1===u(this)?Promise.reject(ab("cancel")):void 0===this._ownerReadableStream?Promise.reject(aa("cancel")):w(this,a)}},{key:"read",value:function(){return!1===u(this)?Promise.reject(ab("read")):void 0===this._ownerReadableStream?Promise.reject(aa("read from")):y(this)}},{key:"releaseLock",value:function(){if(!1===u(this))throw ab("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");x(this)}}},{key:"closed",get:function(){return!1===u(this)?Promise.reject(ab("closed")):this._closedPromise}}]),a}(),aR=function(){function a(b){if(d(this,a),!h(b))throw TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===J(b._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(i(b))throw TypeError("This stream has already been locked for exclusive reading by another reader");v(this,b),this._readIntoRequests=[]}return am(a,[{key:"cancel",value:function(a){return t(this)?void 0===this._ownerReadableStream?Promise.reject(aa("cancel")):w(this,a):Promise.reject(ai("cancel"))}},{key:"read",value:function(a){var b,c,d;return t(this)?void 0===this._ownerReadableStream?Promise.reject(aa("read from")):ArrayBuffer.isView(a)?!0===at(a.buffer)?Promise.reject(TypeError("Cannot read into a view onto a detached ArrayBuffer")):0===a.byteLength?Promise.reject(TypeError("view must have non-zero byteLength")):(b=this,c=a,(d=b._ownerReadableStream)._disturbed=!0,"errored"===d._state?Promise.reject(d._storedError):function a(b,c){var d=b._controlledReadableByteStream,e=1;c.constructor!==DataView&&(e=c.constructor.BYTES_PER_ELEMENT);var f=c.constructor,g={buffer:au(c.buffer),byteOffset:c.byteOffset,byteLength:c.byteLength,bytesFilled:0,elementSize:e,ctor:f,readerType:"byob"};if(b._pendingPullIntos.length>0)return b._pendingPullIntos.push(g),j(d);if("closed"===d._state)return Promise.resolve(aq(new c.constructor(g.buffer,g.byteOffset,0),!0));if(b._queueTotalSize>0){if(!0===Q(b,g)){var h=O(g);return S(b),Promise.resolve(aq(h,!1))}if(!0===b._closeRequested){var i=TypeError("Insufficient bytes to fill elements in the given buffer");return Y(b,i),Promise.reject(i)}}b._pendingPullIntos.push(g);var k=j(d);return L(b),k}(d._readableStreamController,c)):Promise.reject(TypeError("view must be an array buffer view")):Promise.reject(ai("read"))}},{key:"releaseLock",value:function(){if(!t(this))throw ai("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");x(this)}}},{key:"closed",get:function(){return t(this)?this._closedPromise:Promise.reject(ai("closed"))}}]),a}(),aS=function(){function a(){throw d(this,a),TypeError()}return am(a,[{key:"close",value:function(){if(!1===z(this))throw aj("close");if(!1===H(this))throw TypeError("The stream is not in a state that permits close");C(this)}},{key:"enqueue",value:function(a){if(!1===z(this))throw aj("enqueue");if(!1===H(this))throw TypeError("The stream is not in a state that permits enqueue");return D(this,a)}},{key:"error",value:function(a){if(!1===z(this))throw aj("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw TypeError("The stream is "+b._state+" and so cannot be errored");E(this,a)}},{key:aN,value:function(a){return aD(this),this._cancelAlgorithm(a)}},{key:aO,value:function(){var a=this._controlledReadableStream;if(this._queue.length>0){var b=aB(this);return!0===this._closeRequested&&0===this._queue.length?m(a):A(this),Promise.resolve(aq(b,!1))}var c=k(a);return A(this),c}},{key:"desiredSize",get:function(){if(!1===z(this))throw aj("desiredSize");return G(this)}}]),a}(),aT=function(){function a(){throw d(this,a),TypeError("ReadableStreamBYOBRequest cannot be used directly")}return am(a,[{key:"respond",value:function(a){if(!1===K(this))throw ak("respond");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(!0===at(this._view.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");(function(a,b){if(!1===ar(b=Number(b)))throw RangeError("bytesWritten must be a finite");V(a,b)})(this._associatedReadableByteStreamController,a)}},{key:"respondWithNewView",value:function(a){if(!1===K(this))throw ak("respond");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw TypeError("You can only respond with array buffer views");if(!0===at(a.buffer))throw TypeError("The supplied view's buffer has been detached and so cannot be used as a response");(function(a,b){var c=a._pendingPullIntos[0];if(c.byteOffset+c.bytesFilled!==b.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(c.byteLength!==b.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");c.buffer=b.buffer,V(a,b.byteLength)})(this._associatedReadableByteStreamController,a)}},{key:"view",get:function(){if(!1===K(this))throw ak("view");return this._view}}]),a}(),aU=function(){function a(){throw d(this,a),TypeError("ReadableByteStreamController constructor cannot be used directly")}return am(a,[{key:"close",value:function(){if(!1===J(this))throw al("close");if(!0===this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableByteStream._state;if("readable"!==a)throw TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");(function(a){var b=a._controlledReadableByteStream;if(a._queueTotalSize>0)a._closeRequested=!0;else{if(a._pendingPullIntos.length>0&&a._pendingPullIntos[0].bytesFilled>0){var c=TypeError("Insufficient bytes to fill elements in the given buffer");throw Y(a,c),c}m(b)}})(this)}},{key:"enqueue",value:function(a){if(!1===J(this))throw al("enqueue");if(!0===this._closeRequested)throw TypeError("stream is closed or draining");var b,c,d,e,f,g,h,i=this._controlledReadableByteStream._state;if("readable"!==i)throw TypeError("The stream (in "+i+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(!0===at(a.buffer))throw TypeError("Cannot enqueue a view onto a detached ArrayBuffer");b=this,c=a,d=b._controlledReadableByteStream,e=c.buffer,f=c.byteOffset,g=c.byteLength,h=au(e),!0===s(d)?0===q(d)?P(b,h,f,g):o(d,new Uint8Array(h,f,g),!1):!0===r(d)?(P(b,h,f,g),U(b)):P(b,h,f,g)}},{key:"error",value:function(a){if(!1===J(this))throw al("error");var b=this._controlledReadableByteStream;if("readable"!==b._state)throw TypeError("The stream is "+b._state+" and so cannot be errored");Y(this,a)}},{key:aN,value:function(a){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),aD(this),this._cancelAlgorithm(a)}},{key:aO,value:function(){var a=this._controlledReadableByteStream;if(this._queueTotalSize>0){var b=this._queue.shift();this._queueTotalSize-=b.byteLength,S(this);var c=void 0;try{c=new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}catch(d){return Promise.reject(d)}return Promise.resolve(aq(c,!1))}var e=this._autoAllocateChunkSize;if(void 0!==e){var f=void 0;try{f=new ArrayBuffer(e)}catch(g){return Promise.reject(g)}var h={buffer:f,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(h)}var i=k(a);return L(this),i}},{key:"byobRequest",get:function(){if(!1===J(this))throw al("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var a,b,c,d=this._pendingPullIntos[0],e=new Uint8Array(d.buffer,d.byteOffset+d.bytesFilled,d.byteLength-d.bytesFilled),f=Object.create(aT.prototype);a=f,b=this,c=e,a._associatedReadableByteStreamController=b,a._view=c,this._byobRequest=f}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===J(this))throw al("desiredSize");return Z(this)}}]),a}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"./writable-stream.js":15,"better-assert":16}],13:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function e(a,b,c,d,e,f){function g(){return b}a._writable=K(g,function(b){return m(a,b)},function(){return o(a)},function(){return n(a)},c,d),a._readable=C(g,function(){return p(a)},function(b){return h(a,b),Promise.resolve()},e,f),a._backpressure=void 0,a._backpressureChangePromise=void 0,a._backpressureChangePromise_resolve=void 0,i(a,!0),a._transformStreamController=void 0}function f(a){return!!y(a)&&!!Object.prototype.hasOwnProperty.call(a,"_transformStreamController")}function g(a,b){t("TransformStreamError()"),"readable"===a._readable._state&&F(a._readable._readableStreamController,b),h(a,b)}function h(a,b){L(a._writable._writableStreamController,b),!0===a._backpressure&&i(a,!1)}function i(a,b){t("TransformStreamSetBackpressure() [backpressure = "+b+"]"),void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(),a._backpressureChangePromise=new Promise(function(b){a._backpressureChangePromise_resolve=b}),a._backpressure=b}function j(a){return!!y(a)&&!!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")}function k(a,b,c,d){b._controlledTransformStream=a,a._transformStreamController=b,b._transformAlgorithm=c,b._flushAlgorithm=d}function l(a,b){t("TransformStreamDefaultControllerEnqueue()");var c=a._controlledTransformStream,d=c._readable._readableStreamController;if(!1===I(d))throw TypeError("Readable side is not in a state that permits enqueue");try{E(d,b)}catch(e){throw h(c,e),c._readable._storedError}H(d)!==c._backpressure&&i(c,!0)}function m(a,b){t("TransformStreamDefaultSinkWriteAlgorithm()");var c=a._transformStreamController;return!0===a._backpressure?a._backpressureChangePromise.then(function(){var d=a._writable;if("erroring"===d._state)throw d._storedError;return c._transformAlgorithm(b)}):c._transformAlgorithm(b)}function n(a){return g(a,TypeError("Writable side aborted")),Promise.resolve()}function o(a){t("TransformStreamDefaultSinkCloseAlgorithm()");var b=a._readable;return a._transformStreamController._flushAlgorithm().then(function(){if("errored"===b._state)throw b._storedError;var a=b._readableStreamController;!0===I(a)&&D(a)}).catch(function(c){throw g(a,c),b._storedError})}function p(a){return t("TransformStreamDefaultSourcePullAlgorithm()"),i(a,!1),a._backpressureChangePromise}function q(a){return TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function r(a){return TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var s=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),t=(a("better-assert"),a("debug")("streams:transform-stream:verbose")),u=a("./helpers.js"),v=u.InvokeOrNoop,w=u.CreateAlgorithmFromUnderlyingMethod,x=u.PromiseCall,y=u.typeIsObject,z=u.ValidateAndNormalizeHighWaterMark,A=(u.IsNonNegativeNumber,u.MakeSizeAlgorithmFromSizeFunction),B=a("./readable-stream.js"),C=B.CreateReadableStream,D=B.ReadableStreamDefaultControllerClose,E=B.ReadableStreamDefaultControllerEnqueue,F=B.ReadableStreamDefaultControllerError,G=B.ReadableStreamDefaultControllerGetDesiredSize,H=B.ReadableStreamDefaultControllerHasBackpressure,I=B.ReadableStreamDefaultControllerCanCloseOrEnqueue,J=a("./writable-stream.js"),K=J.CreateWritableStream,L=J.WritableStreamDefaultControllerErrorIfNeeded,M=function(){function a(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};if(d(this,a),void 0!==b.readableType)throw RangeError("Invalid readable type specified");if(void 0!==b.writableType)throw RangeError("Invalid writable type specified");var h=A(c.size),i=c.highWaterMark;void 0===i&&(i=1),i=z(i);var j=f.size,m=A(j),n=f.highWaterMark;void 0===n&&(n=0),n=z(n);var o=void 0;e(this,new Promise(function(a){o=a}),i,h,n,m),function(a,b){var c=Object.create(N.prototype),d=function(a){try{return l(c,a),Promise.resolve()}catch(b){return Promise.reject(b)}},e=b.transform;if(void 0!==e){if("function"!=typeof e)throw TypeError("transform is not a method");d=function(d){return x(e,b,[d,c]).catch(function(b){throw g(a,b),b})}}var f=w(b,"flush",0,[c]);k(a,c,d,f)}(this,b);var p=v(b,"start",[this._transformStreamController]);o(p)}return s(a,[{key:"readable",get:function(){if(!1===f(this))throw r("readable");return this._readable}},{key:"writable",get:function(){if(!1===f(this))throw r("writable");return this._writable}}]),a}(),N=function(){function a(){throw d(this,a),TypeError("TransformStreamDefaultController instances cannot be created directly")}return s(a,[{key:"enqueue",value:function(a){if(!1===j(this))throw q("enqueue");l(this,a)}},{key:"error",value:function(a){var b,c;if(!1===j(this))throw q("error");b=this,c=a,g(b._controlledTransformStream,c)}},{key:"terminate",value:function(){var a,b,c;if(!1===j(this))throw q("terminate");a=this,t("TransformStreamDefaultControllerTerminate()"),!0===I(c=(b=a._controlledTransformStream)._readable._readableStreamController)&&D(c),h(b,TypeError("TransformStream terminated"))}},{key:"desiredSize",get:function(){if(!1===j(this))throw q("desiredSize");return G(this._controlledTransformStream._readable._readableStreamController)}}]),a}();b.exports={CreateTransformStream:function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:1,f=arguments.length>4&& void 0!==arguments[4]?arguments[4]:function(){return 1},g=arguments.length>5&& void 0!==arguments[5]?arguments[5]:0,h=arguments.length>6&& void 0!==arguments[6]?arguments[6]:function(){return 1},i=Object.create(M.prototype),j=void 0;return e(i,new Promise(function(a){j=a}),d,f,g,h),k(i,Object.create(N.prototype),b,c),j(a()),i},TransformStream:M}},{"./helpers.js":10,"./readable-stream.js":12,"./writable-stream.js":15,"better-assert":16,debug:18}],14:[function(a,b,c){"use strict";var d=a("better-assert");c.rethrowAssertionErrorRejection=function(a){a&&a.constructor===d.AssertionError&&setTimeout(function(){throw a},0)}},{"better-assert":16}],15:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function e(a){return new ai(a)}function f(a){a._state="writable",a._storedError=void 0,a._writer=void 0,a._writableStreamController=void 0,a._writeRequests=[],a._inFlightWriteRequest=void 0,a._closeRequest=void 0,a._inFlightCloseRequest=void 0,a._pendingAbortRequest=void 0,a._backpressure=!1}function g(a){return!!$(a)&&!!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")}function h(a){return void 0!==a._writer}function i(a,b){var c=a._state;if("closed"===c)return Promise.resolve(void 0);if("errored"===c)return Promise.reject(a._storedError);var d=TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(d);var e=!1;"erroring"===c&&(e=!0,b=void 0);var f=new Promise(function(c,d){a._pendingAbortRequest={_resolve:c,_reject:d,_reason:b,_wasAlreadyErroring:e}});return!1===e&&k(a,d),f}function j(a,b){U("WritableStreamDealWithRejection(stream, %o)",b),"writable"!==a._state?l(a):k(a,b)}function k(a,b){U("WritableStreamStartErroring(stream, %o)",b);var c=a._writableStreamController;a._state="erroring",a._storedError=b;var d=a._writer;void 0!==d&&s(d,b),!1===n(a)&& !0===c._started&&l(a)}function l(a){U("WritableStreamFinishErroring()"),a._state="errored",a._writableStreamController[ag]();var b=a._storedError,c=!0,d=!1,e=void 0;try{for(var f,g=a._writeRequests[Symbol.iterator]();!(c=(f=g.next()).done);c=!0)f.value._reject(b)}catch(h){d=!0,e=h}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}if(a._writeRequests=[],void 0!==a._pendingAbortRequest){var i=a._pendingAbortRequest;if(a._pendingAbortRequest=void 0,!0===i._wasAlreadyErroring)return i._reject(b),void o(a);a._writableStreamController[af](i._reason).then(function(){i._resolve(),o(a)},function(b){i._reject(b),o(a)})}else o(a)}function m(a){return void 0!==a._closeRequest|| void 0!==a._inFlightCloseRequest}function n(a){return void 0===a._inFlightWriteRequest&& void 0===a._inFlightCloseRequest?(U("WritableStreamHasOperationMarkedInFlight() is false"),!1):(U("WritableStreamHasOperationMarkedInFlight() is true"),!0)}function o(a){U("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"),void 0!==a._closeRequest&&(a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=a._writer;void 0!==b&&(K(b,a._storedError),b._closedPromise.catch(function(){}))}function p(a,b){var c=a._writer;void 0!==c&&b!==a._backpressure&&(!0===b?Q(c):S(c)),a._backpressure=b}function q(a){return!!$(a)&&!!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")}function r(a){var b=a._ownerWritableStream,c=b._state;if("closed"===c||"errored"===c)return Promise.reject(TypeError("The stream (in "+c+" state) is not in the writable state and cannot be closed"));var d=new Promise(function(a,c){var d={_resolve:a,_reject:c};b._closeRequest=d});return!0===b._backpressure&&"writable"===c&&S(a),w(b._writableStreamController),d}function s(a,b){U("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)",b),"pending"===a._readyPromiseState?P(a,b):R(a,b),a._readyPromise.catch(function(){})}function t(a){var b,c,d=a._ownerWritableStream,e=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");s(a,e),b=a,c=e,"pending"===b._closedPromiseState?K(b,c):L(b,c),b._closedPromise.catch(function(){}),d._writer=void 0,a._ownerWritableStream=void 0}function u(a,b){var c=a._ownerWritableStream,d=c._writableStreamController,e=x(d,b);if(c!==a._ownerWritableStream)return Promise.reject(I("write to"));var f=c._state;if("errored"===f)return Promise.reject(c._storedError);if(!0===m(c)||"closed"===f)return Promise.reject(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===f)return Promise.reject(c._storedError);var g,h=(g=c,new Promise(function(a,b){g._writeRequests.push({_resolve:a,_reject:b})}));return z(d,b,e),h}function v(a,b,c,d,e,f,g,h){b._controlledWritableStream=a,a._writableStreamController=b,b._queue=void 0,b._queueTotalSize=void 0,ae(b),b._started=!1,b._strategySizeAlgorithm=h,b._strategyHWM=g,b._writeAlgorithm=d,b._closeAlgorithm=e,b._abortAlgorithm=f,p(a,E(b)),Promise.resolve(c()).then(function(){b._started=!0,A(b)},function(c){b._started=!0,j(a,c)}).catch(_)}function w(a){ac(a,"close",0),A(a)}function x(a,b){try{return a._strategySizeAlgorithm(b)}catch(c){return B(a,c),1}}function y(a){return a._strategyHWM-a._queueTotalSize}function z(a,b,c){try{ac(a,{chunk:b},c)}catch(d){return void B(a,d)}var e=a._controlledWritableStream;!1===m(e)&&"writable"===e._state&&p(e,E(a)),A(a)}function A(a){U("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");var b=a._controlledWritableStream;if(!1!==a._started&& void 0===b._inFlightWriteRequest){var c=b._state;if("closed"!==c&&"errored"!==c){if("erroring"!==c){if(0!==a._queue.length){var d=ad(a);"close"===d?C(a):D(a,d.chunk)}}else l(b)}}}function B(a,b){"writable"===a._controlledWritableStream._state&&F(a,b)}function C(a){var b,c=a._controlledWritableStream;(b=c)._inFlightCloseRequest=b._closeRequest,b._closeRequest=void 0,ab(a),a._closeAlgorithm().then(function(){var a,b;(a=c)._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,"erroring"===a._state&&(a._storedError=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed",void 0!==(b=a._writer)&&M(b)},function(a){var b,d;b=c,d=a,b._inFlightCloseRequest._reject(d),b._inFlightCloseRequest=void 0,void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._reject(d),b._pendingAbortRequest=void 0),j(b,d)}).catch(_)}function D(a,b){var c,d=a._controlledWritableStream;(c=d)._inFlightWriteRequest=c._writeRequests.shift(),a._writeAlgorithm(b).then(function(){(b=d)._inFlightWriteRequest._resolve(void 0),b._inFlightWriteRequest=void 0;var b,c=d._state;if(ab(a),!1===m(d)&&"writable"===c){var e=E(a);p(d,e)}A(a)},function(a){var b,c;b=d,c=a,b._inFlightWriteRequest._reject(c),b._inFlightWriteRequest=void 0,j(b,c)}).catch(_)}function E(a){return 0>=y(a)}function F(a,b){k(a._controlledWritableStream,b)}function G(a){return TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function H(a){return TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function I(a){return TypeError("Cannot "+a+" a stream using a released writer")}function J(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c,a._closedPromiseState="pending"})}function K(a,b){a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function L(a,b){a._closedPromise=Promise.reject(b),a._closedPromiseState="rejected"}function M(a){a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function N(a,b){U("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)",b),a._readyPromise=Promise.reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function O(a){U("defaultWriterReadyPromiseInitializeAsResolved()"),a._readyPromise=Promise.resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}function P(a,b){U("defaultWriterReadyPromiseReject(writer, %o)",b),a._readyPromise_reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function Q(a){U("defaultWriterReadyPromiseReset()"),a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function R(a,b){U("defaultWriterReadyPromiseResetToRejected(writer, %o)",b),a._readyPromise=Promise.reject(b),a._readyPromiseState="rejected"}function S(a){U("defaultWriterReadyPromiseResolve()"),a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}var T=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),U=(a("better-assert"),a("debug")("streams:writable-stream:verbose")),V=a("./helpers.js"),W=V.CreateAlgorithmFromUnderlyingMethod,X=V.InvokeOrNoop,Y=V.ValidateAndNormalizeHighWaterMark,Z=(V.IsNonNegativeNumber,V.MakeSizeAlgorithmFromSizeFunction),$=V.typeIsObject,_=a("./utils.js").rethrowAssertionErrorRejection,aa=a("./queue-with-sizes.js"),ab=aa.DequeueValue,ac=aa.EnqueueValueWithSize,ad=aa.PeekQueueValue,ae=aa.ResetQueue,af=Symbol("[[AbortSteps]]"),ag=Symbol("[[ErrorSteps]]"),ah=function(){function a(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},e=c.size,g=c.highWaterMark,h=void 0===g?1:g;if(d(this,a),f(this),void 0!==b.type)throw RangeError("Invalid type is specified");var i,j,k,l,m,n,o,p,q=Z(e);i=this,j=b,k=h=Y(h),l=q,n=W(j,"write",1,[m=Object.create(aj.prototype)]),o=W(j,"close",0,[]),p=W(j,"abort",1,[]),v(i,m,function(){return X(j,"start",[m])},n,o,p,k,l)}return T(a,[{key:"abort",value:function(a){return!1===g(this)?Promise.reject(G("abort")):!0===h(this)?Promise.reject(TypeError("Cannot abort a stream that already has a writer")):i(this,a)}},{key:"getWriter",value:function(){if(!1===g(this))throw G("getWriter");return e(this)}},{key:"locked",get:function(){if(!1===g(this))throw G("locked");return h(this)}}]),a}();b.exports={AcquireWritableStreamDefaultWriter:e,CreateWritableStream:function(a,b,c,d){var e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:1,g=arguments.length>5&& void 0!==arguments[5]?arguments[5]:function(){return 1},h=Object.create(ah.prototype);return f(h),v(h,Object.create(aj.prototype),a,b,c,d,e,g),h},IsWritableStream:g,IsWritableStreamLocked:h,WritableStream:ah,WritableStreamAbort:i,WritableStreamDefaultControllerErrorIfNeeded:B,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var b=a._ownerWritableStream,c=b._state;return!0===m(b)||"closed"===c?Promise.resolve():"errored"===c?Promise.reject(b._storedError):r(a)},WritableStreamDefaultWriterRelease:t,WritableStreamDefaultWriterWrite:u,WritableStreamCloseQueuedOrInFlight:m};var ai=function(){function a(b){if(d(this,a),!1===g(b))throw TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===h(b))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=b,b._writer=this;var c=b._state;if("writable"===c)!1===m(b)&& !0===b._backpressure?(e=this,U("defaultWriterReadyPromiseInitialize()"),e._readyPromise=new Promise(function(a,b){e._readyPromise_resolve=a,e._readyPromise_reject=b}),e._readyPromiseState="pending"):O(this),J(this);else if("erroring"===c)N(this,b._storedError),this._readyPromise.catch(function(){}),J(this);else if("closed"===c)O(this),f=this,f._closedPromise=Promise.resolve(void 0),f._closedPromise_resolve=void 0,f._closedPromise_reject=void 0,f._closedPromiseState="resolved";else{var e,f,i,j,k=b._storedError;N(this,k),this._readyPromise.catch(function(){}),i=this,j=k,i._closedPromise=Promise.reject(j),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="rejected",this._closedPromise.catch(function(){})}}return T(a,[{key:"abort",value:function(a){var b,c;return!1===q(this)?Promise.reject(H("abort")):void 0===this._ownerWritableStream?Promise.reject(I("abort")):(b=this,c=a,i(b._ownerWritableStream,c))}},{key:"close",value:function(){if(!1===q(this))return Promise.reject(H("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(I("close")):!0===m(a)?Promise.reject(TypeError("cannot close an already-closing stream")):r(this)}},{key:"releaseLock",value:function(){if(!1===q(this))throw H("releaseLock");void 0!==this._ownerWritableStream&&t(this)}},{key:"write",value:function(a){return!1===q(this)?Promise.reject(H("write")):void 0===this._ownerWritableStream?Promise.reject(I("write to")):u(this,a)}},{key:"closed",get:function(){return!1===q(this)?Promise.reject(H("closed")):this._closedPromise}},{key:"desiredSize",get:function(){var a,b,c;if(!1===q(this))throw H("desiredSize");if(void 0===this._ownerWritableStream)throw I("desiredSize");return a=this,"errored"===(c=(b=a._ownerWritableStream)._state)||"erroring"===c?null:"closed"===c?0:y(b._writableStreamController)}},{key:"ready",get:function(){return!1===q(this)?Promise.reject(H("ready")):this._readyPromise}}]),a}(),aj=function(){function a(){throw d(this,a),TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return T(a,[{key:"error",value:function(a){var b;if(!1==(b=this,!!$(b)&&!!Object.prototype.hasOwnProperty.call(b,"_controlledWritableStream")))throw TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&F(this,a)}},{key:af,value:function(a){return this._abortAlgorithm(a)}},{key:ag,value:function(){ae(this)}}]),a}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"better-assert":16,debug:18}],16:[function(a,b,c){(function(c){var d=a("assert").AssertionError,e=a("callsite"),f=a("fs");b.exports=c.env.NO_ASSERT?function(){}:function(a){if(!a){var b=e(),c=b[1],g=c.getFileName(),h=c.getLineNumber(),i=(i=f.readFileSync(g,"utf8")).split("\n")[h-1].match(/assert\((.*)\)/)[1];throw new d({message:i,stackStartFunction:b[0].getFunction()})}}}).call(this,a("_process"))},{"_process":4,assert:2,callsite:17,fs:3}],17:[function(a,b,c){b.exports=function(){var a=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){return b};var b=Error();Error.captureStackTrace(b,arguments.callee);var c=b.stack;return Error.prepareStackTrace=a,c}},{}],18:[function(a,b,c){(function(d){function e(){var a;try{a=c.storage.debug}catch(b){}return!a&& void 0!==d&&"env"in d&&(a=d.env.DEBUG),a}(c=b.exports=a("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},c.formatArgs=function(a){var b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),b){var d="color: "+this.color;a.splice(1,0,d,"color: inherit");var e=0,f=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d)}},c.save=function(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(b){}},c.load=e,c.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},c.storage="undefined"!=typeof chrome&& void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(a){}}(),c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],c.formatters.j=function(a){try{return JSON.stringify(a)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}},c.enable(e())}).call(this,a("_process"))},{"./debug":19,"_process":4}],19:[function(a,b,c){function d(a){var b;function d(){if(d.enabled){var a=d,e=+new Date,f=e-(b||e);a.diff=f,a.prev=b,a.curr=e,b=e;for(var g=Array(arguments.length),h=0;h<g.length;h++)g[h]=arguments[h];g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&g.unshift("%O");var i=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(b,d){if("%%"===b)return b;i++;var e=c.formatters[d];if("function"==typeof e){var f=g[i];b=e.call(a,f),g.splice(i,1),i--}return b}),c.formatArgs.call(a,g),(d.log||c.log||console.log.bind(console)).apply(a,g)}}return d.namespace=a,d.enabled=c.enabled(a),d.useColors=c.useColors(),d.color=function(a){var b,d=0;for(b in a)d=(d<<5)-d+a.charCodeAt(b),d|=0;return c.colors[Math.abs(d)%c.colors.length]}(a),d.destroy=e,"function"==typeof c.init&&c.init(d),c.instances.push(d),d}function e(){var a=c.instances.indexOf(this);return -1!==a&&(c.instances.splice(a,1),!0)}(c=b.exports=d.debug=d.default=d).coerce=function(a){return a instanceof Error?a.stack||a.message:a},c.disable=function(){c.enable("")},c.enable=function(a){c.save(a),c.names=[],c.skips=[];var b,d=("string"==typeof a?a:"").split(/[\s,]+/),e=d.length;for(b=0;b<e;b++)d[b]&&("-"===(a=d[b].replace(/\*/g,".*?"))[0]?c.skips.push(RegExp("^"+a.substr(1)+"$")):c.names.push(RegExp("^"+a+"$")));for(b=0;b<c.instances.length;b++){var f=c.instances[b];f.enabled=c.enabled(f.namespace)}},c.enabled=function(a){var b,d;if("*"===a[a.length-1])return!0;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1},c.humanize=a("ms"),c.instances=[],c.names=[],c.skips=[],c.formatters={}},{ms:20}],20:[function(a,b,c){function d(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var e=6e4,f=60*e,g=24*f,h=365.25*g;b.exports=function(a,b){b=b||{};var c,i,j=typeof a;if("string"===j&&a.length>0)return function(a){if(!((a=String(a)).length>100)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*h;case"days":case"day":case"d":return c*g;case"hours":case"hour":case"hrs":case"hr":case"h":return c*f;case"minutes":case"minute":case"mins":case"min":case"m":return c*e;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(a);if("number"===j&& !1===isNaN(a))return b.long?d(c=a,g,"day")||d(c,f,"hour")||d(c,e,"minute")||d(c,1e3,"second")||c+" ms":(i=a)>=g?Math.round(i/g)+"d":i>=f?Math.round(i/f)+"h":i>=e?Math.round(i/e)+"m":i>=1e3?Math.round(i/1e3)+"s":i+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},{}]},{},[1])(1)})},83347:function(a,b){"use strict";function c(a){return a>=65&&a<=90||a>=97&&a<=122||58===a||95===a||8204===a||8205===a||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */ Object.defineProperty(b,"__esModule",{value:!0}),b.CHAR="	\n\r --\uD800\uDC00-\uDBFF\uDFFF",b.S=" 	\r\n",b.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8--------\uD800\uDC00-\uDB7F\uDFFF",b.NAME_CHAR="-"+b.NAME_START_CHAR+".0-9\xb7--",b.CHAR_RE=RegExp("^["+b.CHAR+"]$","u"),b.S_RE=RegExp("^["+b.S+"]+$","u"),b.NAME_START_CHAR_RE=RegExp("^["+b.NAME_START_CHAR+"]$","u"),b.NAME_CHAR_RE=RegExp("^["+b.NAME_CHAR+"]$","u"),b.NAME_RE=RegExp("^["+b.NAME_START_CHAR+"]["+b.NAME_CHAR+"]*$","u"),b.NMTOKEN_RE=RegExp("^["+b.NAME_CHAR+"]+$","u"),b.S_LIST=[32,10,13,9],b.isChar=function(a){return a>=32&&a<=55295||10===a||13===a||9===a||a>=57344&&a<=65533||a>=65536&&a<=1114111},b.isS=function(a){return 32===a||10===a||13===a||9===a},b.isNameStartChar=c,b.isNameChar=function(a){return c(a)||a>=48&&a<=57||45===a||46===a||183===a||a>=768&&a<=879||a>=8255&&a<=8256}},95285:function(a,b){"use strict";function c(a){return a>=65&&a<=90||a>=97&&a<=122||58===a||95===a||8204===a||8205===a||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */ Object.defineProperty(b,"__esModule",{value:!0}),b.CHAR="\x01--\uD800\uDC00-\uDBFF\uDFFF",b.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",b.S=" 	\r\n",b.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8--------\uD800\uDC00-\uDB7F\uDFFF",b.NAME_CHAR="-"+b.NAME_START_CHAR+".0-9\xb7--",b.CHAR_RE=RegExp("^["+b.CHAR+"]$","u"),b.RESTRICTED_CHAR_RE=RegExp("^["+b.RESTRICTED_CHAR+"]$","u"),b.S_RE=RegExp("^["+b.S+"]+$","u"),b.NAME_START_CHAR_RE=RegExp("^["+b.NAME_START_CHAR+"]$","u"),b.NAME_CHAR_RE=RegExp("^["+b.NAME_CHAR+"]$","u"),b.NAME_RE=RegExp("^["+b.NAME_START_CHAR+"]["+b.NAME_CHAR+"]*$","u"),b.NMTOKEN_RE=RegExp("^["+b.NAME_CHAR+"]+$","u"),b.S_LIST=[32,10,13,9],b.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},b.isRestrictedChar=function(a){return a>=1&&a<=8||11===a||12===a||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},b.isCharAndNotRestricted=function(a){return 9===a||10===a||13===a||a>31&&a<127||133===a||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},b.isS=function(a){return 32===a||10===a||13===a||9===a},b.isNameStartChar=c,b.isNameChar=function(a){return c(a)||a>=48&&a<=57||45===a||46===a||183===a||a>=768&&a<=879||a>=8255&&a<=8256}},87046:function(a,b){"use strict";function c(a){return a>=65&&a<=90||95===a||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */ Object.defineProperty(b,"__esModule",{value:!0}),b.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8---------\uD800\uDC00-\uDB7F\uDFFF",b.NC_NAME_CHAR="-"+b.NC_NAME_START_CHAR+".0-9\xb7--",b.NC_NAME_START_CHAR_RE=RegExp("^["+b.NC_NAME_START_CHAR+"]$","u"),b.NC_NAME_CHAR_RE=RegExp("^["+b.NC_NAME_CHAR+"]$","u"),b.NC_NAME_RE=RegExp("^["+b.NC_NAME_START_CHAR+"]["+b.NC_NAME_CHAR+"]*$","u"),b.isNCNameStartChar=c,b.isNCNameChar=function(a){return c(a)||45===a||46===a||a>=48&&a<=57||183===a||a>=768&&a<=879||a>=8255&&a<=8256}},55505:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isIterator=b.isIterable=b.isSourceExpression=b.isPromise=b.isEventEmitter=b.isFunction=b.range=b.union=b.fromIterable=b.fromIterator=b.fromArray=b.single=b.empty=b.wrap=b.WrappingIterator=b.ClonedIterator=b.UnionIterator=b.MultiTransformIterator=b.SimpleTransformIterator=b.TransformIterator=b.BufferedIterator=b.MappingIterator=b.DESTINATION=b.identity=b.IntegerIterator=b.ArrayIterator=b.SingletonIterator=b.EmptyIterator=b.AsyncIterator=b.DESTROYED=b.ENDED=b.CLOSED=b.CLOSING=b.OPEN=b.INIT=b.setTaskScheduler=b.getTaskScheduler=b.scheduleTask=b.LinkedList=void 0;let d=c(17187),e=c(1691);Object.defineProperty(b,"LinkedList",{enumerable:!0,get:function(){return e.LinkedList}});let f=c(81291),g=f.createTaskScheduler();function h(a){g(a)}function i(){return g}function j(a){g=a}b.scheduleTask=h,b.getTaskScheduler=i,b.setTaskScheduler=j,b.INIT=1,b.OPEN=2,b.CLOSING=4,b.CLOSED=8,b.ENDED=16,b.DESTROYED=32;class k extends d.EventEmitter{constructor(a=b.OPEN){super(),this._readable=!1,this._state=a,this.on("newListener",l)}_changeState(a,c=!1){let d=a>this._state&&this._state<b.ENDED;return d&&(this._state=a,a===b.ENDED&&(c?g(()=>this.emit("end")):this.emit("end"))),d}read(){return null}forEach(a,b){this.on("data",L(a,b))}close(){this._changeState(b.CLOSED)&&this._endAsync()}destroy(a){this.done||this._destroy(a,b=>{(a=a||b)&&this.emit("error",a),this._end(!0)})}_destroy(a,b){b()}_end(a=!1){this._changeState(a?b.DESTROYED:b.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){g(()=>this._end())}get readable(){return this._readable}set readable(a){a=Boolean(a)&&!this.done,this._readable!==a&&(this._readable=a,a&&g(()=>this.emit("readable")))}get closed(){return this._state>=b.CLOSING}get ended(){return this._state===b.ENDED}get destroyed(){return this._state===b.DESTROYED}get done(){return this._state>=b.ENDED}toString(){let a=this._toStringDetails();return`[${this.constructor.name}${a?` ${a}`:""}]`}_toStringDetails(){return""}toArray(a){let b=[],c="number"==typeof(null==a?void 0:a.limit)?a.limit:1/0;return this.ended||c<=0?Promise.resolve(b):new Promise((a,d)=>{let e=()=>a(b),f=g=>{b.push(g),b.length>=c&&(this.removeListener("error",d),this.removeListener("data",f),this.removeListener("end",e),a(b))};this.on("error",d),this.on("data",f),this.on("end",e)})}getProperty(a,b){let c=this._properties;if(!b)return c&&c[a];if(c&&a in c)g(()=>b(c[a]));else{let d;(d=this._propertyCallbacks)||(this._propertyCallbacks=d=Object.create(null)),a in d?d[a].push(b):d[a]=[b]}}setProperty(a,b){let c=this._properties||(this._properties=Object.create(null));c[a]=b;let d=this._propertyCallbacks||{},e=d[a];if(e){for(a in delete d[a],g(()=>{for(let a of e)a(b)}),d)return;delete this._propertyCallbacks}}getProperties(){let a=this._properties,b={};for(let c in a)b[c]=a[c];return b}setProperties(a){for(let b in a)this.setProperty(b,a[b])}copyProperties(a,b){for(let c of b)a.getProperty(c,a=>this.setProperty(c,a))}transform(a){return new C(this,a)}map(a,b){return new t(this,L(a,b))}filter(a,b){return this.map(function(c){return a.call(b||this,c)?c:null})}uniq(a=s){let b=new Set;return this.filter(function(c){let d=a.call(this,c);return!b.has(d)&&(b.add(d),!0)})}prepend(a){return this.transform({prepend:a})}append(a){return this.transform({append:a})}surround(a,b){return this.transform({prepend:a,append:b})}skip(a){return this.map(b=>a-- >0?null:b)}take(a){return this.transform({limit:a})}range(a,b){return this.transform({offset:a,limit:Math.max(b-a+1,0)})}clone(){return new F(this)}}function l(a){"data"===a&&(this.removeListener("newListener",l),n(this,"readable",m),this.readable&&g(()=>m.call(this)))}function m(){let a;for(;0!==this.listenerCount("data")&&null!==(a=this.read());)this.emit("data",a);0!==this.listenerCount("data")||this.done||(this.removeListener("readable",m),n(this,"newListener",l))}function n(a,b,c){a.listeners(b).includes(c)||a.on(b,c)}b.AsyncIterator=k;class o extends k{constructor(){super(),this._changeState(b.ENDED,!0)}}b.EmptyIterator=o;class p extends k{constructor(a){super(),this._item=a,null===a?this.close():this.readable=!0}read(){let a=this._item;return this._item=null,this.close(),a}_toStringDetails(){return null===this._item?"":`(${this._item})`}}b.SingletonIterator=p;class q extends k{constructor(a=[],{autoStart:b=!0,preserve:c=!0}={}){super();let d=c||!Array.isArray(a)?[...a]:a;this._index=0,this._sourceStarted=!1!==b,this._truncateThreshold=c?-1:64,this._sourceStarted&&0===d.length?this.close():this._buffer=d,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let a=null;return this._buffer&&(this._index<this._buffer.length&&(a=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),a}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(a,b){delete this._buffer,b()}toArray(a={}){if(!this._buffer)return Promise.resolve([]);let{length:b}=this._buffer,c=this._index,d="number"!=typeof a.limit?b:c+a.limit,e=this._buffer.slice(c,d);return this._index=d,d>=b&&this.close(),Promise.resolve(e)}}b.ArrayIterator=q;class r extends k{constructor({start:a=0,step:b=1,end:c}={}){super(),Number.isFinite(a)&&(a=Math.trunc(a)),this._next=a,Number.isFinite(b)&&(b=Math.trunc(b)),this._step=b;let d=b>=0,e=d?1/0:-1/0;Number.isFinite(c)?c=Math.trunc(c):c!== -e&&(c=e),this._last=c,!Number.isFinite(a)||(d?a>c:a<c)?this.close():this.readable=!0}read(){if(this.closed)return null;let a=this._next,b=this._step,c=this._last,d=this._next+=b;return(b>=0?d>c:d<c)&&this.close(),a}_toStringDetails(){return`(${this._next}...${this._last})`}}function s(a){return a}b.IntegerIterator=r,b.identity=s,b.DESTINATION=Symbol("destination");class t extends k{constructor(a,c=s,d={}){super(),this._map=c,this._source=u(a),this._destroySource=!1!==d.destroySource,a.done?this.close():(this._source[b.DESTINATION]=this,this._source.on("end",z),this._source.on("error",y),this._source.on("readable",x),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let a,b;for(;null!==(a=this._source.read());)if(null!==(b=this._map(a)))return b}this.readable=!1,this._source.done&&this.close()}return null}_end(a){this._source.removeListener("end",z),this._source.removeListener("error",y),this._source.removeListener("readable",x),delete this._source[b.DESTINATION],this._destroySource&&this._source.destroy(),super._end(a)}}function u(a,c=!1){if(!a||!M(a.read)||!M(a.on))throw TypeError(`Invalid source: ${a}`);if(!c&&a[b.DESTINATION])throw Error("The source already has a destination");return a}b.MappingIterator=t;class v extends k{constructor({maxBufferSize:a=4,autoStart:c=!0}={}){super(b.INIT),this._buffer=new e.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=a,g(()=>this._init(c)),this._sourceStarted=!1!==c}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(a){a!==1/0&&(a=Number.isFinite(a)?Math.max(Math.trunc(a),1):4),this._maxBufferSize!==a&&(this._maxBufferSize=a,this._state===b.OPEN&&this._fillBuffer())}_init(a){let c=!1;this._reading=!0,this._begin(()=>{if(c)throw Error("done callback called multiple times");c=!0,this._reading=!1,this._changeState(b.OPEN),a?this._fillBufferAsync():this.readable=!0})}_begin(a){a()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);let a=this._buffer,b;return a.empty?(b=null,this.readable=!1):b=a.shift(),!this._reading&&a.length<this._maxBufferSize&&(this.closed?a.empty&&this._endAsync():this._fillBufferAsync()),b}_read(a,b){b()}_push(a){this.done||(this._pushedCount++,this._buffer.push(a),this.readable=!0)}_fillBuffer(){let a;this._reading||(this.closed?this._completeClose():(a=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(a,()=>{if(!a)throw Error("done callback called multiple times");a=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,g(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(b.CLOSING):this._completeClose()}_completeClose(){this._changeState(b.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(a,b){this._buffer.clear(),b()}_flush(a){a()}_toStringDetails(){let a=this._buffer;return`{${a.empty?"":`next: ${a.first}, `}buffer: ${a.length}}`}}b.BufferedIterator=v;class w extends v{constructor(a,b=a||{}){super(b),this._boundPush=a=>this._push(a),P(a)||(a=b.source),N(a)?this.source=a:a&&(this._createSource=O(a)?()=>a:a,this._sourceStarted&&this._loadSourceAsync()),this._optional=Boolean(b.optional),this._destroySource=!1!==b.destroySource}get source(){return M(this._createSource)&&this._loadSourceAsync(),this._source}set source(a){let c=this._source=this._validateSource(a);c[b.DESTINATION]=this,this.done?this._destroySource&&c.destroy():c.done?this.close():(c.on("end",A),c.on("readable",B),c.on("error",y))}_loadSourceAsync(){M(this._createSource)&&(Promise.resolve(this._createSource()).then(a=>{delete this._createSource,this.source=a,this._fillBuffer()},a=>this.emit("error",a)),this._createSource=null)}_validateSource(a,b=!1){if(this._source|| void 0!==this._createSource)throw Error("The source cannot be changed after it has been set");return u(a,b)}_read(a,b){let c=()=>{this._pushedCount<a&&!this.closed?g(()=>this._readAndTransform(c,b)):b()};this._readAndTransform(c,b)}_readAndTransform(a,b){let c,d=this.source;!d||d.done||null===(c=d.read())?b():this._optional?this._optionalTransform(c,a):this._transform(c,a,this._boundPush)}_optionalTransform(a,b){let c=this._pushedCount;this._transform(a,()=>{c===this._pushedCount&&this._push(a),b()},this._boundPush)}_transform(a,b,c){c(a),b()}_closeWhenDone(){this.close()}_end(a){let c=this._source;c&&(c.removeListener("end",A),c.removeListener("error",y),c.removeListener("readable",B),delete c[b.DESTINATION],this._destroySource&&c.destroy()),super._end(a)}}function x(){this[b.DESTINATION].readable=!0}function y(a){this[b.DESTINATION].emit("error",a)}function z(){this[b.DESTINATION].close()}function A(){this[b.DESTINATION]._closeWhenDone()}function B(){!1!==this[b.DESTINATION]._sourceStarted&&this[b.DESTINATION]._fillBuffer()}b.TransformIterator=w;class C extends w{constructor(a,b){if(super(a,b),this._offset=0,this._limit=1/0,this._filter=a=>!0,b=b||(P(a)?null:a)){let c=M(b)?b:b.transform,{limit:d,offset:e,filter:f,map:g,prepend:h,append:i}=b;e===1/0||d=== -1/0?this._limit=0:(Number.isFinite(e)&&(this._offset=Math.max(Math.trunc(e),0)),Number.isFinite(d)&&(this._limit=Math.max(Math.trunc(d),0)),M(f)&&(this._filter=f),M(g)&&(this._map=g),this._transform=M(c)?c:null),h&&(this._prepender=N(h)?h:K(h)),i&&(this._appender=N(i)?i:K(i))}}_read(a,b){let c=()=>this._readAndTransformSimple(a,d,b);function d(){g(c)}this._readAndTransformSimple(a,d,b)}_readAndTransformSimple(a,b,c){let d,{source:e}=this;if(!e||e.done){c();return}for(0===this._limit&&this.close();!this.closed&&this._pushedCount<a&&null!==(d=e.read());){if(!this._filter(d)||0!==this._offset&&this._offset--)continue;let f=void 0===this._map?d:this._map(d);if(null===f)this._optional&&this._push(d);else if(M(this._transform)){this._optional?this._optionalTransform(f,b):this._transform(f,b,this._boundPush);return}else this._push(f);0== --this._limit&&this.close()}c()}_begin(a){this._insert(this._prepender,a),delete this._prepender}_flush(a){this._insert(this._appender,a),delete this._appender}_insert(a,b){let c=a=>this._push(a);function d(){a.removeListener("data",c),a.removeListener("end",d),b()}!a||a.done?b():(a.on("data",c),a.on("end",d))}}b.SimpleTransformIterator=C,b.MultiTransformIterator=class extends w{constructor(a,b){if(super(a,b),this._transformerQueue=[],b){let c=M(b)?b:b.multiTransform;c&&(this._createTransformer=c)}}_read(a,c){let d=this._transformerQueue,e=this._optional,f,g;for(;(f=d[0])&&f.transformer.done;){e&&null!==f.item&&(a--,this._push(f.item)),d.shift();let{transformer:h}=f;h.removeListener("end",B),h.removeListener("readable",B),h.removeListener("error",y)}let{source:i}=this;for(;i&&!i.done&&d.length<this.maxBufferSize&&null!==(g=i.read());){let j=this._createTransformer(g)||new o;j[b.DESTINATION]=this,j.on("end",B),j.on("readable",B),j.on("error",y),d.push({transformer:j,item:g})}if(f=d[0]){let{transformer:k}=f;for(;a-- >0&&null!==(g=k.read());)this._push(g),e&&(f.item=null)}else i&&i.done&&this.close();c()}_createTransformer(a){return new p(a)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(a){if(super._end(a),this._destroySource)for(let b of this._transformerQueue)b.transformer.destroy()}};class D extends v{constructor(a,b={}){super(b),this._sources=[],this._currentSource=-1;let c=!1!==b.autoStart;if(N(a))a.on("error",a=>this.emit("error",a)),this._pending={loading:!1,sources:a},c&&this._loadSources();else if(Array.isArray(a)&&a.length>0)for(let d of a)this._addSource(d);else c&&this.close();this._destroySources=!1!==b.destroySources}_loadSources(){let a=this._pending.sources;this._pending.loading=!0,a.done?(delete this._pending,this.close()):(a.on("data",a=>{this._addSource(a),this._fillBufferAsync()}),a.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(a){O(a)&&(a=I(a)),a.done||(this._sources.push(a),a[b.DESTINATION]=this,a.on("error",y),a.on("readable",B),a.on("end",E))}_removeEmptySources(){this._sources=this._sources.filter((a,b)=>(a.done&&b<=this._currentSource&&this._currentSource--,!a.done)),this._fillBuffer()}_read(a,b){var c;(null===(c=this._pending)|| void 0===c?void 0:c.loading)=== !1&&this._loadSources();let d=0,e;for(;d!==(d=a);)for(let f=0;f<this._sources.length&&a>0;f++){this._currentSource=(this._currentSource+1)%this._sources.length;let g=this._sources[this._currentSource];null!==(e=g.read())&&(a--,this._push(e))}this._pending||0!==this._sources.length||this.close(),b()}_end(a=!1){if(super._end(a),this._destroySources){for(let b of this._sources)b.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}function E(){this[b.DESTINATION]._removeEmptySources()}b.UnionIterator=D;class F extends w{constructor(a){super(a,{autoStart:!1}),this._readPosition=0,this._reading=!1}_init(){}close(){k.prototype.close.call(this)}get source(){return super.source}set source(a){let c=this._source=this._validateSource(a),d=c&&c[b.DESTINATION]||(c[b.DESTINATION]=new G(c));this.done?this._destroySource&&c.destroy():d.endsAt(0)?this.close():(d.register(this),(!1===c._sourceStarted||null!==d.readAt(0))&&(this.readable=!0));let e=this._propertyCallbacks;for(let f in e){let g=e[f];for(let h of g)this._getSourceProperty(f,h)}}_validateSource(a,c=!1){let d=a&&a[b.DESTINATION];return super._validateSource(a,!d||d instanceof G)}getProperty(a,b){let{source:c}=this,d=this._properties,e=d&&a in d;if(!b)return e?d&&d[a]:c&&c.getProperty(a);super.getProperty(a,b),c&&!e&&this._getSourceProperty(a,b)}_getSourceProperty(a,b){this.source.getProperty(a,c=>{this._properties&&a in this._properties||b(c)})}getProperties(){let a=this.source?this.source.getProperties():{},b=this._properties;for(let c in b)a[c]=b[c];return a}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);let a=this.source,c=null;if(!this.done&&a){let d=a[b.DESTINATION];null!==(c=d.readAt(this._readPosition))?this._readPosition++:this.readable=!1,d.endsAt(this._readPosition)&&this.close()}return c}_end(a){let c=this.source,d=null==c?void 0:c[b.DESTINATION];d&&d.unregister(this),v.prototype._end.call(this,a)}}b.ClonedIterator=F;class G{constructor(a){if(this._history=[],this._trackers=new Set,this._source=a,!a.done){let b=()=>{for(let a of this._trackers)a.readable=!0},c=a=>{for(let b of this._trackers)b.emit("error",a)},d=()=>{for(let e of this._trackers)!1!==e._sourceStarted&&e._readPosition===this._history.length&&e.close();this._trackers.clear(),a.removeListener("end",d),a.removeListener("error",c),a.removeListener("readable",b)};a.on("end",d),a.on("error",c),a.on("readable",b)}}register(a){this._source.done||this._trackers.add(a)}unregister(a){this._trackers.delete(a)}readAt(a){let b=null;return a<this._history.length?b=this._history[a]:this._source.done||null===(b=this._source.read())||(this._history[a]=b),b}endsAt(a){return this._source.done&&this._history.length===a}}class H extends k{constructor(a,b){super(),this._source=null,this._destroySource=(null==b?void 0:b.destroySource)!== !1,O(a)?(this._source=new k,a.then(a=>{this._source=null,this.source=a}).catch(a=>this.emit("error",a))):a&&(this.source=a)}set source(a){let c=a;if(null!==this._source)throw Error("The source cannot be changed after it has been set");if(Q(c)&&(c=c[Symbol.iterator]()),R(c)){let e=c;(c=new d.EventEmitter).read=()=>{if(null!==e){let a;for(;!(a=e.next()).done;)if(null!==a.value)return a.value;e=null,this.close()}return null}}else c=u(c);if(this.done){this._destroySource&&M(c.destroy)&&c.destroy();return}c[b.DESTINATION]=this,c.on("end",z),c.on("error",y),c.on("readable",x),this._source=c,this.readable=!1!==c.readable}read(){if(null!==this._source&& !1!==this._source.readable){let a=this._source.read();if(null!==a)return a;this.readable=!1}return null}_end(a=!1){null!==this._source&&(this._source.removeListener("end",z),this._source.removeListener("error",y),this._source.removeListener("readable",x),delete this._source[b.DESTINATION],this._destroySource&&M(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(a)}}function I(a,b){if(b&&("autoStart"in b||"optional"in b||"source"in b||"maxBufferSize"in b))return new w(a,b);if(!a)return J();if(O(a))return new H(a,b);if(a instanceof k)return a;if(Array.isArray(a))return K(a);if(Q(a)||R(a)||N(a))return new H(a,b);throw TypeError(`Invalid source: ${a}`)}function J(){return new o}function K(a){return new q(a)}function L(a,b){return b?a.bind(b):a}function M(a){return"function"==typeof a}function N(a){return M(null==a?void 0:a.on)}function O(a){return M(null==a?void 0:a.then)}function P(a){return a&&(N(a)||O(a)||M(a))}function Q(a){return a&&Symbol.iterator in a}function R(a){return M(null==a?void 0:a.next)}b.WrappingIterator=H,b.wrap=I,b.empty=J,b.single=function(a){return new p(a)},b.fromArray=K,b.fromIterator=function(a){return new H(a)},b.fromIterable=function(a){return new H(a)},b.union=function(a){return new D(a)},b.range=function(a,b,c){return new r({start:a,end:b,step:c})},b.isFunction=M,b.isEventEmitter=N,b.isPromise=O,b.isSourceExpression=P,b.isIterable=Q,b.isIterator=R},1691:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LinkedList=void 0,b.LinkedList=class{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var a;return null===(a=this._head)|| void 0===a?void 0:a.value}get last(){var a;return null===(a=this._tail)|| void 0===a?void 0:a.value}get empty(){return null===this._head}push(a){let b={value:a,next:null};null===this._tail?this._head=this._tail=b:this._tail.next=this._tail=b,this._length++}shift(){if(null===this._head)return;let{value:a,next:b}=this._head;return this._head=b,null===b&&(this._tail=null),this._length--,a}clear(){this._length=0,this._head=this._tail=null}}},81291:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createTaskScheduler=void 0;let c=Promise.resolve(void 0);b.createTaskScheduler=function(){let a="function"==typeof queueMicrotask?queueMicrotask:a=>c.then(a),b="function"==typeof setImmediate?setImmediate:a=>setTimeout(a,0),d=0,e=null;return c=>{null!==e?e.push(c):++d<100?a(c):(e=[c],b(()=>{for(let b of e)a(b);e=null,d=0}))}}},47568:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}c.d(b,{Z:function(){return e}})},80754:function(a,b,c){"use strict";c.r(b),c.d(b,{BREAK:function(){return ap},DirectiveLocation:function(){return ah},Kind:function(){return w},Lexer:function(){return W},Location:function(){return Q},Source:function(){return p},Token:function(){return R},TokenKind:function(){return x},getLocation:function(){return q},getVisitFn:function(){return as},isDefinitionNode:function(){return aC},isExecutableDefinitionNode:function(){return aD},isSelectionNode:function(){return aE},isTypeDefinitionNode:function(){return aI},isTypeExtensionNode:function(){return aK},isTypeNode:function(){return aG},isTypeSystemDefinitionNode:function(){return aH},isTypeSystemExtensionNode:function(){return aJ},isValueNode:function(){return aF},parse:function(){return ai},parseType:function(){return ak},parseValue:function(){return aj},print:function(){return at},printLocation:function(){return r},printSourceLocation:function(){return s},visit:function(){return aq},visitInParallel:function(){return ar}});var d="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag",e="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function g(a){return h(a,[])}function h(a,b){switch(f(a)){case"string":return JSON.stringify(a);case"function":return a.name?"[function ".concat(a.name,"]"):"[function]";case"object":if(null===a)return"null";return i(a,b);default:return String(a)}}function i(a,b){if(-1!==b.indexOf(a))return"[Circular]";var c=[].concat(b,[a]),d=l(a);if(void 0!==d){var e=d.call(a);if(e!==a)return"string"==typeof e?e:h(e,c)}else if(Array.isArray(a))return k(a,c);return j(a,c)}function j(a,b){var c=Object.keys(a);return 0===c.length?"{}":b.length>2?"["+m(a)+"]":"{ "+c.map(function(c){var d=h(a[c],b);return c+": "+d}).join(", ")+" }"}function k(a,b){if(0===a.length)return"[]";if(b.length>2)return"[Array]";for(var c=Math.min(10,a.length),d=a.length-c,e=[],f=0;f<c;++f)e.push(h(a[f],b));return 1===d?e.push("... 1 more item"):d>1&&e.push("... ".concat(d," more items")),"["+e.join(", ")+"]"}function l(a){var b=a[String(e)];return"function"==typeof b?b:"function"==typeof a.inspect?a.inspect:void 0}function m(a){var b=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if("Object"===b&&"function"==typeof a.constructor){var c=a.constructor.name;if("string"==typeof c&&""!==c)return c}return b}function n(a,b){if(!Boolean(a))throw Error(b)}function o(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var p=function(){var a,b,c;function e(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"GraphQL request",c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof a||n(0,"Body must be a string. Received: ".concat(g(a),".")),this.body=a,this.name=b,this.locationOffset=c,this.locationOffset.line>0||n(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||n(0,"column in locationOffset is 1-indexed and must be positive.")}return a=e,b=[{key:d,get:function(){return"Source"}}],o(a.prototype,b),c&&o(a,c),e}();function q(a,b){for(var c,d=/\r\n|[\n\r]/g,e=1,f=b+1;(c=d.exec(a.body))&&c.index<b;)e+=1,f=b+1-(c.index+c[0].length);return{line:e,column:f}}function r(a){return s(a.source,q(a.source,a.start))}function s(a,b){var c=a.locationOffset.column-1,d=u(c)+a.body,e=b.line-1,f=a.locationOffset.line-1,g=b.line+f,h=1===b.line?c:0,i=b.column+h,j="".concat(a.name,":").concat(g,":").concat(i,"\n"),k=d.split(/\r\n|[\n\r]/g),l=k[e];if(l.length>120){for(var m=Math.floor(i/80),n=i%80,o=[],p=0;p<l.length;p+=80)o.push(l.slice(p,p+80));return j+t([["".concat(g),o[0]]].concat(o.slice(1,m+1).map(function(a){return["",a]}),[[" ",u(n-1)+"^"],["",o[m+1]]]))}return j+t([["".concat(g-1),k[e-1]],["".concat(g),l],["",u(i-1)+"^"],["".concat(g+1),k[e+1]]])}function t(a){var b=a.filter(function(a){return a[0],void 0!==a[1]}),c=Math.max.apply(Math,b.map(function(a){return a[0].length}));return b.map(function(a){var b=a[0],d=a[1];return v(c,b)+(d?" | "+d:" |")}).join("\n")}function u(a){return Array(a+1).join(" ")}function v(a,b){return u(a-b.length)+b}var w=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),x=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function z(a){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function A(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function B(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function C(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function D(a,b){return b&&("object"===z(b)||"function"==typeof b)?b:E(a)}function E(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function F(a){var b="function"==typeof Map?new Map:void 0;return(F=function(a){if(null===a||!I(a))return a;if("function"!=typeof a)throw TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(a))return b.get(a);b.set(a,c)}function c(){return G(a,arguments,K(this).constructor)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),J(c,a)})(a)}function G(a,b,c){return(G=H()?Reflect.construct:function(a,b,c){var d=[null];d.push.apply(d,b);var e=new(Function.bind.apply(a,d));return c&&J(e,c.prototype),e}).apply(null,arguments)}function H(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function I(a){return -1!==Function.toString.call(a).indexOf("[native code]")}function J(a,b){return(J=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function K(a){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}var L=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&J(a,b)}(i,a);var b,c,e,f,g,h=(b=i,c=H(),function(){var a,d=K(b);if(c){var e=K(this).constructor;a=Reflect.construct(d,arguments,e)}else a=d.apply(this,arguments);return D(this,a)});function i(a,b,c,d,e,f,g){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,i),(p=h.call(this,a)).name="GraphQLError",p.originalError=null!=f?f:void 0,p.nodes=M(Array.isArray(b)?b:b?[b]:void 0);for(var j=[],k=0,l=null!==(r=p.nodes)&& void 0!==r?r:[];k<l.length;k++){var m,n,o,p,r,s=l[k].loc;null!=s&&j.push(s)}j=M(j),p.source=null!=c?c:null===(m=j)|| void 0===m?void 0:m[0].source,p.positions=null!=d?d:null===(n=j)|| void 0===n?void 0:n.map(function(a){return a.start}),p.locations=d&&c?d.map(function(a){return q(c,a)}):null===(o=j)|| void 0===o?void 0:o.map(function(a){return q(a.source,a.start)}),p.path=null!=e?e:void 0;var t,u=null==f?void 0:f.extensions;return null==g&&"object"==y(t=u)&&null!==t?p.extensions=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?A(Object(c),!0).forEach(function(b){B(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):A(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},u):p.extensions=null!=g?g:{},(Object.defineProperties(E(p),{message:{enumerable:!0},locations:{enumerable:null!=p.locations},path:{enumerable:null!=p.path},extensions:{enumerable:null!=p.extensions&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=f&&f.stack)?(Object.defineProperty(E(p),"stack",{value:f.stack,writable:!0,configurable:!0}),D(p)):(Error.captureStackTrace?Error.captureStackTrace(E(p),i):Object.defineProperty(E(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return e=i,f=[{key:"toString",value:function(){return N(this)}},{key:d,get:function(){return"Object"}}],C(e.prototype,f),g&&C(e,g),i}(F(Error));function M(a){return void 0===a||0===a.length?void 0:a}function N(a){var b=a.message;if(a.nodes)for(var c=0,d=a.nodes;c<d.length;c++){var e=d[c];e.loc&&(b+="\n\n"+r(e.loc))}else if(a.source&&a.locations)for(var f=0,g=a.locations;f<g.length;f++){var h=g[f];b+="\n\n"+s(a.source,h)}return b}function O(a,b,c){return new L("Syntax Error: ".concat(c),void 0,a,[b])}function P(a){var b=a.prototype.toJSON;"function"==typeof b||function(a,b){if(!Boolean(0))throw Error(null!=b?b:"Unexpected invariant triggered.")}(0),a.prototype.inspect=b,e&&(a.prototype[e]=b)}var Q=function(){function a(a,b,c){this.start=a.start,this.end=b.end,this.startToken=a,this.endToken=b,this.source=c}return a.prototype.toJSON=function(){return{start:this.start,end:this.end}},a}();P(Q);var R=function(){function a(a,b,c,d,e,f,g){this.kind=a,this.start=b,this.end=c,this.line=d,this.column=e,this.value=g,this.prev=f,this.next=null}return a.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},a}();function S(a){return null!=a&&"string"==typeof a.kind}function T(a){var b=a.split(/\r\n|[\n\r]/g),c=V(a);if(0!==c)for(var d=1;d<b.length;d++)b[d]=b[d].slice(c);for(var e=0;e<b.length&&U(b[e]);)++e;for(var f=b.length;f>e&&U(b[f-1]);)--f;return b.slice(e,f).join("\n")}function U(a){for(var b=0;b<a.length;++b)if(" "!==a[b]&&"	"!==a[b])return!1;return!0}function V(a){for(var b,c=!0,d=!0,e=0,f=null,g=0;g<a.length;++g)switch(a.charCodeAt(g)){case 13:10===a.charCodeAt(g+1)&& ++g;case 10:c=!1,d=!0,e=0;break;case 9:case 32:++e;break;default:d&&!c&&(null===f||e<f)&&(f=e),d=!1}return null!==(b=f)&& void 0!==b?b:0}P(R);var W=function(){function a(a){var b=new R(x.SOF,0,0,0,0,null);this.source=a,this.lastToken=b,this.token=b,this.line=1,this.lineStart=0}var b=a.prototype;return b.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},b.lookahead=function(){var a,b=this.token;if(b.kind!==x.EOF)do b=null!==(a=b.next)&& void 0!==a?a:b.next=Y(this,b);while(b.kind===x.COMMENT);return b},a}();function X(a){return isNaN(a)?x.EOF:a<127?JSON.stringify(String.fromCharCode(a)):'"\\u'.concat(("00"+a.toString(16).toUpperCase()).slice(-4),'"')}function Y(a,b){for(var c=a.source,d=c.body,e=d.length,f=b.end;f<e;){var g=d.charCodeAt(f),h=a.line,i=1+f-a.lineStart;switch(g){case 65279:case 9:case 32:case 44:++f;continue;case 10:++f,++a.line,a.lineStart=f;continue;case 13:10===d.charCodeAt(f+1)?f+=2:++f,++a.line,a.lineStart=f;continue;case 33:return new R(x.BANG,f,f+1,h,i,b);case 35:return $(c,f,h,i,b);case 36:return new R(x.DOLLAR,f,f+1,h,i,b);case 38:return new R(x.AMP,f,f+1,h,i,b);case 40:return new R(x.PAREN_L,f,f+1,h,i,b);case 41:return new R(x.PAREN_R,f,f+1,h,i,b);case 46:if(46===d.charCodeAt(f+1)&&46===d.charCodeAt(f+2))return new R(x.SPREAD,f,f+3,h,i,b);break;case 58:return new R(x.COLON,f,f+1,h,i,b);case 61:return new R(x.EQUALS,f,f+1,h,i,b);case 64:return new R(x.AT,f,f+1,h,i,b);case 91:return new R(x.BRACKET_L,f,f+1,h,i,b);case 93:return new R(x.BRACKET_R,f,f+1,h,i,b);case 123:return new R(x.BRACE_L,f,f+1,h,i,b);case 124:return new R(x.PIPE,f,f+1,h,i,b);case 125:return new R(x.BRACE_R,f,f+1,h,i,b);case 34:if(34===d.charCodeAt(f+1)&&34===d.charCodeAt(f+2))return ac(c,f,h,i,b,a);return ab(c,f,h,i,b);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return _(c,f,g,h,i,b);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return af(c,f,h,i,b)}throw O(c,f,Z(g))}var j=a.line,k=1+f-a.lineStart;return new R(x.EOF,e,e,j,k,b)}function Z(a){return a<32&&9!==a&&10!==a&&13!==a?"Cannot contain the invalid character ".concat(X(a),"."):39===a?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(X(a),".")}function $(a,b,c,d,e){var f,g=a.body,h=b;do f=g.charCodeAt(++h);while(!isNaN(f)&&(f>31||9===f));return new R(x.COMMENT,b,h,c,d,e,g.slice(b+1,h))}function _(a,b,c,d,e,f){var g=a.body,h=c,i=b,j=!1;if(45===h&&(h=g.charCodeAt(++i)),48===h){if((h=g.charCodeAt(++i))>=48&&h<=57)throw O(a,i,"Invalid number, unexpected digit after 0: ".concat(X(h),"."))}else i=aa(a,i,h),h=g.charCodeAt(i);if(46===h&&(j=!0,h=g.charCodeAt(++i),i=aa(a,i,h),h=g.charCodeAt(i)),(69===h||101===h)&&(j=!0,(43===(h=g.charCodeAt(++i))||45===h)&&(h=g.charCodeAt(++i)),i=aa(a,i,h),h=g.charCodeAt(i)),46===h||ag(h))throw O(a,i,"Invalid number, expected digit but got: ".concat(X(h),"."));return new R(j?x.FLOAT:x.INT,b,i,d,e,f,g.slice(b,i))}function aa(a,b,c){var d=a.body,e=b,f=c;if(f>=48&&f<=57){do f=d.charCodeAt(++e);while(f>=48&&f<=57);return e}throw O(a,e,"Invalid number, expected digit but got: ".concat(X(f),"."))}function ab(a,b,c,d,e){for(var f=a.body,g=b+1,h=g,i=0,j="";g<f.length&&!isNaN(i=f.charCodeAt(g))&&10!==i&&13!==i;){if(34===i)return j+=f.slice(h,g),new R(x.STRING,b,g+1,c,d,e,j);if(i<32&&9!==i)throw O(a,g,"Invalid character within String: ".concat(X(i),"."));if(++g,92===i){switch(j+=f.slice(h,g-1),i=f.charCodeAt(g)){case 34:j+='"';break;case 47:j+="/";break;case 92:j+="\\";break;case 98:j+="\b";break;case 102:j+="\f";break;case 110:j+="\n";break;case 114:j+="\r";break;case 116:j+="	";break;case 117:var k=ad(f.charCodeAt(g+1),f.charCodeAt(g+2),f.charCodeAt(g+3),f.charCodeAt(g+4));if(k<0){var l=f.slice(g+1,g+5);throw O(a,g,"Invalid character escape sequence: \\u".concat(l,"."))}j+=String.fromCharCode(k),g+=4;break;default:throw O(a,g,"Invalid character escape sequence: \\".concat(String.fromCharCode(i),"."))}h=++g}}throw O(a,g,"Unterminated string.")}function ac(a,b,c,d,e,f){for(var g=a.body,h=b+3,i=h,j=0,k="";h<g.length&&!isNaN(j=g.charCodeAt(h));){if(34===j&&34===g.charCodeAt(h+1)&&34===g.charCodeAt(h+2))return k+=g.slice(i,h),new R(x.BLOCK_STRING,b,h+3,c,d,e,T(k));if(j<32&&9!==j&&10!==j&&13!==j)throw O(a,h,"Invalid character within String: ".concat(X(j),"."));10===j?(++h,++f.line,f.lineStart=h):13===j?(10===g.charCodeAt(h+1)?h+=2:++h,++f.line,f.lineStart=h):92===j&&34===g.charCodeAt(h+1)&&34===g.charCodeAt(h+2)&&34===g.charCodeAt(h+3)?(k+=g.slice(i,h)+'"""',h+=4,i=h):++h}throw O(a,h,"Unterminated string.")}function ad(a,b,c,d){return ae(a)<<12|ae(b)<<8|ae(c)<<4|ae(d)}function ae(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}function af(a,b,c,d,e){for(var f=a.body,g=f.length,h=b+1,i=0;h!==g&&!isNaN(i=f.charCodeAt(h))&&(95===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122);)++h;return new R(x.NAME,b,h,c,d,e,f.slice(b,h))}function ag(a){return 95===a||a>=65&&a<=90||a>=97&&a<=122}var ah=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function ai(a,b){return new al(a,b).parseDocument()}function aj(a,b){var c=new al(a,b);c.expectToken(x.SOF);var d=c.parseValueLiteral(!1);return c.expectToken(x.EOF),d}function ak(a,b){var c=new al(a,b);c.expectToken(x.SOF);var d=c.parseTypeReference();return c.expectToken(x.EOF),d}var al=function(){function a(a,b){var c,d,e,f=(d=c=a,d instanceof(e=p))?a:new p(a);this._lexer=new W(f),this._options=b}var b=a.prototype;return b.parseName=function(){var a=this.expectToken(x.NAME);return{kind:w.NAME,value:a.value,loc:this.loc(a)}},b.parseDocument=function(){var a=this._lexer.token;return{kind:w.DOCUMENT,definitions:this.many(x.SOF,this.parseDefinition,x.EOF),loc:this.loc(a)}},b.parseDefinition=function(){if(this.peek(x.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else if(this.peek(x.BRACE_L))return this.parseOperationDefinition();else if(this.peekDescription())return this.parseTypeSystemDefinition();throw this.unexpected()},b.parseOperationDefinition=function(){var a,b=this._lexer.token;if(this.peek(x.BRACE_L))return{kind:w.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(b)};var c=this.parseOperationType();return this.peek(x.NAME)&&(a=this.parseName()),{kind:w.OPERATION_DEFINITION,operation:c,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(b)}},b.parseOperationType=function(){var a=this.expectToken(x.NAME);switch(a.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(a)},b.parseVariableDefinitions=function(){return this.optionalMany(x.PAREN_L,this.parseVariableDefinition,x.PAREN_R)},b.parseVariableDefinition=function(){var a=this._lexer.token;return{kind:w.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(x.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(x.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(a)}},b.parseVariable=function(){var a=this._lexer.token;return this.expectToken(x.DOLLAR),{kind:w.VARIABLE,name:this.parseName(),loc:this.loc(a)}},b.parseSelectionSet=function(){var a=this._lexer.token;return{kind:w.SELECTION_SET,selections:this.many(x.BRACE_L,this.parseSelection,x.BRACE_R),loc:this.loc(a)}},b.parseSelection=function(){return this.peek(x.SPREAD)?this.parseFragment():this.parseField()},b.parseField=function(){var a,b,c=this._lexer.token,d=this.parseName();return this.expectOptionalToken(x.COLON)?(a=d,b=this.parseName()):b=d,{kind:w.FIELD,alias:a,name:b,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(x.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(c)}},b.parseArguments=function(a){var b=a?this.parseConstArgument:this.parseArgument;return this.optionalMany(x.PAREN_L,b,x.PAREN_R)},b.parseArgument=function(){var a=this._lexer.token,b=this.parseName();return this.expectToken(x.COLON),{kind:w.ARGUMENT,name:b,value:this.parseValueLiteral(!1),loc:this.loc(a)}},b.parseConstArgument=function(){var a=this._lexer.token;return{kind:w.ARGUMENT,name:this.parseName(),value:(this.expectToken(x.COLON),this.parseValueLiteral(!0)),loc:this.loc(a)}},b.parseFragment=function(){var a=this._lexer.token;this.expectToken(x.SPREAD);var b=this.expectOptionalKeyword("on");return!b&&this.peek(x.NAME)?{kind:w.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(a)}:{kind:w.INLINE_FRAGMENT,typeCondition:b?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}},b.parseFragmentDefinition=function(){var a,b=this._lexer.token;return(this.expectKeyword("fragment"),(null===(a=this._options)|| void 0===a?void 0:a.experimentalFragmentVariables)=== !0)?{kind:w.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(b)}:{kind:w.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(b)}},b.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},b.parseValueLiteral=function(a){var b=this._lexer.token;switch(b.kind){case x.BRACKET_L:return this.parseList(a);case x.BRACE_L:return this.parseObject(a);case x.INT:return this._lexer.advance(),{kind:w.INT,value:b.value,loc:this.loc(b)};case x.FLOAT:return this._lexer.advance(),{kind:w.FLOAT,value:b.value,loc:this.loc(b)};case x.STRING:case x.BLOCK_STRING:return this.parseStringLiteral();case x.NAME:switch(this._lexer.advance(),b.value){case"true":return{kind:w.BOOLEAN,value:!0,loc:this.loc(b)};case"false":return{kind:w.BOOLEAN,value:!1,loc:this.loc(b)};case"null":return{kind:w.NULL,loc:this.loc(b)};default:return{kind:w.ENUM,value:b.value,loc:this.loc(b)}}case x.DOLLAR:if(!a)return this.parseVariable()}throw this.unexpected()},b.parseStringLiteral=function(){var a=this._lexer.token;return this._lexer.advance(),{kind:w.STRING,value:a.value,block:a.kind===x.BLOCK_STRING,loc:this.loc(a)}},b.parseList=function(a){var b=this,c=this._lexer.token,d=function(){return b.parseValueLiteral(a)};return{kind:w.LIST,values:this.any(x.BRACKET_L,d,x.BRACKET_R),loc:this.loc(c)}},b.parseObject=function(a){var b=this,c=this._lexer.token,d=function(){return b.parseObjectField(a)};return{kind:w.OBJECT,fields:this.any(x.BRACE_L,d,x.BRACE_R),loc:this.loc(c)}},b.parseObjectField=function(a){var b=this._lexer.token,c=this.parseName();return this.expectToken(x.COLON),{kind:w.OBJECT_FIELD,name:c,value:this.parseValueLiteral(a),loc:this.loc(b)}},b.parseDirectives=function(a){for(var b=[];this.peek(x.AT);)b.push(this.parseDirective(a));return b},b.parseDirective=function(a){var b=this._lexer.token;return this.expectToken(x.AT),{kind:w.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(a),loc:this.loc(b)}},b.parseTypeReference=function(){var a,b=this._lexer.token;return(this.expectOptionalToken(x.BRACKET_L)?(a=this.parseTypeReference(),this.expectToken(x.BRACKET_R),a={kind:w.LIST_TYPE,type:a,loc:this.loc(b)}):a=this.parseNamedType(),this.expectOptionalToken(x.BANG))?{kind:w.NON_NULL_TYPE,type:a,loc:this.loc(b)}:a},b.parseNamedType=function(){var a=this._lexer.token;return{kind:w.NAMED_TYPE,name:this.parseName(),loc:this.loc(a)}},b.parseTypeSystemDefinition=function(){var a=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(a.kind===x.NAME)switch(a.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(a)},b.peekDescription=function(){return this.peek(x.STRING)||this.peek(x.BLOCK_STRING)},b.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},b.parseSchemaDefinition=function(){var a=this._lexer.token,b=this.parseDescription();this.expectKeyword("schema");var c=this.parseDirectives(!0),d=this.many(x.BRACE_L,this.parseOperationTypeDefinition,x.BRACE_R);return{kind:w.SCHEMA_DEFINITION,description:b,directives:c,operationTypes:d,loc:this.loc(a)}},b.parseOperationTypeDefinition=function(){var a=this._lexer.token,b=this.parseOperationType();this.expectToken(x.COLON);var c=this.parseNamedType();return{kind:w.OPERATION_TYPE_DEFINITION,operation:b,type:c,loc:this.loc(a)}},b.parseScalarTypeDefinition=function(){var a=this._lexer.token,b=this.parseDescription();this.expectKeyword("scalar");var c=this.parseName(),d=this.parseDirectives(!0);return{kind:w.SCALAR_TYPE_DEFINITION,description:b,name:c,directives:d,loc:this.loc(a)}},b.parseObjectTypeDefinition=function(){var a=this._lexer.token,b=this.parseDescription();this.expectKeyword("type");var c=this.parseName(),d=this.parseImplementsInterfaces(),e=this.parseDirectives(!0),f=this.parseFieldsDefinition();return{kind:w.OBJECT_TYPE_DEFINITION,description:b,name:c,interfaces:d,directives:e,fields:f,loc:this.loc(a)}},b.parseImplementsInterfaces=function(){var a;if(!this.expectOptionalKeyword("implements"))return[];if((null===(a=this._options)|| void 0===a?void 0:a.allowLegacySDLImplementsInterfaces)=== !0){var b=[];this.expectOptionalToken(x.AMP);do b.push(this.parseNamedType());while(this.expectOptionalToken(x.AMP)||this.peek(x.NAME));return b}return this.delimitedMany(x.AMP,this.parseNamedType)},b.parseFieldsDefinition=function(){var a;return(null===(a=this._options)|| void 0===a?void 0:a.allowLegacySDLEmptyFields)=== !0&&this.peek(x.BRACE_L)&&this._lexer.lookahead().kind===x.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(x.BRACE_L,this.parseFieldDefinition,x.BRACE_R)},b.parseFieldDefinition=function(){var a=this._lexer.token,b=this.parseDescription(),c=this.parseName(),d=this.parseArgumentDefs();this.expectToken(x.COLON);var e=this.parseTypeReference(),f=this.parseDirectives(!0);return{kind:w.FIELD_DEFINITION,description:b,name:c,arguments:d,type:e,directives:f,loc:this.loc(a)}},b.parseArgumentDefs=function(){return this.optionalMany(x.PAREN_L,this.parseInputValueDef,x.PAREN_R)},b.parseInputValueDef=function(){var a,b=this._lexer.token,c=this.parseDescription(),d=this.parseName();this.expectToken(x.COLON);var e=this.parseTypeReference();this.expectOptionalToken(x.EQUALS)&&(a=this.parseValueLiteral(!0));var f=this.parseDirectives(!0);return{kind:w.INPUT_VALUE_DEFINITION,description:c,name:d,type:e,defaultValue:a,directives:f,loc:this.loc(b)}},b.parseInterfaceTypeDefinition=function(){var a=this._lexer.token,b=this.parseDescription();this.expectKeyword("interface");var c=this.parseName(),d=this.parseImplementsInterfaces(),e=this.parseDirectives(!0),f=this.parseFieldsDefinition();return{kind:w.INTERFACE_TYPE_DEFINITION,description:b,name:c,interfaces:d,directives:e,fields:f,loc:this.loc(a)}},b.parseUnionTypeDefinition=function(){var a=this._lexer.token,b=this.parseDescription();this.expectKeyword("union");var c=this.parseName(),d=this.parseDirectives(!0),e=this.parseUnionMemberTypes();return{kind:w.UNION_TYPE_DEFINITION,description:b,name:c,directives:d,types:e,loc:this.loc(a)}},b.parseUnionMemberTypes=function(){return this.expectOptionalToken(x.EQUALS)?this.delimitedMany(x.PIPE,this.parseNamedType):[]},b.parseEnumTypeDefinition=function(){var a=this._lexer.token,b=this.parseDescription();this.expectKeyword("enum");var c=this.parseName(),d=this.parseDirectives(!0),e=this.parseEnumValuesDefinition();return{kind:w.ENUM_TYPE_DEFINITION,description:b,name:c,directives:d,values:e,loc:this.loc(a)}},b.parseEnumValuesDefinition=function(){return this.optionalMany(x.BRACE_L,this.parseEnumValueDefinition,x.BRACE_R)},b.parseEnumValueDefinition=function(){var a=this._lexer.token,b=this.parseDescription(),c=this.parseName(),d=this.parseDirectives(!0);return{kind:w.ENUM_VALUE_DEFINITION,description:b,name:c,directives:d,loc:this.loc(a)}},b.parseInputObjectTypeDefinition=function(){var a=this._lexer.token,b=this.parseDescription();this.expectKeyword("input");var c=this.parseName(),d=this.parseDirectives(!0),e=this.parseInputFieldsDefinition();return{kind:w.INPUT_OBJECT_TYPE_DEFINITION,description:b,name:c,directives:d,fields:e,loc:this.loc(a)}},b.parseInputFieldsDefinition=function(){return this.optionalMany(x.BRACE_L,this.parseInputValueDef,x.BRACE_R)},b.parseTypeSystemExtension=function(){var a=this._lexer.lookahead();if(a.kind===x.NAME)switch(a.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(a)},b.parseSchemaExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var b=this.parseDirectives(!0),c=this.optionalMany(x.BRACE_L,this.parseOperationTypeDefinition,x.BRACE_R);if(0===b.length&&0===c.length)throw this.unexpected();return{kind:w.SCHEMA_EXTENSION,directives:b,operationTypes:c,loc:this.loc(a)}},b.parseScalarTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var b=this.parseName(),c=this.parseDirectives(!0);if(0===c.length)throw this.unexpected();return{kind:w.SCALAR_TYPE_EXTENSION,name:b,directives:c,loc:this.loc(a)}},b.parseObjectTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var b=this.parseName(),c=this.parseImplementsInterfaces(),d=this.parseDirectives(!0),e=this.parseFieldsDefinition();if(0===c.length&&0===d.length&&0===e.length)throw this.unexpected();return{kind:w.OBJECT_TYPE_EXTENSION,name:b,interfaces:c,directives:d,fields:e,loc:this.loc(a)}},b.parseInterfaceTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var b=this.parseName(),c=this.parseImplementsInterfaces(),d=this.parseDirectives(!0),e=this.parseFieldsDefinition();if(0===c.length&&0===d.length&&0===e.length)throw this.unexpected();return{kind:w.INTERFACE_TYPE_EXTENSION,name:b,interfaces:c,directives:d,fields:e,loc:this.loc(a)}},b.parseUnionTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var b=this.parseName(),c=this.parseDirectives(!0),d=this.parseUnionMemberTypes();if(0===c.length&&0===d.length)throw this.unexpected();return{kind:w.UNION_TYPE_EXTENSION,name:b,directives:c,types:d,loc:this.loc(a)}},b.parseEnumTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var b=this.parseName(),c=this.parseDirectives(!0),d=this.parseEnumValuesDefinition();if(0===c.length&&0===d.length)throw this.unexpected();return{kind:w.ENUM_TYPE_EXTENSION,name:b,directives:c,values:d,loc:this.loc(a)}},b.parseInputObjectTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var b=this.parseName(),c=this.parseDirectives(!0),d=this.parseInputFieldsDefinition();if(0===c.length&&0===d.length)throw this.unexpected();return{kind:w.INPUT_OBJECT_TYPE_EXTENSION,name:b,directives:c,fields:d,loc:this.loc(a)}},b.parseDirectiveDefinition=function(){var a=this._lexer.token,b=this.parseDescription();this.expectKeyword("directive"),this.expectToken(x.AT);var c=this.parseName(),d=this.parseArgumentDefs(),e=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var f=this.parseDirectiveLocations();return{kind:w.DIRECTIVE_DEFINITION,description:b,name:c,arguments:d,repeatable:e,locations:f,loc:this.loc(a)}},b.parseDirectiveLocations=function(){return this.delimitedMany(x.PIPE,this.parseDirectiveLocation)},b.parseDirectiveLocation=function(){var a=this._lexer.token,b=this.parseName();if(void 0!==ah[b.value])return b;throw this.unexpected(a)},b.loc=function(a){var b;if((null===(b=this._options)|| void 0===b?void 0:b.noLocation)!== !0)return new Q(a,this._lexer.lastToken,this._lexer.source)},b.peek=function(a){return this._lexer.token.kind===a},b.expectToken=function(a){var b=this._lexer.token;if(b.kind===a)return this._lexer.advance(),b;throw O(this._lexer.source,b.start,"Expected ".concat(an(a),", found ").concat(am(b),"."))},b.expectOptionalToken=function(a){var b=this._lexer.token;if(b.kind===a)return this._lexer.advance(),b},b.expectKeyword=function(a){var b=this._lexer.token;if(b.kind===x.NAME&&b.value===a)this._lexer.advance();else throw O(this._lexer.source,b.start,'Expected "'.concat(a,'", found ').concat(am(b),"."))},b.expectOptionalKeyword=function(a){var b=this._lexer.token;return b.kind===x.NAME&&b.value===a&&(this._lexer.advance(),!0)},b.unexpected=function(a){var b=null!=a?a:this._lexer.token;return O(this._lexer.source,b.start,"Unexpected ".concat(am(b),"."))},b.any=function(a,b,c){this.expectToken(a);for(var d=[];!this.expectOptionalToken(c);)d.push(b.call(this));return d},b.optionalMany=function(a,b,c){if(this.expectOptionalToken(a)){var d=[];do d.push(b.call(this));while(!this.expectOptionalToken(c));return d}return[]},b.many=function(a,b,c){this.expectToken(a);var d=[];do d.push(b.call(this));while(!this.expectOptionalToken(c));return d},b.delimitedMany=function(a,b){this.expectOptionalToken(a);var c=[];do c.push(b.call(this));while(this.expectOptionalToken(a));return c},a}();function am(a){var b=a.value;return an(a.kind)+(null!=b?' "'.concat(b,'"'):"")}function an(a){var b;return(b=a)===x.BANG||b===x.DOLLAR||b===x.AMP||b===x.PAREN_L||b===x.PAREN_R||b===x.SPREAD||b===x.COLON||b===x.EQUALS||b===x.AT||b===x.BRACKET_L||b===x.BRACKET_R||b===x.BRACE_L||b===x.PIPE||b===x.BRACE_R?'"'.concat(a,'"'):a}var ao={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ap=Object.freeze({});function aq(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:ao,d=void 0,e=Array.isArray(a),f=[a],h=-1,i=[],j=void 0,k=void 0,l=void 0,m=[],n=[],o=a;do{var p,q=++h===f.length,r=q&&0!==i.length;if(q){if(k=0===n.length?void 0:m[m.length-1],j=l,l=n.pop(),r){if(e)j=j.slice();else{for(var s={},t=0,u=Object.keys(j);t<u.length;t++){var v=u[t];s[v]=j[v]}j=s}for(var w=0,x=0;x<i.length;x++){var y=i[x][0],z=i[x][1];e&&(y-=w),e&&null===z?(j.splice(y,1),w++):j[y]=z}}h=d.index,f=d.keys,i=d.edits,e=d.inArray,d=d.prev}else{if(k=l?e?h:f[h]:void 0,j=l?l[k]:o,null==j)continue;l&&m.push(k)}var A=void 0;if(!Array.isArray(j)){if(!S(j))throw Error("Invalid AST Node: ".concat(g(j),"."));var B=as(b,j.kind,q);if(B){if((A=B.call(b,j,k,l,m,n))===ap)break;if(!1===A){if(!q){m.pop();continue}}else if(void 0!==A&&(i.push([k,A]),!q)){if(S(A))j=A;else{m.pop();continue}}}}void 0===A&&r&&i.push([k,j]),q?m.pop():(d={inArray:e,index:h,keys:f,edits:i,prev:d},f=(e=Array.isArray(j))?j:null!==(p=c[j.kind])&& void 0!==p?p:[],h=-1,i=[],l&&n.push(l),l=j)}while(void 0!==d);return 0!==i.length&&(o=i[i.length-1][1]),o}function ar(a){var b=Array(a.length);return{enter:function(c){for(var d=0;d<a.length;d++)if(null==b[d]){var e=as(a[d],c.kind,!1);if(e){var f=e.apply(a[d],arguments);if(!1===f)b[d]=c;else if(f===ap)b[d]=ap;else if(void 0!==f)return f}}},leave:function(c){for(var d=0;d<a.length;d++)if(null==b[d]){var e=as(a[d],c.kind,!0);if(e){var f=e.apply(a[d],arguments);if(f===ap)b[d]=ap;else if(void 0!==f&& !1!==f)return f}}else b[d]===c&&(b[d]=null)}}}function as(a,b,c){var d=a[b];if(d){if(!c&&"function"==typeof d)return d;var e=c?d.leave:d.enter;if("function"==typeof e)return e}else{var f=c?a.leave:a.enter;if(f){if("function"==typeof f)return f;var g=f[b];if("function"==typeof g)return g}}}function at(a){return aq(a,{leave:au})}var au={Name:function(a){return a.value},Variable:function(a){return"$"+a.name},Document:function(a){return aw(a.definitions,"\n\n")+"\n"},OperationDefinition:function(a){var b=a.operation,c=a.name,d=ay("(",aw(a.variableDefinitions,", "),")"),e=aw(a.directives," "),f=a.selectionSet;return c||e||d||"query"!==b?aw([b,aw([c,d]),e,f]," "):f},VariableDefinition:function(a){var b=a.variable,c=a.type,d=a.defaultValue,e=a.directives;return b+": "+c+ay(" = ",d)+ay(" ",aw(e," "))},SelectionSet:function(a){return ax(a.selections)},Field:function(a){var b=a.alias,c=a.name,d=a.arguments,e=a.directives,f=a.selectionSet,g=ay("",b,": ")+c,h=g+ay("(",aw(d,", "),")");return h.length>80&&(h=g+ay("(\n",az(aw(d,"\n")),"\n)")),aw([h,aw(e," "),f]," ")},Argument:function(a){var b=a.name,c=a.value;return b+": "+c},FragmentSpread:function(a){var b=a.name,c=a.directives;return"..."+b+ay(" ",aw(c," "))},InlineFragment:function(a){var b=a.typeCondition,c=a.directives,d=a.selectionSet;return aw(["...",ay("on ",b),aw(c," "),d]," ")},FragmentDefinition:function(a){var b=a.name,c=a.typeCondition,d=a.variableDefinitions,e=a.directives,f=a.selectionSet;return"fragment ".concat(b).concat(ay("(",aw(d,", "),")")," ")+"on ".concat(c," ").concat(ay("",aw(e," ")," "))+f},IntValue:function(a){return a.value},FloatValue:function(a){return a.value},StringValue:function(a,b){var c=a.value;return a.block?function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=-1===a.indexOf("\n"),e=" "===a[0]||"	"===a[0],f='"'===a[a.length-1],g="\\"===a[a.length-1],h=!d||f||g||c,i="";return h&&!(d&&e)&&(i+="\n"+b),i+=b?a.replace(/\n/g,"\n"+b):a,h&&(i+="\n"),'"""'+i.replace(/"""/g,'\\"""')+'"""'}(c,"description"===b?"":"  "):JSON.stringify(c)},BooleanValue:function(a){return a.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(a){return a.value},ListValue:function(a){return"["+aw(a.values,", ")+"]"},ObjectValue:function(a){return"{"+aw(a.fields,", ")+"}"},ObjectField:function(a){var b=a.name,c=a.value;return b+": "+c},Directive:function(a){var b=a.name,c=a.arguments;return"@"+b+ay("(",aw(c,", "),")")},NamedType:function(a){return a.name},ListType:function(a){return"["+a.type+"]"},NonNullType:function(a){return a.type+"!"},SchemaDefinition:av(function(a){var b=a.directives,c=a.operationTypes;return aw(["schema",aw(b," "),ax(c)]," ")}),OperationTypeDefinition:function(a){var b=a.operation,c=a.type;return b+": "+c},ScalarTypeDefinition:av(function(a){var b=a.name,c=a.directives;return aw(["scalar",b,aw(c," ")]," ")}),ObjectTypeDefinition:av(function(a){var b=a.name,c=a.interfaces,d=a.directives,e=a.fields;return aw(["type",b,ay("implements ",aw(c," & ")),aw(d," "),ax(e)]," ")}),FieldDefinition:av(function(a){var b=a.name,c=a.arguments,d=a.type,e=a.directives;return b+(aB(c)?ay("(\n",az(aw(c,"\n")),"\n)"):ay("(",aw(c,", "),")"))+": "+d+ay(" ",aw(e," "))}),InputValueDefinition:av(function(a){var b=a.name,c=a.type,d=a.defaultValue,e=a.directives;return aw([b+": "+c,ay("= ",d),aw(e," ")]," ")}),InterfaceTypeDefinition:av(function(a){var b=a.name,c=a.interfaces,d=a.directives,e=a.fields;return aw(["interface",b,ay("implements ",aw(c," & ")),aw(d," "),ax(e)]," ")}),UnionTypeDefinition:av(function(a){var b=a.name,c=a.directives,d=a.types;return aw(["union",b,aw(c," "),d&&0!==d.length?"= "+aw(d," | "):""]," ")}),EnumTypeDefinition:av(function(a){var b=a.name,c=a.directives,d=a.values;return aw(["enum",b,aw(c," "),ax(d)]," ")}),EnumValueDefinition:av(function(a){var b=a.name,c=a.directives;return aw([b,aw(c," ")]," ")}),InputObjectTypeDefinition:av(function(a){var b=a.name,c=a.directives,d=a.fields;return aw(["input",b,aw(c," "),ax(d)]," ")}),DirectiveDefinition:av(function(a){var b=a.name,c=a.arguments,d=a.repeatable,e=a.locations;return"directive @"+b+(aB(c)?ay("(\n",az(aw(c,"\n")),"\n)"):ay("(",aw(c,", "),")"))+(d?" repeatable":"")+" on "+aw(e," | ")}),SchemaExtension:function(a){var b=a.directives,c=a.operationTypes;return aw(["extend schema",aw(b," "),ax(c)]," ")},ScalarTypeExtension:function(a){var b=a.name,c=a.directives;return aw(["extend scalar",b,aw(c," ")]," ")},ObjectTypeExtension:function(a){var b=a.name,c=a.interfaces,d=a.directives,e=a.fields;return aw(["extend type",b,ay("implements ",aw(c," & ")),aw(d," "),ax(e)]," ")},InterfaceTypeExtension:function(a){var b=a.name,c=a.interfaces,d=a.directives,e=a.fields;return aw(["extend interface",b,ay("implements ",aw(c," & ")),aw(d," "),ax(e)]," ")},UnionTypeExtension:function(a){var b=a.name,c=a.directives,d=a.types;return aw(["extend union",b,aw(c," "),d&&0!==d.length?"= "+aw(d," | "):""]," ")},EnumTypeExtension:function(a){var b=a.name,c=a.directives,d=a.values;return aw(["extend enum",b,aw(c," "),ax(d)]," ")},InputObjectTypeExtension:function(a){var b=a.name,c=a.directives,d=a.fields;return aw(["extend input",b,aw(c," "),ax(d)]," ")}};function av(a){return function(b){return aw([b.description,a(b)],"\n")}}function aw(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"";return null!==(b=null==a?void 0:a.filter(function(a){return a}).join(c))&& void 0!==b?b:""}function ax(a){return ay("{\n",az(aw(a,"\n")),"\n}")}function ay(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"";return null!=b&&""!==b?a+b+c:""}function az(a){return ay("  ",a.replace(/\n/g,"\n  "))}function aA(a){return -1!==a.indexOf("\n")}function aB(a){return null!=a&&a.some(aA)}function aC(a){return aD(a)||aH(a)||aJ(a)}function aD(a){return a.kind===w.OPERATION_DEFINITION||a.kind===w.FRAGMENT_DEFINITION}function aE(a){return a.kind===w.FIELD||a.kind===w.FRAGMENT_SPREAD||a.kind===w.INLINE_FRAGMENT}function aF(a){return a.kind===w.VARIABLE||a.kind===w.INT||a.kind===w.FLOAT||a.kind===w.STRING||a.kind===w.BOOLEAN||a.kind===w.NULL||a.kind===w.ENUM||a.kind===w.LIST||a.kind===w.OBJECT}function aG(a){return a.kind===w.NAMED_TYPE||a.kind===w.LIST_TYPE||a.kind===w.NON_NULL_TYPE}function aH(a){return a.kind===w.SCHEMA_DEFINITION||aI(a)||a.kind===w.DIRECTIVE_DEFINITION}function aI(a){return a.kind===w.SCALAR_TYPE_DEFINITION||a.kind===w.OBJECT_TYPE_DEFINITION||a.kind===w.INTERFACE_TYPE_DEFINITION||a.kind===w.UNION_TYPE_DEFINITION||a.kind===w.ENUM_TYPE_DEFINITION||a.kind===w.INPUT_OBJECT_TYPE_DEFINITION}function aJ(a){return a.kind===w.SCHEMA_EXTENSION||aK(a)}function aK(a){return a.kind===w.SCALAR_TYPE_EXTENSION||a.kind===w.OBJECT_TYPE_EXTENSION||a.kind===w.INTERFACE_TYPE_EXTENSION||a.kind===w.UNION_TYPE_EXTENSION||a.kind===w.ENUM_TYPE_EXTENSION||a.kind===w.INPUT_OBJECT_TYPE_EXTENSION}},1084:function(a){"use strict";a.exports=JSON.parse('{"http://schema.org/":{"properties":{"additionalType":{"subPropertyOf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}}')},99653:function(a){"use strict";a.exports=JSON.parse('{"@context":{"alternate":"http://www.w3.org/1999/xhtml/vocab#alternate","appendix":"http://www.w3.org/1999/xhtml/vocab#appendix","cite":"http://www.w3.org/1999/xhtml/vocab#cite","bookmark":"http://www.w3.org/1999/xhtml/vocab#bookmark","contents":"http://www.w3.org/1999/xhtml/vocab#contents","chapter":"http://www.w3.org/1999/xhtml/vocab#chapter","copyright":"http://www.w3.org/1999/xhtml/vocab#copyright","first":"http://www.w3.org/1999/xhtml/vocab#first","glossary":"http://www.w3.org/1999/xhtml/vocab#glossary","help":"http://www.w3.org/1999/xhtml/vocab#help","icon":"http://www.w3.org/1999/xhtml/vocab#icon","index":"http://www.w3.org/1999/xhtml/vocab#index","last":"http://www.w3.org/1999/xhtml/vocab#last","license":"http://www.w3.org/1999/xhtml/vocab#license","meta":"http://www.w3.org/1999/xhtml/vocab#meta","next":"http://www.w3.org/1999/xhtml/vocab#next","prev":"http://www.w3.org/1999/xhtml/vocab#prev","previous":"http://www.w3.org/1999/xhtml/vocab#previous","section":"http://www.w3.org/1999/xhtml/vocab#section","start":"http://www.w3.org/1999/xhtml/vocab#start","stylesheet":"http://www.w3.org/1999/xhtml/vocab#stylesheet","subsection":"http://www.w3.org/1999/xhtml/vocab#subsection","top":"http://www.w3.org/1999/xhtml/vocab#top","up":"http://www.w3.org/1999/xhtml/vocab#up","p3pv1":"http://www.w3.org/1999/xhtml/vocab#p3pv1"}}')},43104:function(a){"use strict";a.exports=JSON.parse('{"@context":{"as":"https://www.w3.org/ns/activitystreams#","cat":"http://www.w3.org/ns/dcat#","cc":"http://creativecommons.org/ns#","cnt":"http://www.w3.org/2008/content#","csvw":"http://www.w3.org/ns/csvw#","ctag":"http://commontag.org/ns#","dc":"http://purl.org/dc/terms/","dc11":"http://purl.org/dc/elements/1.1/","dcat":"http://www.w3.org/ns/dcat#","dcterms":"http://purl.org/dc/terms/","dqv":"http://www.w3.org/ns/dqv#","duv":"https://www.w3.org/TR/vocab-duv#","earl":"http://www.w3.org/ns/earl#","foaf":"http://xmlns.com/foaf/0.1/","gldp":"http://www.w3.org/ns/people#","gr":"http://purl.org/goodrelations/v1#","grddl":"http://www.w3.org/2003/g/data-view#","ht":"http://www.w3.org/2006/http#","ical":"http://www.w3.org/2002/12/cal/icaltzd#","ldp":"http://www.w3.org/ns/ldp#","ma":"http://www.w3.org/ns/ma-ont#","oa":"http://www.w3.org/ns/oa#","odrl":"http://www.w3.org/ns/odrl/2/","og":"http://ogp.me/ns#","org":"http://www.w3.org/ns/org#","owl":"http://www.w3.org/2002/07/owl#","prov":"http://www.w3.org/ns/prov#","ptr":"http://www.w3.org/2009/pointers#","qb":"http://purl.org/linked-data/cube#","rev":"http://purl.org/stuff/rev#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfa":"http://www.w3.org/ns/rdfa#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","rif":"http://www.w3.org/2007/rif#","rr":"http://www.w3.org/ns/r2rml#","schema":"http://schema.org/","sd":"http://www.w3.org/ns/sparql-service-description#","sioc":"http://rdfs.org/sioc/ns#","skos":"http://www.w3.org/2004/02/skos/core#","skosxl":"http://www.w3.org/2008/05/skos-xl#","ssn":"http://www.w3.org/ns/ssn/","sosa":"http://www.w3.org/ns/sosa/","time":"http://www.w3.org/2006/time#","v":"http://rdf.data-vocabulary.org/#","vcard":"http://www.w3.org/2006/vcard/ns#","void":"http://rdfs.org/ns/void#","wdr":"http://www.w3.org/2007/05/powder#","wdrs":"http://www.w3.org/2007/05/powder-s#","xhv":"http://www.w3.org/1999/xhtml/vocab#","xml":"http://www.w3.org/XML/1998/namespace","xsd":"http://www.w3.org/2001/XMLSchema#","describedby":"http://www.w3.org/2007/05/powder-s#describedby","license":"http://www.w3.org/1999/xhtml/vocab#license","role":"http://www.w3.org/1999/xhtml/vocab#role"}}')}}])